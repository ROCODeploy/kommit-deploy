var Main=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function r(e){e.forEach(t)}function o(e){return"function"==typeof e}function a(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function i(e,t,n,r){if(e){const o=s(e,t,n,r);return e[0](o)}}function s(e,t,n,r){return e[1]&&r?function(e,t){for(const n in t)e[n]=t[n];return e}(n.ctx.slice(),e[1](r(t))):n.ctx}function l(e,t,n,r,o,a,i){const l=function(e,t,n,r){if(e[2]&&r){const o=e[2](r(n));if(void 0===t.dirty)return o;if("object"==typeof o){const e=[],n=Math.max(t.dirty.length,o.length);for(let r=0;r<n;r+=1)e[r]=t.dirty[r]|o[r];return e}return t.dirty|o}return t.dirty}(t,r,o,a);if(l){const o=s(t,n,r,i);e.p(o,l)}}function u(e,t){e.appendChild(t)}function c(e,t,n){e.insertBefore(t,n||null)}function d(e){e.parentNode.removeChild(e)}function f(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function h(e){return document.createElement(e)}function p(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function O(e){return document.createTextNode(e)}function g(){return O(" ")}function m(){return O("")}function M(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function K(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function v(e,t){t=""+t,e.data!==t&&(e.data=t)}function T(e,t){e.value=null==t?"":t}function w(e,t,n,r){e.style.setProperty(t,n,r?"important":"")}function S(e,t){for(let n=0;n<e.options.length;n+=1){const r=e.options[n];if(r.__value===t)return void(r.selected=!0)}}function x(e,t,n){e.classList[n?"add":"remove"](t)}let y;function b(e){y=e}function L(){if(!y)throw new Error("Function called outside component initialization");return y}function R(e){L().$$.on_mount.push(e)}const C=[],D=[],B=[],I=[],_=Promise.resolve();let k=!1;function F(e){B.push(e)}let A=!1;const P=new Set;function E(){if(!A){A=!0;do{for(let e=0;e<C.length;e+=1){const t=C[e];b(t),N(t.$$)}for(C.length=0;D.length;)D.pop()();for(let e=0;e<B.length;e+=1){const t=B[e];P.has(t)||(P.add(t),t())}B.length=0}while(C.length);for(;I.length;)I.pop()();k=!1,A=!1,P.clear()}}function N(e){if(null!==e.fragment){e.update(),r(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(F)}}const U=new Set;let V;function H(){V={r:0,c:[],p:V}}function j(){V.r||r(V.c),V=V.p}function G(e,t){e&&e.i&&(U.delete(e),e.i(t))}function $(e,t,n,r){if(e&&e.o){if(U.has(e))return;U.add(e),V.c.push(()=>{U.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}}const z="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function W(e){e&&e.c()}function q(e,n,a){const{fragment:i,on_mount:s,on_destroy:l,after_update:u}=e.$$;i&&i.m(n,a),F(()=>{const n=s.map(t).filter(o);l?l.push(...n):r(n),e.$$.on_mount=[]}),u.forEach(F)}function J(e,t){const n=e.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Y(e,t){-1===e.$$.dirty[0]&&(C.push(e),k||(k=!0,_.then(E)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Q(t,o,a,i,s,l,u=[-1]){const c=y;b(t);const f=o.props||{},h=t.$$={fragment:null,ctx:null,props:l,update:e,not_equal:s,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(c?c.$$.context:[]),callbacks:n(),dirty:u};let p=!1;if(h.ctx=a?a(t,f,(e,n,...r)=>{const o=r.length?r[0]:n;return h.ctx&&s(h.ctx[e],h.ctx[e]=o)&&(h.bound[e]&&h.bound[e](o),p&&Y(t,e)),n}):[],h.update(),p=!0,r(h.before_update),h.fragment=!!i&&i(h.ctx),o.target){if(o.hydrate){const e=function(e){return Array.from(e.childNodes)}(o.target);h.fragment&&h.fragment.l(e),e.forEach(d)}else h.fragment&&h.fragment.c();o.intro&&G(t.$$.fragment),q(t,o.target,o.anchor),E()}b(c)}class X{$destroy(){J(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(){}}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function Z(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function ee(e,t){return e(t={exports:{}},t.exports),t.exports}var te=Z(ee((function(e,t){!function(e){const t={OLSKInternationalDefaultIdentifier:()=>"i18n",OLSKInternationalIsTranslationFileBasename:t=>"string"==typeof t&&!!t.split(".").pop().match(/ya?ml/i)&&t.split(".").shift()===e.OLSKInternationalDefaultIdentifier()&&!!e._OLSKInternationalLanguageID(t),OLSKInternationalLanguageID(t){if(!e.OLSKInternationalIsTranslationFileBasename(t))throw new Error("OLSKErrorInputNotValid");return e._OLSKInternationalLanguageID(t)},OLSKInternationalSimplifiedLanguageCode(e){if("string"!=typeof e)throw new Error("OLSKErrorInputNotValid");return e.split("-").shift()},_OLSKInternationalLanguageID(e){var t=e.split(".");return t.pop(),t.shift(),t.pop()},OLSKInternationalLocalizedString(e,t){if("object"!=typeof t||null===t)throw new Error("OLSKErrorInputNotValid");var n=t[e];return n||(n="TRANSLATION_MISSING",console.log([n,e])),n},OLSKInternationalLocalizedStringCallback(t,n){if("object"!=typeof t||null===t)throw new Error("OLSKErrorInputNotValid");if(!Array.isArray(n))throw new Error("OLSKErrorInputNotValid");const r=Object.keys(t).reverse().concat(...n.map((function(t){return[e.OLSKInternationalSimplifiedLanguageCode(t),t]})).reverse());return function(n,o){if(!Array.isArray(o))throw new Error("OLSKErrorInputNotValid");let a,i=r.concat(...o.map((function(t){return[e.OLSKInternationalSimplifiedLanguageCode(t),t]})).reverse(),[]);for(;!a&&i.length;)a=(t[i.pop()]||{})[n];return a||console.log([a="TRANSLATION_MISSING",n].join(" ")),a}}};Object.assign(e,t),Object.defineProperty(e,"__esModule",{value:!0})}(t)}))),ne=ee((function(e,t){!function(e){const t={OLSKStringWithFormat(t){if("string"!=typeof t)throw new Error("OLSKErrorInputNotValid");var n=Object.values(arguments).slice(1);if(!n.length)return t;var r=t;return(t.match(/%@/g)||[]).forEach((function(e,t){r=r.replace(e,n[t])})),e._OLSKStringAllMatchesWithRegexAndString(/%\$(\d*)@/g,t).forEach((function(e){r=r.replace(e[0],n[e[1]-1])})),r},_OLSKStringAllMatchesWithRegexAndString(e,t){for(var n=[],r=e.exec(t);null!=r;)n.push(r),r=e.exec(t);return n},OLSKStringReplaceTokens(e,t){if("string"!=typeof e)throw new Error("OLSKErrorInputNotValid");if("object"!=typeof t||null===t)throw new Error("OLSKErrorInputNotValid");return Object.entries(t).reduce((function(e,t){return e.replace(new RegExp(t.shift(),"g"),t.pop())}),e)},OLSKStringPatch(e,t,n){if("string"!=typeof e)throw new Error("OLSKErrorInputNotValid");if("string"!=typeof t)throw new Error("OLSKErrorInputNotValid");if("string"!=typeof n)throw new Error("OLSKErrorInputNotValid");if(!e.includes(t)&&!e.includes(n))throw new Error("OLSKErrorInputNotValid");if(n.includes(t))throw new Error("OLSKErrorInputNotValid");return e.split(t).join(n)},OLSKStringMatch(e,t){if("string"!=typeof e)throw new Error("OLSKErrorInputNotValid");if("string"!=typeof t)throw new Error("OLSKErrorInputNotValid");return t.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").includes(e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""))}};Object.assign(e,t),Object.defineProperty(e,"__esModule",{value:!0})}(t)})),re=Z(ne),oe=Object.freeze({default:re,__moduleExports:ne}),ae=ee((function(e,t){t.OLSKTestingFakeRequest=function(e={}){return console.warn("OLSKTestingFakeRequest DEPRECATED"),Object.assign({},e)},t.OLSKTestingFakeRequestForSession=function(e={}){return console.warn("OLSKTestingFakeRequestForSession DEPRECATED"),t.OLSKTestingFakeRequest({session:e})},t.OLSKTestingFakeRequestForHeaders=function(e={}){return console.warn("OLSKTestingFakeRequestForHeaders DEPRECATED"),t.OLSKTestingFakeRequest({headers:e})},t.OLSKTestingFakeResponse=function(e={}){return console.warn("OLSKTestingFakeResponse DEPRECATED"),Object.assign({},e)},t.OLSKTestingFakeResponseForLocals=function(e={}){return console.warn("OLSKTestingFakeResponseForLocals DEPRECATED"),t.OLSKTestingFakeResponse({locals:e})},t.OLSKTestingFakeResponseForJSON=function(){return console.warn("OLSKTestingFakeResponseForJSON DEPRECATED"),t.OLSKTestingFakeResponse({json:function(e){return e}})},t.OLSKTestingFakeResponseForRender=function(e){if(console.warn("OLSKTestingFakeResponseForRender DEPRECATED"),"function"!=typeof e)throw new Error("OLSKErrorInputNotValid");return t.OLSKTestingFakeResponse({render:e})},t.OLSKTestingFakeResponseForRedirect=function(){return console.warn("OLSKTestingFakeResponseForRedirect DEPRECATED"),t.OLSKTestingFakeResponse({redirect:function(e){return e}})},t.OLSKTestingFakeResponseForStatus=function(){console.warn("OLSKTestingFakeResponseForStatus DEPRECATED");var e=Object.assign(t.OLSKTestingFakeResponseForJSON(),{status:function(t){e.statusCode=t}});return e},t.OLSKTestingFakeNext=function(){return console.warn("OLSKTestingFakeNext DEPRECATED"),function(e){return void 0===e?"RETURNED_UNDEFINED":e}},t._OLSKTestingMochaReplaceES6Import=function(e){const t=[];return e=e.replace(/^import \* as (\w+) from ['"]([^'"]+)['"];?/gm,'var $1 = require("$2");').replace(/^import (\w+) from ['"]([^'"]+)['"];?/gm,'var {default: $1} = require("$2");').replace(/^import {([^}]+)} from ['"](.+)['"];?/gm,'var {$1} = require("$2");').replace(/^export default /gm,"exports.default = ").replace(/^export (const|let|var|class|function) (\w+)/gm,(e,n,r)=>(t.push(r),`${n} ${r}`)).replace(/^export \{([^}]+)\}(?: from ['"]([^'"]+)['"];?)?/gm,(e,n,r)=>(n.split(",").filter(Boolean).forEach(e=>{t.push(e)}),r?`const { ${n} } = require("${r}");`:"")).replace(/^export function (\w+)/gm,"exports.$1 = function $1"),t.forEach(t=>{e+=`\nexports.${t} = ${t};`}),e},t.OLSK_TESTING_BEHAVIOUR=function(){return"undefined"!=typeof navigator&&"Zombie"===navigator.appName}})),ie=(ae.OLSKTestingFakeRequest,ae.OLSKTestingFakeRequestForSession,ae.OLSKTestingFakeRequestForHeaders,ae.OLSKTestingFakeResponse,ae.OLSKTestingFakeResponseForLocals,ae.OLSKTestingFakeResponseForJSON,ae.OLSKTestingFakeResponseForRender,ae.OLSKTestingFakeResponseForRedirect,ae.OLSKTestingFakeResponseForStatus,ae.OLSKTestingFakeNext,ae._OLSKTestingMochaReplaceES6Import,ae.OLSK_TESTING_BEHAVIOUR),se=ee((function(e,t){const n=function(e){return[].concat.apply([],e)},r={OLSKRemoteStorageJSONSchema(e){if("object"!=typeof e||null===e)throw new Error("OLSKErrorInputNotValid");return{type:"object",properties:Object.entries(e).reduce((function(e,[t,n]){return e[t]={},e[t].type=r._OLSKRemoteStorageInferredType([...n].shift()).replace("filled","string"),"date"===e[t].type&&(e[t].type="string",e[t].format="date-time"),e}),{}),required:Object.entries(e).filter((function([e,t]){return!t.includes("__RSOptional")})).map((function([e,t]){return e}))}},_OLSKRemoteStorageInferredType(e){if("string"!=typeof e)throw new Error("OLSKErrorInputNotValid");return e.replace(/\w+ErrorNot/,"").toLowerCase()},OLSKRemoteStorageChangeDelegateMethods:()=>["OLSKChangeDelegateCreate","OLSKChangeDelegateUpdate","OLSKChangeDelegateDelete","OLSKChangeDelegateConflict"],OLSKRemoteStorageChangeDelegateProperty(e){if("object"==typeof e&&null!==e)return"remote"===e.origin&&void 0===e.oldValue&&void 0!==e.newValue?"OLSKChangeDelegateCreate":"remote"===e.origin&&void 0!==e.oldValue&&void 0!==e.newValue?"OLSKChangeDelegateUpdate":"remote"===e.origin&&void 0!==e.oldValue&&void 0===e.newValue?"OLSKChangeDelegateDelete":"conflict"===e.origin?"OLSKChangeDelegateConflict":void 0},OLSKRemoteStorageChangeDelegateInput(e){if(console.log("OLSKRemoteStorageChangeDelegateInput DEPRECATED: use OLSKRemoteStorageChangeDelegateData"),!r.OLSKRemoteStorageChangeDelegateMethods().includes(e))throw new Error("OLSKErrorInputNotValid");return"OLSKChangeDelegateDelete"===e?"oldValue":"newValue"},OLSKRemoteStorageChangeDelegateData(e,t){if(!r.OLSKRemoteStorageChangeDelegateMethods().includes(e))throw new Error("OLSKErrorInputNotValid");if(!t.origin)throw new Error("OLSKErrorInputNotValid");return"OLSKChangeDelegateConflict"===e?t:t["OLSKChangeDelegateDelete"===e?"oldValue":"newValue"]},OLSKRemoteStorageChangeDelegateConflictSelectRecent(e){if("conflict"!==e.origin)throw new Error("OLSKErrorInputNotValid");return Object.entries(e.oldValue).filter((function(t){return!!t[0].match("ModificationDate")&&t[1]>e.newValue[t[0]]})).length?e.oldValue:e.newValue},OLSKRemoteStorageStatus(e,t,n=function(e){return e}){if("object"!=typeof e||null===e)throw new Error("OLSKErrorInputNotValid");if("function"!=typeof e.on)throw new Error("OLSKErrorInputNotValid");if("function"!=typeof t)throw new Error("OLSKErrorInputNotValid");let r;e.on("connected",(function(){t(n("OLSKRemoteStorageStatusOnline"))})),e.on("network-offline",(function(){t(n("OLSKRemoteStorageStatusNetworkOffline")),r=!0})),e.on("network-online",(function(){t(n("OLSKRemoteStorageStatusOnline")),r=!1})),e.on("error",(function(e){r&&"Sync failed: Network request failed."===e.message||t(n("OLSKRemoteStorageStatusError"))})),e.on("disconnected",(function(){t("")}))},OLSKRemoteStorageIsCollection(e){if("object"!=typeof e||null===e)throw new Error("OLSKErrorInputNotValid");return"string"==typeof e.OLSKRemoteStorageCollectionName&&(""!==e.OLSKRemoteStorageCollectionName.trim()&&("string"==typeof e.OLSKRemoteStorageCollectionType&&(""!==e.OLSKRemoteStorageCollectionType.trim()&&("object"==typeof e.OLSKRemoteStorageCollectionModelErrors&&null!==e.OLSKRemoteStorageCollectionModelErrors&&("object"==typeof e.OLSKRemoteStorageCollectionExports&&null!==e.OLSKRemoteStorageCollectionExports)))))},OLSKRemoteStorageDataModuleGenerator(e,t={}){if("string"!=typeof e)throw new Error("OLSKErrorInputNotValid");if(!e.trim())throw new Error("OLSKErrorInputNotValid");return function(n){if(!Array.isArray(n))throw new Error("OLSKErrorInputNotValid");return{name:e,builder(o,a){const i={__TestWriteFileText:(e,t)=>o.storeFile("text/plain",e,t),__TestReadFileText:async e=>(await o.getFile(e)).data,__OLSKRemoteStorageReset:async()=>await Promise.all((await r.OLSKRemoteStorageListObjectsRecursive(o,"")).map((async function(e){return await o.remove(e)}))),__OLSKRemoteStoragePrivateClient:()=>o,__OLSKRemoteStoragePublicClient:()=>a},s={__OLSKRemoteStorageHotfixFlushData:()=>o.flush(`/${e}/`)};return{exports:n.reduce((function(e,t){const n=t(o,a,t.OLSKChangeDelegate);if(!r.OLSKRemoteStorageIsCollection(n))throw new Error("OLSKErrorInputNotValid");return o.declareType(n.OLSKRemoteStorageCollectionType,r.OLSKRemoteStorageJSONSchema(n.OLSKRemoteStorageCollectionModelErrors)),e[n.OLSKRemoteStorageCollectionName]=n.OLSKRemoteStorageCollectionExports,e}),Object.assign(t.OLSKOptionIncludeDebug?{__DEBUG:i}:{},{__HOTFIX:s}))}}}}},_OLSKRemoteStorageIsPath(e){if("string"!=typeof e)throw new Error("OLSKErrorInputNotValid");return!!e.trim()},OLSKRemoteStorageList:async(e,t)=>n(await Promise.all(n([t]).map((async function(t){if("string"!=typeof t)return Promise.reject(new Error("OLSKErrorInputNotValid"));try{return await Object.keys(await e.getListing(t,!1)).map((function(e){return t+e}))}catch{}return[]})))),OLSKRemoteStorageListObjectsRecursive:async(e,t)=>n(await Promise.all((await r.OLSKRemoteStorageList(e,t)).map((async function(t){return"/"==t.slice(-1)?await r.OLSKRemoteStorageListObjectsRecursive(e,t):t})))),_TestWrite:async(e,t,n)=>r._OLSKRemoteStorageIsPath(t)?"string"!=typeof n?Promise.reject(new Error("OLSKErrorInputNotValid")):await e.__DEBUG.__TestWriteFileText(t,n):Promise.reject(new Error("OLSKErrorInputNotValid")),_TestRead:async(e,t)=>r._OLSKRemoteStorageIsPath(t)?await e.__DEBUG.__TestReadFileText(t):Promise.reject(new Error("OLSKErrorInputNotValid")),_TestReset:e=>e.__DEBUG.__OLSKRemoteStorageReset(),_OLSKRemoteStoragePrivateClient:e=>e.__DEBUG.__OLSKRemoteStoragePrivateClient(),_OLSKRemoteStoragePublicClient:e=>e.__DEBUG.__OLSKRemoteStoragePublicClient(),OLSKRemoteStorageSafeCopy:e=>Object.keys(e).reduce((function(t,n){return"$"!==n[0]&&(t[n]=e[n]),t}),{}),OLSKRemoteStoragePreJSONSchemaValidate(e){for(const t in e)"Date"===t.slice(-4)?e[t]=e[t].toISOString():Array.isArray(e[t])&&e[t].map(r.OLSKRemoteStoragePreJSONSchemaValidate);return e},OLSKRemoteStoragePostJSONParse(e){if(!e)return e;for(const t in e)"Date"===t.slice(-4)?e[t]=new Date(e[t]):Array.isArray(e[t])&&e[t].map(r.OLSKRemoteStoragePostJSONParse);return e}};Object.assign(t,r)})),le=Object.freeze({default:se,__moduleExports:se}),ue=ee((function(e,t){const n=function(e){return[].concat.apply([],e)},r={OLSKRemoteStorageJSONSchema(e){if("object"!=typeof e||null===e)throw new Error("OLSKErrorInputNotValid");return{type:"object",properties:Object.entries(e).reduce((function(e,[t,n]){return e[t]={},e[t].type=r._OLSKRemoteStorageInferredType([...n].shift()).replace("filled","string"),"date"===e[t].type&&(e[t].type="string",e[t].format="date-time"),e}),{}),required:Object.entries(e).filter((function([e,t]){return!t.includes("__RSOptional")})).map((function([e,t]){return e}))}},_OLSKRemoteStorageInferredType(e){if("string"!=typeof e)throw new Error("OLSKErrorInputNotValid");return e.replace(/\w+ErrorNot/,"").toLowerCase()},OLSKRemoteStorageChangeDelegateMethods:()=>["OLSKChangeDelegateCreate","OLSKChangeDelegateUpdate","OLSKChangeDelegateDelete","OLSKChangeDelegateConflict"],OLSKRemoteStorageChangeDelegateProperty(e){if("object"==typeof e&&null!==e)return"remote"===e.origin&&void 0===e.oldValue&&void 0!==e.newValue?"OLSKChangeDelegateCreate":"remote"===e.origin&&void 0!==e.oldValue&&void 0!==e.newValue?"OLSKChangeDelegateUpdate":"remote"===e.origin&&void 0!==e.oldValue&&void 0===e.newValue?"OLSKChangeDelegateDelete":"conflict"===e.origin?"OLSKChangeDelegateConflict":void 0},OLSKRemoteStorageChangeDelegateInput(e){if(console.log("OLSKRemoteStorageChangeDelegateInput DEPRECATED: use OLSKRemoteStorageChangeDelegateData"),!r.OLSKRemoteStorageChangeDelegateMethods().includes(e))throw new Error("OLSKErrorInputNotValid");return"OLSKChangeDelegateDelete"===e?"oldValue":"newValue"},OLSKRemoteStorageChangeDelegateData(e,t){if(!r.OLSKRemoteStorageChangeDelegateMethods().includes(e))throw new Error("OLSKErrorInputNotValid");if(!t.origin)throw new Error("OLSKErrorInputNotValid");return"OLSKChangeDelegateConflict"===e?t:t["OLSKChangeDelegateDelete"===e?"oldValue":"newValue"]},OLSKRemoteStorageChangeDelegateConflictSelectRecent(e){if("conflict"!==e.origin)throw new Error("OLSKErrorInputNotValid");return Object.entries(e.oldValue).filter((function(t){return!!t[0].match("ModificationDate")&&t[1]>e.newValue[t[0]]})).length?e.oldValue:e.newValue},OLSKRemoteStorageStatus(e,t,n=function(e){return e}){if("object"!=typeof e||null===e)throw new Error("OLSKErrorInputNotValid");if("function"!=typeof e.on)throw new Error("OLSKErrorInputNotValid");if("function"!=typeof t)throw new Error("OLSKErrorInputNotValid");let r;e.on("connected",(function(){t(n("OLSKRemoteStorageStatusOnline"))})),e.on("network-offline",(function(){t(n("OLSKRemoteStorageStatusNetworkOffline")),r=!0})),e.on("network-online",(function(){t(n("OLSKRemoteStorageStatusOnline")),r=!1})),e.on("error",(function(e){r&&"Sync failed: Network request failed."===e.message||t(n("OLSKRemoteStorageStatusError"))})),e.on("disconnected",(function(){t("")}))},OLSKRemoteStorageIsCollection(e){if("object"!=typeof e||null===e)throw new Error("OLSKErrorInputNotValid");return"string"==typeof e.OLSKRemoteStorageCollectionName&&(""!==e.OLSKRemoteStorageCollectionName.trim()&&("string"==typeof e.OLSKRemoteStorageCollectionType&&(""!==e.OLSKRemoteStorageCollectionType.trim()&&("object"==typeof e.OLSKRemoteStorageCollectionModelErrors&&null!==e.OLSKRemoteStorageCollectionModelErrors&&("object"==typeof e.OLSKRemoteStorageCollectionExports&&null!==e.OLSKRemoteStorageCollectionExports)))))},OLSKRemoteStorageDataModuleGenerator(e,t={}){if("string"!=typeof e)throw new Error("OLSKErrorInputNotValid");if(!e.trim())throw new Error("OLSKErrorInputNotValid");return function(n){if(!Array.isArray(n))throw new Error("OLSKErrorInputNotValid");return{name:e,builder(o,a){const i={__TestWriteFileText:(e,t)=>o.storeFile("text/plain",e,t),__TestReadFileText:async e=>(await o.getFile(e)).data,__OLSKRemoteStorageReset:async()=>await Promise.all((await r.OLSKRemoteStorageListObjectsRecursive(o,"")).map((async function(e){return await o.remove(e)}))),__OLSKRemoteStoragePrivateClient:()=>o,__OLSKRemoteStoragePublicClient:()=>a},s={__OLSKRemoteStorageHotfixFlushData:()=>o.flush(`/${e}/`)};return{exports:n.reduce((function(e,t){const n=t(o,a,t.OLSKChangeDelegate);if(!r.OLSKRemoteStorageIsCollection(n))throw new Error("OLSKErrorInputNotValid");return o.declareType(n.OLSKRemoteStorageCollectionType,r.OLSKRemoteStorageJSONSchema(n.OLSKRemoteStorageCollectionModelErrors)),e[n.OLSKRemoteStorageCollectionName]=n.OLSKRemoteStorageCollectionExports,e}),Object.assign(t.OLSKOptionIncludeDebug?{__DEBUG:i}:{},{__HOTFIX:s}))}}}}},_OLSKRemoteStorageIsPath(e){if("string"!=typeof e)throw new Error("OLSKErrorInputNotValid");return!!e.trim()},OLSKRemoteStorageList:async(e,t)=>n(await Promise.all(n([t]).map((async function(t){if("string"!=typeof t)return Promise.reject(new Error("OLSKErrorInputNotValid"));try{return await Object.keys(await e.getListing(t,!1)).map((function(e){return t+e}))}catch{}return[]})))),OLSKRemoteStorageListObjectsRecursive:async(e,t)=>n(await Promise.all((await r.OLSKRemoteStorageList(e,t)).map((async function(t){return"/"==t.slice(-1)?await r.OLSKRemoteStorageListObjectsRecursive(e,t):t})))),_TestWrite:async(e,t,n)=>r._OLSKRemoteStorageIsPath(t)?"string"!=typeof n?Promise.reject(new Error("OLSKErrorInputNotValid")):await e.__DEBUG.__TestWriteFileText(t,n):Promise.reject(new Error("OLSKErrorInputNotValid")),_TestRead:async(e,t)=>r._OLSKRemoteStorageIsPath(t)?await e.__DEBUG.__TestReadFileText(t):Promise.reject(new Error("OLSKErrorInputNotValid")),_TestReset:e=>e.__DEBUG.__OLSKRemoteStorageReset(),_OLSKRemoteStoragePrivateClient:e=>e.__DEBUG.__OLSKRemoteStoragePrivateClient(),_OLSKRemoteStoragePublicClient:e=>e.__DEBUG.__OLSKRemoteStoragePublicClient(),OLSKRemoteStorageSafeCopy:e=>Object.keys(e).reduce((function(t,n){return"$"!==n[0]&&(t[n]=e[n]),t}),{}),OLSKRemoteStoragePreJSONSchemaValidate(e){for(const t in e)"Date"===t.slice(-4)?e[t]=e[t].toISOString():Array.isArray(e[t])&&e[t].map(r.OLSKRemoteStoragePreJSONSchemaValidate);return e},OLSKRemoteStoragePostJSONParse(e){if(!e)return e;for(const t in e)"Date"===t.slice(-4)?e[t]=new Date(e[t]):Array.isArray(e[t])&&e[t].map(r.OLSKRemoteStoragePostJSONParse);return e}};Object.assign(t,r)})),ce=Object.freeze({default:ue,__moduleExports:ue});const de=ue||ce,fe={KOM_DataModule:(e,t)=>de.OLSKRemoteStorageDataModuleGenerator("kommit",t)(e)},he={KOMDeckModelErrorsFor(e,t={}){if("object"!=typeof e||null===e)throw new Error("KOMErrorInputNotValid");const n={};return"string"!=typeof e.KOMDeckID?n.KOMDeckID=["KOMErrorNotString"]:""===e.KOMDeckID.trim()&&(n.KOMDeckID=["KOMErrorNotFilled"]),"string"!=typeof e.KOMDeckName&&(n.KOMDeckName=["KOMErrorNotString"]),e.KOMDeckCreationDate instanceof Date&&!Number.isNaN(e.KOMDeckCreationDate.getTime())||(n.KOMDeckCreationDate=["KOMErrorNotDate"]),e.KOMDeckModificationDate instanceof Date&&!Number.isNaN(e.KOMDeckModificationDate.getTime())||(n.KOMDeckModificationDate=["KOMErrorNotDate"]),void 0!==e.KOMDeckAudioIsEnabled&&"boolean"!=typeof e.KOMDeckAudioIsEnabled&&(n.KOMDeckAudioIsEnabled=["KOMErrorNotBoolean"]),void 0!==e.KOMDeckFrontSpeechIsEnabled&&"boolean"!=typeof e.KOMDeckFrontSpeechIsEnabled&&(n.KOMDeckFrontSpeechIsEnabled=["KOMErrorNotBoolean"]),void 0!==e.KOMDeckRearSpeechIsEnabled&&"boolean"!=typeof e.KOMDeckRearSpeechIsEnabled&&(n.KOMDeckRearSpeechIsEnabled=["KOMErrorNotBoolean"]),void 0!==e.KOMDeckFrontLanguageCode&&"string"!=typeof e.KOMDeckFrontLanguageCode&&(n.KOMDeckFrontLanguageCode=["KOMErrorNotString"]),void 0!==e.KOMDeckRearLanguageCode&&"string"!=typeof e.KOMDeckRearLanguageCode&&(n.KOMDeckRearLanguageCode=["KOMErrorNotString"]),void 0!==e.KOMDeckIsForwardOnly&&"boolean"!=typeof e.KOMDeckIsForwardOnly&&(n.KOMDeckIsForwardOnly=["KOMErrorNotBoolean"]),void 0!==e.$KOMDeckCards&&(Array.isArray(e.$KOMDeckCards)||(n.$KOMDeckCards=["KOMErrorNotArray"])),void 0!==e.$KOMDeckSpacings&&(Array.isArray(e.$KOMDeckSpacings)||(n.$KOMDeckSpacings=["KOMErrorNotArray"])),Object.entries(n).length?n:null}},pe=ue||ce,Oe={KOMDeckStorageCollectionName:()=>"kom_decks",KOMDeckStorageCollectionType:()=>"kom_deck",KOMDeckStorageCollectionPath:()=>Oe.KOMDeckStorageCollectionName()+"/",KOMDeckStorageFolderPath(e){if(!e)throw new Error("KOMErrorInputNotValid");return Oe.KOMDeckStorageCollectionPath()+e+"/"},KOMDeckStorageObjectPath(e){if(!e)throw new Error("KOMErrorInputNotValid");return Oe.KOMDeckStorageFolderPath(e)+"main"},KOMDeckStorageMatch(e){if("string"!=typeof e)throw new Error("KOMErrorInputNotValid");return e===Oe.KOMDeckStorageObjectPath(e.split("/")[1])},KOMDeckStorageBuild(e,t,n){e.on("change",(function(e){if(!n)return;if(!Oe.KOMDeckStorageMatch(e.relativePath))return;const t=pe.OLSKRemoteStorageChangeDelegateProperty(e);return t?"function"!=typeof n[t]?console.warn(t+" not function"):void n[t](pe.OLSKRemoteStoragePostJSONParse(e[pe.OLSKRemoteStorageChangeDelegateInput(t)])):void 0}));const r={async _KOMDeckStorageWrite(t){if("object"!=typeof t||null===t)return Promise.reject(new Error("KOMErrorInputNotValid"));let n=he.KOMDeckModelErrorsFor(t);if(n)return Promise.resolve({KOMErrors:n});const r=pe.OLSKRemoteStorageSafeCopy(t);return await e.storeObject(Oe.KOMDeckStorageCollectionType(),Oe.KOMDeckStorageObjectPath(r.KOMDeckID),pe.OLSKRemoteStoragePreJSONSchemaValidate(r)),Object.assign(t,pe.OLSKRemoteStoragePostJSONParse(r))},_KOMDeckStorageList:async()=>(await Promise.all(Object.keys(await e.getAll(Oe.KOMDeckStorageCollectionPath(),!1)).map((function(t){return e.getObject(Oe.KOMDeckStorageObjectPath(t.slice(0,-1)),!1)})))).reduce((function(e,t){return t&&(e[t.KOMDeckID]=pe.OLSKRemoteStoragePostJSONParse(t)),e}),{}),_KOMDeckStorageDelete(t){if(he.KOMDeckModelErrorsFor(t))throw new Error("KOMErrorInputNotValid");return e.remove(Oe.KOMDeckStorageObjectPath(t.KOMDeckID))}};return{OLSKRemoteStorageCollectionName:Oe.KOMDeckStorageCollectionName(),OLSKRemoteStorageCollectionType:Oe.KOMDeckStorageCollectionType(),OLSKRemoteStorageCollectionModelErrors:Object.entries(he.KOMDeckModelErrorsFor({},{KOMOptionValidateIfNotPresent:!0})).map((function(e){return Object.keys(he.KOMDeckModelErrorsFor({})).includes(e[0])||e[1].push("__RSOptional"),e})).reduce((function(e,t){return e[t[0]]=t[1],e}),{}),OLSKRemoteStorageCollectionExports:r}},KOMDeckStorageWrite:(e,t)=>e.kommit[Oe.KOMDeckStorageCollectionName()]._KOMDeckStorageWrite(t),KOMDeckStorageList:e=>e.kommit[Oe.KOMDeckStorageCollectionName()]._KOMDeckStorageList(),KOMDeckStorageDelete:(e,t)=>e.kommit[Oe.KOMDeckStorageCollectionName()]._KOMDeckStorageDelete(t)},ge={KOMCardModelErrorsFor(e,t={}){if("object"!=typeof e||null===e)throw new Error("KOMErrorInputNotValid");const n={};return"string"!=typeof e.KOMCardID?n.KOMCardID=["KOMErrorNotString"]:""===e.KOMCardID.trim()&&(n.KOMCardID=["KOMErrorNotFilled"]),"string"!=typeof e.KOMCardDeckID?n.KOMCardDeckID=["KOMErrorNotString"]:""===e.KOMCardDeckID.trim()&&(n.KOMCardDeckID=["KOMErrorNotFilled"]),"string"!=typeof e.KOMCardFrontText&&(n.KOMCardFrontText=["KOMErrorNotString"]),"string"!=typeof e.KOMCardRearText&&(n.KOMCardRearText=["KOMErrorNotString"]),e.KOMCardCreationDate instanceof Date&&!Number.isNaN(e.KOMCardCreationDate.getTime())||(n.KOMCardCreationDate=["KOMErrorNotDate"]),e.KOMCardModificationDate instanceof Date&&!Number.isNaN(e.KOMCardModificationDate.getTime())||(n.KOMCardModificationDate=["KOMErrorNotDate"]),(void 0!==e.KOMCardNotes||t.KOMOptionValidateIfNotPresent)&&"string"!=typeof e.KOMCardNotes&&(n.KOMCardNotes=["KOMErrorNotString"]),(void 0!==e.KOMCardFrontAudio||t.KOMOptionValidateIfNotPresent)&&"boolean"!=typeof e.KOMCardFrontAudio&&(n.KOMCardFrontAudio=["KOMErrorNotBoolean"]),(void 0!==e.KOMCardRearAudio||t.KOMOptionValidateIfNotPresent)&&"boolean"!=typeof e.KOMCardRearAudio&&(n.KOMCardRearAudio=["KOMErrorNotBoolean"]),(void 0!==e.KOMCardTags||t.KOMOptionValidateIfNotPresent)&&(Array.isArray(e.KOMCardTags)||(n.KOMCardTags=["KOMErrorNotArray"])),Object.entries(n).length?n:null},KOMCardModelAudioFields:()=>["KOMCardFrontAudio","KOMCardRearAudio"]},me=ue||ce,Me={uFakeDeck:e=>({KOMDeckID:e.split("/")[1],KOMDeckName:"",KOMDeckCreationDate:new Date,KOMDeckModificationDate:new Date}),uFakeCard:e=>({KOMCardID:e.split("/")[4],KOMCardDeckID:e.split("/")[1],KOMCardFrontText:"",KOMCardRearText:"",KOMCardCreationDate:new Date(e.split("/")[3]),KOMCardModificationDate:new Date}),KOMCardStorageCollectionName:()=>"kom_cards",KOMCardStorageCollectionType:()=>"kom_card",KOMCardStorageCollectionPath:e=>Oe.KOMDeckStorageFolderPath(e)+Me.KOMCardStorageCollectionName()+"/",KOMCardStorageFolderPath(e){if(ge.KOMCardModelErrorsFor(e))throw new Error("KOMErrorInputNotValid");return Me.KOMCardStorageCollectionPath(e.KOMCardDeckID)+e.KOMCardCreationDate.toJSON().split("T").shift()+"/"+e.KOMCardID+"/"},KOMCardStorageObjectPath:e=>Me.KOMCardStorageFolderPath(e)+"main",KOMCardStorageAudioPathFront:e=>Me.KOMCardStorageFolderPath(e)+"side-front/audio",KOMCardStorageAudioPathRear:e=>Me.KOMCardStorageFolderPath(e)+"side-rear/audio",KOMCardStorageMatch(e){if("string"!=typeof e)throw new Error("KOMErrorInputNotValid");return!!e.match(Me.KOMCardStorageCollectionName())&&e===Me.KOMCardStorageObjectPath(Me.uFakeCard(e),Me.uFakeDeck(e))},KOMCardStorageBuild(e,t,n){e.on("change",(function(e){if(!n)return;if(!Me.KOMCardStorageMatch(e.relativePath))return;const t=me.OLSKRemoteStorageChangeDelegateProperty(e);return t?"function"!=typeof n[t]?console.warn(t+" not function"):void n[t](me.OLSKRemoteStoragePostJSONParse(me.OLSKRemoteStorageChangeDelegateData(t,e))):void 0}));const r={async _KOMCardStorageWrite(t){if("object"!=typeof t||null===t)return Promise.reject(new Error("KOMErrorInputNotValid"));let n=ge.KOMCardModelErrorsFor(t);return n?Promise.resolve({KOMErrors:n}):(await e.storeObject(Me.KOMCardStorageCollectionType(),Me.KOMCardStorageObjectPath(t),me.OLSKRemoteStoragePreJSONSchemaValidate(t)),me.OLSKRemoteStoragePostJSONParse(t))},_KOMCardStorageList:async t=>(await Promise.all((await me.OLSKRemoteStorageListObjectsRecursive(e,Me.KOMCardStorageCollectionPath(t.KOMDeckID))).filter(Me.KOMCardStorageMatch).map((function(t){return e.getObject(t,!1)})))).reduce((function(e,t){return t&&(e[t.KOMCardID]=me.OLSKRemoteStoragePostJSONParse(t)),e}),{}),_KOMCardStorageDelete:async t=>ge.KOMCardModelErrorsFor(t)?Promise.reject(new Error("KOMErrorInputNotValid")):(await Promise.all((await me.OLSKRemoteStorageListObjectsRecursive(e,Me.KOMCardStorageFolderPath(t))).map((function(t){return e.remove(t)})))).pop(),_KOMCardStorageFileWrite:async(t,n)=>t instanceof Blob?"string"!=typeof n?Promise.reject(new Error("KOMErrorInputNotValid")):(await e.storeFile(t.type,n,"undefined"!=typeof global&&global.KOMTestingStorageClient?t:await new Promise((function(e,n){const r=new FileReader;r.onload=function(){e(r.result)},r.readAsArrayBuffer(t)}))),t):Promise.reject(new Error("KOMErrorInputNotValid")),async _KOMCardStorageFileRead(t){if("string"!=typeof t)return Promise.reject(new Error("KOMErrorInputNotValid"));const n=await e.getFile(t);return n.data?new Blob([n.data],{type:n.contentType}):null},_KOMCardStorageFileDelete:t=>"string"!=typeof t?Promise.reject(new Error("KOMErrorInputNotValid")):e.remove(t)};return{OLSKRemoteStorageCollectionName:Me.KOMCardStorageCollectionName(),OLSKRemoteStorageCollectionType:Me.KOMCardStorageCollectionType(),OLSKRemoteStorageCollectionModelErrors:Object.entries(ge.KOMCardModelErrorsFor({},{KOMOptionValidateIfNotPresent:!0})).map((function(e){return Object.keys(ge.KOMCardModelErrorsFor({})).includes(e[0])||e[1].push("__RSOptional"),e})).reduce((function(e,t){return e[t[0]]=t[1],e}),{}),OLSKRemoteStorageCollectionExports:r}},KOMCardStorageWrite:(e,t)=>e.kommit[Me.KOMCardStorageCollectionName()]._KOMCardStorageWrite(t),KOMCardStorageList:(e,t)=>e.kommit[Me.KOMCardStorageCollectionName()]._KOMCardStorageList(t),KOMCardStorageDelete:(e,t)=>e.kommit[Me.KOMCardStorageCollectionName()]._KOMCardStorageDelete(t),KOMCardStorageFileWrite:(e,t,n)=>e.kommit[Me.KOMCardStorageCollectionName()]._KOMCardStorageFileWrite(t,n),KOMCardStorageFileRead:(e,t)=>e.kommit[Me.KOMCardStorageCollectionName()]._KOMCardStorageFileRead(t),KOMCardStorageFileDelete:(e,t)=>e.kommit[Me.KOMCardStorageCollectionName()]._KOMCardStorageFileDelete(t)},Ke={KOMSpacingModelIdentifier(e){if("string"!=typeof e)throw new Error("KOMErrorInputNotValid");if(!e.includes("-"))throw new Error("KOMErrorInputNotValid");return e.split("-").shift()},KOMSpacingModelLabel(e){if("string"!=typeof e)throw new Error("KOMErrorInputNotValid");if(!e.includes("-"))throw new Error("KOMErrorInputNotValid");return e.split("-").pop()},KOMSpacingModelLabelForward:()=>"forward",KOMSpacingModelLabelBackward:()=>"backward",KOMSpacingModelErrorsFor(e,t={}){if("object"!=typeof e||null===e)throw new Error("KOMErrorInputNotValid");const n={};return"string"!=typeof e.KOMSpacingID?n.KOMSpacingID=["KOMErrorNotString"]:e.KOMSpacingID.includes("-")?Ke.KOMSpacingModelIdentifier(e.KOMSpacingID)?[Ke.KOMSpacingModelLabelForward(),Ke.KOMSpacingModelLabelBackward()].includes(Ke.KOMSpacingModelLabel(e.KOMSpacingID))||(n.KOMSpacingID=["KOMErrorNotLabelled"]):n.KOMSpacingID=["KOMErrorNotFilled"]:n.KOMSpacingID=["KOMErrorNotSeparated"],Array.isArray(e.KOMSpacingChronicles)||(n.KOMSpacingChronicles=["KOMErrorNotArray"]),(void 0!==e.KOMSpacingDrawDate||t.KOMOptionValidateIfNotPresent)&&(e.KOMSpacingDrawDate instanceof Date&&!Number.isNaN(e.KOMSpacingDrawDate.getTime())||(n.KOMSpacingDrawDate=["KOMErrorNotDate"])),(void 0!==e.KOMSpacingFlipDate||t.KOMOptionValidateIfNotPresent)&&(e.KOMSpacingFlipDate instanceof Date&&!Number.isNaN(e.KOMSpacingFlipDate.getTime())||(n.KOMSpacingFlipDate=["KOMErrorNotDate"])),(void 0!==e.KOMSpacingDueDate||t.KOMOptionValidateIfNotPresent)&&(e.KOMSpacingDueDate instanceof Date&&!Number.isNaN(e.KOMSpacingDueDate.getTime())||(n.KOMSpacingDueDate=["KOMErrorNotDate"])),(void 0!==e.KOMSpacingIsLearning||t.KOMOptionValidateIfNotPresent)&&"boolean"!=typeof e.KOMSpacingIsLearning&&(n.KOMSpacingIsLearning=["KOMErrorNotBoolean"]),(void 0!==e.KOMSpacingInterval||t.KOMOptionValidateIfNotPresent)&&"number"!=typeof e.KOMSpacingInterval&&(n.KOMSpacingInterval=["KOMErrorNotNumber"]),(void 0!==e.KOMSpacingMultiplier||t.KOMOptionValidateIfNotPresent)&&"number"!=typeof e.KOMSpacingMultiplier&&(n.KOMSpacingMultiplier=["KOMErrorNotNumber"]),void 0!==e.$KOMSpacingCard&&ge.KOMCardModelErrorsFor(e.$KOMSpacingCard)&&(n.$KOMSpacingCard=["KOMErrorNotValid"]),Object.entries(n).length?n:null},KOMSpacingModelIsBackward(e){if(Ke.KOMSpacingModelErrorsFor(e))throw new Error("KOMErrorInputNotValid");return Ke.KOMSpacingModelLabel(e.KOMSpacingID)===Ke.KOMSpacingModelLabelBackward()},KOMSpacingModelIsUnseen(e){if(Ke.KOMSpacingModelErrorsFor(e))throw new Error("KOMErrorInputNotValid");return!e.KOMSpacingDueDate},KOMSpacingModelIsLearning(e){if(Ke.KOMSpacingModelErrorsFor(e))throw new Error("KOMErrorInputNotValid");return!!e.KOMSpacingIsLearning},KOMSpacingModelIsReviewing(e){if(Ke.KOMSpacingModelErrorsFor(e))throw new Error("KOMErrorInputNotValid");return!e.KOMSpacingIsLearning&&!!e.KOMSpacingInterval},KOMSpacingModelMatureThreshold:()=>21,KOMSpacingModelIsDeveloping(e){if(Ke.KOMSpacingModelErrorsFor(e))throw new Error("KOMErrorInputNotValid");return!!e.KOMSpacingInterval&&e.KOMSpacingInterval<Ke.KOMSpacingModelMatureThreshold()},KOMSpacingModelIsMature(e){if(Ke.KOMSpacingModelErrorsFor(e))throw new Error("KOMErrorInputNotValid");return!!e.KOMSpacingInterval&&e.KOMSpacingInterval>=Ke.KOMSpacingModelMatureThreshold()},KOMSpacingModelFilterUnique(e){if(!Array.isArray(e))throw new Error("KOMErrorInputNotValid");let t=[];return e.filter((function(e,n,r){const o=Ke.KOMSpacingModelIdentifier(e.KOMSpacingID);return!t.includes(o)&&(t.push(o),!0)}))}},ve={KOMSettingModelErrorsFor(e){if("object"!=typeof e||null===e)throw new Error("KOMErrorInputNotValid");const t={};return"string"!=typeof e.KOMSettingKey?t.KOMSettingKey=["KOMErrorNotString"]:""===e.KOMSettingKey.trim()&&(t.KOMSettingKey=["KOMErrorNotFilled"]),"string"!=typeof e.KOMSettingValue&&(t.KOMSettingValue=["KOMErrorNotString"]),Object.entries(t).length?t:null}},Te={uFakeSetting:e=>({KOMSettingKey:e.split("/")[1],KOMSettingValue:""}),KOMSettingStorageCollectionName:()=>"kom_settings",KOMSettingStorageCollectionType:()=>"kom_setting",KOMSettingStorageCollectionPath:()=>Te.KOMSettingStorageCollectionName()+"/",KOMSettingStorageObjectPath(e){if(ve.KOMSettingModelErrorsFor(e))throw new Error("KOMErrorInputNotValid");return Te.KOMSettingStorageCollectionPath()+e.KOMSettingKey},KOMSettingStorageMatch(e){if("string"!=typeof e)throw new Error("KOMErrorInputNotValid");return e===Te.KOMSettingStorageObjectPath(Te.uFakeSetting(e))},KOMSettingStorageBuild(e,t,n){const r={async _KOMSettingStorageWrite(t){if("object"!=typeof t||null===t)return Promise.reject(new Error("KOMErrorInputNotValid"));let n=ve.KOMSettingModelErrorsFor(t);return n?Promise.resolve({KOMErrors:n}):(await e.storeObject(Te.KOMSettingStorageCollectionType(),Te.KOMSettingStorageObjectPath(t),t),t)},_KOMSettingStorageRead(t){if("string"!=typeof t)throw new Error("KOMErrorInputNotValid");return e.getObject(Te.KOMSettingStorageObjectPath({KOMSettingKey:t,KOMSettingValue:""}))},_KOMSettingStorageList:()=>e.getAll(Te.KOMSettingStorageCollectionPath(),!1),_KOMSettingStorageDelete(t){if("string"!=typeof t)throw new Error("KOMErrorInputNotValid");return e.remove(Te.KOMSettingStorageObjectPath({KOMSettingKey:t,KOMSettingValue:""}))}};return{OLSKRemoteStorageCollectionName:Te.KOMSettingStorageCollectionName(),OLSKRemoteStorageCollectionType:Te.KOMSettingStorageCollectionType(),OLSKRemoteStorageCollectionModelErrors:Object.entries(ve.KOMSettingModelErrorsFor({},{KOMOptionValidateIfNotPresent:!0})).map((function(e){return Object.keys(ve.KOMSettingModelErrorsFor({})).includes(e[0])||e[1].push("__RSOptional"),e})).reduce((function(e,t){return e[t[0]]=t[1],e}),{}),OLSKRemoteStorageCollectionExports:r}},KOMSettingStorageWrite:(e,t)=>e.kommit[Te.KOMSettingStorageCollectionName()]._KOMSettingStorageWrite(t),KOMSettingStorageRead:(e,t)=>e.kommit[Te.KOMSettingStorageCollectionName()]._KOMSettingStorageRead(t),KOMSettingStorageList:e=>e.kommit[Te.KOMSettingStorageCollectionName()]._KOMSettingStorageList(),KOMSettingStorageDelete:(e,t)=>e.kommit[Te.KOMSettingStorageCollectionName()]._KOMSettingStorageDelete(t)},we=ue||ce,Se={KOMSpacingStorageCollectionName:()=>"kom_spacings",KOMSpacingStorageCollectionType:()=>"kom_spacing",KOMSpacingStoragePathForward(e,t){if(he.KOMDeckModelErrorsFor(t))throw new Error("KOMErrorInputNotValid");return Me.KOMCardStorageObjectPath(e,t).replace("main","spacing-forward")},KOMSpacingStoragePathBackward(e,t){if(he.KOMDeckModelErrorsFor(t))throw new Error("KOMErrorInputNotValid");return Me.KOMCardStorageObjectPath(e,t).replace("main","spacing-backward")},KOMSpacingStorageMatch(e){if("string"!=typeof e)throw new Error("KOMErrorInputNotValid");return!Te.KOMSettingStorageMatch(e)&&(!Oe.KOMDeckStorageMatch(e)&&(!Me.KOMCardStorageMatch(e)&&[Se.KOMSpacingStoragePathForward(Me.uFakeCard(e),Me.uFakeDeck(e)),Se.KOMSpacingStoragePathBackward(Me.uFakeCard(e),Me.uFakeDeck(e))].includes(e)))},KOMSpacingStorageBuild(e,t,n){e.on("change",(function(e){if(!n)return;if(!Se.KOMSpacingStorageMatch(e.relativePath))return;const t=we.OLSKRemoteStorageChangeDelegateProperty(e);return t?"function"!=typeof n[t]?console.warn(t+" not function"):void n[t](we.OLSKRemoteStoragePostJSONParse(e[we.OLSKRemoteStorageChangeDelegateInput(t)])):void 0}));const r={async _KOMSpacingStorageWrite(t,n,r){if("object"!=typeof t||null===t)return Promise.reject(new Error("KOMErrorInputNotValid"));let o=Ke.KOMSpacingModelErrorsFor(t);if(o)return Promise.resolve({KOMErrors:o});const a=we.OLSKRemoteStorageSafeCopy(t);return await e.storeObject(Se.KOMSpacingStorageCollectionType(),(Ke.KOMSpacingModelIsBackward(a)?Se.KOMSpacingStoragePathBackward:Se.KOMSpacingStoragePathForward)(n,r),we.OLSKRemoteStoragePreJSONSchemaValidate(a)),Object.assign(t,we.OLSKRemoteStoragePostJSONParse(a))},async _KOMSpacingStorageList(t,n){if(he.KOMDeckModelErrorsFor(n))throw new Error("KOMErrorInputNotValid");const r=await e.getAll(Me.KOMCardStorageFolderPath(t,n),!1);for(let e in r)!0===r[e]&&delete r[e];return{KOMCardSpacingForward:we.OLSKRemoteStoragePostJSONParse(r["spacing-forward"]||{KOMSpacingID:t.KOMCardID+"-forward",KOMSpacingChronicles:[]}),KOMCardSpacingBackward:we.OLSKRemoteStoragePostJSONParse(r["spacing-backward"]||{KOMSpacingID:t.KOMCardID+"-backward",KOMSpacingChronicles:[]})}},_KOMSpacingStorageDelete(t,n,r){if(Ke.KOMSpacingModelErrorsFor(t))throw new Error("KOMErrorInputNotValid");return e.remove((Ke.KOMSpacingModelIsBackward(t)?Se.KOMSpacingStoragePathBackward:Se.KOMSpacingStoragePathForward)(n,r))}};return{OLSKRemoteStorageCollectionName:Se.KOMSpacingStorageCollectionName(),OLSKRemoteStorageCollectionType:Se.KOMSpacingStorageCollectionType(),OLSKRemoteStorageCollectionModelErrors:Object.entries(Ke.KOMSpacingModelErrorsFor({},{KOMOptionValidateIfNotPresent:!0})).map((function(e){return-1===Object.keys(Ke.KOMSpacingModelErrorsFor({})).indexOf(e[0])&&e[1].push("__RSOptional"),e})).reduce((function(e,t){return e[t[0]]=t[1],e}),{}),OLSKRemoteStorageCollectionExports:r}},KOMSpacingStorageWrite:(e,t,n,r)=>e.kommit[Se.KOMSpacingStorageCollectionName()]._KOMSpacingStorageWrite(t,n,r),KOMSpacingStorageList:(e,t,n)=>e.kommit[Se.KOMSpacingStorageCollectionName()]._KOMSpacingStorageList(t,n),KOMSpacingStorageDelete:(e,t,n,r)=>e.kommit[Se.KOMSpacingStorageCollectionName()]._KOMSpacingStorageDelete(t,n,r)};var xe=ee((function(e,t){
/*! remotestorage.js 1.2.3, https://remotestorage.io, MIT licensed */
e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=17)}([function(e,t,n){(function(t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o={logError:function(e){"string"==typeof e?console.error(e):console.error(e.message,e.stack)},globalContext:"undefined"!=typeof window?window:"object"===("undefined"==typeof self?"undefined":r(self))?self:t,getGlobalContext:function(){return"undefined"!=typeof window?window:"object"===("undefined"==typeof self?"undefined":r(self))?self:t},extend:function(e){var t=Array.prototype.slice.call(arguments,1);return t.forEach((function(t){for(var n in t)e[n]=t[n]})),e},containingFolder:function(e){if(""===e)return"/";if(!e)throw"Path not given!";return e.replace(/\/+/g,"/").replace(/[^\/]+\/?$/,"")},isFolder:function(e){return"/"===e.substr(-1)},isDocument:function(e){return!o.isFolder(e)},baseName:function(e){var t=e.split("/");return o.isFolder(e)?t[t.length-2]+"/":t[t.length-1]},cleanPath:function(e){return e.replace(/\/+/g,"/").split("/").map(encodeURIComponent).join("/").replace(/'/g,"%27")},bindAll:function(e){for(var t in this)"function"==typeof e[t]&&(e[t]=e[t].bind(e))},equal:function(e,t,n){var a;if(n=n||[],r(e)!==r(t))return!1;if("number"==typeof e||"boolean"==typeof e||"string"==typeof e)return e===t;if("function"==typeof e)return e.toString()===t.toString();if(e instanceof ArrayBuffer&&t instanceof ArrayBuffer&&(e=new Uint8Array(e),t=new Uint8Array(t)),e instanceof Array){if(e.length!==t.length)return!1;for(var i=0,s=e.length;i<s;i++)if(!o.equal(e[i],t[i],n))return!1}else{for(a in e)if(e.hasOwnProperty(a)&&!(a in t))return!1;for(a in t)if(t.hasOwnProperty(a)){if(!(a in e))return!1;var l;if("object"===r(t[a])){if(n.indexOf(t[a])>=0)continue;(l=n.slice()).push(t[a])}if(!o.equal(e[a],t[a],l))return!1}}return!0},deepClone:function(e){var t;return void 0===e?void 0:(function e(t,n){var o,a;if("object"===r(t)&&!Array.isArray(t)&&null!==t)for(o in t)"object"===r(t[o])&&null!==t[o]&&("[object ArrayBuffer]"===t[o].toString()?(n[o]=new ArrayBuffer(t[o].byteLength),a=new Int8Array(t[o]),new Int8Array(n[o]).set(a)):e(t[o],n[o]))}(e,t=JSON.parse(JSON.stringify(e))),t)},pathsFromRoot:function(e){for(var t=[e],n=e.replace(/\/$/,"").split("/");n.length>1;)n.pop(),t.push(n.join("/")+"/");return t},localStorageAvailable:function(){var e=o.getGlobalContext();if(!("localStorage"in e))return!1;try{return e.localStorage.setItem("rs-check",1),e.localStorage.removeItem("rs-check"),!0}catch(e){return!1}},getJSONFromLocalStorage:function(e){var t=o.getGlobalContext();try{return JSON.parse(t.localStorage.getItem(e))}catch(e){}},shouldBeTreatedAsBinary:function(e,t){return t&&t.match(/charset=binary/)||/[\x00-\x08\x0E-\x1F\uFFFD]/.test(e)},getTextFromArrayBuffer:function(e,r){return new Promise((function(a){if("undefined"==typeof Blob){var i=new n(new Uint8Array(e));a(i.toString(r))}else{var s;if(o.globalContext.BlobBuilder=o.globalContext.BlobBuilder||o.globalContext.WebKitBlobBuilder,void 0!==o.globalContext.BlobBuilder){var l=new t.BlobBuilder;l.append(e),s=l.getBlob()}else s=new Blob([e]);var u=new FileReader;"function"==typeof u.addEventListener?u.addEventListener("loadend",(function(e){a(e.target.result)})):u.onloadend=function(e){a(e.target.result)},u.readAsText(s,r)}}))}};e.exports=o}).call(this,n(10),n(18).Buffer)},function(e,t,n){var r=n(3);e.exports=function(){r.logging&&console.log.apply(console,arguments)}},function(e,t,n){var r=n(1),o={addEventListener:function(e,t){if("string"!=typeof e)throw new Error("Argument eventName should be a string");if("function"!=typeof t)throw new Error("Argument handler should be a function");r("[Eventhandling] Adding event listener",e),this._validateEvent(e),this._handlers[e].push(t)},removeEventListener:function(e,t){this._validateEvent(e);for(var n=this._handlers[e].length,r=0;r<n;r++)if(this._handlers[e][r]===t)return void this._handlers[e].splice(r,1)},_emit:function(e){this._validateEvent(e);var t=Array.prototype.slice.call(arguments,1);this._handlers[e].slice().forEach((function(e){e.apply(this,t)}))},_validateEvent:function(e){if(!(e in this._handlers))throw new Error("Unknown event: "+e)},_delegateEvent:function(e,t){t.on(e,function(t){this._emit(e,t)}.bind(this))},_addEvent:function(e){this._handlers[e]=[]}};o.on=o.addEventListener,o.off=o.removeEventListener,e.exports=function(e){var t=Array.prototype.slice.call(arguments,1);for(var n in o)e[n]=o[n];e._handlers={},t.forEach((function(t){e._addEvent(t)}))}},function(e,t){e.exports={cache:!0,changeEvents:{local:!0,window:!1,remote:!0,conflict:!0},cordovaRedirectUri:void 0,logging:!1,modules:[],backgroundSyncInterval:6e4,disableFeatures:[],discoveryTimeout:1e4,isBackground:!1,requestTimeout:3e4,syncInterval:1e4}},function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=n(1),a=n(0);function i(e){var t,n=e||l.getLocation().href,r=n.indexOf("#");if(-1!==r&&-1!==(t=n.substring(r+1)).indexOf("="))return t.split("&").reduce((function(e,t){var n=t.split("=");if("state"===n[0]&&n[1].match(/rsDiscovery/)){var r=decodeURIComponent(n[1]),o=r.substr(r.indexOf("rsDiscovery=")).split("&")[0].split("=")[1];e.rsDiscovery=JSON.parse(atob(o)),(r=r.replace(new RegExp("&?rsDiscovery="+o),"")).length>0&&(e.state=r)}else e[decodeURIComponent(n[0])]=decodeURIComponent(n[1]);return e}),{})}var s,l=function e(t,n){var r=n.authURL,i=n.scope,s=n.redirectUri,l=n.clientId;if(o("[Authorize] authURL = ",r,"scope = ",i,"redirectUri = ",s,"clientId = ",l),!a.localStorageAvailable()&&"remotestorage"===t.backend){s+=s.indexOf("#")>0?"&":"#";var u={userAddress:t.remote.userAddress,href:t.remote.href,storageApi:t.remote.storageApi,properties:t.remote.properties};s+="rsDiscovery="+btoa(JSON.stringify(u))}var c=function(e,t,n,r){var o=t.indexOf("#"),a=e;return a+=e.indexOf("?")>0?"&":"?",a+="redirect_uri="+encodeURIComponent(t.replace(/#.*$/,"")),a+="&scope="+encodeURIComponent(n),a+="&client_id="+encodeURIComponent(r),-1!==o&&o+1!==t.length&&(a+="&state="+encodeURIComponent(t.substring(o+1))),a+"&response_type=token"}(r,s,i,l);if(a.globalContext.cordova)return e.openWindow(c,s,"location=yes,clearsessioncache=yes,clearcache=yes").then((function(e){t.remote.configure({token:e.access_token})}));e.setLocation(c)};l.IMPLIED_FAKE_TOKEN=!1,l.Unauthorized=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.name="Unauthorized",this.message=void 0===e?"App authorization expired or revoked.":e,void 0!==t.code&&(this.code=t.code),this.stack=(new Error).stack},l.Unauthorized.prototype=Object.create(Error.prototype),l.Unauthorized.prototype.constructor=l.Unauthorized,l.getLocation=function(){return document.location},l.setLocation=function(e){if("string"==typeof e)document.location.href=e;else{if("object"!==r(e))throw"Invalid location "+e;document.location=e}},l.openWindow=function(e,t,n){return new Promise((function(r,o){var a=open(e,"_blank",n);if(!a||a.closed)return o("Authorization popup was blocked");var s=function(){return o("Authorization was canceled")};a.addEventListener("loadstart",(function(e){if(0===e.url.indexOf(t)){a.removeEventListener("exit",s),a.close();var n=i(e.url);return n?r(n):o("Authorization error")}})),a.addEventListener("exit",s)}))},l._rs_supported=function(){return"undefined"!=typeof document},l._rs_init=function(e){s=function(){var r=!1;if(n){if(n.error)throw"access_denied"===n.error?new l.Unauthorized("Authorization failed: access denied",{code:"access_denied"}):new l.Unauthorized("Authorization failed: ".concat(n.error));n.rsDiscovery&&e.remote.configure(n.rsDiscovery),n.access_token&&(e.remote.configure({token:n.access_token}),r=!0),n.remotestorage&&(e.connect(n.remotestorage),r=!0),n.state&&(t=l.getLocation(),l.setLocation(t.href.split("#")[0]+"#"+n.state))}r||e.remote.stopWaitingForToken()};var t,n=i();n&&((t=l.getLocation()).hash=""),e.on("features-loaded",s)},l._rs_cleanup=function(e){e.removeEventListener("features-loaded",s)},e.exports=l},function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=n(2),a=n(0),i=n(3),s=n(22),l=n(23),u=l.SchemaNotFound,c=function(e,t){if("/"!==t[t.length-1])throw"Not a folder: "+t;"/"===t&&(this.makePath=function(e){return("/"===e[0]?"":"/")+e}),this.storage=e,this.base=t;var n=this.base.split("/");n.length>2?this.moduleName=n[1]:this.moduleName="root",o(this,"change"),this.on=this.on.bind(this),e.onChange(this.base,this._fireChange.bind(this))};c.Types=l,c.prototype={scope:function(e){return new c(this.storage,this.makePath(e))},getListing:function(e,t){if("string"!=typeof e)e="";else if(e.length>0&&"/"!==e[e.length-1])return Promise.reject("Not a folder: "+e);return this.storage.get(this.makePath(e),t).then((function(e){return 404===e.statusCode?{}:e.body}))},getAll:function(e,t){if("string"!=typeof e)e="";else if(e.length>0&&"/"!==e[e.length-1])return Promise.reject("Not a folder: "+e);return this.storage.get(this.makePath(e),t).then(function(n){if(404===n.statusCode)return{};if("object"===r(n.body)){var o=Object.keys(n.body);if(0===o.length)return{};var a=o.map(function(o){return this.storage.get(this.makePath(e+o),t).then((function(e){if("string"==typeof e.body)try{e.body=JSON.parse(e.body)}catch(e){}"object"===r(e.body)&&(n.body[o]=e.body)}))}.bind(this));return Promise.all(a).then((function(){return n.body}))}}.bind(this))},getFile:function(e,t){return"string"!=typeof e?Promise.reject("Argument 'path' of baseClient.getFile must be a string"):this.storage.get(this.makePath(e),t).then((function(e){return{data:e.body,contentType:e.contentType,revision:e.revision}}))},storeFile:function(e,t,n){return"string"!=typeof e?Promise.reject("Argument 'mimeType' of baseClient.storeFile must be a string"):"string"!=typeof t?Promise.reject("Argument 'path' of baseClient.storeFile must be a string"):"string"!=typeof n&&"object"!==r(n)?Promise.reject("Argument 'body' of baseClient.storeFile must be a string, ArrayBuffer, or ArrayBufferView"):(this.storage.access.checkPathPermission(this.makePath(t),"rw")||console.warn("WARNING: Editing a document to which only read access ('r') was claimed"),this.storage.put(this.makePath(t),n,e).then(function(e){return 200===e.statusCode||201===e.statusCode?e.revision:Promise.reject("Request (PUT "+this.makePath(t)+") failed with status: "+e.statusCode)}.bind(this)))},getObject:function(e,t){return"string"!=typeof e?Promise.reject("Argument 'path' of baseClient.getObject must be a string"):this.storage.get(this.makePath(e),t).then(function(t){if("object"===r(t.body))return t.body;if("string"==typeof t.body)try{return JSON.parse(t.body)}catch(t){throw"Not valid JSON: "+this.makePath(e)}else if(void 0!==t.body&&200===t.statusCode)return Promise.reject("Not an object: "+this.makePath(e))}.bind(this))},storeObject:function(e,t,n){if("string"!=typeof e)return Promise.reject("Argument 'typeAlias' of baseClient.storeObject must be a string");if("string"!=typeof t)return Promise.reject("Argument 'path' of baseClient.storeObject must be a string");if("object"!==r(n))return Promise.reject("Argument 'object' of baseClient.storeObject must be an object");this._attachType(n,e);try{var o=this.validate(n);if(!o.valid)return Promise.reject(o)}catch(e){return Promise.reject(e)}return this.storage.put(this.makePath(t),JSON.stringify(n),"application/json; charset=UTF-8").then(function(e){return 200===e.statusCode||201===e.statusCode?e.revision:Promise.reject("Request (PUT "+this.makePath(t)+") failed with status: "+e.statusCode)}.bind(this))},remove:function(e){return"string"!=typeof e?Promise.reject("Argument 'path' of baseClient.remove must be a string"):(this.storage.access.checkPathPermission(this.makePath(e),"rw")||console.warn("WARNING: Removing a document to which only read access ('r') was claimed"),this.storage.delete(this.makePath(e)))},getItemURL:function(e){if("string"!=typeof e)throw"Argument 'path' of baseClient.getItemURL must be a string";return this.storage.connected?(e=this._cleanPath(this.makePath(e)),this.storage.remote.href+e):void 0},cache:function(e,t){if("string"!=typeof e)throw"Argument 'path' of baseClient.cache must be a string";if(void 0===t)t="ALL";else if("string"!=typeof t)throw"Argument 'strategy' of baseClient.cache must be a string or undefined";if("FLUSH"!==t&&"SEEN"!==t&&"ALL"!==t)throw'Argument \'strategy\' of baseclient.cache must be one of ["FLUSH", "SEEN", "ALL"]';return this.storage.caching.set(this.makePath(e),t),this},flush:function(e){return this.storage.local.flush(e)},declareType:function(e,t,n){n||(n=t,t=this._defaultTypeURI(e)),c.Types.declare(this.moduleName,e,t,n)},validate:function(e){var t=c.Types.getSchema(e["@context"]);if(t)return s.validateResult(e,t);throw new u(e["@context"])},schemas:{configurable:!0,get:function(){return c.Types.inScope(this.moduleName)}},_defaultTypeURI:function(e){return"http://remotestorage.io/spec/modules/"+encodeURIComponent(this.moduleName)+"/"+encodeURIComponent(e)},_attachType:function(e,t){e["@context"]=c.Types.resolveAlias(this.moduleName+"/"+t)||this._defaultTypeURI(t)},makePath:function(e){return this.base+(e||"")},_fireChange:function(e){i.changeEvents[e.origin]&&(["new","old","lastCommon"].forEach((function(t){if((!e[t+"ContentType"]||/^application\/(.*)json(.*)/.exec(e[t+"ContentType"]))&&"string"==typeof e[t+"Value"])try{e[t+"Value"]=JSON.parse(e[t+"Value"])}catch(e){}})),this._emit("change",e))},_cleanPath:a.cleanPath},c._rs_init=function(){},e.exports=c},function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o,a,i=n(1),s=n(0),l=n(2),u=n(4),c=n(3),d="remotestorage:wireclient",f={"draft-dejong-remotestorage-00":2,"draft-dejong-remotestorage-01":3,"draft-dejong-remotestorage-02":4,"https://www.w3.org/community/rww/wiki/read-write-web-00#simple":1};if("function"==typeof ArrayBufferView)a=function(e){return e&&e instanceof ArrayBufferView};else{var h=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];a=function(e){for(var t=0;t<8;t++)if(e instanceof h[t])return!0;return!1}}var p=s.isFolder,O=s.cleanPath,g=s.shouldBeTreatedAsBinary,m=s.getJSONFromLocalStorage,M=s.getTextFromArrayBuffer;function K(e){return"string"!=typeof e?e:"*"===e?"*":'"'+e+'"'}function v(e){return"string"!=typeof e?e:e.replace(/^["']|["']$/g,"")}var T=function(e){if(this.rs=e,this.connected=!1,l(this,"connected","not-connected"),o){var t=m(d);t&&setTimeout(function(){this.configure(t)}.bind(this),0)}this._revisionCache={},this.connected&&setTimeout(this._emit.bind(this),0,"connected")};T.prototype={_request:function(e,t,n,r,o,a,s){if(("PUT"===e||"DELETE"===e)&&"/"===t[t.length-1])return Promise.reject("Don't "+e+" on directories!");var l,c=this;return n!==u.IMPLIED_FAKE_TOKEN&&(r.Authorization="Bearer "+n),this.rs._emit("wire-busy",{method:e,isFolder:p(t)}),T.request(e,t,{body:o,headers:r,responseType:"arraybuffer"}).then((function(n){if(c.online||(c.online=!0,c.rs._emit("network-online")),c.rs._emit("wire-done",{method:e,isFolder:p(t),success:!0}),o=n.status,[401,403,404,412].indexOf(o)>=0)return i("[WireClient] Error response status",n.status),l=a?v(n.getResponseHeader("ETag")):void 0,401===n.status&&c.rs._emit("error",new u.Unauthorized),Promise.resolve({statusCode:n.status,revision:l});if(function(e){return[201,204,304].indexOf(e)>=0}(n.status)||200===n.status&&"GET"!==e)return l=v(n.getResponseHeader("ETag")),i("[WireClient] Successful request",l),Promise.resolve({statusCode:n.status,revision:l});var r=n.getResponseHeader("Content-Type");l=a?v(n.getResponseHeader("ETag")):200===n.status?s:void 0;var o,d=function(e){var t,n="UTF-8";return e&&(t=e.match(/charset=(.+)$/))&&(n=t[1]),n}(r);return g(n.response,r)?(i("[WireClient] Successful request with unknown or binary mime-type",l),Promise.resolve({statusCode:n.status,body:n.response,contentType:r,revision:l})):M(n.response,d).then((function(e){return i("[WireClient] Successful request",l),Promise.resolve({statusCode:n.status,body:e,contentType:r,revision:l})}))}),(function(n){return c.online&&(c.online=!1,c.rs._emit("network-offline")),c.rs._emit("wire-done",{method:e,isFolder:p(t),success:!1}),Promise.reject(n)}))},configure:function(e){if("object"!==r(e))throw new Error("WireClient configure settings parameter should be an object");void 0!==e.userAddress&&(this.userAddress=e.userAddress),void 0!==e.href&&(this.href=e.href),void 0!==e.storageApi&&(this.storageApi=e.storageApi),void 0!==e.token&&(this.token=e.token),void 0!==e.properties&&(this.properties=e.properties),void 0!==this.storageApi&&(this._storageApi=f[this.storageApi]||5,this.supportsRevs=this._storageApi>=2),this.href&&this.token?(this.connected=!0,this.online=!0,this._emit("connected")):this.connected=!1,o&&(localStorage[d]=JSON.stringify({userAddress:this.userAddress,href:this.href,storageApi:this.storageApi,token:this.token,properties:this.properties}))},stopWaitingForToken:function(){this.connected||this._emit("not-connected")},get:function(e,t){var n=this;if(!this.connected)return Promise.reject("not connected (path: "+e+")");t||(t={});var o={};return this.supportsRevs&&t.ifNoneMatch&&(o["If-None-Match"]=K(t.ifNoneMatch)),this._request("GET",this.href+O(e),this.token,o,void 0,this.supportsRevs,this._revisionCache[e]).then((function(t){if(!p(e))return Promise.resolve(t);var o,a={};if(void 0!==t.body)try{t.body=JSON.parse(t.body)}catch(t){return Promise.reject("Folder description at "+n.href+O(e)+" is not JSON")}if(200===t.statusCode&&"object"===r(t.body)){if(0===Object.keys(t.body).length)t.statusCode=404;else if("http://remotestorage.io/spec/folder-description"===(o=t.body)["@context"]&&"object"===r(o.items)){for(var i in t.body.items)n._revisionCache[e+i]=t.body.items[i].ETag;a=t.body.items}else Object.keys(t.body).forEach((function(r){n._revisionCache[e+r]=t.body[r],a[r]={ETag:t.body[r]}}));return t.body=a,Promise.resolve(t)}return Promise.resolve(t)}))},put:function(e,t,n,r){if(!this.connected)return Promise.reject("not connected (path: "+e+")");r||(r={}),!n.match(/charset=/)&&(t instanceof ArrayBuffer||a(t))&&(n+="; charset=binary");var o={"Content-Type":n};return this.supportsRevs&&(r.ifMatch&&(o["If-Match"]=K(r.ifMatch)),r.ifNoneMatch&&(o["If-None-Match"]=K(r.ifNoneMatch))),this._request("PUT",this.href+O(e),this.token,o,t,this.supportsRevs)},delete:function(e,t){if(!this.connected)throw new Error("not connected (path: "+e+")");t||(t={});var n={};return this.supportsRevs&&t.ifMatch&&(n["If-Match"]=K(t.ifMatch)),this._request("DELETE",this.href+O(e),this.token,n,void 0,this.supportsRevs)}},T.isArrayBufferView=a,T.request=function(e,t,n){return"function"==typeof fetch?T._fetchRequest(e,t,n):"function"==typeof XMLHttpRequest?T._xhrRequest(e,t,n):(i("[WireClient] add a polyfill for fetch or XMLHttpRequest"),Promise.reject("[WireClient] add a polyfill for fetch or XMLHttpRequest"))},T._fetchRequest=function(e,t,n){var r,o,a={};"function"==typeof AbortController&&(o=new AbortController);var s=fetch(t,{method:e,headers:n.headers,body:n.body,signal:o?o.signal:void 0}).then((function(e){switch(i("[WireClient fetch]",e),e.headers.forEach((function(e,t){a[t.toUpperCase()]=e})),r={readyState:4,status:e.status,statusText:e.statusText,response:void 0,getResponseHeader:function(e){return a[e.toUpperCase()]||null},responseType:n.responseType,responseURL:t},n.responseType){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json();case void 0:case"":case"text":return e.text();default:throw new Error("responseType 'document' is not currently supported using fetch")}})).then((function(e){return r.response=e,n.responseType&&"text"!==n.responseType||(r.responseText=e),r})),l=new Promise((function(e,t){setTimeout((function(){t("timeout"),o&&o.abort()}),c.requestTimeout)}));return Promise.race([s,l])},T._xhrRequest=function(e,t,n){return new Promise((function(o,s){i("[WireClient]",e,t);var l=!1,u=setTimeout((function(){l=!0,s("timeout")}),c.requestTimeout),d=new XMLHttpRequest;if(d.open(e,t,!0),n.responseType&&(d.responseType=n.responseType),n.headers)for(var f in n.headers)d.setRequestHeader(f,n.headers[f]);d.onload=function(){l||(clearTimeout(u),o(d))},d.onerror=function(e){l||(clearTimeout(u),s(e))};var h=n.body;"object"===r(h)&&!a(h)&&h instanceof ArrayBuffer&&(h=new Uint8Array(h)),d.send(h)}))},Object.defineProperty(T.prototype,"storageType",{get:function(){if(this.storageApi){var e=this.storageApi.match(/draft-dejong-(remotestorage-\d\d)/);return e?e[1]:"2012.04"}}}),T._rs_init=function(e){o=s.localStorageAvailable(),e.remote=new T(e),this.online=!0},T._rs_supported=function(){return"function"==typeof fetch||"function"==typeof XMLHttpRequest},T._rs_cleanup=function(){o&&delete localStorage[d]},e.exports=T},function(e,t,n){function r(e){var t="function"==typeof Map?new Map:void 0;return(r=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return a(e,arguments,s(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),i(r,e)})(e)}function o(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function a(e,t,n){return(a=o()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&i(o,n.prototype),o}).apply(null,arguments)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var d,f,h=n(0),p=h.isFolder,O=h.isDocument,g=h.equal,m=h.deepClone,M=h.pathsFromRoot,K=n(12),v=n(2),T=n(1),w=n(4),S=n(3);function x(e,t,n){return{action:e,path:t,promise:n}}function y(e,t){return e.common.revision!==t&&(!e.remote||e.remote.revision!==t)}function b(e){return e.common&&e.common.revision}var L=function(){function e(t){var n=this;u(this,e),this.rs=t,this._tasks={},this._running={},this._timeStarted={},this.numThreads=10,this.rs.local.onDiff((function(e){n.addTask(e),n.doTasks()})),this.rs.caching.onActivate((function(e){n.addTask(e),n.doTasks()})),v(this,"done","req-done")}var t,n,r;return t=e,r=[{key:"_rs_init",value:function(t){d=function(){T("[Sync] syncCycleCb calling syncCycle"),K.isBrowser()&&function(e){function t(t){var n,r;n=e.getCurrentSyncInterval(),S.isBackground=!t,r=e.getCurrentSyncInterval(),e._emit("sync-interval-change",{oldValue:n,newValue:r})}K.on("background",(function(){return t(!1)})),K.on("foreground",(function(){return t(!0)}))}(t),t.sync||(t.sync=new e(t),t.syncStopped&&(T("[Sync] Instantiating sync stopped"),t.sync.stopped=!0,delete t.syncStopped)),T("[Sync] syncCycleCb calling syncCycle"),t.syncCycle()},f=function(){t.removeEventListener("connected",f),t.startSync()},t.on("ready",d),t.on("connected",f)}},{key:"_rs_cleanup",value:function(e){e.stopSync(),e.removeEventListener("ready",d),e.removeEventListener("connected",f),e.sync=void 0,delete e.sync}}],(n=[{key:"now",value:function(){return(new Date).getTime()}},{key:"queueGetRequest",value:function(e){var t=this;return new Promise((function(n,r){t.rs.remote.connected?t.rs.remote.online?(t.addTask(e,function(){this.rs.local.get(e).then((function(e){return n(e)}))}.bind(t)),t.doTasks()):r("cannot fulfill maxAge requirement - remote is not online"):r("cannot fulfill maxAge requirement - remote is not connected")}))}},{key:"corruptServerItemsMap",value:function(e,t){if("object"!==l(e)||Array.isArray(e))return!0;for(var n in e){var r=e[n];if("object"!==l(r))return!0;if("string"!=typeof r.ETag)return!0;if(p(n)){if(-1!==n.substring(0,n.length-1).indexOf("/"))return!0}else{if(-1!==n.indexOf("/"))return!0;if(t){if("string"!=typeof r["Content-Type"])return!0;if("number"!=typeof r["Content-Length"])return!0}}}return!1}},{key:"corruptItemsMap",value:function(e){if("object"!==l(e)||Array.isArray(e))return!0;for(var t in e)if("boolean"!=typeof e[t])return!0;return!1}},{key:"corruptRevision",value:function(e){return"object"!==l(e)||Array.isArray(e)||e.revision&&"string"!=typeof e.revision||e.body&&"string"!=typeof e.body&&"object"!==l(e.body)||e.contentType&&"string"!=typeof e.contentType||e.contentLength&&"number"!=typeof e.contentLength||e.timestamp&&"number"!=typeof e.timestamp||e.itemsMap&&this.corruptItemsMap(e.itemsMap)}},{key:"isCorrupt",value:function(e){return"object"!==l(e)||Array.isArray(e)||"string"!=typeof e.path||this.corruptRevision(e.common)||e.local&&this.corruptRevision(e.local)||e.remote&&this.corruptRevision(e.remote)||e.push&&this.corruptRevision(e.push)}},{key:"hasTasks",value:function(){return Object.getOwnPropertyNames(this._tasks).length>0}},{key:"collectDiffTasks",value:function(){var e=this,t=0;return this.rs.local.forAllNodes((function(n){t>100||(e.isCorrupt(n)?(T("[Sync] WARNING: corrupt node in local cache",n),"object"===l(n)&&n.path&&(e.addTask(n.path),t++)):(e.needsFetch(n)&&e.rs.access.checkPathPermission(n.path,"r")||O(n.path)&&e.needsPush(n)&&e.rs.access.checkPathPermission(n.path,"rw"))&&(e.addTask(n.path),t++))})).then((function(){return t}),(function(e){throw e}))}},{key:"inConflict",value:function(e){return e.local&&e.remote&&(void 0!==e.remote.body||e.remote.itemsMap)}},{key:"needsRefresh",value:function(e){return!!e.common&&(!e.common.timestamp||this.now()-e.common.timestamp>S.syncInterval)}},{key:"needsFetch",value:function(e){return!!this.inConflict(e)||!(!e.common||void 0!==e.common.itemsMap||void 0!==e.common.body)||!(!e.remote||void 0!==e.remote.itemsMap||void 0!==e.remote.body)}},{key:"needsPush",value:function(e){return!this.inConflict(e)&&(!(!e.local||e.push)||void 0)}},{key:"needsRemotePut",value:function(e){return e.local&&e.local.body}},{key:"needsRemoteDelete",value:function(e){return e.local&&!1===e.local.body}},{key:"getParentPath",value:function(e){var t=e.match(/^(.*\/)([^\/]+\/?)$/);if(t)return t[1];throw new Error('Not a valid path: "'+e+'"')}},{key:"deleteChildPathsFromTasks",value:function(){for(var e in this._tasks)for(var t=M(e),n=1;n<t.length;n++)this._tasks[t[n]]&&(Array.isArray(this._tasks[e])&&this._tasks[e].length&&Array.prototype.push.apply(this._tasks[t[n]],this._tasks[e]),delete this._tasks[e])}},{key:"collectRefreshTasks",value:function(){var e=this;return this.rs.local.forAllNodes((function(t){var n;if(e.needsRefresh(t)){try{n=e.getParentPath(t.path)}catch(e){}n&&e.rs.access.checkPathPermission(n,"r")?e.addTask(n):e.rs.access.checkPathPermission(t.path,"r")&&e.addTask(t.path)}})).then((function(){e.deleteChildPathsFromTasks()}),(function(e){throw e}))}},{key:"flush",value:function(e){for(var t in e)"FLUSH"===this.rs.caching.checkPath(t)&&e[t]&&!e[t].local&&(T("[Sync] Flushing",t),e[t]=void 0);return e}},{key:"doTask",value:function(e){var t=this;return this.rs.local.getNodes([e]).then((function(n){var r=n[e];return void 0===r||function(e){return e.remote&&e.remote.revision&&!e.remote.itemsMap&&!e.remote.body}(r)?x("get",e,t.rs.remote.get(e)):t.needsRemotePut(r)?(r.push=m(r.local),r.push.timestamp=t.now(),t.rs.local.setNodes(t.flush(n)).then((function(){var n;return n=b(r)?{ifMatch:r.common.revision}:{ifNoneMatch:"*"},x("put",e,t.rs.remote.put(e,r.push.body,r.push.contentType,n))}))):t.needsRemoteDelete(r)?(r.push={body:!1,timestamp:t.now()},t.rs.local.setNodes(t.flush(n)).then((function(){return b(r)?x("delete",e,t.rs.remote.delete(e,{ifMatch:r.common.revision})):x("get",e,t.rs.remote.get(e))}))):b(r)?x("get",e,t.rs.remote.get(e,{ifNoneMatch:r.common.revision})):x("get",e,t.rs.remote.get(e))}))}},{key:"autoMergeFolder",value:function(e){if(e.remote.itemsMap&&(e.common=e.remote,delete e.remote,e.common.itemsMap)){for(var t in e.common.itemsMap)e.local.itemsMap[t]||(e.local.itemsMap[t]=!1);g(e.local.itemsMap,e.common.itemsMap)&&delete e.local}return e}},{key:"autoMergeDocument",value:function(e){return function(e){return(!e.remote||!e.remote.revision||e.remote.revision===e.common.revision)&&(void 0===e.common.body&&!1===e.remote.body||e.remote.body===e.common.body&&e.remote.contentType===e.common.contentType)}(e)?delete(e=function(e){return e.remote&&!1===e.remote.body&&e.local&&!1===e.local.body&&delete e.local,e}(e)).remote:void 0!==e.remote.body&&(T("[Sync] Emitting keep/revert"),this.rs.local._emitChange({origin:"conflict",path:e.path,oldValue:e.local.body,newValue:e.remote.body,lastCommonValue:e.common.body,oldContentType:e.local.contentType,newContentType:e.remote.contentType,lastCommonContentType:e.common.contentType}),e.remote.body?e.common=e.remote:e.common={},delete e.remote,delete e.local),e}},{key:"autoMerge",value:function(e){if(e.remote){if(e.local)return p(e.path)?this.autoMergeFolder(e):this.autoMergeDocument(e);if(p(e.path))void 0!==e.remote.itemsMap&&(e.common=e.remote,delete e.remote);else if(void 0!==e.remote.body){var t={origin:"remote",path:e.path,oldValue:!1===e.common.body?void 0:e.common.body,newValue:!1===e.remote.body?void 0:e.remote.body,oldContentType:e.common.contentType,newContentType:e.remote.contentType};if((t.oldValue||t.newValue)&&this.rs.local._emitChange(t),!e.remote.body)return;e.common=e.remote,delete e.remote}return e}e.common.body&&this.rs.local._emitChange({origin:"remote",path:e.path,oldValue:e.common.body,newValue:void 0,oldContentType:e.common.contentType,newContentType:void 0})}},{key:"updateCommonTimestamp",value:function(e,t){var n=this;return this.rs.local.getNodes([e]).then((function(r){return r[e]&&r[e].common&&r[e].common.revision===t&&(r[e].common.timestamp=n.now()),n.rs.local.setNodes(n.flush(r))}))}},{key:"markChildren",value:function(e,t,n,r){var o=this,a=[],i={},s={};for(var l in t)a.push(e+l),i[e+l]=t[l];for(var u in r)a.push(e+u);return this.rs.local.getNodes(a).then((function(t){var a;for(var l in t)if(a=t[l],i[l])a&&a.common?y(a,i[l].ETag)&&(n[l]=m(a),n[l].remote={revision:i[l].ETag,timestamp:o.now()},n[l]=o.autoMerge(n[l])):"ALL"===o.rs.caching.checkPath(l)&&(n[l]={path:l,common:{timestamp:o.now()},remote:{revision:i[l].ETag,timestamp:o.now()}}),n[l]&&i[l]["Content-Type"]&&(n[l].remote.contentType=i[l]["Content-Type"]),n[l]&&i[l]["Content-Length"]&&(n[l].remote.contentLength=i[l]["Content-Length"]);else if(r[l.substring(e.length)]&&a&&a.common){if(a.common.itemsMap)for(var u in a.common.itemsMap)s[l+u]=!0;if(a.local&&a.local.itemsMap)for(var c in a.local.itemsMap)s[l+c]=!0;if(a.remote||p(l))n[l]=void 0;else if(n[l]=o.autoMerge(a),void 0===n[l]){var d=o.getParentPath(l),f=n[d],h=l.substring(e.length);f&&f.local&&(delete f.local.itemsMap[h],g(f.local.itemsMap,f.common.itemsMap)&&delete f.local)}}return o.deleteRemoteTrees(Object.keys(s),n).then((function(e){return o.rs.local.setNodes(o.flush(e))}))}))}},{key:"deleteRemoteTrees",value:function(e,t){var n=this;return 0===e.length?Promise.resolve(t):this.rs.local.getNodes(e).then((function(e){var r={},o=function(e,t){if(e&&e.itemsMap)for(var n in e.itemsMap)r[t+n]=!0};for(var a in e){var i=e[a];i&&(p(a)?(o(i.common,a),o(i.local,a)):i.common&&void 0!==i.common.body&&(t[a]=m(i),t[a].remote={body:!1,timestamp:n.now()},t[a]=n.autoMerge(t[a])))}return n.deleteRemoteTrees(Object.keys(r),t).then((function(e){return n.rs.local.setNodes(n.flush(e))}))}))}},{key:"completeFetch",value:function(e,t,n,r){var o,a,i=this,s=M(e);return p(e)?o=[e]:(a=s[1],o=[e,a]),this.rs.local.getNodes(o).then((function(o){var s,u,c={},d=o[e],f=function(e){if(e&&e.itemsMap)for(s in e.itemsMap)t[s]||(c[s]=!0)};if("object"===l(d)&&d.path===e&&"object"===l(d.common)||(d={path:e,common:{}},o[e]=d),d.remote={revision:r,timestamp:i.now()},p(e))for(s in f(d.common),f(d.remote),d.remote.itemsMap={},t)d.remote.itemsMap[s]=!0;else d.remote.body=t,d.remote.contentType=n,(u=o[a])&&u.local&&u.local.itemsMap&&(s=e.substring(a.length),u.local.itemsMap[s]=!0,g(u.local.itemsMap,u.common.itemsMap)&&delete u.local);return o[e]=i.autoMerge(d),{toBeSaved:o,missingChildren:c}}))}},{key:"completePush",value:function(e,t,n,r){var o=this;return this.rs.local.getNodes([e]).then((function(a){var i=a[e];if(!i.push)throw o.stopped=!0,new Error("completePush called but no push version!");return n?(T("[Sync] We have a conflict"),i.remote&&i.remote.revision===r||(i.remote={revision:r||"conflict",timestamp:o.now()},delete i.push),a[e]=o.autoMerge(i)):(i.common={revision:r,timestamp:o.now()},"put"===t?(i.common.body=i.push.body,i.common.contentType=i.push.contentType,g(i.local.body,i.push.body)&&i.local.contentType===i.push.contentType&&delete i.local,delete i.push):"delete"===t&&(!1===i.local.body?a[e]=void 0:delete i.push)),o.rs.local.setNodes(o.flush(a))}))}},{key:"dealWithFailure",value:function(e){var t=this;return this.rs.local.getNodes([e]).then((function(n){if(n[e])return delete n[e].push,t.rs.local.setNodes(t.flush(n))}))}},{key:"interpretStatus",value:function(e){var t={statusCode:e,successful:void 0,conflict:void 0,unAuth:void 0,notFound:void 0,changed:void 0,networkProblems:void 0};if("offline"===e||"timeout"===e)return t.successful=!1,t.networkProblems=!0,t;var n=Math.floor(e/100);return t.successful=2===n||304===e||412===e||404===e,t.conflict=412===e,t.unAuth=401===e&&this.rs.remote.token!==w.IMPLIED_FAKE_TOKEN||402===e||403===e,t.notFound=404===e,t.changed=304!==e,t}},{key:"handleGetResponse",value:function(e,t,n,r,o){var a=this;return t.notFound&&(n=!!p(e)&&{}),t.changed?this.completeFetch(e,n,r,o).then((function(t){return p(e)?a.corruptServerItemsMap(n)?(T("[Sync] WARNING: Discarding corrupt folder description from server for "+e),!1):a.markChildren(e,n,t.toBeSaved,t.missingChildren).then((function(){return!0})):a.rs.local.setNodes(a.flush(t.toBeSaved)).then((function(){return!0}))})):this.updateCommonTimestamp(e,o).then((function(){return!0}))}},{key:"handleResponse",value:function(t,n,r){var o,a=this,i=this.interpretStatus(r.statusCode);if(i.successful){if("get"===n)return this.handleGetResponse(t,i,r.body,r.contentType,r.revision);if("put"===n||"delete"===n)return this.completePush(t,n,i.conflict,r.revision).then((function(){return!0}));throw new Error("cannot handle response for unknown action ".concat(n))}return o=i.unAuth?new w.Unauthorized:i.networkProblems?new e.SyncError("Network request failed."):new Error("HTTP response code "+i.statusCode+" received."),this.dealWithFailure(t).then((function(){throw a.rs._emit("error",o),o}))}},{key:"finishTask",value:function(e){var t=this;if(void 0!==e.action)return e.promise.then((function(n){return t.handleResponse(e.path,e.action,n)}),(function(n){return T("[Sync] wireclient rejects its promise!",e.path,e.action,n),t.handleResponse(e.path,e.action,{statusCode:"offline"})})).then((function(n){if(delete t._timeStarted[e.path],delete t._running[e.path],n&&t._tasks[e.path]){for(var r=0;r<t._tasks[e.path].length;r++)t._tasks[e.path][r]();delete t._tasks[e.path]}t.rs._emit("sync-req-done"),t.collectTasks(!1).then((function(){!t.hasTasks()||t.stopped?(T("[Sync] Sync is done! Reschedule?",Object.getOwnPropertyNames(t._tasks).length,t.stopped),t.done||(t.done=!0,t.rs._emit("sync-done"))):setTimeout((function(){t.doTasks()}),10)}))}),(function(n){T("[Sync] Error",n),delete t._timeStarted[e.path],delete t._running[e.path],t.rs._emit("sync-req-done"),t.done||(t.done=!0,t.rs._emit("sync-done"))}));delete this._running[e.path]}},{key:"doTasks",value:function(){var e,t,n=0;if((e=(this.rs.remote.connected?this.rs.remote.online?this.numThreads:1:0)-Object.getOwnPropertyNames(this._running).length)<=0)return!0;for(t in this._tasks)if(!this._running[t]&&(this._timeStarted[t]=this.now(),this._running[t]=this.doTask(t),this._running[t].then(this.finishTask.bind(this)),++n>=e))return!0;return n>=e}},{key:"collectTasks",value:function(e){var t=this;return this.hasTasks()||this.stopped?Promise.resolve():this.collectDiffTasks().then((function(n){return n||!1===e?Promise.resolve():t.collectRefreshTasks()}),(function(e){throw e}))}},{key:"addTask",value:function(e,t){this._tasks[e]||(this._tasks[e]=[]),"function"==typeof t&&this._tasks[e].push(t)}},{key:"sync",value:function(){var e=this;return this.done=!1,this.doTasks()?Promise.resolve():this.collectTasks().then((function(){try{e.doTasks()}catch(e){T("[Sync] doTasks error",e)}}),(function(e){throw T("[Sync] Sync error",e),new Error("Local cache unavailable")}))}}])&&c(t.prototype,n),r&&c(t,r),e}();L.SyncError=function(e){function t(e){var n;u(this,t),(n=function(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,s(t).call(this))).name="SyncError";var r="Sync failed: ";return"object"===l(e)&&"message"in e?(r+=e.message,n.stack=e.stack,n.originalError=e):r+=e,n.message=r,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(t,e),t}(r(Error)),e.exports=L},function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=n(0),a=n(3),i=n(1),s=o.isFolder,l=o.isDocument,u=o.deepClone;function c(e){if("object"===r(e)&&"string"==typeof e.path)if(s(e.path)){if(e.local&&e.local.itemsMap)return e.local;if(e.common&&e.common.itemsMap)return e.common}else{if(e.local){if(e.local.body&&e.local.contentType)return e.local;if(!1===e.local.body)return}if(e.common&&e.common.body&&e.common.contentType)return e.common;if(e.body&&e.contentType)return{body:e.body,contentType:e.contentType}}}function d(e,t){var n;for(n in e){if(e[n]&&e[n].remote)return!0;var r=c(e[n]);if(r&&r.timestamp&&(new Date).getTime()-r.timestamp<=t)return!1;if(!r)return!0}return!0}var f=o.pathsFromRoot;function h(e){var t={path:e,common:{}};return s(e)&&(t.common.itemsMap={}),t}function p(e,t){return e.common||(e.common={itemsMap:{}}),e.common.itemsMap||(e.common.itemsMap={}),e.local||(e.local=u(e.common)),e.local.itemsMap||(e.local.itemsMap=e.common.itemsMap),e.local.itemsMap[t]=!0,e}var O={get:function(e,t,n){return"number"==typeof t?this.getNodes(f(e)).then((function(r){var o=c(r[e]);return d(r,t)?n(e):o?{statusCode:200,body:o.body||o.itemsMap,contentType:o.contentType}:{statusCode:404}})):this.getNodes([e]).then((function(t){var n=c(t[e]);if(n){if(s(e))for(var r in n.itemsMap)n.itemsMap.hasOwnProperty(r)&&!1===n.itemsMap[r]&&delete n.itemsMap[r];return{statusCode:200,body:n.body||n.itemsMap,contentType:n.contentType}}return{statusCode:404}}))},put:function(e,t,n){var r=f(e);return this._updateNodes(r,(function(e,r){try{for(var o=0,a=e.length;o<a;o++){var s=e[o],l=r[s],u=void 0;l||(r[s]=l=h(s)),0===o?(u=c(l),l.local={body:t,contentType:n,previousBody:u?u.body:void 0,previousContentType:u?u.contentType:void 0}):l=p(l,e[o-1].substring(s.length))}return r}catch(e){throw i("[Cachinglayer] Error during PUT",r,e),e}}))},delete:function(e){var t=f(e);return this._updateNodes(t,(function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n],a=t[o],i=void 0;if(a)if(0===n)i=c(a),a.local={body:!1,previousBody:i?i.body:void 0,previousContentType:i?i.contentType:void 0};else{a.local||(a.local=u(a.common));var s=e[n-1].substring(o.length);if(delete a.local.itemsMap[s],Object.getOwnPropertyNames(a.local.itemsMap).length>0)break}else console.error("Cannot delete non-existing node "+o)}return t}))},flush:function(e){var t=this;return t._getAllDescendentPaths(e).then((function(e){return t.getNodes(e)})).then((function(e){for(var n in e){var r=e[n];r&&r.common&&r.local&&t._emitChange({path:r.path,origin:"local",oldValue:!1===r.local.body?void 0:r.local.body,newValue:!1===r.common.body?void 0:r.common.body}),e[n]=void 0}return t.setNodes(e)}))},_emitChange:function(e){a.changeEvents[e.origin]&&this._emit("change",e)},fireInitial:function(){if(a.changeEvents.local){var e=this;e.forAllNodes((function(t){var n;l(t.path)&&(n=c(t))&&e._emitChange({path:t.path,origin:"local",oldValue:void 0,oldContentType:void 0,newValue:n.body,newContentType:n.contentType})})).then((function(){e._emit("local-events-done")}))}},onDiff:function(e){this.diffHandler=e},migrate:function(e){return"object"!==r(e)||e.common||(e.common={},"string"==typeof e.path?"/"===e.path.substr(-1)&&"object"===r(e.body)&&(e.common.itemsMap=e.body):(e.local||(e.local={}),e.local.body=e.body,e.local.contentType=e.contentType)),e},_updateNodesRunning:!1,_updateNodesQueued:[],_updateNodes:function(e,t){return new Promise(function(n,r){this._doUpdateNodes(e,t,{resolve:n,reject:r})}.bind(this))},_doUpdateNodes:function(e,t,n){var r=this;r._updateNodesRunning?r._updateNodesQueued.push({paths:e,cb:t,promise:n}):(r._updateNodesRunning=!0,r.getNodes(e).then((function(a){var i,s=u(a),c=[],d=o.equal;for(var f in a=t(e,a))d(i=a[f],s[f])?delete a[f]:l(f)&&(d(i.local.body,i.local.previousBody)&&i.local.contentType===i.local.previousContentType||c.push({path:f,origin:"window",oldValue:i.local.previousBody,newValue:!1===i.local.body?void 0:i.local.body,oldContentType:i.local.previousContentType,newContentType:i.local.contentType}),delete i.local.previousBody,delete i.local.previousContentType);r.setNodes(a).then((function(){r._emitChangeEvents(c),n.resolve({statusCode:200})}))})).then((function(){return Promise.resolve()}),(function(e){n.reject(e)})).then((function(){r._updateNodesRunning=!1;var e=r._updateNodesQueued.shift();e&&r._doUpdateNodes(e.paths,e.cb,e.promise)})))},_emitChangeEvents:function(e){for(var t=0,n=e.length;t<n;t++)this._emitChange(e[t]),this.diffHandler&&this.diffHandler(e[t].path)},_getAllDescendentPaths:function(e){var t=this;return s(e)?t.getNodes([e]).then((function(n){var r=[e],o=c(n[e]),a=Object.keys(o.itemsMap).map((function(n){return t._getAllDescendentPaths(e+n).then((function(e){for(var t=0,n=e.length;t<n;t++)r.push(e[t])}))}));return Promise.all(a).then((function(){return r}))})):Promise.resolve([e])},_getInternals:function(){return{getLatest:c,makeNode:h,isOutdated:d}}};e.exports=function(e){for(var t in O)e[t]=O[t]}},function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o,a=n(0),i=n(11),s=n(13),l=n(14),u=n(5),c=n(3),d=n(4),f=n(7),h=n(1),p=n(27),O=a.getGlobalContext(),g=n(2),m=a.getJSONFromLocalStorage;function M(e){return 403!==e.statusCode&&401!==e.statusCode||this._emit("error",new d.Unauthorized),Promise.resolve(e)}var K=function(e){"object"===r(e)&&a.extend(c,e),g(this,"ready","authing","connecting","connected","disconnected","not-connected","conflict","error","features-loaded","sync-interval-change","sync-req-done","sync-done","wire-busy","wire-done","network-offline","network-online"),this._pending=[],this._setGPD({get:this._pendingGPD("get"),put:this._pendingGPD("put"),delete:this._pendingGPD("delete")}),this._cleanups=[],this._pathHandlers={change:{}},this.apiKeys={},(o=a.localStorageAvailable())&&(this.apiKeys=m("remotestorage:api-keys")||{},this.setBackend(localStorage.getItem("remotestorage:backend")||"remotestorage"));var t=this.on;this.on=function(e,n){if(this._allLoaded)switch(e){case"features-loaded":setTimeout(n,0);break;case"ready":this.remote&&setTimeout(n,0);break;case"connected":this.remote&&this.remote.connected&&setTimeout(n,0);break;case"not-connected":this.remote&&!this.remote.connected&&setTimeout(n,0)}return t.call(this,e,n)},this._init(),this.fireInitial=function(){this.local&&setTimeout(this.local.fireInitial.bind(this.local),0)}.bind(this),this.on("ready",this.fireInitial.bind(this)),this.loadModules()};function v(e){return"number"==typeof e&&e>1e3&&e<36e5}K.Authorize=d,K.SyncError=f.SyncError,K.Unauthorized=d.Unauthorized,K.DiscoveryError=l.DiscoveryError,K.prototype={loadModules:function(){c.modules.forEach(this.addModule.bind(this))},authorize:function(e){this.access.setStorageType(this.remote.storageApi),void 0===e.scope&&(e.scope=this.access.scopeParameter),e.redirectUri=O.cordova?c.cordovaRedirectUri:String(d.getLocation()),void 0===e.clientId&&(e.clientId=e.redirectUri.match(/^(https?:\/\/[^/]+)/)[0]),d(this,e)},impliedauth:function(e,t){e=this.remote.storageApi,t=String(document.location),h("ImpliedAuth proceeding due to absent authURL; storageApi = "+e+" redirectUri = "+t),this.remote.configure({token:d.IMPLIED_FAKE_TOKEN}),document.location=t},connect:function(e,t){var n=this;if(this.setBackend("remotestorage"),e.indexOf("@")<0)this._emit("error",new K.DiscoveryError("User address doesn't contain an @."));else{if(O.cordova){if("string"!=typeof c.cordovaRedirectUri)return void this._emit("error",new K.DiscoveryError("Please supply a custom HTTPS redirect URI for your Cordova app"));if(!O.cordova.InAppBrowser)return void this._emit("error",new K.DiscoveryError("Please include the InAppBrowser Cordova plugin to enable OAuth"))}this.remote.configure({userAddress:e}),this._emit("connecting");var r=setTimeout(function(){this._emit("error",new K.DiscoveryError("No storage information found for this user address."))}.bind(this),c.discoveryTimeout);l(e).then((function(o){if(clearTimeout(r),n._emit("authing"),o.userAddress=e,n.remote.configure(o),!n.remote.connected)if(o.authURL)if(void 0===t)n.authorize({authURL:o.authURL});else{if("string"!=typeof t)throw new Error("Supplied bearer token must be a string");h("Skipping authorization sequence and connecting with known token"),n.remote.configure({token:t})}else n.impliedauth()}),(function(){clearTimeout(r),n._emit("error",new K.DiscoveryError("No storage information found for this user address."))}))}},reconnect:function(){this.remote.configure({token:null}),"remotestorage"===this.backend?this.connect(this.remote.userAddress):this.remote.connect()},disconnect:function(){this.remote&&this.remote.configure({userAddress:null,href:null,storageApi:null,token:null,properties:null}),this._setGPD({get:this._pendingGPD("get"),put:this._pendingGPD("put"),delete:this._pendingGPD("delete")});var e=this._cleanups.length,t=0,n=function(){++t>=e&&(this._init(),h("Done cleaning up, emitting disconnected and disconnect events"),this._emit("disconnected"))}.bind(this);e>0?this._cleanups.forEach(function(e){var t=e(this);"object"===r(t)&&"function"==typeof t.then?t.then(n):n()}.bind(this)):n()},setBackend:function(e){this.backend=e,o&&(e?localStorage.setItem("remotestorage:backend",e):localStorage.removeItem("remotestorage:backend"))},onChange:function(e,t){this._pathHandlers.change[e]||(this._pathHandlers.change[e]=[]),this._pathHandlers.change[e].push(t)},enableLog:function(){c.logging=!0},disableLog:function(){c.logging=!1},log:function(){h.apply(K,arguments)},setApiKeys:function(e){var t=this,n=["googledrive","dropbox"];if("object"!==r(e)||!Object.keys(e).every((function(e){return n.includes(e)})))return console.error("setApiKeys() was called with invalid arguments"),!1;Object.keys(e).forEach((function(n){var r=e[n];if(r){switch(n){case"dropbox":t.apiKeys.dropbox={appKey:r},void 0!==t.dropbox&&t.dropbox.clientId===r||i._rs_init(t);break;case"googledrive":t.apiKeys.googledrive={clientId:r},void 0!==t.googledrive&&t.googledrive.clientId===r||s._rs_init(t)}return!0}delete t.apiKeys[n]})),o&&localStorage.setItem("remotestorage:api-keys",JSON.stringify(this.apiKeys))},setCordovaRedirectUri:function(e){if("string"!=typeof e||!e.match(/http(s)?:\/\//))throw new Error("Cordova redirect URI must be a URI string");c.cordovaRedirectUri=e},_init:p.loadFeatures,features:p.features,loadFeature:p.loadFeature,featureSupported:p.featureSupported,featureDone:p.featureDone,featuresDone:p.featuresDone,featuresLoaded:p.featuresLoaded,featureInitialized:p.featureInitialized,featureFailed:p.featureFailed,hasFeature:p.hasFeature,_setCachingModule:p._setCachingModule,_collectCleanupFunctions:p._collectCleanupFunctions,_fireReady:p._fireReady,initFeature:p.initFeature,_setGPD:function(e,t){function n(e){return function(){return e.apply(t,arguments).then(M.bind(this))}}this.get=n(e.get),this.put=n(e.put),this.delete=n(e.delete)},_pendingGPD:function(e){return function(){var t=Array.prototype.slice.call(arguments);return new Promise(function(n,r){this._pending.push({method:e,args:t,promise:{resolve:n,reject:r}})}.bind(this))}.bind(this)},_processPending:function(){this._pending.forEach(function(e){try{this[e.method].apply(this,e.args).then(e.promise.resolve,e.promise.reject)}catch(t){e.promise.reject(t)}}.bind(this)),this._pending=[]},_bindChange:function(e){e.on("change",this._dispatchEvent.bind(this,"change"))},_dispatchEvent:function(e,t){var n=this;Object.keys(this._pathHandlers[e]).forEach((function(r){var o=r.length;t.path.substr(0,o)===r&&n._pathHandlers[e][r].forEach((function(e){var o={};for(var a in t)o[a]=t[a];o.relativePath=t.path.replace(new RegExp("^"+r),"");try{e(o)}catch(e){console.error("'change' handler failed: ",e,e.stack),n._emit("error",e)}}))}))},scope:function(e){if("string"!=typeof e)throw"Argument 'path' of baseClient.scope must be a string";if(!this.access.checkPathPermission(e,"r")){var t=e.replace(/(['\\])/g,"\\$1");console.warn("WARNING: please call remoteStorage.access.claim('"+t+"', 'r') (read only) or remoteStorage.access.claim('"+t+"', 'rw') (read/write) first")}return new u(this,e)},getSyncInterval:function(){return c.syncInterval},setSyncInterval:function(e){if(!v(e))throw e+" is not a valid sync interval";var t=c.syncInterval;c.syncInterval=parseInt(e,10),this._emit("sync-interval-change",{oldValue:t,newValue:e})},getBackgroundSyncInterval:function(){return c.backgroundSyncInterval},setBackgroundSyncInterval:function(e){if(!v(e))throw e+" is not a valid sync interval";var t=c.backgroundSyncInterval;c.backgroundSyncInterval=parseInt(e,10),this._emit("sync-interval-change",{oldValue:t,newValue:e})},getCurrentSyncInterval:function(){return c.isBackground?c.backgroundSyncInterval:c.syncInterval},getRequestTimeout:function(){return c.requestTimeout},setRequestTimeout:function(e){c.requestTimeout=parseInt(e,10)},syncCycle:function(){this.sync&&!this.sync.stopped&&(this.on("sync-done",function(){h("[Sync] Sync done. Setting timer to",this.getCurrentSyncInterval()),this.sync&&!this.sync.stopped&&(this._syncTimer&&(clearTimeout(this._syncTimer),this._syncTimer=void 0),this._syncTimer=setTimeout(this.sync.sync.bind(this.sync),this.getCurrentSyncInterval()))}.bind(this)),this.sync.sync())},startSync:function(){return c.cache?(this.sync.stopped=!1,this.syncStopped=!1,this.sync.sync()):(console.warn("Nothing to sync, because caching is disabled."),Promise.resolve())},stopSync:function(){clearTimeout(this._syncTimer),this._syncTimer=void 0,this.sync?(h("[Sync] Stopping sync"),this.sync.stopped=!0):(h("[Sync] Will instantiate sync stopped"),this.syncStopped=!0)}},K.util=a,Object.defineProperty(K.prototype,"connected",{get:function(){return this.remote.connected}});var T=n(15);Object.defineProperty(K.prototype,"access",{get:function(){var e=new T;return Object.defineProperty(this,"access",{value:e}),e},configurable:!0});var w=n(16);Object.defineProperty(K.prototype,"caching",{configurable:!0,get:function(){var e=new w;return Object.defineProperty(this,"caching",{value:e}),e}}),e.exports=K,n(32)},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o,a=n(4),i=n(5),s=n(6),l=n(0),u=n(2),c=n(24),d=n(7),f="remotestorage:dropbox",h=l.isFolder,p=l.cleanPath,O=l.shouldBeTreatedAsBinary,g=l.getJSONFromLocalStorage,m=l.getTextFromArrayBuffer,M=function(e){return p("/remotestorage/"+e).replace(/\/$/,"")},K=function(e,t){return new RegExp("^"+t.join("\\/")+"(\\/|$)").test(e.error_summary)},v=function(e){return e instanceof ArrayBuffer||s.isArrayBufferView(e)},T=function(e){if(this.rs=e,this.connected=!1,this.rs=e,this._initialFetchDone=!1,u(this,"connected","not-connected"),this.clientId=e.apiKeys.dropbox.appKey,this._revCache=new c("rev"),this._fetchDeltaCursor=null,this._fetchDeltaPromise=null,this._itemRefs={},o=l.localStorageAvailable()){var t=g(f);t&&this.configure(t),this._itemRefs=g("".concat(f,":shares"))||{}}this.connected&&setTimeout(this._emit.bind(this),0,"connected")};function w(e){e._dropboxOrigSync||(e._dropboxOrigSync=e.sync.sync.bind(e.sync),e.sync.sync=function(){return this.dropbox.fetchDelta.apply(this.dropbox,arguments).then(e._dropboxOrigSync,(function(t){e._emit("error",new d.SyncError(t)),e._emit("sync-done")}))}.bind(e))}function S(e){e._dropboxOrigSyncCycle&&(e.syncCycle=e._dropboxOrigSyncCycle,delete e._dropboxOrigSyncCycle)}function x(e){!function(e){e._origRemote||(e._origRemote=e.remote,e.remote=e.dropbox)}(e),e.sync?w(e):function(e){var t=arguments;e._dropboxOrigSyncCycle||(e._dropboxOrigSyncCycle=e.syncCycle,e.syncCycle=function(){if(!e.sync)throw new Error("expected sync to be initialized by now");w(e),e._dropboxOrigSyncCycle(t),S(e)})}(e),function(e){e._origBaseClientGetItemURL||(e._origBaseClientGetItemURL=i.prototype.getItemURL,i.prototype.getItemURL=function(){throw new Error("getItemURL is not implemented for Dropbox yet")})}(e)}T.prototype={online:!0,connect:function(){this.rs.setBackend("dropbox"),this.token?x(this.rs):this.rs.authorize({authURL:"https://www.dropbox.com/oauth2/authorize",scope:"",clientId:this.clientId})},configure:function(e){void 0!==e.userAddress&&(this.userAddress=e.userAddress),void 0!==e.token&&(this.token=e.token);var t=function(){o&&localStorage.setItem(f,JSON.stringify({userAddress:this.userAddress,token:this.token}))},n=function(){this.connected=!1,o&&localStorage.removeItem(f)};this.token?(this.connected=!0,this.userAddress?(this._emit("connected"),t.apply(this)):this.info().then(function(e){this.userAddress=e.email,this._emit("connected"),t.apply(this)}.bind(this)).catch(function(){n.apply(this),this.rs._emit("error",new Error("Could not fetch user info."))}.bind(this))):n.apply(this)},stopWaitingForToken:function(){this.connected||this._emit("not-connected")},_getFolder:function(e){var t=this._revCache,n=this,r=function(r){var a,i;if(200!==r.status&&409!==r.status)return Promise.reject("Unexpected response status: "+r.status);try{a=JSON.parse(r.responseText)}catch(e){return Promise.reject(e)}return 409===r.status?K(a,["path","not_found"])?Promise.resolve({}):Promise.reject(new Error("API returned an error: "+a.error_summary)):(i=a.entries.reduce((function(r,o){var a="folder"===o[".tag"],i=o.path_lower.split("/").slice(-1)[0]+(a?"/":"");return a?r[i]={ETag:t.get(e+i)}:(r[i]={ETag:o.rev},n._revCache.set(e+i,o.rev)),r}),{}),a.has_more?o(a.cursor).then((function(e){return Object.assign(i,e)})):Promise.resolve(i))},o=function(e){var t={body:{cursor:e}};return n._request("POST","https://api.dropboxapi.com/2/files/list_folder/continue",t).then(r)};return this._request("POST","https://api.dropboxapi.com/2/files/list_folder",{body:{path:M(e)}}).then(r).then((function(n){return Promise.resolve({statusCode:200,body:n,contentType:"application/json; charset=UTF-8",revision:t.get(e)})}))},get:function(e,t){var n=this;if(!this.connected)return Promise.reject("not connected (path: "+e+")");var r=this,o=this._revCache.get(e);if(null===o)return Promise.resolve({statusCode:404});if(t&&t.ifNoneMatch){if(!this._initialFetchDone)return this.fetchDelta().then((function(){return n.get(e,t)}));if(o&&o===t.ifNoneMatch)return Promise.resolve({statusCode:304})}if("/"===e.substr(-1))return this._getFolder(e,t);var a={headers:{"Dropbox-API-Arg":JSON.stringify({path:M(e)})},responseType:"arraybuffer"};return t&&t.ifNoneMatch&&(a.headers["If-None-Match"]=t.ifNoneMatch),this._request("GET","https://content.dropboxapi.com/2/files/download",a).then((function(t){var n,o,a,i,s=t.status;return 200!==s&&409!==s?Promise.resolve({statusCode:s}):(n=t.getResponseHeader("Dropbox-API-Result"),m(t.response,"UTF-8").then((function(l){o=l,409===s&&(n=o);try{n=JSON.parse(n)}catch(e){return Promise.reject(e)}if(409===s)return K(n,["path","not_found"])?{statusCode:404}:Promise.reject(new Error('API error while downloading file ("'+e+'"): '+n.error_summary));if(a=t.getResponseHeader("Content-Type"),i=n.rev,r._revCache.set(e,i),r._shareIfNeeded(e),O(l,a))o=t.response;else try{o=JSON.parse(o),a="application/json; charset=UTF-8"}catch(e){}return{statusCode:s,body:o,contentType:a,revision:i}})))}))},put:function(e,t,n,r){var o=this;if(!this.connected)throw new Error("not connected (path: "+e+")");var a=this._revCache.get(e);if(r&&r.ifMatch&&a&&a!==r.ifMatch)return Promise.resolve({statusCode:412,revision:a});if(r&&"*"===r.ifNoneMatch&&a&&"rev"!==a)return Promise.resolve({statusCode:412,revision:a});if(!n.match(/charset=/)&&v(t)&&(n+="; charset=binary"),t.length>157286400)return Promise.reject(new Error("Cannot upload file larger than 150MB"));var i=r&&(r.ifMatch||"*"===r.ifNoneMatch),s={body:t,contentType:n,path:e};return(i?this._getMetadata(e).then((function(e){return r&&"*"===r.ifNoneMatch&&e||r&&r.ifMatch&&e&&e.rev!==r.ifMatch?Promise.resolve({statusCode:412,revision:e.rev}):o._uploadSimple(s)})):o._uploadSimple(s)).then((function(t){return o._shareIfNeeded(e),t}))},delete:function(e,t){var n=this;if(!this.connected)throw new Error("not connected (path: "+e+")");var r=this._revCache.get(e);return t&&t.ifMatch&&r&&t.ifMatch!==r?Promise.resolve({statusCode:412,revision:r}):t&&t.ifMatch?this._getMetadata(e).then((function(r){return t&&t.ifMatch&&r&&r.rev!==t.ifMatch?Promise.resolve({statusCode:412,revision:r.rev}):n._deleteSimple(e)})):this._deleteSimple(e)},_shareIfNeeded:function(e){e.match(/^\/public\/.*[^/]$/)&&void 0===this._itemRefs[e]&&this.share(e)},share:function(e){var t=this,n={body:{path:M(e)}};return this._request("POST","https://api.dropboxapi.com/2/sharing/create_shared_link_with_settings",n).then((function(n){if(200!==n.status&&409!==n.status)return Promise.reject(new Error("Invalid response status:"+n.status));var r;try{r=JSON.parse(n.responseText)}catch(e){return Promise.reject(new Error("Invalid response body: "+n.responseText))}return 409===n.status?K(r,["shared_link_already_exists"])?t._getSharedLink(e):Promise.reject(new Error("API error: "+r.error_summary)):Promise.resolve(r.url)})).then((function(n){return t._itemRefs[e]=n,o&&localStorage.setItem(f+":shares",JSON.stringify(t._itemRefs)),Promise.resolve(n)}),(function(t){return t.message='Sharing Dropbox file or folder ("'+e+'") failed: '+t.message,Promise.reject(t)}))},info:function(){return this._request("POST","https://api.dropboxapi.com/2/users/get_current_account",{}).then((function(e){var t=e.responseText;try{t=JSON.parse(t)}catch(e){return Promise.reject(new Error("Could not query current account info: Invalid API response: "+t))}return Promise.resolve({email:t.email})}))},_request:function(e,t,n){var o=this;return n.headers||(n.headers={}),n.headers.Authorization="Bearer "+this.token,"object"!==r(n.body)||v(n.body)||(n.body=JSON.stringify(n.body),n.headers["Content-Type"]="application/json; charset=UTF-8"),this.rs._emit("wire-busy",{method:e,isFolder:h(t)}),s.request.call(this,e,t,n).then((function(r){return r&&503===r.status?(o.online&&(o.online=!1,o.rs._emit("network-offline")),setTimeout(o._request(e,t,n),3210)):(o.online||(o.online=!0,o.rs._emit("network-online")),o.rs._emit("wire-done",{method:e,isFolder:h(t),success:!0}),Promise.resolve(r))}),(function(n){return o.online&&(o.online=!1,o.rs._emit("network-offline")),o.rs._emit("wire-done",{method:e,isFolder:h(t),success:!1}),Promise.reject(n)}))},fetchDelta:function(){var e=this;if(this._fetchDeltaPromise)return this._fetchDeltaPromise;var t=Array.prototype.slice.call(arguments),n=this,o=function e(r){var o,i="https://api.dropboxapi.com/2/files/list_folder";return"string"==typeof r?(i+="/continue",o={cursor:r}):o={path:"/remotestorage",recursive:!0,include_deleted:!0},n._request("POST",i,{body:o}).then((function(o){if(401===o.status)return n.rs._emit("error",new a.Unauthorized),Promise.resolve(t);if(200!==o.status&&409!==o.status)return Promise.reject(new Error("Invalid response status: "+o.status));var i;try{i=JSON.parse(o.responseText)}catch(e){return Promise.reject(new Error("Invalid response body: "+o.responseText))}if(409===o.status){if(!K(i,["path","not_found"]))return Promise.reject(new Error("API returned an error: "+i.error_summary));i={cursor:null,entries:[],has_more:!1}}if(r||n._revCache.deactivatePropagation(),i.entries.forEach((function(e){var t=e.path_lower.substr("/remotestorage".length);"deleted"===e[".tag"]?(n._revCache.delete(t),n._revCache.delete(t+"/")):"file"===e[".tag"]&&n._revCache.set(t,e.rev)})),n._fetchDeltaCursor=i.cursor,i.has_more)return e(i.cursor);n._revCache.activatePropagation(),n._initialFetchDone=!0})).catch((function(e){return"timeout"===e||e instanceof ProgressEvent?Promise.resolve():Promise.reject(e)}))};return this._fetchDeltaPromise=o(n._fetchDeltaCursor).catch((function(t){return"object"===r(t)&&"message"in t?t.message="Dropbox: fetchDelta: "+t.message:t="Dropbox: fetchDelta: ".concat(t),e._fetchDeltaPromise=null,Promise.reject(t)})).then((function(){return e._fetchDeltaPromise=null,Promise.resolve(t)})),this._fetchDeltaPromise},_getMetadata:function(e){var t={path:M(e)};return this._request("POST","https://api.dropboxapi.com/2/files/get_metadata",{body:t}).then((function(e){if(200!==e.status&&409!==e.status)return Promise.reject(new Error("Invalid response status:"+e.status));var t;try{t=JSON.parse(e.responseText)}catch(t){return Promise.reject(new Error("Invalid response body: "+e.responseText))}return 409===e.status?K(t,["path","not_found"])?Promise.resolve():Promise.reject(new Error("API error: "+t.error_summary)):Promise.resolve(t)})).then(void 0,(function(t){return t.message='Could not load metadata for file or folder ("'+e+'"): '+t.message,Promise.reject(t)}))},_uploadSimple:function(e){var t=this,n={path:M(e.path),mode:{".tag":"overwrite"},mute:!0};return e.ifMatch&&(n.mode={".tag":"update",update:e.ifMatch}),this._request("POST","https://content.dropboxapi.com/2/files/upload",{body:e.body,headers:{"Content-Type":"application/octet-stream","Dropbox-API-Arg":JSON.stringify(n)}}).then((function(n){if(200!==n.status&&409!==n.status)return Promise.resolve({statusCode:n.status});var r=n.responseText;try{r=JSON.parse(r)}catch(e){return Promise.reject(new Error("Invalid API result: "+r))}return 409===n.status?K(r,["path","conflict"])?t._getMetadata(e.path).then((function(e){return Promise.resolve({statusCode:412,revision:e.rev})})):Promise.reject(new Error("API error: "+r.error_summary)):(t._revCache.set(e.path,r.rev),Promise.resolve({statusCode:n.status,revision:r.rev}))}))},_deleteSimple:function(e){var t=this,n={path:M(e)};return this._request("POST","https://api.dropboxapi.com/2/files/delete",{body:n}).then((function(e){if(200!==e.status&&409!==e.status)return Promise.resolve({statusCode:e.status});var t=e.responseText;try{t=JSON.parse(t)}catch(e){return Promise.reject(new Error("Invalid response body: "+t))}return 409===e.status?K(t,["path_lookup","not_found"])?Promise.resolve({statusCode:404}):Promise.reject(new Error("API error: "+t.error_summary)):Promise.resolve({statusCode:200})})).then((function(n){return 200!==n.statusCode&&404!==n.statusCode||(t._revCache.delete(e),delete t._itemRefs[e]),Promise.resolve(n)}),(function(t){return t.message='Could not delete Dropbox file or folder ("'+e+'"): '+t.message,Promise.reject(t)}))},_getSharedLink:function(e){var t={body:{path:M(e),direct_only:!0}};return this._request("POST","https://api.dropbox.com/2/sharing/list_shared_links",t).then((function(e){if(200!==e.status&&409!==e.status)return Promise.reject(new Error("Invalid response status: "+e.status));var t;try{t=JSON.parse(e.responseText)}catch(t){return Promise.reject(new Error("Invalid response body: "+e.responseText))}return 409===e.status?Promise.reject(new Error("API error: "+e.error_summary)):t.links.length?Promise.resolve(t.links[0].url):Promise.reject(new Error("No links returned"))}),(function(t){return t.message='Could not get link to a shared file or folder ("'+e+'"): '+t.message,Promise.reject(t)}))}},T._rs_init=function(e){o=l.localStorageAvailable(),e.apiKeys.dropbox&&(e.dropbox=new T(e)),"dropbox"===e.backend&&x(e)},T._rs_supported=function(){return!0},T._rs_cleanup=function(e){(function(e){!function(e){e._origRemote&&(e.remote=e._origRemote,delete e._origRemote)}(e),function(e){e._dropboxOrigSync&&(e.sync.sync=e._dropboxOrigSync,delete e._dropboxOrigSync)}(e),function(e){e._origBaseClientGetItemURL&&(i.prototype.getItemURL=e._origBaseClientGetItemURL,delete e._origBaseClientGetItemURL)}(e),S(e)})(e),o&&localStorage.removeItem(f),e.setBackend(void 0)},e.exports=T},function(e,t,n){var r=n(2),o="undefined"!=typeof window?"browser":"node",a={},i=function(){return a};i.isBrowser=function(){return"browser"===o},i.isNode=function(){return"node"===o},i.goBackground=function(){i._emit("background")},i.goForeground=function(){i._emit("foreground")},i._rs_init=function(){function e(){document[a.hiddenProperty]?i.goBackground():i.goForeground()}r(i,"background","foreground"),"browser"===o&&(void 0!==document.hidden?(a.hiddenProperty="hidden",a.visibilityChangeEvent="visibilitychange"):void 0!==document.mozHidden?(a.hiddenProperty="mozHidden",a.visibilityChangeEvent="mozvisibilitychange"):void 0!==document.msHidden?(a.hiddenProperty="msHidden",a.visibilityChangeEvent="msvisibilitychange"):void 0!==document.webkitHidden&&(a.hiddenProperty="webkitHidden",a.visibilityChangeEvent="webkitvisibilitychange"),document.addEventListener(a.visibilityChangeEvent,e,!1),e())},i._rs_cleanup=function(){},e.exports=i},function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o,a=n(5),i=n(6),s=n(2),l=n(0),u="https://www.googleapis.com",c="remotestorage:googledrive",d=l.isFolder,f=l.cleanPath,h=l.shouldBeTreatedAsBinary,p=l.getJSONFromLocalStorage,O=l.getTextFromArrayBuffer;function g(e){return"/"===e.substr(-1)&&(e=e.substr(0,e.length-1)),decodeURIComponent(e)}function m(e){return e.replace(/[^\/]+\/?$/,"")}function M(e){var t=e.split("/");return"/"===e.substr(-1)?t[t.length-2]+"/":t[t.length-1]}function K(e){return f("".concat("/remotestorage","/").concat(e))}function v(e){return e.replace(/^["'](.*)["']$/,"$1")}var T=function(e){this.maxAge=e,this._items={}};T.prototype={get:function(e){var t=this._items[e],n=(new Date).getTime();return t&&t.t>=n-this.maxAge?t.v:void 0},set:function(e,t){this._items[e]={v:t,t:(new Date).getTime()}}};var w=function(e,t){if(s(this,"connected","not-connected"),this.rs=e,this.clientId=t,this._fileIdCache=new T(300),o=l.localStorageAvailable()){var n=p(c);n&&this.configure(n)}};w.prototype={connected:!1,online:!0,configure:function(e){var t=this;void 0!==e.userAddress&&(this.userAddress=e.userAddress),void 0!==e.token&&(this.token=e.token);var n=function(){o&&localStorage.setItem(c,JSON.stringify({userAddress:this.userAddress,token:this.token}))},r=function(){this.connected=!1,delete this.token,o&&localStorage.removeItem(c)};this.token?(this.connected=!0,this.userAddress?(this._emit("connected"),n.apply(this)):this.info().then((function(e){t.userAddress=e.user.emailAddress,t._emit("connected"),n.apply(t)})).catch((function(){r.apply(t),t.rs._emit("error",new Error("Could not fetch user info."))}))):r.apply(this)},connect:function(){this.rs.setBackend("googledrive"),this.rs.authorize({authURL:"https://accounts.google.com/o/oauth2/auth",scope:"https://www.googleapis.com/auth/drive",clientId:this.clientId})},stopWaitingForToken:function(){this.connected||this._emit("not-connected")},get:function(e,t){return"/"===e.substr(-1)?this._getFolder(K(e),t):this._getFile(K(e),t)},put:function(e,t,n,r){var o=this,a=K(e);function i(e){if(e.status>=200&&e.status<300){var t=JSON.parse(e.responseText),n=v(t.etag);return Promise.resolve({statusCode:200,contentType:t.mimeType,revision:n})}return 412===e.status?Promise.resolve({statusCode:412,revision:"conflict"}):Promise.reject("PUT failed with status "+e.status+" ("+e.responseText+")")}return this._getFileId(a).then((function(e){return e?r&&"*"===r.ifNoneMatch?i({status:412}):o._updateFile(e,a,t,n,r).then(i):o._createFile(a,t,n,r).then(i)}))},delete:function(e,t){var n=this,o=K(e);return this._getFileId(o).then((function(e){return e?n._getMeta(e).then((function(o){var a;return"object"===r(o)&&"string"==typeof o.etag&&(a=v(o.etag)),t&&t.ifMatch&&t.ifMatch!==a?{statusCode:412,revision:a}:n._request("DELETE",u+"/drive/v2/files/"+e,{}).then((function(e){return 200===e.status||204===e.status?{statusCode:200}:Promise.reject("Delete failed: "+e.status+" ("+e.responseText+")")}))})):Promise.resolve({statusCode:200})}))},info:function(){return this._request("GET","https://www.googleapis.com/drive/v2/about?fields=user",{}).then((function(e){try{var t=JSON.parse(e.responseText);return Promise.resolve(t)}catch(e){return Promise.reject(e)}}))},_updateFile:function(e,t,n,r,o){var a=this,i={mimeType:r},s={"Content-Type":"application/json; charset=UTF-8"};return o&&o.ifMatch&&(s["If-Match"]='"'+o.ifMatch+'"'),this._request("PUT",u+"/upload/drive/v2/files/"+e+"?uploadType=resumable",{body:JSON.stringify(i),headers:s}).then((function(e){return 412===e.status?e:a._request("PUT",e.getResponseHeader("Location"),{body:r.match(/^application\/json/)?JSON.stringify(n):n})}))},_createFile:function(e,t,n){var r=this;return this._getParentId(e).then((function(o){var a={title:g(M(e)),mimeType:n,parents:[{kind:"drive#fileLink",id:o}]};return r._request("POST",u+"/upload/drive/v2/files?uploadType=resumable",{body:JSON.stringify(a),headers:{"Content-Type":"application/json; charset=UTF-8"}}).then((function(e){return r._request("POST",e.getResponseHeader("Location"),{body:n.match(/^application\/json/)?JSON.stringify(t):t})}))}))},_getFile:function(e,t){var n=this;return this._getFileId(e).then((function(e){return n._getMeta(e).then((function(e){var o;if("object"===r(e)&&"string"==typeof e.etag&&(o=v(e.etag)),t&&t.ifNoneMatch&&o===t.ifNoneMatch)return Promise.resolve({statusCode:304});if(!e.downloadUrl){if(!e.exportLinks||!e.exportLinks["text/html"])return Promise.resolve({statusCode:200,body:"",contentType:e.mimeType,revision:o});e.mimeType+=";export=text/html",e.downloadUrl=e.exportLinks["text/html"]}return n._request("GET",e.downloadUrl,{responseType:"arraybuffer"}).then((function(t){return O(t.response,"UTF-8").then((function(n){var r=n;if(e.mimeType.match(/^application\/json/))try{r=JSON.parse(r)}catch(e){}else h(n,e.mimeType)&&(r=t.response);return{statusCode:200,body:r,contentType:e.mimeType,revision:o}}))}))}))}))},_getFolder:function(e){var t=this;return this._getFileId(e).then((function(n){var r,o,a,i;return n?(r="'"+n+"' in parents",t._request("GET",u+"/drive/v2/files?q="+encodeURIComponent(r)+"&fields="+encodeURIComponent("items(downloadUrl,etag,fileSize,id,mimeType,title)")+"&maxResults=1000",{}).then((function(n){if(200!==n.status)return Promise.reject("request failed or something: "+n.status);try{o=JSON.parse(n.responseText)}catch(e){return Promise.reject("non-JSON response from GoogleDrive")}i={};var r=!0,s=!1,l=void 0;try{for(var u,c=o.items[Symbol.iterator]();!(r=(u=c.next()).done);r=!0){var d=u.value;a=v(d.etag),"application/vnd.google-apps.folder"===d.mimeType?(t._fileIdCache.set(e+d.title+"/",d.id),i[d.title+"/"]={ETag:a}):(t._fileIdCache.set(e+d.title,d.id),i[d.title]={ETag:a,"Content-Type":d.mimeType,"Content-Length":d.fileSize})}}catch(e){s=!0,l=e}finally{try{r||null==c.return||c.return()}finally{if(s)throw l}}return Promise.resolve({statusCode:200,body:i,contentType:"application/json; charset=UTF-8",revision:void 0})}))):Promise.resolve({statusCode:404})}))},_getParentId:function(e){var t=this,n=m(e);return this._getFileId(n).then((function(e){return e?Promise.resolve(e):t._createFolder(n)}))},_createFolder:function(e){var t=this;return this._getParentId(e).then((function(n){return t._request("POST",u+"/drive/v2/files",{body:JSON.stringify({title:g(M(e)),mimeType:"application/vnd.google-apps.folder",parents:[{id:n}]}),headers:{"Content-Type":"application/json; charset=UTF-8"}}).then((function(e){var t=JSON.parse(e.responseText);return Promise.resolve(t.id)}))}))},_getFileId:function(e){var t,n=this;return"/"===e?Promise.resolve("root"):(t=this._fileIdCache.get(e))?Promise.resolve(t):this._getFolder(m(e)).then((function(){return(t=n._fileIdCache.get(e))?Promise.resolve(t):"/"===e.substr(-1)?n._createFolder(e).then((function(){return n._getFileId(e)})):Promise.resolve()}))},_getMeta:function(e){return this._request("GET",u+"/drive/v2/files/"+e,{}).then((function(t){return 200===t.status?Promise.resolve(JSON.parse(t.responseText)):Promise.reject("request (getting metadata for "+e+") failed with status: "+t.status)}))},_request:function(e,t,n){var r=this;return n.headers||(n.headers={}),n.headers.Authorization="Bearer "+this.token,this.rs._emit("wire-busy",{method:e,isFolder:d(t)}),i.request.call(this,e,t,n).then((function(n){return n&&401===n.status?void r.connect():(r.online||(r.online=!0,r.rs._emit("network-online")),r.rs._emit("wire-done",{method:e,isFolder:d(t),success:!0}),Promise.resolve(n))}),(function(n){return r.online&&(r.online=!1,r.rs._emit("network-offline")),r.rs._emit("wire-done",{method:e,isFolder:d(t),success:!1}),Promise.reject(n)}))}},w._rs_init=function(e){var t,n=e.apiKeys.googledrive;n&&(e.googledrive=new w(e,n.clientId),"googledrive"===e.backend&&(e._origRemote=e.remote,e.remote=e.googledrive,(t=e)._origBaseClientGetItemURL||(t._origBaseClientGetItemURL=a.prototype.getItemURL,a.prototype.getItemURL=function(){throw new Error("getItemURL is not implemented for Google Drive yet")})))},w._rs_supported=function(){return!0},w._rs_cleanup=function(e){var t;e.setBackend(void 0),e._origRemote&&(e.remote=e._origRemote,delete e._origRemote),(t=e)._origBaseClientGetItemURL&&(a.prototype.getItemURL=t._origBaseClientGetItemURL,delete t._origBaseClientGetItemURL)},e.exports=w},function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o,a=n(1),i=n(0),s=n(25),l={},u=function(e){return new Promise((function(t,n){return e in l?t(l[e]):new s({tls_only:!1,uri_fallback:!0,request_timeout:5e3}).lookup(e,(function(i,s){if(i)return n(i);if("object"!==r(s.idx.links.remotestorage)||"number"!=typeof s.idx.links.remotestorage.length||s.idx.links.remotestorage.length<=0)return a("[Discover] WebFinger record for "+e+" does not have remotestorage defined in the links section ",JSON.stringify(s.json)),n("WebFinger record for "+e+" does not have remotestorage defined in the links section.");var u=s.idx.links.remotestorage[0],c=u.properties["http://tools.ietf.org/html/rfc6749#section-4.2"]||u.properties["auth-endpoint"],d=u.properties["http://remotestorage.io/spec/version"]||u.type;return l[e]={href:u.href,storageApi:d,authURL:c,properties:u.properties},o&&(localStorage["remotestorage:discover"]=JSON.stringify({cache:l})),t(l[e])}))}))};(u.DiscoveryError=function(e){this.name="DiscoveryError",this.message=e,this.stack=(new Error).stack}).prototype=Object.create(Error.prototype),u.DiscoveryError.prototype.constructor=u.DiscoveryError,u._rs_init=function(){if(o=i.localStorageAvailable()){var e;try{e=JSON.parse(localStorage["remotestorage:discover"])}catch(e){}e&&(l=e.cache)}},u._rs_supported=function(){return!!i.globalContext.XMLHttpRequest},u._rs_cleanup=function(){o&&delete localStorage["remotestorage:discover"]},e.exports=u},function(e,t){var n=function(){this.reset()};n.prototype={claim:function(e,t){if("string"!=typeof e||-1!==e.indexOf("/")||0===e.length)throw new Error("Scope should be a non-empty string without forward slashes");if(!t.match(/^rw?$/))throw new Error("Mode should be either 'r' or 'rw'");this._adjustRootPaths(e),this.scopeModeMap[e]=t},get:function(e){return this.scopeModeMap[e]},remove:function(e){var t,n={};for(t in this.scopeModeMap)n[t]=this.scopeModeMap[t];for(t in this.reset(),delete n[e],n)this.set(t,n[t])},checkPermission:function(e,t){var n=this.get(e);return n&&("r"===t||"rw"===n)},checkPathPermission:function(e,t){return!!this.checkPermission("*",t)||!!this.checkPermission(this._getModuleName(e),t)},reset:function(){this.rootPaths=[],this.scopeModeMap={}},_getModuleName:function(e){if("/"!==e[0])throw new Error("Path should start with a slash");var t=e.replace(/^\/public/,"").match(/^\/([^/]*)\//);return t?t[1]:"*"},_adjustRootPaths:function(e){"*"in this.scopeModeMap||"*"===e?this.rootPaths=["/"]:e in this.scopeModeMap||(this.rootPaths.push("/"+e+"/"),this.rootPaths.push("/public/"+e+"/"))},_scopeNameForParameter:function(e){if("*"===e.name&&this.storageType){if("2012.04"===this.storageType)return"";if(this.storageType.match(/remotestorage-0[01]/))return"root"}return e.name},setStorageType:function(e){this.storageType=e}},Object.defineProperty(n.prototype,"scopes",{get:function(){return Object.keys(this.scopeModeMap).map(function(e){return{name:e,mode:this.scopeModeMap[e]}}.bind(this))}}),Object.defineProperty(n.prototype,"scopeParameter",{get:function(){return this.scopes.map(function(e){return this._scopeNameForParameter(e)+":"+e.mode}.bind(this)).join(" ")}}),n._rs_init=function(){},e.exports=n},function(e,t,n){var r=n(0),o=n(1),a=r.containingFolder,i=function(){this.reset()};i.prototype={pendingActivations:[],set:function(e,t){if("string"!=typeof e)throw new Error("path should be a string");if(!r.isFolder(e))throw new Error("path should be a folder");if(this._remoteStorage&&this._remoteStorage.access&&!this._remoteStorage.access.checkPathPermission(e,"r"))throw new Error('No access to path "'+e+'". You have to claim access to it first.');if(!t.match(/^(FLUSH|SEEN|ALL)$/))throw new Error("strategy should be 'FLUSH', 'SEEN', or 'ALL'");this._rootPaths[e]=t,"ALL"===t&&(this.activateHandler?this.activateHandler(e):this.pendingActivations.push(e))},enable:function(e){this.set(e,"ALL")},disable:function(e){this.set(e,"FLUSH")},onActivate:function(e){var t;for(o("[Caching] Setting activate handler",e,this.pendingActivations),this.activateHandler=e,t=0;t<this.pendingActivations.length;t++)e(this.pendingActivations[t]);delete this.pendingActivations},checkPath:function(e){return void 0!==this._rootPaths[e]?this._rootPaths[e]:"/"===e?"SEEN":this.checkPath(a(e))},reset:function(){this._rootPaths={},this._remoteStorage=null}},i._rs_init=function(e){this._remoteStorage=e},e.exports=i},function(e,t,n){e.exports=n(9)},function(e,t,n){(function(e){
/*!
     * The buffer module from node.js, for the browser.
     *
     * @author   Feross Aboukhadijeh <http://feross.org>
     * @license  MIT
     */
var r=n(19),o=n(20),a=n(21);function i(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(i()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,n){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return u(this,e,t,n)}function u(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=f(e,t),e}(e,t,n,r):"string"==typeof t?function(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!l.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(t,n),o=(e=s(e,r)).write(t,n);return o!==r&&(e=e.slice(0,o)),e}(e,t,n):function(e,t){if(l.isBuffer(t)){var n=0|h(t.length);return 0===(e=s(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?s(e,0):f(e,t);if("Buffer"===t.type&&a(t.data))return f(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function c(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t){if(c(t),e=s(e,t<0?0:0|h(t)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function f(e,t){var n=t.length<0?0:0|h(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function h(e){if(e>=i())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i().toString(16)+" bytes");return 0|e}function p(e,t){if(l.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return U(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return V(e).length;default:if(r)return U(e).length;t=(""+t).toLowerCase(),r=!0}}function O(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return C(this,t,n);case"utf8":case"utf-8":return b(this,t,n);case"ascii":return L(this,t,n);case"latin1":case"binary":return R(this,t,n);case"base64":return y(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function g(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function m(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=l.from(t,r)),l.isBuffer(t))return 0===t.length?-1:M(e,t,n,r,o);if("number"==typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):M(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function M(e,t,n,r,o){var a,i=1,s=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;i=2,s/=2,l/=2,n/=2}function u(e,t){return 1===i?e[t]:e.readUInt16BE(t*i)}if(o){var c=-1;for(a=n;a<s;a++)if(u(e,a)===u(t,-1===c?0:a-c)){if(-1===c&&(c=a),a-c+1===l)return c*i}else-1!==c&&(a-=a-c),c=-1}else for(n+l>s&&(n=s-l),a=n;a>=0;a--){for(var d=!0,f=0;f<l;f++)if(u(e,a+f)!==u(t,f)){d=!1;break}if(d)return a}return-1}function K(e,t,n,r){n=Number(n)||0;var o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;var a=t.length;if(a%2!=0)throw new TypeError("Invalid hex string");r>a/2&&(r=a/2);for(var i=0;i<r;++i){var s=parseInt(t.substr(2*i,2),16);if(isNaN(s))return i;e[n+i]=s}return i}function v(e,t,n,r){return H(U(t,e.length-n),e,n,r)}function T(e,t,n,r){return H(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function w(e,t,n,r){return T(e,t,n,r)}function S(e,t,n,r){return H(V(t),e,n,r)}function x(e,t,n,r){return H(function(e,t){for(var n,r,o,a=[],i=0;i<e.length&&!((t-=2)<0);++i)r=(n=e.charCodeAt(i))>>8,o=n%256,a.push(o),a.push(r);return a}(t,e.length-n),e,n,r)}function y(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function b(e,t,n){n=Math.min(e.length,n);for(var r=[],o=t;o<n;){var a,i,s,l,u=e[o],c=null,d=u>239?4:u>223?3:u>191?2:1;if(o+d<=n)switch(d){case 1:u<128&&(c=u);break;case 2:128==(192&(a=e[o+1]))&&(l=(31&u)<<6|63&a)>127&&(c=l);break;case 3:a=e[o+1],i=e[o+2],128==(192&a)&&128==(192&i)&&(l=(15&u)<<12|(63&a)<<6|63&i)>2047&&(l<55296||l>57343)&&(c=l);break;case 4:a=e[o+1],i=e[o+2],s=e[o+3],128==(192&a)&&128==(192&i)&&128==(192&s)&&(l=(15&u)<<18|(63&a)<<12|(63&i)<<6|63&s)>65535&&l<1114112&&(c=l)}null===c?(c=65533,d=1):c>65535&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),o+=d}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=4096));return n}(r)}function L(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function R(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function C(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var o="",a=t;a<n;++a)o+=N(e[a]);return o}function D(e,t,n){for(var r=e.slice(t,n),o="",a=0;a<r.length;a+=2)o+=String.fromCharCode(r[a]+256*r[a+1]);return o}function B(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function I(e,t,n,r,o,a){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<a)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function _(e,t,n,r){t<0&&(t=65535+t+1);for(var o=0,a=Math.min(e.length-n,2);o<a;++o)e[n+o]=(t&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function k(e,t,n,r){t<0&&(t=4294967295+t+1);for(var o=0,a=Math.min(e.length-n,4);o<a;++o)e[n+o]=t>>>8*(r?o:3-o)&255}function F(e,t,n,r,o,a){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function A(e,t,n,r,a){return a||F(e,0,n,4),o.write(e,t,n,r,23,4),n+4}function P(e,t,n,r,a){return a||F(e,0,n,8),o.write(e,t,n,r,52,8),n+8}t.Buffer=l,t.SlowBuffer=function(e){return+e!=e&&(e=0),l.alloc(+e)},t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=i(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,n){return u(null,e,t,n)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,n){return function(e,t,n,r){return c(t),t<=0?s(e,t):void 0!==n?"string"==typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},l.allocUnsafe=function(e){return d(null,e)},l.allocUnsafeSlow=function(e){return d(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,o=0,a=Math.min(n,r);o<a;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!a(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=l.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){var i=e[n];if(!l.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(r,o),o+=i.length}return r},l.byteLength=p,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?b(this,0,e):O.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,n,r,o){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(this===e)return 0;for(var a=(o>>>=0)-(r>>>=0),i=(n>>>=0)-(t>>>=0),s=Math.min(a,i),u=this.slice(r,o),c=e.slice(t,n),d=0;d<s;++d)if(u[d]!==c[d]){a=u[d],i=c[d];break}return a<i?-1:i<a?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return m(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return m(this,e,t,n,!1)},l.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var a=!1;;)switch(r){case"hex":return K(this,e,t,n);case"utf8":case"utf-8":return v(this,e,t,n);case"ascii":return T(this,e,t,n);case"latin1":case"binary":return w(this,e,t,n);case"base64":return S(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,e,t,n);default:if(a)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),a=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},l.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=l.prototype;else{var o=t-e;n=new l(o,void 0);for(var a=0;a<o;++a)n[a]=this[a+e]}return n},l.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||B(e,t,this.length);for(var r=this[e],o=1,a=0;++a<t&&(o*=256);)r+=this[e+a]*o;return r},l.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||B(e,t,this.length);for(var r=this[e+--t],o=1;t>0&&(o*=256);)r+=this[e+--t]*o;return r},l.prototype.readUInt8=function(e,t){return t||B(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||B(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||B(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||B(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||B(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||B(e,t,this.length);for(var r=this[e],o=1,a=0;++a<t&&(o*=256);)r+=this[e+a]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*t)),r},l.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||B(e,t,this.length);for(var r=t,o=1,a=this[e+--r];r>0&&(o*=256);)a+=this[e+--r]*o;return a>=(o*=128)&&(a-=Math.pow(2,8*t)),a},l.prototype.readInt8=function(e,t){return t||B(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||B(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){t||B(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return t||B(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||B(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||B(e,4,this.length),o.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||B(e,4,this.length),o.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||B(e,8,this.length),o.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||B(e,8,this.length),o.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,n,r){e=+e,t|=0,n|=0,r||I(this,e,t,n,Math.pow(2,8*n)-1,0);var o=1,a=0;for(this[t]=255&e;++a<n&&(o*=256);)this[t+a]=e/o&255;return t+n},l.prototype.writeUIntBE=function(e,t,n,r){e=+e,t|=0,n|=0,r||I(this,e,t,n,Math.pow(2,8*n)-1,0);var o=n-1,a=1;for(this[t+o]=255&e;--o>=0&&(a*=256);)this[t+o]=e/a&255;return t+n},l.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):_(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):_(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):k(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):k(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);I(this,e,t,n,o-1,-o)}var a=0,i=1,s=0;for(this[t]=255&e;++a<n&&(i*=256);)e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/i>>0)-s&255;return t+n},l.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);I(this,e,t,n,o-1,-o)}var a=n-1,i=1,s=0;for(this[t+a]=255&e;--a>=0&&(i*=256);)e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/i>>0)-s&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):_(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):_(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):k(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):k(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,n){return A(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return A(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return P(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return P(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var o,a=r-n;if(this===e&&n<t&&t<r)for(o=a-1;o>=0;--o)e[o+t]=this[o+n];else if(a<1e3||!l.TYPED_ARRAY_SUPPORT)for(o=0;o<a;++o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+a),t);return a},l.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var a;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(a=t;a<n;++a)this[a]=e;else{var i=l.isBuffer(e)?e:U(new l(e,r).toString()),s=i.length;for(a=0;a<n-t;++a)this[a+t]=i[a%s]}return this};var E=/[^+\/0-9A-Za-z-_]/g;function N(e){return e<16?"0"+e.toString(16):e.toString(16)}function U(e,t){var n;t=t||1/0;for(var r=e.length,o=null,a=[],i=0;i<r;++i){if((n=e.charCodeAt(i))>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(i+1===r){(t-=3)>-1&&a.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&a.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&a.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;a.push(n)}else if(n<2048){if((t-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return a}function V(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(E,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function H(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}}).call(this,n(10))},function(e,t,n){t.byteLength=function(e){var t=u(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,r=u(e),i=r[0],s=r[1],l=new a(function(e,t,n){return 3*(t+n)/4-n}(0,i,s)),c=0,d=s>0?i-4:i;for(n=0;n<d;n+=4)t=o[e.charCodeAt(n)]<<18|o[e.charCodeAt(n+1)]<<12|o[e.charCodeAt(n+2)]<<6|o[e.charCodeAt(n+3)],l[c++]=t>>16&255,l[c++]=t>>8&255,l[c++]=255&t;return 2===s&&(t=o[e.charCodeAt(n)]<<2|o[e.charCodeAt(n+1)]>>4,l[c++]=255&t),1===s&&(t=o[e.charCodeAt(n)]<<10|o[e.charCodeAt(n+1)]<<4|o[e.charCodeAt(n+2)]>>2,l[c++]=t>>8&255,l[c++]=255&t),l},t.fromByteArray=function(e){for(var t,n=e.length,o=n%3,a=[],i=0,s=n-o;i<s;i+=16383)a.push(c(e,i,i+16383>s?s:i+16383));return 1===o?(t=e[n-1],a.push(r[t>>2]+r[t<<4&63]+"==")):2===o&&(t=(e[n-2]<<8)+e[n-1],a.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"=")),a.join("")};for(var r=[],o=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=i.length;s<l;++s)r[s]=i[s],o[i.charCodeAt(s)]=s;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e,t,n){for(var o,a,i=[],s=t;s<n;s+=3)o=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),i.push(r[(a=o)>>18&63]+r[a>>12&63]+r[a>>6&63]+r[63&a]);return i.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,o){var a,i,s=8*o-r-1,l=(1<<s)-1,u=l>>1,c=-7,d=n?o-1:0,f=n?-1:1,h=e[t+d];for(d+=f,a=h&(1<<-c)-1,h>>=-c,c+=s;c>0;a=256*a+e[t+d],d+=f,c-=8);for(i=a&(1<<-c)-1,a>>=-c,c+=r;c>0;i=256*i+e[t+d],d+=f,c-=8);if(0===a)a=1-u;else{if(a===l)return i?NaN:1/0*(h?-1:1);i+=Math.pow(2,r),a-=u}return(h?-1:1)*i*Math.pow(2,a-r)},t.write=function(e,t,n,r,o,a){var i,s,l,u=8*a-o-1,c=(1<<u)-1,d=c>>1,f=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:a-1,p=r?1:-1,O=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,i=c):(i=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-i))<1&&(i--,l*=2),(t+=i+d>=1?f/l:f*Math.pow(2,1-d))*l>=2&&(i++,l/=2),i+d>=c?(s=0,i=c):i+d>=1?(s=(t*l-1)*Math.pow(2,o),i+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,o),i=0));o>=8;e[n+h]=255&s,h+=p,s/=256,o-=8);for(i=i<<o|s,u+=o;u>0;e[n+h]=255&i,h+=p,i/=256,u-=8);e[n+h-p]|=128*O}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){var r,o;void 0===(o="function"==typeof(r=function(){var e,t,n,r;Object.keys||(Object.keys=(e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),r=(n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"]).length,function(o){if("object"!=typeof o&&"function"!=typeof o||null===o)throw new TypeError("Object.keys called on non-object");var a=[];for(var i in o)e.call(o,i)&&a.push(i);if(t)for(var s=0;s<r;s++)e.call(o,n[s])&&a.push(n[s]);return a})),Object.create||(Object.create=function(){function e(){}return function(t){if(1!==arguments.length)throw new Error("Object.create implementation only accepts one parameter.");return e.prototype=t,new e}}()),Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){if(null===this)throw new TypeError;var t=Object(this),n=t.length>>>0;if(0===n)return-1;var r=0;if(arguments.length>1&&((r=Number(arguments[1]))!=r?r=0:0!==r&&r!==1/0&&r!==-1/0&&(r=(r>0||-1)*Math.floor(Math.abs(r)))),r>=n)return-1;for(var o=r>=0?r:Math.max(n-Math.abs(r),0);o<n;o++)if(o in t&&t[o]===e)return o;return-1}),Object.isFrozen||(Object.isFrozen=function(e){for(var t="tv4_test_frozen_key";e.hasOwnProperty(t);)t+=Math.random();try{return e[t]=!0,delete e[t],!1}catch(e){return!0}});var o={"+":!0,"#":!0,".":!0,"/":!0,";":!0,"?":!0,"&":!0},a={"*":!0};function i(e){return encodeURI(e).replace(/%25[0-9][0-9]/g,(function(e){return"%"+e.substring(3)}))}function s(e){var t="";o[e.charAt(0)]&&(t=e.charAt(0),e=e.substring(1));var n="",r="",s=!0,l=!1,u=!1;"+"===t?s=!1:"."===t?(r=".",n="."):"/"===t?(r="/",n="/"):"#"===t?(r="#",s=!1):";"===t?(r=";",n=";",l=!0,u=!0):"?"===t?(r="?",n="&",l=!0):"&"===t&&(r="&",n="&",l=!0);for(var c=[],d=e.split(","),f=[],h={},p=0;p<d.length;p++){var O=d[p],g=null;if(-1!==O.indexOf(":")){var m=O.split(":");O=m[0],g=parseInt(m[1],10)}for(var M={};a[O.charAt(O.length-1)];)M[O.charAt(O.length-1)]=!0,O=O.substring(0,O.length-1);var K={truncate:g,name:O,suffices:M};f.push(K),h[O]=K,c.push(O)}var v=function(e){for(var t="",o=0,a=0;a<f.length;a++){var c=f[a],d=e(c.name);if(null==d||Array.isArray(d)&&0===d.length||"object"==typeof d&&0===Object.keys(d).length)o++;else if(t+=a===o?r:n||",",Array.isArray(d)){l&&(t+=c.name+"=");for(var h=0;h<d.length;h++)h>0&&(t+=c.suffices["*"]&&n||",",c.suffices["*"]&&l&&(t+=c.name+"=")),t+=s?encodeURIComponent(d[h]).replace(/!/g,"%21"):i(d[h])}else if("object"==typeof d){l&&!c.suffices["*"]&&(t+=c.name+"=");var p=!0;for(var O in d)p||(t+=c.suffices["*"]&&n||","),p=!1,t+=s?encodeURIComponent(O).replace(/!/g,"%21"):i(O),t+=c.suffices["*"]?"=":",",t+=s?encodeURIComponent(d[O]).replace(/!/g,"%21"):i(d[O])}else l&&(t+=c.name,u&&""===d||(t+="=")),null!=c.truncate&&(d=d.substring(0,c.truncate)),t+=s?encodeURIComponent(d).replace(/!/g,"%21"):i(d)}return t};return v.varNames=c,{prefix:r,substitution:v}}function l(e){if(!(this instanceof l))return new l(e);for(var t=e.split("{"),n=[t.shift()],r=[],o=[],a=[];t.length>0;){var i=t.shift(),u=i.split("}")[0],c=i.substring(u.length+1),d=s(u);o.push(d.substitution),r.push(d.prefix),n.push(c),a=a.concat(d.substitution.varNames)}this.fill=function(e){for(var t=n[0],r=0;r<o.length;r++)t+=(0,o[r])(e),t+=n[r+1];return t},this.varNames=a,this.template=e}l.prototype={toString:function(){return this.template},fillFromObject:function(e){return this.fill((function(t){return e[t]}))}};var u=function(e,t,n,r,o){if(this.missing=[],this.missingMap={},this.formatValidators=e?Object.create(e.formatValidators):{},this.schemas=e?Object.create(e.schemas):{},this.collectMultiple=t,this.errors=[],this.handleError=t?this.collectError:this.returnError,r&&(this.checkRecursive=!0,this.scanned=[],this.scannedFrozen=[],this.scannedFrozenSchemas=[],this.scannedFrozenValidationErrors=[],this.validatedSchemasKey="tv4_validation_id",this.validationErrorsKey="tv4_validation_errors_id"),o&&(this.trackUnknownProperties=!0,this.knownPropertyPaths={},this.unknownPropertyPaths={}),this.errorReporter=n||m("en"),"string"==typeof this.errorReporter)throw new Error("debug");if(this.definedKeywords={},e)for(var a in e.definedKeywords)this.definedKeywords[a]=e.definedKeywords[a].slice(0)};function c(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){if(Array.isArray(e)!==Array.isArray(t))return!1;if(Array.isArray(e)){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!c(e[n],t[n]))return!1}else{var r;for(r in e)if(void 0===t[r]&&void 0!==e[r])return!1;for(r in t)if(void 0===e[r]&&void 0!==t[r])return!1;for(r in e)if(!c(e[r],t[r]))return!1}return!0}return!1}u.prototype.defineKeyword=function(e,t){this.definedKeywords[e]=this.definedKeywords[e]||[],this.definedKeywords[e].push(t)},u.prototype.createError=function(e,t,n,r,o,a,i){var s=new w(e,t,n,r,o);return s.message=this.errorReporter(s,a,i),s},u.prototype.returnError=function(e){return e},u.prototype.collectError=function(e){return e&&this.errors.push(e),null},u.prototype.prefixErrors=function(e,t,n){for(var r=e;r<this.errors.length;r++)this.errors[r]=this.errors[r].prefixWith(t,n);return this},u.prototype.banUnknownProperties=function(e,t){for(var n in this.unknownPropertyPaths){var r=this.createError(M.UNKNOWN_PROPERTY,{path:n},n,"",null,e,t),o=this.handleError(r);if(o)return o}return null},u.prototype.addFormat=function(e,t){if("object"==typeof e){for(var n in e)this.addFormat(n,e[n]);return this}this.formatValidators[e]=t},u.prototype.resolveRefs=function(e,t){if(void 0!==e.$ref){if((t=t||{})[e.$ref])return this.createError(M.CIRCULAR_REFERENCE,{urls:Object.keys(t).join(", ")},"","",null,void 0,e);t[e.$ref]=!0,e=this.getSchema(e.$ref,t)}return e},u.prototype.getSchema=function(e,t){var n;if(void 0!==this.schemas[e])return n=this.schemas[e],this.resolveRefs(n,t);var r=e,o="";if(-1!==e.indexOf("#")&&(o=e.substring(e.indexOf("#")+1),r=e.substring(0,e.indexOf("#"))),"object"==typeof this.schemas[r]){n=this.schemas[r];var a=decodeURIComponent(o);if(""===a)return this.resolveRefs(n,t);if("/"!==a.charAt(0))return;for(var i=a.split("/").slice(1),s=0;s<i.length;s++){var l=i[s].replace(/~1/g,"/").replace(/~0/g,"~");if(void 0===n[l]){n=void 0;break}n=n[l]}if(void 0!==n)return this.resolveRefs(n,t)}void 0===this.missing[r]&&(this.missing.push(r),this.missing[r]=r,this.missingMap[r]=r)},u.prototype.searchSchemas=function(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)this.searchSchemas(e[n],t);else if(e&&"object"==typeof e)for(var r in"string"==typeof e.id&&function(e,t){if(t.substring(0,e.length)===e){var n=t.substring(e.length);if(t.length>0&&"/"===t.charAt(e.length-1)||"#"===n.charAt(0)||"?"===n.charAt(0))return!0}return!1}(t,e.id)&&void 0===this.schemas[e.id]&&(this.schemas[e.id]=e),e)if("enum"!==r)if("object"==typeof e[r])this.searchSchemas(e[r],t);else if("$ref"===r){var o=O(e[r]);o&&void 0===this.schemas[o]&&void 0===this.missingMap[o]&&(this.missingMap[o]=o)}},u.prototype.addSchema=function(e,t){if("string"!=typeof e||void 0===t){if("object"!=typeof e||"string"!=typeof e.id)return;e=(t=e).id}e===O(e)+"#"&&(e=O(e)),this.schemas[e]=t,delete this.missingMap[e],g(t,e),this.searchSchemas(t,e)},u.prototype.getSchemaMap=function(){var e={};for(var t in this.schemas)e[t]=this.schemas[t];return e},u.prototype.getSchemaUris=function(e){var t=[];for(var n in this.schemas)e&&!e.test(n)||t.push(n);return t},u.prototype.getMissingUris=function(e){var t=[];for(var n in this.missingMap)e&&!e.test(n)||t.push(n);return t},u.prototype.dropSchemas=function(){this.schemas={},this.reset()},u.prototype.reset=function(){this.missing=[],this.missingMap={},this.errors=[]},u.prototype.validateAll=function(e,t,n,r,o){var a;if(!(t=this.resolveRefs(t)))return null;if(t instanceof w)return this.errors.push(t),t;var i,s=this.errors.length,l=null,u=null;if(this.checkRecursive&&e&&"object"==typeof e){if(a=!this.scanned.length,e[this.validatedSchemasKey]){var c=e[this.validatedSchemasKey].indexOf(t);if(-1!==c)return this.errors=this.errors.concat(e[this.validationErrorsKey][c]),null}if(Object.isFrozen(e)&&-1!==(i=this.scannedFrozen.indexOf(e))){var d=this.scannedFrozenSchemas[i].indexOf(t);if(-1!==d)return this.errors=this.errors.concat(this.scannedFrozenValidationErrors[i][d]),null}if(this.scanned.push(e),Object.isFrozen(e))-1===i&&(i=this.scannedFrozen.length,this.scannedFrozen.push(e),this.scannedFrozenSchemas.push([])),l=this.scannedFrozenSchemas[i].length,this.scannedFrozenSchemas[i][l]=t,this.scannedFrozenValidationErrors[i][l]=[];else{if(!e[this.validatedSchemasKey])try{Object.defineProperty(e,this.validatedSchemasKey,{value:[],configurable:!0}),Object.defineProperty(e,this.validationErrorsKey,{value:[],configurable:!0})}catch(t){e[this.validatedSchemasKey]=[],e[this.validationErrorsKey]=[]}u=e[this.validatedSchemasKey].length,e[this.validatedSchemasKey][u]=t,e[this.validationErrorsKey][u]=[]}}var f=this.errors.length,h=this.validateBasic(e,t,o)||this.validateNumeric(e,t,o)||this.validateString(e,t,o)||this.validateArray(e,t,o)||this.validateObject(e,t,o)||this.validateCombinations(e,t,o)||this.validateHypermedia(e,t,o)||this.validateFormat(e,t,o)||this.validateDefinedKeywords(e,t,o)||null;if(a){for(;this.scanned.length;)delete this.scanned.pop()[this.validatedSchemasKey];this.scannedFrozen=[],this.scannedFrozenSchemas=[]}if(h||f!==this.errors.length)for(;n&&n.length||r&&r.length;){var p=n&&n.length?""+n.pop():null,O=r&&r.length?""+r.pop():null;h&&(h=h.prefixWith(p,O)),this.prefixErrors(f,p,O)}return null!==l?this.scannedFrozenValidationErrors[i][l]=this.errors.slice(s):null!==u&&(e[this.validationErrorsKey][u]=this.errors.slice(s)),this.handleError(h)},u.prototype.validateFormat=function(e,t){if("string"!=typeof t.format||!this.formatValidators[t.format])return null;var n=this.formatValidators[t.format].call(null,e,t);return"string"==typeof n||"number"==typeof n?this.createError(M.FORMAT_CUSTOM,{message:n},"","/format",null,e,t):n&&"object"==typeof n?this.createError(M.FORMAT_CUSTOM,{message:n.message||"?"},n.dataPath||"",n.schemaPath||"/format",null,e,t):null},u.prototype.validateDefinedKeywords=function(e,t,n){for(var r in this.definedKeywords)if(void 0!==t[r])for(var o=this.definedKeywords[r],a=0;a<o.length;a++){var i=(0,o[a])(e,t[r],t,n);if("string"==typeof i||"number"==typeof i)return this.createError(M.KEYWORD_CUSTOM,{key:r,message:i},"","",null,e,t).prefixWith(null,r);if(i&&"object"==typeof i){var s=i.code;if("string"==typeof s){if(!M[s])throw new Error("Undefined error code (use defineError): "+s);s=M[s]}else"number"!=typeof s&&(s=M.KEYWORD_CUSTOM);var l="object"==typeof i.message?i.message:{key:r,message:i.message||"?"},u=i.schemaPath||"/"+r.replace(/~/g,"~0").replace(/\//g,"~1");return this.createError(s,l,i.dataPath||null,u,null,e,t)}}return null},u.prototype.validateBasic=function(e,t,n){var r;return(r=this.validateType(e,t,n))||(r=this.validateEnum(e,t,n))?r.prefixWith(null,"type"):null},u.prototype.validateType=function(e,t){if(void 0===t.type)return null;var n=typeof e;null===e?n="null":Array.isArray(e)&&(n="array");var r=t.type;Array.isArray(r)||(r=[r]);for(var o=0;o<r.length;o++){var a=r[o];if(a===n||"integer"===a&&"number"===n&&e%1==0)return null}return this.createError(M.INVALID_TYPE,{type:n,expected:r.join("/")},"","",null,e,t)},u.prototype.validateEnum=function(e,t){if(void 0===t.enum)return null;for(var n=0;n<t.enum.length;n++)if(c(e,t.enum[n]))return null;return this.createError(M.ENUM_MISMATCH,{value:"undefined"!=typeof JSON?JSON.stringify(e):e},"","",null,e,t)},u.prototype.validateNumeric=function(e,t,n){return this.validateMultipleOf(e,t,n)||this.validateMinMax(e,t,n)||this.validateNaN(e,t,n)||null};var d=Math.pow(2,-51),f=1-d;function h(e){var t=String(e).replace(/^\s+|\s+$/g,"").match(/^([^:\/?#]+:)?(\/\/(?:[^:@]*(?::[^:@]*)?@)?(([^:\/?#]*)(?::(\d*))?))?([^?#]*)(\?[^#]*)?(#[\s\S]*)?/);return t?{href:t[0]||"",protocol:t[1]||"",authority:t[2]||"",host:t[3]||"",hostname:t[4]||"",port:t[5]||"",pathname:t[6]||"",search:t[7]||"",hash:t[8]||""}:null}function p(e,t){return t=h(t||""),e=h(e||""),t&&e?(t.protocol||e.protocol)+(t.protocol||t.authority?t.authority:e.authority)+(n=t.protocol||t.authority||"/"===t.pathname.charAt(0)?t.pathname:t.pathname?(e.authority&&!e.pathname?"/":"")+e.pathname.slice(0,e.pathname.lastIndexOf("/")+1)+t.pathname:e.pathname,r=[],n.replace(/^(\.\.?(\/|$))+/,"").replace(/\/(\.(\/|$))+/g,"/").replace(/\/\.\.$/,"/../").replace(/\/?[^\/]*/g,(function(e){"/.."===e?r.pop():r.push(e)})),r.join("").replace(/^\//,"/"===n.charAt(0)?"/":""))+(t.protocol||t.authority||t.pathname?t.search:t.search||e.search)+t.hash:null;var n,r}function O(e){return e.split("#")[0]}function g(e,t){if(e&&"object"==typeof e)if(void 0===t?t=e.id:"string"==typeof e.id&&(t=p(t,e.id),e.id=t),Array.isArray(e))for(var n=0;n<e.length;n++)g(e[n],t);else for(var r in"string"==typeof e.$ref&&(e.$ref=p(t,e.$ref)),e)"enum"!==r&&g(e[r],t)}function m(e){var t=S[e=e||"en"];return function(e){var n=t[e.code]||T[e.code];if("string"!=typeof n)return"Unknown error code "+e.code+": "+JSON.stringify(e.messageParams);var r=e.params;return n.replace(/\{([^{}]*)\}/g,(function(e,t){var n=r[t];return"string"==typeof n||"number"==typeof n?n:e}))}}u.prototype.validateMultipleOf=function(e,t){var n=t.multipleOf||t.divisibleBy;if(void 0===n)return null;if("number"==typeof e){var r=e/n%1;if(r>=d&&r<f)return this.createError(M.NUMBER_MULTIPLE_OF,{value:e,multipleOf:n},"","",null,e,t)}return null},u.prototype.validateMinMax=function(e,t){if("number"!=typeof e)return null;if(void 0!==t.minimum){if(e<t.minimum)return this.createError(M.NUMBER_MINIMUM,{value:e,minimum:t.minimum},"","/minimum",null,e,t);if(t.exclusiveMinimum&&e===t.minimum)return this.createError(M.NUMBER_MINIMUM_EXCLUSIVE,{value:e,minimum:t.minimum},"","/exclusiveMinimum",null,e,t)}if(void 0!==t.maximum){if(e>t.maximum)return this.createError(M.NUMBER_MAXIMUM,{value:e,maximum:t.maximum},"","/maximum",null,e,t);if(t.exclusiveMaximum&&e===t.maximum)return this.createError(M.NUMBER_MAXIMUM_EXCLUSIVE,{value:e,maximum:t.maximum},"","/exclusiveMaximum",null,e,t)}return null},u.prototype.validateNaN=function(e,t){return"number"!=typeof e?null:!0===isNaN(e)||e===1/0||e===-1/0?this.createError(M.NUMBER_NOT_A_NUMBER,{value:e},"","/type",null,e,t):null},u.prototype.validateString=function(e,t,n){return this.validateStringLength(e,t,n)||this.validateStringPattern(e,t,n)||null},u.prototype.validateStringLength=function(e,t){return"string"!=typeof e?null:void 0!==t.minLength&&e.length<t.minLength?this.createError(M.STRING_LENGTH_SHORT,{length:e.length,minimum:t.minLength},"","/minLength",null,e,t):void 0!==t.maxLength&&e.length>t.maxLength?this.createError(M.STRING_LENGTH_LONG,{length:e.length,maximum:t.maxLength},"","/maxLength",null,e,t):null},u.prototype.validateStringPattern=function(e,t){if("string"!=typeof e||"string"!=typeof t.pattern&&!(t.pattern instanceof RegExp))return null;var n;if(t.pattern instanceof RegExp)n=t.pattern;else{var r,o="",a=t.pattern.match(/^\/(.+)\/([img]*)$/);a?(r=a[1],o=a[2]):r=t.pattern,n=new RegExp(r,o)}return n.test(e)?null:this.createError(M.STRING_PATTERN,{pattern:t.pattern},"","/pattern",null,e,t)},u.prototype.validateArray=function(e,t,n){return Array.isArray(e)&&(this.validateArrayLength(e,t,n)||this.validateArrayUniqueItems(e,t,n)||this.validateArrayItems(e,t,n))||null},u.prototype.validateArrayLength=function(e,t){var n;return void 0!==t.minItems&&e.length<t.minItems&&(n=this.createError(M.ARRAY_LENGTH_SHORT,{length:e.length,minimum:t.minItems},"","/minItems",null,e,t),this.handleError(n))||void 0!==t.maxItems&&e.length>t.maxItems&&(n=this.createError(M.ARRAY_LENGTH_LONG,{length:e.length,maximum:t.maxItems},"","/maxItems",null,e,t),this.handleError(n))?n:null},u.prototype.validateArrayUniqueItems=function(e,t){if(t.uniqueItems)for(var n=0;n<e.length;n++)for(var r=n+1;r<e.length;r++)if(c(e[n],e[r])){var o=this.createError(M.ARRAY_UNIQUE,{match1:n,match2:r},"","/uniqueItems",null,e,t);if(this.handleError(o))return o}return null},u.prototype.validateArrayItems=function(e,t,n){if(void 0===t.items)return null;var r,o;if(Array.isArray(t.items)){for(o=0;o<e.length;o++)if(o<t.items.length){if(r=this.validateAll(e[o],t.items[o],[o],["items",o],n+"/"+o))return r}else if(void 0!==t.additionalItems)if("boolean"==typeof t.additionalItems){if(!t.additionalItems&&(r=this.createError(M.ARRAY_ADDITIONAL_ITEMS,{},"/"+o,"/additionalItems",null,e,t),this.handleError(r)))return r}else if(r=this.validateAll(e[o],t.additionalItems,[o],["additionalItems"],n+"/"+o))return r}else for(o=0;o<e.length;o++)if(r=this.validateAll(e[o],t.items,[o],["items"],n+"/"+o))return r;return null},u.prototype.validateObject=function(e,t,n){return"object"!=typeof e||null===e||Array.isArray(e)?null:this.validateObjectMinMaxProperties(e,t,n)||this.validateObjectRequiredProperties(e,t,n)||this.validateObjectProperties(e,t,n)||this.validateObjectDependencies(e,t,n)||null},u.prototype.validateObjectMinMaxProperties=function(e,t){var n,r=Object.keys(e);return void 0!==t.minProperties&&r.length<t.minProperties&&(n=this.createError(M.OBJECT_PROPERTIES_MINIMUM,{propertyCount:r.length,minimum:t.minProperties},"","/minProperties",null,e,t),this.handleError(n))||void 0!==t.maxProperties&&r.length>t.maxProperties&&(n=this.createError(M.OBJECT_PROPERTIES_MAXIMUM,{propertyCount:r.length,maximum:t.maxProperties},"","/maxProperties",null,e,t),this.handleError(n))?n:null},u.prototype.validateObjectRequiredProperties=function(e,t){if(void 0!==t.required)for(var n=0;n<t.required.length;n++){var r=t.required[n];if(void 0===e[r]){var o=this.createError(M.OBJECT_REQUIRED,{key:r},"","/required/"+n,null,e,t);if(this.handleError(o))return o}}return null},u.prototype.validateObjectProperties=function(e,t,n){var r;for(var o in e){var a=n+"/"+o.replace(/~/g,"~0").replace(/\//g,"~1"),i=!1;if(void 0!==t.properties&&void 0!==t.properties[o]&&(i=!0,r=this.validateAll(e[o],t.properties[o],[o],["properties",o],a)))return r;if(void 0!==t.patternProperties)for(var s in t.patternProperties)if(new RegExp(s).test(o)&&(i=!0,r=this.validateAll(e[o],t.patternProperties[s],[o],["patternProperties",s],a)))return r;if(i)this.trackUnknownProperties&&(this.knownPropertyPaths[a]=!0,delete this.unknownPropertyPaths[a]);else if(void 0!==t.additionalProperties){if(this.trackUnknownProperties&&(this.knownPropertyPaths[a]=!0,delete this.unknownPropertyPaths[a]),"boolean"==typeof t.additionalProperties){if(!t.additionalProperties&&(r=this.createError(M.OBJECT_ADDITIONAL_PROPERTIES,{key:o},"","/additionalProperties",null,e,t).prefixWith(o,null),this.handleError(r)))return r}else if(r=this.validateAll(e[o],t.additionalProperties,[o],["additionalProperties"],a))return r}else this.trackUnknownProperties&&!this.knownPropertyPaths[a]&&(this.unknownPropertyPaths[a]=!0)}return null},u.prototype.validateObjectDependencies=function(e,t,n){var r;if(void 0!==t.dependencies)for(var o in t.dependencies)if(void 0!==e[o]){var a=t.dependencies[o];if("string"==typeof a){if(void 0===e[a]&&(r=this.createError(M.OBJECT_DEPENDENCY_KEY,{key:o,missing:a},"","",null,e,t).prefixWith(null,o).prefixWith(null,"dependencies"),this.handleError(r)))return r}else if(Array.isArray(a))for(var i=0;i<a.length;i++){var s=a[i];if(void 0===e[s]&&(r=this.createError(M.OBJECT_DEPENDENCY_KEY,{key:o,missing:s},"","/"+i,null,e,t).prefixWith(null,o).prefixWith(null,"dependencies"),this.handleError(r)))return r}else if(r=this.validateAll(e,a,[],["dependencies",o],n))return r}return null},u.prototype.validateCombinations=function(e,t,n){return this.validateAllOf(e,t,n)||this.validateAnyOf(e,t,n)||this.validateOneOf(e,t,n)||this.validateNot(e,t,n)||null},u.prototype.validateAllOf=function(e,t,n){if(void 0===t.allOf)return null;for(var r,o=0;o<t.allOf.length;o++){var a=t.allOf[o];if(r=this.validateAll(e,a,[],["allOf",o],n))return r}return null},u.prototype.validateAnyOf=function(e,t,n){if(void 0===t.anyOf)return null;var r,o,a=[],i=this.errors.length;this.trackUnknownProperties&&(r=this.unknownPropertyPaths,o=this.knownPropertyPaths);for(var s=!0,l=0;l<t.anyOf.length;l++){this.trackUnknownProperties&&(this.unknownPropertyPaths={},this.knownPropertyPaths={});var u=t.anyOf[l],c=this.errors.length,d=this.validateAll(e,u,[],["anyOf",l],n);if(null===d&&c===this.errors.length){if(this.errors=this.errors.slice(0,i),this.trackUnknownProperties){for(var f in this.knownPropertyPaths)o[f]=!0,delete r[f];for(var h in this.unknownPropertyPaths)o[h]||(r[h]=!0);s=!1;continue}return null}d&&a.push(d.prefixWith(null,""+l).prefixWith(null,"anyOf"))}return this.trackUnknownProperties&&(this.unknownPropertyPaths=r,this.knownPropertyPaths=o),s?(a=a.concat(this.errors.slice(i)),this.errors=this.errors.slice(0,i),this.createError(M.ANY_OF_MISSING,{},"","/anyOf",a,e,t)):void 0},u.prototype.validateOneOf=function(e,t,n){if(void 0===t.oneOf)return null;var r,o,a=null,i=[],s=this.errors.length;this.trackUnknownProperties&&(r=this.unknownPropertyPaths,o=this.knownPropertyPaths);for(var l=0;l<t.oneOf.length;l++){this.trackUnknownProperties&&(this.unknownPropertyPaths={},this.knownPropertyPaths={});var u=t.oneOf[l],c=this.errors.length,d=this.validateAll(e,u,[],["oneOf",l],n);if(null===d&&c===this.errors.length){if(null!==a)return this.errors=this.errors.slice(0,s),this.createError(M.ONE_OF_MULTIPLE,{index1:a,index2:l},"","/oneOf",null,e,t);if(a=l,this.trackUnknownProperties){for(var f in this.knownPropertyPaths)o[f]=!0,delete r[f];for(var h in this.unknownPropertyPaths)o[h]||(r[h]=!0)}}else d&&i.push(d)}return this.trackUnknownProperties&&(this.unknownPropertyPaths=r,this.knownPropertyPaths=o),null===a?(i=i.concat(this.errors.slice(s)),this.errors=this.errors.slice(0,s),this.createError(M.ONE_OF_MISSING,{},"","/oneOf",i,e,t)):(this.errors=this.errors.slice(0,s),null)},u.prototype.validateNot=function(e,t,n){if(void 0===t.not)return null;var r,o,a=this.errors.length;this.trackUnknownProperties&&(r=this.unknownPropertyPaths,o=this.knownPropertyPaths,this.unknownPropertyPaths={},this.knownPropertyPaths={});var i=this.validateAll(e,t.not,null,null,n),s=this.errors.slice(a);return this.errors=this.errors.slice(0,a),this.trackUnknownProperties&&(this.unknownPropertyPaths=r,this.knownPropertyPaths=o),null===i&&0===s.length?this.createError(M.NOT_PASSED,{},"","/not",null,e,t):null},u.prototype.validateHypermedia=function(e,t,n){if(!t.links)return null;for(var r,o=0;o<t.links.length;o++){var a=t.links[o];if("describedby"===a.rel){for(var i=new l(a.href),s=!0,u=0;u<i.varNames.length;u++)if(!(i.varNames[u]in e)){s=!1;break}if(s){var c={$ref:i.fillFromObject(e)};if(r=this.validateAll(e,c,[],["links",o],n))return r}}}};var M={INVALID_TYPE:0,ENUM_MISMATCH:1,ANY_OF_MISSING:10,ONE_OF_MISSING:11,ONE_OF_MULTIPLE:12,NOT_PASSED:13,NUMBER_MULTIPLE_OF:100,NUMBER_MINIMUM:101,NUMBER_MINIMUM_EXCLUSIVE:102,NUMBER_MAXIMUM:103,NUMBER_MAXIMUM_EXCLUSIVE:104,NUMBER_NOT_A_NUMBER:105,STRING_LENGTH_SHORT:200,STRING_LENGTH_LONG:201,STRING_PATTERN:202,OBJECT_PROPERTIES_MINIMUM:300,OBJECT_PROPERTIES_MAXIMUM:301,OBJECT_REQUIRED:302,OBJECT_ADDITIONAL_PROPERTIES:303,OBJECT_DEPENDENCY_KEY:304,ARRAY_LENGTH_SHORT:400,ARRAY_LENGTH_LONG:401,ARRAY_UNIQUE:402,ARRAY_ADDITIONAL_ITEMS:403,FORMAT_CUSTOM:500,KEYWORD_CUSTOM:501,CIRCULAR_REFERENCE:600,UNKNOWN_PROPERTY:1e3},K={};for(var v in M)K[M[v]]=v;var T={INVALID_TYPE:"Invalid type: {type} (expected {expected})",ENUM_MISMATCH:"No enum match for: {value}",ANY_OF_MISSING:'Data does not match any schemas from "anyOf"',ONE_OF_MISSING:'Data does not match any schemas from "oneOf"',ONE_OF_MULTIPLE:'Data is valid against more than one schema from "oneOf": indices {index1} and {index2}',NOT_PASSED:'Data matches schema from "not"',NUMBER_MULTIPLE_OF:"Value {value} is not a multiple of {multipleOf}",NUMBER_MINIMUM:"Value {value} is less than minimum {minimum}",NUMBER_MINIMUM_EXCLUSIVE:"Value {value} is equal to exclusive minimum {minimum}",NUMBER_MAXIMUM:"Value {value} is greater than maximum {maximum}",NUMBER_MAXIMUM_EXCLUSIVE:"Value {value} is equal to exclusive maximum {maximum}",NUMBER_NOT_A_NUMBER:"Value {value} is not a valid number",STRING_LENGTH_SHORT:"String is too short ({length} chars), minimum {minimum}",STRING_LENGTH_LONG:"String is too long ({length} chars), maximum {maximum}",STRING_PATTERN:"String does not match pattern: {pattern}",OBJECT_PROPERTIES_MINIMUM:"Too few properties defined ({propertyCount}), minimum {minimum}",OBJECT_PROPERTIES_MAXIMUM:"Too many properties defined ({propertyCount}), maximum {maximum}",OBJECT_REQUIRED:"Missing required property: {key}",OBJECT_ADDITIONAL_PROPERTIES:"Additional properties not allowed",OBJECT_DEPENDENCY_KEY:"Dependency failed - key must exist: {missing} (due to key: {key})",ARRAY_LENGTH_SHORT:"Array is too short ({length}), minimum {minimum}",ARRAY_LENGTH_LONG:"Array is too long ({length}), maximum {maximum}",ARRAY_UNIQUE:"Array items are not unique (indices {match1} and {match2})",ARRAY_ADDITIONAL_ITEMS:"Additional items not allowed",FORMAT_CUSTOM:"Format validation failed ({message})",KEYWORD_CUSTOM:"Keyword failed: {key} ({message})",CIRCULAR_REFERENCE:"Circular $refs: {urls}",UNKNOWN_PROPERTY:"Unknown property (not in schema)"};function w(e,t,n,r,o){if(Error.call(this),void 0===e)throw new Error("No error code supplied: "+r);this.message="",this.params=t,this.code=e,this.dataPath=n||"",this.schemaPath=r||"",this.subErrors=o||null;var a=new Error(this.message);if(this.stack=a.stack||a.stacktrace,!this.stack)try{throw a}catch(a){this.stack=a.stack||a.stacktrace}}w.prototype=Object.create(Error.prototype),w.prototype.constructor=w,w.prototype.name="ValidationError",w.prototype.prefixWith=function(e,t){if(null!==e&&(e=e.replace(/~/g,"~0").replace(/\//g,"~1"),this.dataPath="/"+e+this.dataPath),null!==t&&(t=t.replace(/~/g,"~0").replace(/\//g,"~1"),this.schemaPath="/"+t+this.schemaPath),null!==this.subErrors)for(var n=0;n<this.subErrors.length;n++)this.subErrors[n].prefixWith(e,t);return this};var S={},x=function e(t){var n,r,o=new u,a={setErrorReporter:function(e){return"string"==typeof e?this.language(e):(r=e,!0)},addFormat:function(){o.addFormat.apply(o,arguments)},language:function(e){return e?(S[e]||(e=e.split("-")[0]),!!S[e]&&(n=e,e)):n},addLanguage:function(e,t){var n;for(n in M)t[n]&&!t[M[n]]&&(t[M[n]]=t[n]);var r=e.split("-")[0];if(S[r])for(n in S[e]=Object.create(S[r]),t)void 0===S[r][n]&&(S[r][n]=t[n]),S[e][n]=t[n];else S[e]=t,S[r]=t;return this},freshApi:function(t){var n=e();return t&&n.language(t),n},validate:function(e,t,a,i){var s=m(n),l=new u(o,!1,r?function(e,t,n){return r(e,t,n)||s(e,t,n)}:s,a,i);"string"==typeof t&&(t={$ref:t}),l.addSchema("",t);var c=l.validateAll(e,t,null,null,"");return!c&&i&&(c=l.banUnknownProperties(e,t)),this.error=c,this.missing=l.missing,this.valid=null===c,this.valid},validateResult:function(){var e={toString:function(){return this.valid?"valid":this.error.message}};return this.validate.apply(e,arguments),e},validateMultiple:function(e,t,a,i){var s=m(n),l=new u(o,!0,r?function(e,t,n){return r(e,t,n)||s(e,t,n)}:s,a,i);"string"==typeof t&&(t={$ref:t}),l.addSchema("",t),l.validateAll(e,t,null,null,""),i&&l.banUnknownProperties(e,t);var c={toString:function(){return this.valid?"valid":this.error.message}};return c.errors=l.errors,c.missing=l.missing,c.valid=0===c.errors.length,c},addSchema:function(){return o.addSchema.apply(o,arguments)},getSchema:function(){return o.getSchema.apply(o,arguments)},getSchemaMap:function(){return o.getSchemaMap.apply(o,arguments)},getSchemaUris:function(){return o.getSchemaUris.apply(o,arguments)},getMissingUris:function(){return o.getMissingUris.apply(o,arguments)},dropSchemas:function(){o.dropSchemas.apply(o,arguments)},defineKeyword:function(){o.defineKeyword.apply(o,arguments)},defineError:function(e,t,n){if("string"!=typeof e||!/^[A-Z]+(_[A-Z]+)*$/.test(e))throw new Error("Code name must be a string in UPPER_CASE_WITH_UNDERSCORES");if("number"!=typeof t||t%1!=0||t<1e4)throw new Error("Code number must be an integer > 10000");if(void 0!==M[e])throw new Error("Error already defined: "+e+" as "+M[e]);if(void 0!==K[t])throw new Error("Error code already used: "+K[t]+" as "+t);for(var r in M[e]=t,K[t]=e,T[e]=T[t]=n,S){var o=S[r];o[e]&&(o[t]=o[t]||o[e])}},reset:function(){o.reset(),this.error=null,this.missing=[],this.valid=!0},missing:[],error:null,valid:!0,normSchema:g,resolveUrl:p,getDocumentUri:O,errorCodes:M};return a.language(t||"en"),a}();return x.addLanguage("en-gb",T),x.tv4=x,x})?r.apply(t,[]):r)||(e.exports=o)},function(e,t){var n={uris:{},schemas:{},aliases:{},declare:function(e,t,n,r){var o=e+"/"+t;if(r.extends){var a,i=r.extends.split("/");a=1===i.length?e+"/"+i.shift():i.join("/");var s=this.uris[a];if(!s)throw"Type '"+o+"' tries to extend unknown schema '"+a+"'";r.extends=this.schemas[s]}this.uris[o]=n,this.aliases[n]=o,this.schemas[n]=r},resolveAlias:function(e){return this.uris[e]},getSchema:function(e){return this.schemas[e]},inScope:function(e){var t=e.length,n={};for(var r in this.uris)if(r.substr(0,t+1)===e+"/"){var o=this.uris[r];n[o]=this.schemas[o]}return n}},r=function(e){var t=new Error("Schema not found: "+e);return t.name="SchemaNotFound",t};r.prototype=Error.prototype,n.SchemaNotFound=r,e.exports=n},function(e,t){function n(e){this.defaultValue=e,this._canPropagate=!1,this._storage={},this._itemsRev={},this.activatePropagation()}n.prototype={get:function(e){e=e.toLowerCase();var t=this._storage[e];return void 0===t&&(t=this.defaultValue,this._storage[e]=t),t},set:function(e,t){return e=e.toLowerCase(),this._storage[e]===t||(this._storage[e]=t,t||delete this._itemsRev[e],this._updateParentFolderItemRev(e,t),this._canPropagate&&this._propagate(e)),t},delete:function(e){return this.set(e,null)},deactivatePropagation:function(){return this._canPropagate=!1,!0},activatePropagation:function(){return!!this._canPropagate||(this._generateFolderRev("/"),this._canPropagate=!0,!0)},_hashCode:function(e){var t,n=0;if(0===e.length)return n;for(t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return n},_generateHash:function(e){var t=e.sort().join("|");return""+this._hashCode(t)},_updateParentFolderItemRev:function(e,t){if("/"!==e){var n=this._getParentFolder(e);this._itemsRev[n]||(this._itemsRev[n]={});var r=this._itemsRev[n];t?r[e]=t:delete r[e],this._updateParentFolderItemRev(n,this.defaultValue)}},_getParentFolder:function(e){return e.substr(0,e.lastIndexOf("/",e.length-2)+1)},_propagate:function(e){if("/"!==e){var t=this._getParentFolder(e),n=this._itemsRev[t],r=[];for(var o in n)r.push(n[o]);var a=this._generateHash(r);this.set(t,a)}},_generateFolderRev:function(e){var t=this._itemsRev[e],n=this.defaultValue;if(t){var r=[];for(var o in t){var a;a="/"===o.substr(-1)?this._generateFolderRev(o):t[o],r.push(a)}r.length>0&&(n=this._generateHash(r))}return this.set(e,n),n}},e.exports=n},function(e,t,n){var r;
/*!
     * webfinger.js
     *   version 2.7.0
     *   http://github.com/silverbucket/webfinger.js
     *
     * Developed and Maintained by:
     *   Nick Jennings <nick@silverbucket.net> 2012
     *
     * webfinger.js is released under the AGPL (see LICENSE).
     *
     * You don't have to do anything special to choose one license or the other and you don't
     * have to notify anyone which license you are using.
     * Please see the corresponding license file for details of these licenses.
     * You are free to use, modify and distribute this software, but all copyright
     * information must remain.
     *
     */"function"!=typeof fetch&&"function"!=typeof XMLHttpRequest&&(XMLHttpRequest=n(26)),function(n){var o={"http://webfist.org/spec/rel":"webfist","http://webfinger.net/rel/avatar":"avatar",remotestorage:"remotestorage","http://tools.ietf.org/id/draft-dejong-remotestorage":"remotestorage",remoteStorage:"remotestorage","http://www.packetizer.com/rel/share":"share","http://webfinger.net/rel/profile-page":"profile",me:"profile",vcard:"vcard",blog:"blog","http://packetizer.com/rel/blog":"blog","http://schemas.google.com/g/2010#updates-from":"updates","https://camlistore.org/rel/server":"camilstore"},a={avatar:[],remotestorage:[],blog:[],vcard:[],updates:[],share:[],profile:[],webfist:[],camlistore:[]},i=["webfinger","host-meta","host-meta.json"];function s(e){return e.toString=function(){return this.message},e}function l(e){"object"!=typeof e&&(e={}),this.config={tls_only:void 0===e.tls_only||e.tls_only,webfist_fallback:void 0!==e.webfist_fallback&&e.webfist_fallback,uri_fallback:void 0!==e.uri_fallback&&e.uri_fallback,request_timeout:void 0!==e.request_timeout?e.request_timeout:1e4}}l.prototype.__fetchJRD=function(e,t,n){if("function"==typeof fetch)return this.__fetchJRD_fetch(e,t,n);if("function"==typeof XMLHttpRequest)return this.__fetchJRD_XHR(e,t,n);throw new Error("add a polyfill for fetch or XMLHttpRequest")},l.prototype.__fetchJRD_fetch=function(e,t,n){var r,o=this;"function"==typeof AbortController&&(r=new AbortController);var a=fetch(e,{headers:{Accept:"application/jrd+json, application/json"},signal:r?r.signal:void 0}).then((function(t){if(t.ok)return t.text();throw 404===t.status?s({message:"resource not found",url:e,status:t.status}):s({message:"error during request",url:e,status:t.status})}),(function(t){throw s({message:"error during request",url:e,status:void 0,err:t})})).then((function(t){if(o.__isValidJSON(t))return t;throw s({message:"invalid json",url:e,status:void 0})})),i=new Promise((function(t,n){setTimeout((function(){n(s({message:"request timed out",url:e,status:void 0})),r&&r.abort()}),o.config.request_timeout)}));Promise.race([a,i]).then((function(e){n(e)})).catch((function(e){t(e)}))},l.prototype.__fetchJRD_XHR=function(e,t,n){var r=this,o=!1,a=new XMLHttpRequest;function i(){if(!o)return o=!0,200===a.status?r.__isValidJSON(a.responseText)?n(a.responseText):t(s({message:"invalid json",url:e,status:a.status})):404===a.status?t(s({message:"resource not found",url:e,status:a.status})):a.status>=301&&a.status<=302?function(e){return"string"==typeof e&&"https"===e.split("://")[0]}(a.getResponseHeader("Location"))?l():t(s({message:"no redirect URL found",url:e,status:a.status})):t(s({message:"error during request",url:e,status:a.status}))}function l(){a.onreadystatechange=function(){4===a.readyState&&i()},a.onload=function(){i()},a.ontimeout=function(){return t(s({message:"request timed out",url:e,status:a.status}))},a.open("GET",e,!0),a.timeout=r.config.request_timeout,a.setRequestHeader("Accept","application/jrd+json, application/json"),a.send()}return l()},l.prototype.__isValidJSON=function(e){try{JSON.parse(e)}catch(e){return!1}return!0},l.prototype.__isLocalhost=function(e){return/^localhost(\.localdomain)?(\:[0-9]+)?$/.test(e)},l.prototype.__processJRD=function(e,t,n,r){var i=JSON.parse(t);if("object"!=typeof i||"object"!=typeof i.links)return void 0!==i.error?n(s({message:i.error,request:e})):n(s({message:"unknown response from server",request:e}));var l=i.links;Array.isArray(l)||(l=[]);var u={object:i,json:t,idx:{}};u.idx.properties={name:void 0},u.idx.links=JSON.parse(JSON.stringify(a)),l.map((function(e,t){if(o.hasOwnProperty(e.rel)&&u.idx.links[o[e.rel]]){var n={};Object.keys(e).map((function(t,r){n[t]=e[t]})),u.idx.links[o[e.rel]].push(n)}}));var c=JSON.parse(t).properties;for(var d in c)c.hasOwnProperty(d)&&"http://packetizer.com/ns/name"===d&&(u.idx.properties.name=c[d]);return r(u)},l.prototype.lookup=function(e,t){if("string"!=typeof e)throw new Error("first parameter must be a user address");if("function"!=typeof t)throw new Error("second parameter must be a callback");var n=this,r="";r=e.indexOf("://")>-1?e.replace(/ /g,"").split("/")[2]:e.replace(/ /g,"").split("@")[1];var o=0,a="https";function s(){var t="";return e.split("://")[1]||(t="acct:"),a+"://"+r+"/.well-known/"+i[o]+"?resource="+t+e}function l(e){if(n.config.uri_fallback&&"webfist.org"!==r&&o!==i.length-1)return o+=1,u();if(!n.config.tls_only&&"https"===a)return o=0,a="http",u();if(!n.config.webfist_fallback||"webfist.org"===r)return t(e);o=0,a="http",r="webfist.org";var l=s();n.__fetchJRD(l,t,(function(e){n.__processJRD(l,e,t,(function(e){"object"==typeof e.idx.links.webfist&&"string"==typeof e.idx.links.webfist[0].href&&n.__fetchJRD(e.idx.links.webfist[0].href,t,(function(e){n.__processJRD(l,e,t,(function(e){return t(null,t)}))}))}))}))}function u(){var e=s();n.__fetchJRD(e,l,(function(r){n.__processJRD(e,r,t,(function(e){t(null,e)}))}))}return n.__isLocalhost(r)&&(a="http"),setTimeout(u,0)},l.prototype.lookupLink=function(e,t,n){if(!a.hasOwnProperty(t))return n("unsupported rel "+t);this.lookup(e,(function(e,r){var o=r.idx.links[t];return e?n(e):0===o.length?n('no links found with rel="'+t+'"'):n(null,o[0])}))},void 0===(r=function(){return l}.apply(t,[]))||(e.exports=r)}()},function(e,t){e.exports=XMLHttpRequest},function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=n(0),a=n(1),i=n(28),s=n(3),l={features:[],featuresDone:0,readyFired:!1,loadFeatures:function(){var e=this;for(var t in this.features=[],this.featuresDone=0,this.readyFired=!1,this.featureModules={WireClient:n(6),Dropbox:n(11),GoogleDrive:n(13),Access:n(15),Discover:n(14),Authorize:n(4),BaseClient:n(5),Env:n(12)},s.cache&&o.extend(this.featureModules,{Caching:n(16),IndexedDB:n(29),LocalStorage:n(30),InMemoryStorage:n(31),Sync:n(7)}),s.disableFeatures.forEach((function(t){e.featureModules[t]&&delete e.featureModules[t]})),this._allLoaded=!1,this.featureModules)this.loadFeature(t)},hasFeature:function(e){for(var t=this.features.length-1;t>=0;t--)if(this.features[t].name===e)return this.features[t].supported;return!1},loadFeature:function(e){var t=this,n=this.featureModules[e],o=!n._rs_supported||n._rs_supported();a("[RemoteStorage] [FEATURE ".concat(e,"] initializing ...")),"object"===r(o)?o.then((function(){t.featureSupported(e,!0),t.initFeature(e)}),(function(){t.featureSupported(e,!1)})):"boolean"==typeof o?(this.featureSupported(e,o),o&&this.initFeature(e)):this.featureSupported(e,!1)},initFeature:function(e){var t,n=this,o=this.featureModules[e];try{t=o._rs_init(this)}catch(t){return void this.featureFailed(e,t)}"object"===r(t)&&"function"==typeof t.then?t.then((function(){n.featureInitialized(e)}),(function(t){n.featureFailed(e,t)})):this.featureInitialized(e)},featureFailed:function(e,t){a("[RemoteStorage] [FEATURE ".concat(e,"] initialization failed (").concat(t,")")),this.featureDone()},featureSupported:function(e,t){a("[RemoteStorage] [FEATURE ".concat(e,"]  ").concat(t?"":" not"," supported")),t||this.featureDone()},featureInitialized:function(e){a("[RemoteStorage] [FEATURE ".concat(e,"] initialized.")),this.features.push({name:e,init:this.featureModules[e]._rs_init,supported:!0,cleanup:this.featureModules[e]._rs_cleanup}),this.featureDone()},featureDone:function(){this.featuresDone++,this.featuresDone===Object.keys(this.featureModules).length&&setTimeout(this.featuresLoaded.bind(this),0)},_setCachingModule:function(){var e=this;["IndexedDB","LocalStorage","InMemoryStorage"].some((function(t){if(e.features.some((function(e){return e.name===t})))return e.features.local=e.featureModules[t],!0}))},_fireReady:function(){try{this.readyFired||(this._emit("ready"),this.readyFired=!0)}catch(e){console.error("'ready' failed: ",e,e.stack),this._emit("error",e)}},featuresLoaded:function(){var e=this;a("[REMOTESTORAGE] All features loaded !"),this._setCachingModule(),this.local=s.cache&&this.features.local&&new this.features.local,this.local&&this.remote?(this._setGPD(i,this),this._bindChange(this.local)):this.remote&&this._setGPD(this.remote,this.remote),this.remote&&(this.remote.on("connected",(function(){e._fireReady(),e._emit("connected")})),this.remote.on("not-connected",(function(){e._fireReady(),e._emit("not-connected")})),this.remote.connected&&(this._fireReady(),this._emit("connected")),this.hasFeature("Authorize")||this.remote.stopWaitingForToken()),this._collectCleanupFunctions();try{this._allLoaded=!0,this._emit("features-loaded")}catch(e){o.logError(e),this._emit("error",e)}this._processPending()},_collectCleanupFunctions:function(){this._cleanups=[];for(var e=0;e<this.features.length;e++){var t=this.features[e].cleanup;"function"==typeof t&&this._cleanups.push(t)}}};e.exports=l},function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=n(1);function a(e){return"dropbox"===this.backend&&e.match(/^\/public\/.*[^\/]$/)}var i={get:function(e,t){if(this.local){if(void 0===t)t="object"===r((n=this).remote)&&n.remote.connected&&n.remote.online?2*n.getSyncInterval():(o("Not setting default maxAge, because remote is offline or not connected"),!1);else if("number"!=typeof t&&!1!==t)return Promise.reject("Argument 'maxAge' must be 'false' or a number");return this.local.get(e,t,this.sync.queueGetRequest.bind(this.sync))}return this.remote.get(e);var n},put:function(e,t,n){return a.bind(this)(e)?i._wrapBusyDone.call(this,this.remote.put(e,t,n)):this.local?this.local.put(e,t,n):i._wrapBusyDone.call(this,this.remote.put(e,t,n))},delete:function(e){return this.local?this.local.delete(e):i._wrapBusyDone.call(this,this.remote.delete(e))},_wrapBusyDone:function(e){var t=this;return this._emit("wire-busy"),e.then((function(e){return t._emit("wire-done",{success:!0}),Promise.resolve(e)}),(function(e){return t._emit("wire-done",{success:!1}),Promise.reject(e)}))}};e.exports=i},function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o,a=n(1),i=n(8),s=n(2),l=n(0),u=function(e){this.db=e||o,this.db?(i(this),s(this,"change","local-events-done"),this.getsRunning=0,this.putsRunning=0,this.changesQueued={},this.changesRunning={}):a("[IndexedDB] Failed to open DB")};u.prototype={getNodes:function(e){for(var t=[],n={},r=0,o=e.length;r<o;r++)void 0!==this.changesQueued[e[r]]?n[e[r]]=l.deepClone(this.changesQueued[e[r]]||void 0):void 0!==this.changesRunning[e[r]]?n[e[r]]=l.deepClone(this.changesRunning[e[r]]||void 0):t.push(e[r]);return t.length>0?this.getNodesFromDb(t).then((function(e){for(var t in n)e[t]=n[t];return e})):Promise.resolve(n)},setNodes:function(e){for(var t in e)this.changesQueued[t]=e[t]||!1;return this.maybeFlush(),Promise.resolve()},maybeFlush:function(){0===this.putsRunning?this.flushChangesQueued():this.commitSlownessWarning||(this.commitSlownessWarning=setInterval((function(){console.warn("WARNING: waited more than 10 seconds for previous commit to finish")}),1e4))},flushChangesQueued:function(){this.commitSlownessWarning&&(clearInterval(this.commitSlownessWarning),this.commitSlownessWarning=null),Object.keys(this.changesQueued).length>0&&(this.changesRunning=this.changesQueued,this.changesQueued={},this.setNodesInDb(this.changesRunning).then(this.flushChangesQueued.bind(this)))},getNodesFromDb:function(e){var t=this;return new Promise((function(n,r){var o=t.db.transaction(["nodes"],"readonly"),a=o.objectStore("nodes"),i={};t.getsRunning++,e.map((function(e){a.get(e).onsuccess=function(t){i[e]=t.target.result}})),o.oncomplete=function(){n(i),this.getsRunning--}.bind(t),o.onerror=o.onabort=function(){r("get transaction error/abort"),this.getsRunning--}.bind(t)}))},setNodesInDb:function(e){var t=this;return new Promise((function(n,o){var i=t.db.transaction(["nodes"],"readwrite"),s=i.objectStore("nodes"),l=(new Date).getTime();for(var u in t.putsRunning++,a("[IndexedDB] Starting put",e,t.putsRunning),e){var c=e[u];if("object"===r(c))try{s.put(c)}catch(e){throw a("[IndexedDB] Error while putting",c,e),e}else try{s.delete(u)}catch(e){throw a("[IndexedDB] Error while removing",s,c,e),e}}i.oncomplete=function(){this.putsRunning--,a("[IndexedDB] Finished put",e,this.putsRunning,(new Date).getTime()-l+"ms"),n()}.bind(t),i.onerror=function(){this.putsRunning--,o("transaction error")}.bind(t),i.onabort=function(){o("transaction abort"),this.putsRunning--}.bind(t)}))},reset:function(e){var t=this,n=this.db.name;this.db.close(),u.clean(this.db.name,(function(){u.open(n,(function(n,r){n?a("[IndexedDB] Error while resetting local storage",n):t.db=r,"function"==typeof e&&e(self)}))}))},forAllNodes:function(e){var t=this;return new Promise((function(n){t.db.transaction(["nodes"],"readonly").objectStore("nodes").openCursor().onsuccess=function(r){var o=r.target.result;o?(e(t.migrate(o.value)),o.continue()):n()}}))},closeDB:function(){0===this.putsRunning?this.db.close():setTimeout(this.closeDB.bind(this),100)}},u.open=function(e,t){var n=setTimeout((function(){t("timeout trying to open db")}),1e4);try{var r=indexedDB.open(e,2);r.onerror=function(){a("[IndexedDB] Opening DB failed",r),clearTimeout(n),t(r.error)},r.onupgradeneeded=function(e){var t=r.result;a("[IndexedDB] Upgrade: from ",e.oldVersion," to ",e.newVersion),1!==e.oldVersion&&(a("[IndexedDB] Creating object store: nodes"),t.createObjectStore("nodes",{keyPath:"path"})),a("[IndexedDB] Creating object store: changes"),t.createObjectStore("changes",{keyPath:"path"})},r.onsuccess=function(){clearTimeout(n);var o=r.result;if(!o.objectStoreNames.contains("nodes")||!o.objectStoreNames.contains("changes"))return a("[IndexedDB] Missing object store. Resetting the database."),void u.clean(e,(function(){u.open(e,t)}));t(null,r.result)}}catch(r){a("[IndexedDB] Failed to open database: "+r),a("[IndexedDB] Resetting database and trying again."),clearTimeout(n),u.clean(e,(function(){u.open(e,t)}))}},u.clean=function(e,t){var n=indexedDB.deleteDatabase(e);n.onsuccess=function(){a("[IndexedDB] Done removing DB"),t()},n.onerror=n.onabort=function(t){console.error('Failed to remove database "'+e+'"',t)}},u._rs_init=function(e){return new Promise((function(t,n){u.open("remotestorage",(function(r,a){r?n(r):(o=a,a.onerror=function(){e._emit("error",r)},t())}))}))},u._rs_supported=function(){return new Promise((function(e,t){var n=l.getGlobalContext(),r=!1;if("undefined"!=typeof navigator&&navigator.userAgent.match(/Android (2|3|4\.[0-3])/)&&(navigator.userAgent.match(/Chrome|Firefox/)||(r=!0)),"indexedDB"in n&&!r)try{var o=indexedDB.open("rs-check");o.onerror=function(){t()},o.onsuccess=function(){o.result.close(),indexedDB.deleteDatabase("rs-check"),e()}}catch(e){t()}else t()}))},u._rs_cleanup=function(e){return new Promise((function(t){e.local&&e.local.closeDB(),u.clean("remotestorage",t)}))},e.exports=u},function(e,t,n){var r=n(8),o=n(1),a=n(2),i=n(0),s="remotestorage:cache:nodes:",l=function(){r(this),o("[LocalStorage] Registering events"),a(this,"change","local-events-done")};function u(e){return e.substr(0,s.length)===s||"remotestorage:cache:changes:"===e.substr(0,"remotestorage:cache:changes:".length)}l.prototype={getNodes:function(e){for(var t={},n=0,r=e.length;n<r;n++)try{t[e[n]]=JSON.parse(localStorage[s+e[n]])}catch(r){t[e[n]]=void 0}return Promise.resolve(t)},setNodes:function(e){for(var t in e)localStorage[s+t]=JSON.stringify(e[t]);return Promise.resolve()},forAllNodes:function(e){for(var t,n=0,r=localStorage.length;n<r;n++)if(localStorage.key(n).substr(0,s.length)===s){try{t=this.migrate(JSON.parse(localStorage[localStorage.key(n)]))}catch(e){t=void 0}t&&e(t)}return Promise.resolve()}},l._rs_init=function(){},l._rs_supported=function(){return i.localStorageAvailable()},l._rs_cleanup=function(){for(var e=[],t=0,n=localStorage.length;t<n;t++){var r=localStorage.key(t);u(r)&&e.push(r)}e.forEach((function(e){o("[LocalStorage] Removing",e),delete localStorage[e]}))},e.exports=l},function(e,t,n){var r=n(2),o=n(1),a=n(8),i=function(){a(this),o("[InMemoryStorage] Registering events"),r(this,"change","local-events-done"),this._storage={}};i.prototype={getNodes:function(e){for(var t={},n=0,r=e.length;n<r;n++)t[e[n]]=this._storage[e[n]];return Promise.resolve(t)},setNodes:function(e){for(var t in e)void 0===e[t]?delete this._storage[t]:this._storage[t]=e[t];return Promise.resolve()},forAllNodes:function(e){for(var t in this._storage)e(this.migrate(this._storage[t]));return Promise.resolve()}},i._rs_init=function(){},i._rs_supported=function(){return!0},i._rs_cleanup=function(){},e.exports=i},function(e,t,n){var r=n(5),o=n(9);o.prototype.addModule=function(e){var t=e.name,n=e.builder;if(Object.defineProperty(this,t,{configurable:!0,get:function(){var e=this._loadModule(t,n);return Object.defineProperty(this,t,{value:e}),e}}),-1!==t.indexOf("-")){var r=t.replace(/\-[a-z]/g,(function(e){return e[1].toUpperCase()}));Object.defineProperty(this,r,{get:function(){return this[t]}})}},o.prototype._loadModule=function(e,t){if(t)return t(new r(this,"/"+e+"/"),new r(this,"/public/"+e+"/")).exports;throw"Unknown module: "+e}}])})),ye=Z(xe),be=xe.RemoteStorage,Le=Object.freeze({default:ye,__moduleExports:xe,RemoteStorage:be});function Re(e){var t=new Error(e);return t.source="ulid",t}var Ce="0123456789ABCDEFGHJKMNPQRSTVWXYZ",De=Ce.length,Be=Math.pow(2,48)-1;function Ie(e){var t=Math.floor(e()*De);return t===De&&(t=De-1),Ce.charAt(t)}function _e(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments[1];t||(t="undefined"!=typeof window?window:null);var n=t&&(t.crypto||t.msCrypto);if(n)return function(){var e=new Uint8Array(1);return n.getRandomValues(e),e[0]/255};try{var r=require("crypto");return function(){return r.randomBytes(1).readUInt8()/255}}catch(e){}if(e)return function(){return Math.random()};throw Re("secure crypto unusable, insecure Math.random not allowed")}function ke(e){return e||(e=_e()),function(t){return isNaN(t)&&(t=Date.now()),function(e,t){if(isNaN(e))throw new Error(e+" must be a number");if(e>Be)throw Re("cannot encode time greater than "+Be);if(e<0)throw Re("time must be positive");if(!1===Number.isInteger(e))throw Re("time must be an integer");for(var n=void 0,r="";t>0;t--)r=Ce.charAt(n=e%De)+r,e=(e-n)/De;return r}(t,10)+function(e,t){for(var n="";e>0;e--)n=Ie(t)+n;return n}(16,e)}}const Fe="undefined"==typeof require&&"Zombie"===navigator.appName?ke(_e(!0)):ke(),Ae={async KOMCardActionCreate(e,t,n){if("object"!=typeof t||null===t)return Promise.reject(new Error("KOMErrorInputNotValid"));if(he.KOMDeckModelErrorsFor(n))return Promise.reject(new Error("KOMErrorInputNotValid"));const r=new Date;return await Me.KOMCardStorageWrite(e,Object.assign({KOMCardID:Fe(),KOMCardDeckID:n.KOMDeckID,KOMCardCreationDate:r,KOMCardModificationDate:r},t),n)},KOMCardActionUpdate:async(e,t)=>"object"!=typeof t||null===t?Promise.reject(new Error("KOMErrorInputNotValid")):await Me.KOMCardStorageWrite(e,Object.assign(t,{KOMCardModificationDate:new Date})),KOMCardActionDelete:async(e,t)=>await Me.KOMCardStorageDelete(e,t),KOMCardActionList:async(e,t)=>Object.values(await Me.KOMCardStorageList(e,t)),KOMCardActionAudioCapture:async(e,t,n,r,o)=>ge.KOMCardModelAudioFields().includes(t)&&n instanceof Blob?ge.KOMCardModelErrorsFor(r)||he.KOMDeckModelErrorsFor(o)?Promise.reject(new Error("KOMErrorInputNotValid")):(await Me.KOMCardStorageFileWrite(e,n,"KOMCardFrontAudio"===t?Me.KOMCardStorageAudioPathFront(r,o):Me.KOMCardStorageAudioPathRear(r,o)),r[t]=!0,r):Promise.reject(new Error("KOMErrorInputNotValid")),KOMCardActionAudioClear:async(e,t,n,r)=>ge.KOMCardModelAudioFields().includes(t)?ge.KOMCardModelErrorsFor(n)||he.KOMDeckModelErrorsFor(r)?Promise.reject(new Error("KOMErrorInputNotValid")):(await Me.KOMCardStorageFileDelete(e,"KOMCardFrontAudio"===t?Me.KOMCardStorageAudioPathFront(n,r):Me.KOMCardStorageAudioPathRear(n,r)),delete n[t],n):Promise.reject(new Error("KOMErrorInputNotValid")),KOMCardActionAudioFetch:async(e,t,n,r)=>ge.KOMCardModelAudioFields().includes(t)?ge.KOMCardModelErrorsFor(n)||he.KOMDeckModelErrorsFor(r)?Promise.reject(new Error("KOMErrorInputNotValid")):await Me.KOMCardStorageFileRead(e,"KOMCardFrontAudio"===t?Me.KOMCardStorageAudioPathFront(n,r):Me.KOMCardStorageAudioPathRear(n,r)):Promise.reject(new Error("KOMErrorInputNotValid")),KOMCardActionAudioList:async(e,t,n)=>ge.KOMCardModelErrorsFor(t)||he.KOMDeckModelErrorsFor(n)?Promise.reject(new Error("KOMErrorInputNotValid")):ge.KOMCardModelAudioFields().reduce((function(e,t){return e[t]||delete e[t],e}),{KOMCardFrontAudio:await Me.KOMCardStorageFileRead(e,Me.KOMCardStorageAudioPathFront(t,n)),KOMCardRearAudio:await Me.KOMCardStorageFileRead(e,Me.KOMCardStorageAudioPathRear(t,n))})},Pe="undefined"==typeof require&&"Zombie"===navigator.appName?ke(_e(!0)):ke(),Ee={async KOMDeckActionCreate(e,t){if("object"!=typeof t||null===t)return Promise.reject(new Error("KOMErrorInputNotValid"));const n=new Date;return await Oe.KOMDeckStorageWrite(e,Object.assign({KOMDeckID:Pe(),KOMDeckCreationDate:n,KOMDeckModificationDate:n},t))},KOMDeckActionUpdate:async(e,t)=>"object"!=typeof t||null===t?Promise.reject(new Error("KOMErrorInputNotValid")):await Oe.KOMDeckStorageWrite(e,Object.assign(t,{KOMDeckModificationDate:new Date})),KOMDeckActionDelete:async(e,t)=>(await Promise.all((await Ae.KOMCardActionList(e,t)).map((function(n){return Ae.KOMCardActionDelete(e,n,t)}))),await Oe.KOMDeckStorageDelete(e,t)),KOMDeckActionList:async e=>Object.values(await Oe.KOMDeckStorageList(e))},Ne={_KOMSettingsActionSet:async(e,t,n)=>"string"!=typeof t||void 0===n?Promise.reject(new Error("KOMErrorInputNotValid")):await Te.KOMSettingStorageWrite(e,{KOMSettingKey:t,KOMSettingValue:n}),_KOMSettingsActionGet:async(e,t)=>"string"!=typeof t?Promise.reject(new Error("KOMErrorInputNotValid")):await Te.KOMSettingStorageRead(e,t),KOMSettingsActionProperty:async(e,t,n)=>void 0===n?await Ne._KOMSettingsActionGet(e,t):await Ne._KOMSettingsActionSet(e,t,n),KOMSettingsActionDelete:async(e,t)=>await Te.KOMSettingStorageDelete(e,t),KOMSettingsActionQuery:async(e,t)=>"object"!=typeof t||null===t?Promise.reject(new Error("KOMErrorInputNotValid")):Promise.resolve(Object.values(await Te.KOMSettingStorageList(e)).filter((function(e){return!Object.keys(t).length||!!Object.keys(t).filter((function(n){return e[n].match(t[n])})).length})))},Ue={KOMPlayDayGrouping(e){if(!(e instanceof Date)||Number.isNaN(e.getTime()))throw new Error("KOMErrorInputNotValid");return new Date(e.valueOf()-1e3*(e.getTimezoneOffset()/60+4)*60*60).toJSON().slice(0,10)},KOMPlaySort(e){if(!Array.isArray(e))throw new Error("KOMErrorInputNotValid");let t=[];const n=Ue._KOMPlaySortShuffle(e.filter((function(e){return!Ke.KOMSpacingModelIsBackward(e)&&e.KOMSpacingDueDate})));t.push(...n);let r=Ue._KOMPlaySortShuffle(e.filter((function(e){return Ke.KOMSpacingModelIsBackward(e)&&e.KOMSpacingDueDate}))),o=0;for(;n.length&&r.length&&Ke.KOMSpacingModelIdentifier(n.slice(-1).pop().KOMSpacingID)===Ke.KOMSpacingModelIdentifier(r[0].KOMSpacingID)&&o<e.length;)r=Ue._KOMPlaySortShuffle(r),o++;t.push(...r);const a=Ue._KOMPlaySortShuffle(e.filter((function(e){return!Ke.KOMSpacingModelIsBackward(e)&&!e.KOMSpacingDueDate})));let i=Ue._KOMPlaySortShuffle(e.filter((function(e){return Ke.KOMSpacingModelIsBackward(e)&&!e.KOMSpacingDueDate}))),s=0;for(;a.length&&i.length&&Ke.KOMSpacingModelIdentifier(a.slice(-1).pop().KOMSpacingID)===Ke.KOMSpacingModelIdentifier(i[0].KOMSpacingID)&&s<e.length;)i=Ue._KOMPlaySortShuffle(i),s++;if(a.push(...i),!t.length)return a;const l=t.length-1,u=Math.floor(t.length/(a.length+1));return a.reduce((function(e,t,n){return e.splice(l-u*(n+1),0,t),e}),t.reverse()).reverse()},_KOMPlaySortShuffle(e){for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}return e},KOMPlayStateIsValid(e){if("object"!=typeof e||null===e)throw new Error("KOMErrorInputNotValid");return!!Array.isArray(e.KOMPlayStateQueue)&&(!!Array.isArray(e.KOMPlayStateWait)&&((!e.KOMPlayStateCurrent||!Ke.KOMSpacingModelErrorsFor(e.KOMPlayStateCurrent))&&(void 0===e.KOMPlayStateShouldRandomize||"boolean"==typeof e.KOMPlayStateShouldRandomize)))},KOMPlayResponseTypeAgain:()=>"RESPONSE_AGAIN",KOMPlayResponseTypeHard:()=>"RESPONSE_HARD",KOMPlayResponseTypeGood:()=>"RESPONSE_GOOD",KOMPlayResponseTypeEasy:()=>"RESPONSE_EASY",KOMPlayResponseTypes:()=>[Ue.KOMPlayResponseTypeAgain(),Ue.KOMPlayResponseTypeHard(),Ue.KOMPlayResponseTypeGood(),Ue.KOMPlayResponseTypeEasy()],KOMPlayResponseIntervalAgain:()=>6e4,KOMPlayResponseIntervalLearn:()=>6e5,KOMPlayResponseIntervalGraduateDefault:()=>1,KOMPlayResponseIntervalGraduateEasy:()=>4,KOMPlayResponseIntervalOverdueDivisorHard:()=>4,KOMPlayResponseIntervalOverdueDivisorGood:()=>2,KOMPlayResponseIntervalOverdueDivisorEasy:()=>1,KOMPlayResponseIntervalOverdueDays(e,t){if(Ke.KOMSpacingModelErrorsFor(e))throw new Error("KOMErrorInputNotValid");if(!Ue.KOMChronicleIsPrepared(t))throw new Error("KOMErrorInputNotValid");if(!e.KOMSpacingInterval)return 0;const n=new Date(Ue.KOMPlayDayGrouping(e.KOMSpacingDueDate)).valueOf(),r=new Date(Ue.KOMPlayDayGrouping(t.KOMChronicleResponseDate)).valueOf();return r<=n?0:(r-n)/1e3/60/60/24},KOMPlayResponseIntervalOverdueBonus(e,t){if(Ke.KOMSpacingModelErrorsFor(e))throw new Error("KOMErrorInputNotValid");if(!Ue.KOMChronicleIsPrepared(t))throw new Error("KOMErrorInputNotValid");const n=Ue.KOMPlayResponseIntervalOverdueDays(e,t);return t.KOMChronicleResponseType===Ue.KOMPlayResponseTypeHard()?n/Ue.KOMPlayResponseIntervalOverdueDivisorHard():t.KOMChronicleResponseType===Ue.KOMPlayResponseTypeGood()?n/Ue.KOMPlayResponseIntervalOverdueDivisorGood():t.KOMChronicleResponseType===Ue.KOMPlayResponseTypeEasy()?n/Ue.KOMPlayResponseIntervalOverdueDivisorEasy():0},KOMPlayResponseMultiplierDefault:()=>2.5,KOMPlayResponseMultiplierMin:()=>1.3,KOMPlayResponseMultiplierHard:()=>1.2,KOMPlayResponseMultiplierSummandFail:()=>-.2,KOMPlayResponseMultiplierSummandGood:()=>0,KOMPlayResponseMultiplierSummandHard:()=>-.15,KOMPlayResponseMultiplierSummandEasy:()=>.15,KOMPlayResponseMultiplierMultiplicandEasy:()=>1.3,KOMPlayRespond(e,t){if(!Ue.KOMPlayStateIsValid(e))throw new Error("KOMErrorInputNotValid");if(!Ue.KOMChronicleIsPrepared(t))throw new Error("KOMErrorInputNotValid");const n=e.KOMPlayStateCurrent;return Object.assign(n,function(){const r=Ke.KOMSpacingModelIsLearning(n)&&n.KOMSpacingChronicles.slice(-1).pop().KOMChronicleResponseType===Ue.KOMPlayResponseTypeAgain();if(!Ke.KOMSpacingModelIsReviewing(n)&&(t.KOMChronicleResponseType===Ue.KOMPlayResponseTypeEasy()||Ke.KOMSpacingModelIsLearning(n)&&t.KOMChronicleResponseType!==Ue.KOMPlayResponseTypeAgain()&&!r)){delete n.KOMSpacingIsLearning;const e=t.KOMChronicleResponseType===Ue.KOMPlayResponseTypeEasy()?Ue.KOMPlayResponseIntervalGraduateEasy():Ue.KOMPlayResponseIntervalGraduateDefault();return{KOMSpacingInterval:e,KOMSpacingMultiplier:Ue.KOMPlayResponseMultiplierDefault(),KOMSpacingDueDate:new Date(t.KOMChronicleResponseDate.valueOf()+864e5*e)}}if(Ke.KOMSpacingModelIsReviewing(n)&&t.KOMChronicleResponseType!==Ue.KOMPlayResponseTypeAgain()){let r=(n.KOMSpacingInterval+Ue.KOMPlayResponseIntervalOverdueBonus(n,t))*(t.KOMChronicleResponseType===Ue.KOMPlayResponseTypeHard()?Ue.KOMPlayResponseMultiplierHard():n.KOMSpacingMultiplier);e.KOMPlayStateShouldRandomize&&(r*=1+(Math.min(.25,Math.random())/100+.005)*(Math.random()>.5?-1:1)),t.KOMChronicleResponseType===Ue.KOMPlayResponseTypeEasy()&&(r*=Ue.KOMPlayResponseMultiplierMultiplicandEasy());let o=n.KOMSpacingMultiplier;return t.KOMChronicleResponseType===Ue.KOMPlayResponseTypeHard()&&(o+=Ue.KOMPlayResponseMultiplierSummandHard()),t.KOMChronicleResponseType===Ue.KOMPlayResponseTypeEasy()&&(o+=Ue.KOMPlayResponseMultiplierSummandEasy()),{KOMSpacingInterval:r,KOMSpacingMultiplier:Math.max(Ue.KOMPlayResponseMultiplierMin(),o),KOMSpacingDueDate:new Date(t.KOMChronicleResponseDate.valueOf()+864e5*r)}}return Ke.KOMSpacingModelIsReviewing(n)&&t.KOMChronicleResponseType===Ue.KOMPlayResponseTypeAgain()&&(delete n.KOMSpacingInterval,n.KOMSpacingMultiplier+=Ue.KOMPlayResponseMultiplierSummandFail()),{KOMSpacingIsLearning:!0,KOMSpacingDueDate:new Date(t.KOMChronicleResponseDate.valueOf()+(t.KOMChronicleResponseType===Ue.KOMPlayResponseTypeAgain()?Ue.KOMPlayResponseIntervalAgain():Ue.KOMPlayResponseIntervalLearn()))}}()),n.KOMSpacingChronicles.push(Object.assign(t,{KOMChronicleDueDate:n.KOMSpacingDueDate},n.KOMSpacingIsLearning?{KOMChronicleIsLearning:!0}:{},n.KOMSpacingIsLearning?{}:{KOMChronicleInterval:n.KOMSpacingInterval,KOMChronicleMultiplier:n.KOMSpacingMultiplier})),Ke.KOMSpacingModelIsLearning(n)&&e.KOMPlayStateWait.push(n),e.KOMPlayStateWait.filter((function(n){return!e.KOMPlayStateQueue.length||n.KOMSpacingDueDate<t.KOMChronicleResponseDate})).reverse().forEach((function(t){e.KOMPlayStateQueue.unshift(e.KOMPlayStateWait.splice(e.KOMPlayStateWait.indexOf(t),1).pop())})),e.KOMPlayStateCurrent=e.KOMPlayStateQueue.shift(),e},KOMChronicleIsPrepared(e){if("object"!=typeof e||null===e)throw new Error("KOMErrorInputNotValid");return e.KOMChronicleDrawDate instanceof Date&&!Number.isNaN(e.KOMChronicleDrawDate.getTime())&&(e.KOMChronicleFlipDate instanceof Date&&!Number.isNaN(e.KOMChronicleFlipDate.getTime())&&(e.KOMChronicleResponseDate instanceof Date&&!Number.isNaN(e.KOMChronicleResponseDate.getTime())&&!!Ue.KOMPlayResponseTypes().includes(e.KOMChronicleResponseType)))},KOMChronicleIsValid(e){if(!Ue.KOMChronicleIsPrepared(e))throw new Error("KOMErrorInputNotValid");return e.KOMChronicleDueDate instanceof Date&&!Number.isNaN(e.KOMChronicleDueDate.getTime())&&((void 0===e.KOMChronicleIsLearning||"boolean"==typeof e.KOMChronicleIsLearning)&&((void 0===e.KOMChronicleIsReadyToGraduate||"boolean"==typeof e.KOMChronicleIsReadyToGraduate)&&((void 0===e.KOMChronicleInterval||"number"==typeof e.KOMChronicleInterval)&&((void 0===e.KOMChronicleMultiplier||"number"==typeof e.KOMChronicleMultiplier)&&((void 0===e.KOMChronicleDidDrawMultipleTimes||"boolean"==typeof e.KOMChronicleDidDrawMultipleTimes)&&(void 0===e.KOMChronicleDidFlipMultipleTimes||"boolean"==typeof e.KOMChronicleDidFlipMultipleTimes))))))},KOMChronicleGenerateDraw(e,t){if(!(e instanceof Date)||Number.isNaN(e.getTime()))throw new Error("KOMErrorInputNotValid");if(Ke.KOMSpacingModelErrorsFor(t))throw new Error("KOMErrorInputNotValid");return Object.assign({KOMChronicleDrawDate:e},t.KOMSpacingDrawDate&&Ke.KOMSpacingModelIsReviewing(t)&&Ue.KOMPlayDayGrouping(e)===Ue.KOMPlayDayGrouping(t.KOMSpacingDrawDate)?{KOMChronicleDidDrawMultipleTimes:!0}:{})},KOMChronicleGenerateFlip(e,t){if(!(e instanceof Date)||Number.isNaN(e.getTime()))throw new Error("KOMErrorInputNotValid");if(Ke.KOMSpacingModelErrorsFor(t))throw new Error("KOMErrorInputNotValid");return Object.assign({KOMChronicleFlipDate:e},t.KOMSpacingFlipDate&&Ke.KOMSpacingModelIsReviewing(t)&&Ue.KOMPlayDayGrouping(e)===Ue.KOMPlayDayGrouping(t.KOMSpacingFlipDate)?{KOMChronicleDidFlipMultipleTimes:!0}:{})},KOMPlayUndo(e){if(Ke.KOMSpacingModelErrorsFor(e))throw new Error("KOMErrorInputNotValid");if(!e.KOMSpacingChronicles.length)throw new Error("KOMErrorInputNotValid");Object.keys(e).forEach((function(t){["KOMSpacingID","KOMSpacingChronicles","KOMSpacingDrawDate","KOMSpacingFlipDate"].includes(t)||"$"!==t[0]&&delete e[t]})),e.KOMSpacingChronicles.pop();const t=e.KOMSpacingChronicles.slice(-1).pop();return Object.keys(t||{}).forEach((function(n){["KOMChronicleResponseDate","KOMChronicleResponseType"].includes(n)||(e[n.replace("KOMChronicle","KOMSpacing")]=t[n])})),e}},Ve={KOMReviewSpacingsToday(e){if(!Array.isArray(e))throw new Error("KOMErrorInputNotValid");return e.filter((function(e){return!e.KOMSpacingDueDate||Ue.KOMPlayDayGrouping(e.KOMSpacingDueDate).valueOf()<=Ue.KOMPlayDayGrouping(new Date).valueOf()}))},KOMReviewSchemeReviewing:()=>"kKOMReviewSchemeReviewing",KOMReviewSchemeUnseen:()=>"kKOMReviewSchemeUnseen",KOMReviewSchemeMixed:()=>"kKOMReviewSchemeMixed",KOMReviewSchemes:()=>[Ve.KOMReviewSchemeReviewing(),Ve.KOMReviewSchemeUnseen(),Ve.KOMReviewSchemeMixed()],KOMReviewModelErrorsFor(e){if("object"!=typeof e||null===e)throw new Error("KOMErrorInputNotValid");const t={};return Ve.KOMReviewSchemes().includes(e.KOMReviewScheme)?e.KOMReviewScheme!==Ve.KOMReviewSchemeReviewing()&&void 0===e.KOMReviewMaxUnseenCards&&(t.KOMReviewMaxUnseenCards=["KOMErrorNotDefined"]):t.KOMReviewScheme=["KOMErrorNotValid"],void 0!==e.KOMReviewMaxUnseenCards&&("number"!=typeof e.KOMReviewMaxUnseenCards?t.KOMReviewMaxUnseenCards=["KOMErrorNotNumber"]:e.KOMReviewMaxUnseenCards<1&&(t.KOMReviewMaxUnseenCards=["KOMErrorNotPositive"])),Object.entries(t).length?t:null},KOMReviewFilter(e,t,n){if(!Array.isArray(e))throw new Error("KOMErrorInputNotValid");if(Ve.KOMReviewModelErrorsFor(t))throw new Error("KOMErrorInputNotValid");if(he.KOMDeckModelErrorsFor(n))throw new Error("KOMErrorInputNotValid");const r=[];return e.filter((function(e,o){return(t.KOMReviewScheme!==Ve.KOMReviewSchemeReviewing()||!Ke.KOMSpacingModelIsUnseen(e))&&(!(t.KOMReviewScheme===Ve.KOMReviewSchemeUnseen()&&!Ke.KOMSpacingModelIsUnseen(e))&&((!n.KOMDeckIsForwardOnly||!Ke.KOMSpacingModelIsBackward(e))&&(t.KOMReviewScheme!==Ve.KOMReviewSchemeReviewing()&&Ke.KOMSpacingModelIsUnseen(e)&&!r.includes(e.$KOMSpacingCard)&&r.push(e.$KOMSpacingCard),!(t.KOMReviewScheme!==Ve.KOMReviewSchemeReviewing()&&Ke.KOMSpacingModelIsUnseen(e)&&r.length>t.KOMReviewMaxUnseenCards))))}))},KOMReviewDeckSort(e){if(!Array.isArray(e))throw new Error("KOMErrorInputNotValid");return e.sort((function(e,t){return e.KOMDeckName.localeCompare(t.KOMDeckName)}))}};var He=ee((function(e,t){const n={OLSKThrottleIsValid:e=>"object"==typeof e&&null!==e&&("function"==typeof e.OLSKThrottleCallback&&"number"==typeof e.OLSKThrottleDuration),OLSKThrottleTimeoutFor(e){if(!n.OLSKThrottleIsValid(e))throw new Error("OLSKErrorInputNotValid");return e._OLSKThrottleTimeoutID&&clearTimeout(e._OLSKThrottleTimeoutID),e._OLSKThrottleTimeoutID=setTimeout((function(){n._OLSKThrottleFire(e)}),e.OLSKThrottleDuration),e._OLSKThrottleTimeoutID},OLSKThrottleSkip(e){if(!n.OLSKThrottleIsValid(e))throw new Error("OLSKErrorInputNotValid");clearTimeout(e._OLSKThrottleTimeoutID),n._OLSKThrottleFire(e)},_OLSKThrottleFire(e){e.OLSKThrottleCallback(),delete e._OLSKThrottleTimeoutID},OLSKThrottleMappedTimeout(e,t,r){if("object"!=typeof e||null===e)throw new Error("OLSKErrorInputNotValid");if("string"!=typeof t)throw new Error("OLSKErrorInputNotValid");if(!n.OLSKThrottleIsValid(r))throw new Error("OLSKErrorInputNotValid");return e[t]||(e[t]=Object.assign(Object.assign({},r),{OLSKThrottleCallback(){n._OLSKThrottleFire(r),delete e[t]}})),r._OLSKThrottleTimeoutID=n.OLSKThrottleTimeoutFor(e[t])}};Object.assign(t,n)}));function je(t){let n,r,a,i,s,l,f,p,m,T,w,S,x,y,b,L,R;return{c(){n=h("button"),r=h("strong"),a=O(t[0]),i=h("br"),s=g(),l=h("span"),f=O(t[1]),p=g(),m=h("span"),m.textContent=""+t[4]("KOMReviewMasterListItemReviewLabelText"),T=h("br"),w=g(),S=h("span"),x=O(t[2]),y=g(),b=h("span"),b.textContent=""+t[4]("KOMReviewMasterListItemUnseenLabelText"),K(r,"class","KOMReviewMasterListItemName"),K(l,"class","KOMReviewMasterListItemReviewValue"),K(m,"class","KOMReviewMasterListItemReviewLabel"),K(S,"class","KOMReviewMasterListItemUnseenValue"),K(b,"class","KOMReviewMasterListItemUnseenLabel"),K(n,"class","KOMReviewMasterListItem OLSKLayoutButtonNoStyle svelte-1xa9vxs"),K(n,"aria-label",t[0])},m(e,d){c(e,n,d),u(n,r),u(r,a),u(n,i),u(n,s),u(n,l),u(l,f),u(n,p),u(n,m),u(n,T),u(n,w),u(n,S),u(S,x),u(n,y),u(n,b),L||(R=M(n,"click",(function(){o(t[3])&&t[3].apply(this,arguments)})),L=!0)},p(e,[r]){t=e,1&r&&v(a,t[0]),2&r&&v(f,t[1]),4&r&&v(x,t[2]),1&r&&K(n,"aria-label",t[0])},i:e,o:e,d(e){e&&d(n),L=!1,R()}}}function Ge(e,t,n){let{KOMReviewMasterListItemName:r}=t,{KOMReviewMasterListItemReviewCount:o}=t,{KOMReviewMasterListItemUnseenCount:a}=t,{KOMReviewMasterListItemDispatchClick:i}=t;return e.$set=e=>{"KOMReviewMasterListItemName"in e&&n(0,r=e.KOMReviewMasterListItemName),"KOMReviewMasterListItemReviewCount"in e&&n(1,o=e.KOMReviewMasterListItemReviewCount),"KOMReviewMasterListItemUnseenCount"in e&&n(2,a=e.KOMReviewMasterListItemUnseenCount),"KOMReviewMasterListItemDispatchClick"in e&&n(3,i=e.KOMReviewMasterListItemDispatchClick)},[r,o,a,i,function(e){return te.OLSKInternationalLocalizedString(e,JSON.parse('{"en":{"OLSKAppToolbarGuideLinkText":"Guide","OLSKAppToolbarDonateLinkText":"Donate","OLSKAppToolbarLauncherButtonText":"Launcher","OLSKAppToolbarStorageButtonText":"Storage","OLSKDetailPlaceholderText":"No item selected","OLSKInputWrapperClearButtonText":"Clear text","OLSKLanguageSwitcherVersionFormat":"Version in %@","OLSKLanguageSwitcherVersionName":{"en":"English","fr":"French","es":"Spanish"},"OLSKMasterListFilterFieldText":"Filter","OLSKReloadButtonText":"Reload","OLSKRemoteStorageStatusOnline":"Online","OLSKRemoteStorageStatusNetworkOffline":"Offline","OLSKRemoteStorageStatusError":"Error","OLSKServiceWorkerUpdateAlertLabelText":"Update available","OLSKServiceWorkerUpdateAlertReloadButtonText":"Reload","KOMReviewLauncherItemSelectDeckTextFormat":"Select deck \'%@\'","KOMReviewLauncherItemSendLoginLinkText":"Send login link","KOMReviewLauncherItemSendLoginLinkSubject":"Kommit Login Link","KOMReviewLauncherItemDebugFlushDataText":"Flush data","KOMReviewLauncherItemDebugFlushDataConfirmText":"Are you sure?","KOMReviewChartCompositionStatesTotalCardsLabelText":"Total cards","KOMReviewChartCompositionStatesUnseenCardsLabelText":"Unseen","KOMReviewChartCompositionStatesDevelopingCardsLabelText":"Developing","KOMReviewChartCompositionStatesMatureCardsLabelText":"Mature","KOMReviewChartCompositionStatesSuspendedCardsLabelText":"Suspended","KOMReviewDetailToolbarBackButtonText":"Back","KOMReviewDetailToolbarCardsButtonText":"Cards","KOMReviewDetailGameOptionsHeadingText":"Game options","KOMReviewDetailNoCardsText":"There are no cards in this deck.","KOMReviewDetailFormAudioIsEnabledFieldLabelText":"Play audio","KOMReviewDetailFormFrontSpeechIsEnabledFieldLabelText":"Read front","KOMReviewDetailFormRearSpeechIsEnabledFieldLabelText":"Read back","KOMReviewDetailFormIsForwardOnlyFieldLabelText":"Skip reversed cards","KOMReviewDetailPlayButtonReviewingText":"Study review cards","KOMReviewDetailPlayButtonUnseenText":"Study new cards","KOMReviewDetailPlayButtonMixedText":"Study all cards","KOMReviewDetailPlayButtonSingleText":"Play","KOMReviewDetailNoSpacingsText":"All cards for today have been reviewed.","KOMReviewDetailTodayHeadingText":"Today","KOMReviewDetailGeneralHeadingText":"Historical","KOMReviewDetailDeckHeadingText":"Deck","KOMReviewDetailRenameButtonText":"Rename","KOMReviewDetailRenameButtonPromptText":"Name","KOMReviewDetailDiscardButtonText":"Delete deck and all cards inside","KOMReviewDetailDiscardPromptText":"Are you sure? Please type the name of the deck to confirm and delete.","KOMReviewDetailLanguageCodeFieldLabelText":"Language code","KOMReviewDetailLanguageCodeFieldOptionUnspecifiedText":"Unspecified","KOMReviewGeneralCardStatesHeadingText":"Cards","KOMReviewMasterToolbarTitleText":"Decks","KOMReviewMasterCreateButtonText":"Create deck","KOMReviewMasterCreateButtonPromptText":"Name","KOMReviewMasterListItemReviewLabelText":"review cards","KOMReviewMasterListItemUnseenLabelText":"new cards","KOMReviewTodayTotalCardsLabelText":"Total cards","KOMReviewTodayTimeMinutesLabelText":"Time (minutes)","KOMReviewTodayReviewAccuracyLabelText":"Review accuracy %","KOMBrowseInfoToolbarBackButtonText":"Back","KOMBrowseInfoToolbarDiscardButtonText":"Discard","KOMBrowseInfoDiscardConfirmText":"Are you sure?","KOMBrowseInfoToolbarTemplateButtonText":"Copy tags to new card","KOMBrowseInfoFormFrontTextFieldText":"Front text","KOMBrowseInfoFormFrontReadButtonText":"Read","KOMBrowseInfoFormRearTextFieldText":"Back text","KOMBrowseInfoFormRearReadButtonText":"Read","KOMBrowseInfoFormNotesFieldText":"Notes","KOMBrowseInfoAudioRecordButtonText":"Record","KOMBrowseInfoAudioRecordingAlertText":"Recording","KOMBrowseInfoAudioPlaybackButtonText":"Playback","KOMBrowseInfoAudioClearButtonText":"Clear","KOMBrowseInfoAudioNotAvailableAlertText":"Audio recording unsupported in this browser","KOMBrowseInfoTagsInputFieldText":"New tag name","KOMBrowseInfoTagsCreateButtonText":"Create tag","KOMBrowseInfoTagsRemoveButtonTextFormat":"Remove \'%@\'","KOMBrowseInfoTagsSuggestButtonTextFormat":"Add \'%@\'","KOMBrowseListToolbarCloseButtonText":"Close","KOMBrowseListToolbarCreateButtonText":"Create","KOMBrowseListItemUntitledText":"Untitled","KOMReviewLauncherItemDebugCardText":"Debug Card","KOMPlayToolbarUndoButtonText":"Undo","KOMPlayToolbarDoneButtonText":"Done","KOMPlayHearQuestionButtonText":"Hear question","KOMPlayHearAnswerButtonText":"Hear answer","KOMPlayFlipButtonText":"Flip","KOMPlayResponseButtonAgainText":"Again","KOMPlayResponseButtonHardText":"Sooner","KOMPlayResponseButtonGoodText":"Normal","KOMPlayResponseButtonEasyText":"Later"},"es":{"OLSKAppToolbarGuideLinkText":"Gua","OLSKAppToolbarDonateLinkText":"Donar","OLSKAppToolbarLauncherButtonText":"Lanzador","OLSKAppToolbarStorageButtonText":"Almacenamiento","OLSKDetailPlaceholderText":"Ningn artculo seleccionado","OLSKInputWrapperClearButtonText":"Despejar el texto","OLSKLanguageSwitcherVersionFormat":"Versin en %@","OLSKLanguageSwitcherVersionName":{"en":"ingls","fr":"francs","es":"espaol"},"OLSKMasterListFilterFieldText":"Filtrar","OLSKReloadButtonText":"Recargar","OLSKRemoteStorageStatusOnline":"En lneo","OLSKRemoteStorageStatusNetworkOffline":"Sin conexin","OLSKRemoteStorageStatusError":"Error","OLSKServiceWorkerUpdateAlertLabelText":"Actualizacin disponible","OLSKServiceWorkerUpdateAlertReloadButtonText":"Recargar"},"fr":{"OLSKAppToolbarGuideLinkText":"Guide","OLSKAppToolbarDonateLinkText":"Faire un don","OLSKAppToolbarLauncherButtonText":"Lanceur","OLSKAppToolbarStorageButtonText":"Stockage","OLSKDetailPlaceholderText":"Aucun article selection","OLSKInputWrapperClearButtonText":"Effacer le texte","OLSKLanguageSwitcherVersionFormat":"Version en %@","OLSKLanguageSwitcherVersionName":{"en":"anglais","fr":"franais","es":"espagnol"},"OLSKMasterListFilterFieldText":"Filtrer","OLSKReloadButtonText":"Recharger","OLSKRemoteStorageStatusOnline":"En ligne","OLSKRemoteStorageStatusNetworkOffline":"Hors connexion","OLSKRemoteStorageStatusError":"Erreur","OLSKServiceWorkerUpdateAlertLabelText":"Mise  jour disponible","OLSKServiceWorkerUpdateAlertReloadButtonText":"Recharger","KOMReviewLauncherItemSelectDeckTextFormat":"Choisir lot de cartes \'%@\'","KOMReviewLauncherItemSendLoginLinkText":"Envoyer lien d\'accs","KOMReviewLauncherItemSendLoginLinkSubject":"Kommit lien d\'accs","KOMReviewLauncherItemDebugFlushDataText":"Recharche les donnes","KOMReviewLauncherItemDebugFlushDataConfirmText":"tes-vous sr.e?","KOMReviewChartCompositionStatesTotalCardsLabelText":"Total des cartes","KOMReviewChartCompositionStatesUnseenCardsLabelText":"Non-vues","KOMReviewChartCompositionStatesDevelopingCardsLabelText":"En apprentisage","KOMReviewChartCompositionStatesMatureCardsLabelText":"Mature","KOMReviewChartCompositionStatesSuspendedCardsLabelText":"Suspendu","KOMReviewDetailToolbarBackButtonText":"Back","KOMReviewDetailToolbarCardsButtonText":"Cartes","KOMReviewDetailGameOptionsHeadingText":"Options du jeu","KOMReviewDetailNoCardsText":"Il n\'y a pas de cartes dans ce lot de cartes.","KOMReviewDetailFormAudioIsEnabledFieldLabelText":"Faire entendre la version audio enregistre","KOMReviewDetailFormFrontSpeechIsEnabledFieldLabelText":"Lire le recto","KOMReviewDetailFormRearSpeechIsEnabledFieldLabelText":"Lire le verso","KOMReviewDetailFormIsForwardOnlyFieldLabelText":"Ne pas activer la lecture des cartes inverses","KOMReviewDetailPlayButtonReviewingText":"tudier des cartes  rviser","KOMReviewDetailPlayButtonUnseenText":"tudier des nouvelles cartes","KOMReviewDetailPlayButtonMixedText":"tudier toutes les cartes","KOMReviewDetailPlayButtonSingleText":"Jouer","KOMReviewDetailNoSpacingsText":"Toutes les cartes pour aujourd\'hui ont t rvises.","KOMReviewDetailTodayHeadingText":"Aujourd\'hui","KOMReviewDetailGeneralHeadingText":"Historique","KOMReviewDetailDeckHeadingText":"Lot de cartes","KOMReviewDetailRenameButtonText":"Renommer","KOMReviewDetailRenameButtonPromptText":"Nom","KOMReviewDetailDiscardButtonText":"Supprimer le lot de cartes et toutes les cartes dedans","KOMReviewDetailDiscardPromptText":"tes-vous sr.e? Veuillez entrer le nom du lot de cartes pour confirmer et supprimer.","KOMReviewDetailLanguageCodeFieldLabelText":"Code de la langue","KOMReviewDetailLanguageCodeFieldOptionUnspecifiedText":"Non specifi","KOMReviewGeneralCardStatesHeadingText":"Les tats des cartes","KOMReviewMasterToolbarTitleText":"Lots de cartes","KOMReviewMasterCreateButtonText":"Crer lot de cartes","KOMReviewMasterCreateButtonPromptText":"Nom","KOMReviewMasterListItemReviewLabelText":"cartes  rviser","KOMReviewMasterListItemUnseenLabelText":"cartes nouvelles","KOMReviewTodayTotalCardsLabelText":"Total des cartes","KOMReviewTodayTimeMinutesLabelText":"Temps (minutes)","KOMReviewTodayReviewAccuracyLabelText":"Exactitude de la rvision %","KOMBrowseInfoToolbarBackButtonText":"Back","KOMBrowseInfoToolbarDiscardButtonText":"Jeter","KOMBrowseInfoDiscardConfirmText":"tes-vous sr.e?","KOMBrowseInfoToolbarTemplateButtonText":"Copier des tags  une nouvelle carte","KOMBrowseInfoFormFrontTextFieldText":"Texte du recto","KOMBrowseInfoFormFrontReadButtonText":"Lire","KOMBrowseInfoFormRearTextFieldText":"Texte du verso","KOMBrowseInfoFormRearReadButtonText":"Lire","KOMBrowseInfoFormNotesFieldText":"Notes","KOMBrowseInfoAudioRecordButtonText":"Enregistrer","KOMBrowseInfoAudioRecordingAlertText":"Enregistrement en cours","KOMBrowseInfoAudioPlaybackButtonText":"Lecture","KOMBrowseInfoAudioClearButtonText":"Effacer","KOMBrowseInfoAudioNotAvailableAlertText":"Enregistrement audio non pris en charge dans ce navigateur","KOMBrowseInfoTagsInputFieldText":"Nom du tag nouveau","KOMBrowseInfoTagsCreateButtonText":"Crer le tag","KOMBrowseInfoTagsRemoveButtonTextFormat":"Enlever \'%@\'","KOMBrowseInfoTagsSuggestButtonTextFormat":"Ajouter \'%@\'","KOMBrowseListToolbarCloseButtonText":"Fermer","KOMBrowseListToolbarCreateButtonText":"Crer","KOMBrowseListItemUntitledText":"Sans titre","KOMReviewLauncherItemDebugCardText":"Debug Card","KOMPlayToolbarUndoButtonText":"Annuler","KOMPlayToolbarDoneButtonText":"OK","KOMPlayHearQuestionButtonText":"couter la question","KOMPlayHearAnswerButtonText":"couter la rponse","KOMPlayFlipButtonText":"Retourner","KOMPlayResponseButtonAgainText":"Encore","KOMPlayResponseButtonHardText":"Plus tt","KOMPlayResponseButtonGoodText":"Normale","KOMPlayResponseButtonEasyText":"Plus tard"}}')[window.OLSKPublicConstants("OLSKSharedPageCurrentLanguage")])}]}class $e extends X{constructor(e){super(),Q(this,e,Ge,je,a,{KOMReviewMasterListItemName:0,KOMReviewMasterListItemReviewCount:1,KOMReviewMasterListItemUnseenCount:2,KOMReviewMasterListItemDispatchClick:3})}}function ze(e,t,n){const r=e.slice();return r[6]=t[n],r}function We(e){let t,n;function r(...t){return e[5](e[6],...t)}return t=new $e({props:{KOMReviewMasterListItemName:e[6].KOMDeckName,KOMReviewMasterListItemReviewCount:e[6].$KOMDeckTodayReviewCount,KOMReviewMasterListItemUnseenCount:e[6].$KOMDeckTodayUnseenCount,KOMReviewMasterListItemDispatchClick:r}}),{c(){W(t.$$.fragment)},m(e,r){q(t,e,r),n=!0},p(n,o){e=n;const a={};1&o&&(a.KOMReviewMasterListItemName=e[6].KOMDeckName),1&o&&(a.KOMReviewMasterListItemReviewCount=e[6].$KOMDeckTodayReviewCount),1&o&&(a.KOMReviewMasterListItemUnseenCount=e[6].$KOMDeckTodayUnseenCount),3&o&&(a.KOMReviewMasterListItemDispatchClick=r),t.$set(a)},i(e){n||(G(t.$$.fragment,e),n=!0)},o(e){$(t.$$.fragment,e),n=!1},d(e){J(t,e)}}}function qe(e){let t,n,r,o,a,i,s,l,p,O,m,v=e[0],T=[];for(let t=0;t<v.length;t+=1)T[t]=We(ze(e,v,t));const w=e=>$(T[e],1,1,()=>{T[e]=null});return{c(){t=h("div"),n=h("header"),r=h("div"),o=h("span"),o.textContent=""+e[2]("KOMReviewMasterToolbarTitleText"),a=g(),i=h("div");for(let e=0;e<T.length;e+=1)T[e].c();s=g(),l=h("button"),l.textContent=""+e[2]("KOMReviewMasterCreateButtonText"),K(o,"class","KOMReviewMasterToolbarTitle svelte-ijehe1"),K(r,"class","OLSKToolbarElementGroup"),K(n,"class","KOMReviewMasterToolbar OLSKToolbar OLSKToolbarJustify svelte-ijehe1"),K(l,"class","KOMReviewMasterCreateButton"),K(l,"accesskey","n"),K(i,"class","KOMReviewMasterBody svelte-ijehe1"),K(t,"class","KOMReviewMaster svelte-ijehe1")},m(d,f){c(d,t,f),u(t,n),u(n,r),u(r,o),u(t,a),u(t,i);for(let e=0;e<T.length;e+=1)T[e].m(i,null);u(i,s),u(i,l),p=!0,O||(m=M(l,"click",e[3].InterfaceCreateButtonDidClick),O=!0)},p(e,[t]){if(3&t){let n;for(v=e[0],n=0;n<v.length;n+=1){const r=ze(e,v,n);T[n]?(T[n].p(r,t),G(T[n],1)):(T[n]=We(r),T[n].c(),G(T[n],1),T[n].m(i,s))}for(H(),n=v.length;n<T.length;n+=1)w(n);j()}},i(e){if(!p){for(let e=0;e<v.length;e+=1)G(T[e]);p=!0}},o(e){T=T.filter(Boolean);for(let e=0;e<T.length;e+=1)$(T[e]);p=!1},d(e){e&&d(t),f(T,e),O=!1,m()}}}function Je(e,t,n){let{KOMReviewMasterItems:r}=t,{KOMReviewMasterDispatchCreate:o}=t,{KOMReviewMasterDispatchSelect:a}=t;const i=function(e){return te.OLSKInternationalLocalizedString(e,JSON.parse('{"en":{"OLSKAppToolbarGuideLinkText":"Guide","OLSKAppToolbarDonateLinkText":"Donate","OLSKAppToolbarLauncherButtonText":"Launcher","OLSKAppToolbarStorageButtonText":"Storage","OLSKDetailPlaceholderText":"No item selected","OLSKInputWrapperClearButtonText":"Clear text","OLSKLanguageSwitcherVersionFormat":"Version in %@","OLSKLanguageSwitcherVersionName":{"en":"English","fr":"French","es":"Spanish"},"OLSKMasterListFilterFieldText":"Filter","OLSKReloadButtonText":"Reload","OLSKRemoteStorageStatusOnline":"Online","OLSKRemoteStorageStatusNetworkOffline":"Offline","OLSKRemoteStorageStatusError":"Error","OLSKServiceWorkerUpdateAlertLabelText":"Update available","OLSKServiceWorkerUpdateAlertReloadButtonText":"Reload","KOMReviewLauncherItemSelectDeckTextFormat":"Select deck \'%@\'","KOMReviewLauncherItemSendLoginLinkText":"Send login link","KOMReviewLauncherItemSendLoginLinkSubject":"Kommit Login Link","KOMReviewLauncherItemDebugFlushDataText":"Flush data","KOMReviewLauncherItemDebugFlushDataConfirmText":"Are you sure?","KOMReviewChartCompositionStatesTotalCardsLabelText":"Total cards","KOMReviewChartCompositionStatesUnseenCardsLabelText":"Unseen","KOMReviewChartCompositionStatesDevelopingCardsLabelText":"Developing","KOMReviewChartCompositionStatesMatureCardsLabelText":"Mature","KOMReviewChartCompositionStatesSuspendedCardsLabelText":"Suspended","KOMReviewDetailToolbarBackButtonText":"Back","KOMReviewDetailToolbarCardsButtonText":"Cards","KOMReviewDetailGameOptionsHeadingText":"Game options","KOMReviewDetailNoCardsText":"There are no cards in this deck.","KOMReviewDetailFormAudioIsEnabledFieldLabelText":"Play audio","KOMReviewDetailFormFrontSpeechIsEnabledFieldLabelText":"Read front","KOMReviewDetailFormRearSpeechIsEnabledFieldLabelText":"Read back","KOMReviewDetailFormIsForwardOnlyFieldLabelText":"Skip reversed cards","KOMReviewDetailPlayButtonReviewingText":"Study review cards","KOMReviewDetailPlayButtonUnseenText":"Study new cards","KOMReviewDetailPlayButtonMixedText":"Study all cards","KOMReviewDetailPlayButtonSingleText":"Play","KOMReviewDetailNoSpacingsText":"All cards for today have been reviewed.","KOMReviewDetailTodayHeadingText":"Today","KOMReviewDetailGeneralHeadingText":"Historical","KOMReviewDetailDeckHeadingText":"Deck","KOMReviewDetailRenameButtonText":"Rename","KOMReviewDetailRenameButtonPromptText":"Name","KOMReviewDetailDiscardButtonText":"Delete deck and all cards inside","KOMReviewDetailDiscardPromptText":"Are you sure? Please type the name of the deck to confirm and delete.","KOMReviewDetailLanguageCodeFieldLabelText":"Language code","KOMReviewDetailLanguageCodeFieldOptionUnspecifiedText":"Unspecified","KOMReviewGeneralCardStatesHeadingText":"Cards","KOMReviewMasterToolbarTitleText":"Decks","KOMReviewMasterCreateButtonText":"Create deck","KOMReviewMasterCreateButtonPromptText":"Name","KOMReviewMasterListItemReviewLabelText":"review cards","KOMReviewMasterListItemUnseenLabelText":"new cards","KOMReviewTodayTotalCardsLabelText":"Total cards","KOMReviewTodayTimeMinutesLabelText":"Time (minutes)","KOMReviewTodayReviewAccuracyLabelText":"Review accuracy %","KOMBrowseInfoToolbarBackButtonText":"Back","KOMBrowseInfoToolbarDiscardButtonText":"Discard","KOMBrowseInfoDiscardConfirmText":"Are you sure?","KOMBrowseInfoToolbarTemplateButtonText":"Copy tags to new card","KOMBrowseInfoFormFrontTextFieldText":"Front text","KOMBrowseInfoFormFrontReadButtonText":"Read","KOMBrowseInfoFormRearTextFieldText":"Back text","KOMBrowseInfoFormRearReadButtonText":"Read","KOMBrowseInfoFormNotesFieldText":"Notes","KOMBrowseInfoAudioRecordButtonText":"Record","KOMBrowseInfoAudioRecordingAlertText":"Recording","KOMBrowseInfoAudioPlaybackButtonText":"Playback","KOMBrowseInfoAudioClearButtonText":"Clear","KOMBrowseInfoAudioNotAvailableAlertText":"Audio recording unsupported in this browser","KOMBrowseInfoTagsInputFieldText":"New tag name","KOMBrowseInfoTagsCreateButtonText":"Create tag","KOMBrowseInfoTagsRemoveButtonTextFormat":"Remove \'%@\'","KOMBrowseInfoTagsSuggestButtonTextFormat":"Add \'%@\'","KOMBrowseListToolbarCloseButtonText":"Close","KOMBrowseListToolbarCreateButtonText":"Create","KOMBrowseListItemUntitledText":"Untitled","KOMReviewLauncherItemDebugCardText":"Debug Card","KOMPlayToolbarUndoButtonText":"Undo","KOMPlayToolbarDoneButtonText":"Done","KOMPlayHearQuestionButtonText":"Hear question","KOMPlayHearAnswerButtonText":"Hear answer","KOMPlayFlipButtonText":"Flip","KOMPlayResponseButtonAgainText":"Again","KOMPlayResponseButtonHardText":"Sooner","KOMPlayResponseButtonGoodText":"Normal","KOMPlayResponseButtonEasyText":"Later"},"es":{"OLSKAppToolbarGuideLinkText":"Gua","OLSKAppToolbarDonateLinkText":"Donar","OLSKAppToolbarLauncherButtonText":"Lanzador","OLSKAppToolbarStorageButtonText":"Almacenamiento","OLSKDetailPlaceholderText":"Ningn artculo seleccionado","OLSKInputWrapperClearButtonText":"Despejar el texto","OLSKLanguageSwitcherVersionFormat":"Versin en %@","OLSKLanguageSwitcherVersionName":{"en":"ingls","fr":"francs","es":"espaol"},"OLSKMasterListFilterFieldText":"Filtrar","OLSKReloadButtonText":"Recargar","OLSKRemoteStorageStatusOnline":"En lneo","OLSKRemoteStorageStatusNetworkOffline":"Sin conexin","OLSKRemoteStorageStatusError":"Error","OLSKServiceWorkerUpdateAlertLabelText":"Actualizacin disponible","OLSKServiceWorkerUpdateAlertReloadButtonText":"Recargar"},"fr":{"OLSKAppToolbarGuideLinkText":"Guide","OLSKAppToolbarDonateLinkText":"Faire un don","OLSKAppToolbarLauncherButtonText":"Lanceur","OLSKAppToolbarStorageButtonText":"Stockage","OLSKDetailPlaceholderText":"Aucun article selection","OLSKInputWrapperClearButtonText":"Effacer le texte","OLSKLanguageSwitcherVersionFormat":"Version en %@","OLSKLanguageSwitcherVersionName":{"en":"anglais","fr":"franais","es":"espagnol"},"OLSKMasterListFilterFieldText":"Filtrer","OLSKReloadButtonText":"Recharger","OLSKRemoteStorageStatusOnline":"En ligne","OLSKRemoteStorageStatusNetworkOffline":"Hors connexion","OLSKRemoteStorageStatusError":"Erreur","OLSKServiceWorkerUpdateAlertLabelText":"Mise  jour disponible","OLSKServiceWorkerUpdateAlertReloadButtonText":"Recharger","KOMReviewLauncherItemSelectDeckTextFormat":"Choisir lot de cartes \'%@\'","KOMReviewLauncherItemSendLoginLinkText":"Envoyer lien d\'accs","KOMReviewLauncherItemSendLoginLinkSubject":"Kommit lien d\'accs","KOMReviewLauncherItemDebugFlushDataText":"Recharche les donnes","KOMReviewLauncherItemDebugFlushDataConfirmText":"tes-vous sr.e?","KOMReviewChartCompositionStatesTotalCardsLabelText":"Total des cartes","KOMReviewChartCompositionStatesUnseenCardsLabelText":"Non-vues","KOMReviewChartCompositionStatesDevelopingCardsLabelText":"En apprentisage","KOMReviewChartCompositionStatesMatureCardsLabelText":"Mature","KOMReviewChartCompositionStatesSuspendedCardsLabelText":"Suspendu","KOMReviewDetailToolbarBackButtonText":"Back","KOMReviewDetailToolbarCardsButtonText":"Cartes","KOMReviewDetailGameOptionsHeadingText":"Options du jeu","KOMReviewDetailNoCardsText":"Il n\'y a pas de cartes dans ce lot de cartes.","KOMReviewDetailFormAudioIsEnabledFieldLabelText":"Faire entendre la version audio enregistre","KOMReviewDetailFormFrontSpeechIsEnabledFieldLabelText":"Lire le recto","KOMReviewDetailFormRearSpeechIsEnabledFieldLabelText":"Lire le verso","KOMReviewDetailFormIsForwardOnlyFieldLabelText":"Ne pas activer la lecture des cartes inverses","KOMReviewDetailPlayButtonReviewingText":"tudier des cartes  rviser","KOMReviewDetailPlayButtonUnseenText":"tudier des nouvelles cartes","KOMReviewDetailPlayButtonMixedText":"tudier toutes les cartes","KOMReviewDetailPlayButtonSingleText":"Jouer","KOMReviewDetailNoSpacingsText":"Toutes les cartes pour aujourd\'hui ont t rvises.","KOMReviewDetailTodayHeadingText":"Aujourd\'hui","KOMReviewDetailGeneralHeadingText":"Historique","KOMReviewDetailDeckHeadingText":"Lot de cartes","KOMReviewDetailRenameButtonText":"Renommer","KOMReviewDetailRenameButtonPromptText":"Nom","KOMReviewDetailDiscardButtonText":"Supprimer le lot de cartes et toutes les cartes dedans","KOMReviewDetailDiscardPromptText":"tes-vous sr.e? Veuillez entrer le nom du lot de cartes pour confirmer et supprimer.","KOMReviewDetailLanguageCodeFieldLabelText":"Code de la langue","KOMReviewDetailLanguageCodeFieldOptionUnspecifiedText":"Non specifi","KOMReviewGeneralCardStatesHeadingText":"Les tats des cartes","KOMReviewMasterToolbarTitleText":"Lots de cartes","KOMReviewMasterCreateButtonText":"Crer lot de cartes","KOMReviewMasterCreateButtonPromptText":"Nom","KOMReviewMasterListItemReviewLabelText":"cartes  rviser","KOMReviewMasterListItemUnseenLabelText":"cartes nouvelles","KOMReviewTodayTotalCardsLabelText":"Total des cartes","KOMReviewTodayTimeMinutesLabelText":"Temps (minutes)","KOMReviewTodayReviewAccuracyLabelText":"Exactitude de la rvision %","KOMBrowseInfoToolbarBackButtonText":"Back","KOMBrowseInfoToolbarDiscardButtonText":"Jeter","KOMBrowseInfoDiscardConfirmText":"tes-vous sr.e?","KOMBrowseInfoToolbarTemplateButtonText":"Copier des tags  une nouvelle carte","KOMBrowseInfoFormFrontTextFieldText":"Texte du recto","KOMBrowseInfoFormFrontReadButtonText":"Lire","KOMBrowseInfoFormRearTextFieldText":"Texte du verso","KOMBrowseInfoFormRearReadButtonText":"Lire","KOMBrowseInfoFormNotesFieldText":"Notes","KOMBrowseInfoAudioRecordButtonText":"Enregistrer","KOMBrowseInfoAudioRecordingAlertText":"Enregistrement en cours","KOMBrowseInfoAudioPlaybackButtonText":"Lecture","KOMBrowseInfoAudioClearButtonText":"Effacer","KOMBrowseInfoAudioNotAvailableAlertText":"Enregistrement audio non pris en charge dans ce navigateur","KOMBrowseInfoTagsInputFieldText":"Nom du tag nouveau","KOMBrowseInfoTagsCreateButtonText":"Crer le tag","KOMBrowseInfoTagsRemoveButtonTextFormat":"Enlever \'%@\'","KOMBrowseInfoTagsSuggestButtonTextFormat":"Ajouter \'%@\'","KOMBrowseListToolbarCloseButtonText":"Fermer","KOMBrowseListToolbarCreateButtonText":"Crer","KOMBrowseListItemUntitledText":"Sans titre","KOMReviewLauncherItemDebugCardText":"Debug Card","KOMPlayToolbarUndoButtonText":"Annuler","KOMPlayToolbarDoneButtonText":"OK","KOMPlayHearQuestionButtonText":"couter la question","KOMPlayHearAnswerButtonText":"couter la rponse","KOMPlayFlipButtonText":"Retourner","KOMPlayResponseButtonAgainText":"Encore","KOMPlayResponseButtonHardText":"Plus tt","KOMPlayResponseButtonGoodText":"Normale","KOMPlayResponseButtonEasyText":"Plus tard"}}')[window.OLSKPublicConstants("OLSKSharedPageCurrentLanguage")])},s={InterfaceCreateButtonDidClick(){let e=window.prompt(i("KOMReviewMasterCreateButtonPromptText"));e&&o(e)}};return e.$set=e=>{"KOMReviewMasterItems"in e&&n(0,r=e.KOMReviewMasterItems),"KOMReviewMasterDispatchCreate"in e&&n(4,o=e.KOMReviewMasterDispatchCreate),"KOMReviewMasterDispatchSelect"in e&&n(1,a=e.KOMReviewMasterDispatchSelect)},[r,a,i,s,o,e=>a(e)]}class Ye extends X{constructor(e){super(),Q(this,e,Je,qe,a,{KOMReviewMasterItems:0,KOMReviewMasterDispatchCreate:4,KOMReviewMasterDispatchSelect:1})}}var Qe='<?xml version="1.0" encoding="UTF-8"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16" viewBox="0 0 16 16"  xml:space="preserve" id="_OLSKSharedBack">\n    \x3c!-- Generated by PaintCode (www.paintcodeapp.com) --\x3e\n    <path id="_OLSKSharedBack-bezier2" stroke="rgb(0, 0, 0)" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" fill="none" d="M 11,1 L 4,8 11,15" />\n</svg>\n';function Xe(e,t,n){const r=e.slice();return r[7]=t[n],r}function Ze(e){let t,n,r,o=e[7]+"";return{c(){t=h("option"),n=O(o),t.__value=r=e[7],t.value=t.__value},m(e,r){c(e,t,r),u(t,n)},p(e,a){4&a&&o!==(o=e[7]+"")&&v(n,o),4&a&&r!==(r=e[7])&&(t.__value=r),t.value=t.__value},d(e){e&&d(t)}}}function et(t){let n,a,i,s,l,p,O,m,v=t[2],T=[];for(let e=0;e<v.length;e+=1)T[e]=Ze(Xe(t,v,e));return{c(){n=h("label"),a=h("span"),a.textContent=""+t[4]("KOMReviewDetailLanguageCodeFieldLabelText"),i=g(),s=h("select"),l=h("option"),l.textContent=""+t[4]("KOMReviewDetailLanguageCodeFieldOptionUnspecifiedText");for(let e=0;e<T.length;e+=1)T[e].c();K(a,"class","KOMReviewDetailLanguageCodeFieldLabel"),K(l,"class","KOMReviewDetailLanguageCodeFieldOptionUnspecified"),l.__value="",l.value=l.__value,K(s,"class","KOMReviewDetailLanguageCodeField"),K(s,"tabindex",p=t[0][t[1]]?-1:null),void 0===t[3]._ValueLanguageCode&&F(()=>t[6].call(s)),K(n,"class","KOMReviewDetailLanguageCode svelte-1ohl1kc")},m(e,r){c(e,n,r),u(n,a),u(n,i),u(n,s),u(s,l);for(let e=0;e<T.length;e+=1)T[e].m(s,null);S(s,t[3]._ValueLanguageCode),O||(m=[M(s,"change",t[6]),M(s,"change",(function(){o(t[3].InterfaceFieldDidChange)&&t[3].InterfaceFieldDidChange.apply(this,arguments)}))],O=!0)},p(e,[n]){if(t=e,4&n){let e;for(v=t[2],e=0;e<v.length;e+=1){const r=Xe(t,v,e);T[e]?T[e].p(r,n):(T[e]=Ze(r),T[e].c(),T[e].m(s,null))}for(;e<T.length;e+=1)T[e].d(1);T.length=v.length}3&n&&p!==(p=t[0][t[1]]?-1:null)&&K(s,"tabindex",p),12&n&&S(s,t[3]._ValueLanguageCode)},i:e,o:e,d(e){e&&d(n),f(T,e),O=!1,r(m)}}}function tt(e,t,n){let{KOMReviewDetailLanguageCodeItem:r}=t,{KOMReviewDetailLanguageCodeItemProperty:o}=t,{KOMReviewDetailLanguageCodeOptions:a}=t,{KOMReviewDetailLanguageCodeDispatchUpdate:i}=t;const s={_ValueLanguageCode:null,InterfaceFieldDidChange(){s._ValueLanguageCode||delete r[o],s._ValueLanguageCode&&n(0,r[o]=s._ValueLanguageCode,r),i(r)},ReactItemDidChange(e){n(3,s._ValueLanguageCode=e[o],s)}};return e.$set=e=>{"KOMReviewDetailLanguageCodeItem"in e&&n(0,r=e.KOMReviewDetailLanguageCodeItem),"KOMReviewDetailLanguageCodeItemProperty"in e&&n(1,o=e.KOMReviewDetailLanguageCodeItemProperty),"KOMReviewDetailLanguageCodeOptions"in e&&n(2,a=e.KOMReviewDetailLanguageCodeOptions),"KOMReviewDetailLanguageCodeDispatchUpdate"in e&&n(5,i=e.KOMReviewDetailLanguageCodeDispatchUpdate)},e.$$.update=()=>{9&e.$$.dirty&&s.ReactItemDidChange(r)},[r,o,a,s,function(e){return te.OLSKInternationalLocalizedString(e,JSON.parse('{"en":{"OLSKAppToolbarGuideLinkText":"Guide","OLSKAppToolbarDonateLinkText":"Donate","OLSKAppToolbarLauncherButtonText":"Launcher","OLSKAppToolbarStorageButtonText":"Storage","OLSKDetailPlaceholderText":"No item selected","OLSKInputWrapperClearButtonText":"Clear text","OLSKLanguageSwitcherVersionFormat":"Version in %@","OLSKLanguageSwitcherVersionName":{"en":"English","fr":"French","es":"Spanish"},"OLSKMasterListFilterFieldText":"Filter","OLSKReloadButtonText":"Reload","OLSKRemoteStorageStatusOnline":"Online","OLSKRemoteStorageStatusNetworkOffline":"Offline","OLSKRemoteStorageStatusError":"Error","OLSKServiceWorkerUpdateAlertLabelText":"Update available","OLSKServiceWorkerUpdateAlertReloadButtonText":"Reload","KOMReviewLauncherItemSelectDeckTextFormat":"Select deck \'%@\'","KOMReviewLauncherItemSendLoginLinkText":"Send login link","KOMReviewLauncherItemSendLoginLinkSubject":"Kommit Login Link","KOMReviewLauncherItemDebugFlushDataText":"Flush data","KOMReviewLauncherItemDebugFlushDataConfirmText":"Are you sure?","KOMReviewChartCompositionStatesTotalCardsLabelText":"Total cards","KOMReviewChartCompositionStatesUnseenCardsLabelText":"Unseen","KOMReviewChartCompositionStatesDevelopingCardsLabelText":"Developing","KOMReviewChartCompositionStatesMatureCardsLabelText":"Mature","KOMReviewChartCompositionStatesSuspendedCardsLabelText":"Suspended","KOMReviewDetailToolbarBackButtonText":"Back","KOMReviewDetailToolbarCardsButtonText":"Cards","KOMReviewDetailGameOptionsHeadingText":"Game options","KOMReviewDetailNoCardsText":"There are no cards in this deck.","KOMReviewDetailFormAudioIsEnabledFieldLabelText":"Play audio","KOMReviewDetailFormFrontSpeechIsEnabledFieldLabelText":"Read front","KOMReviewDetailFormRearSpeechIsEnabledFieldLabelText":"Read back","KOMReviewDetailFormIsForwardOnlyFieldLabelText":"Skip reversed cards","KOMReviewDetailPlayButtonReviewingText":"Study review cards","KOMReviewDetailPlayButtonUnseenText":"Study new cards","KOMReviewDetailPlayButtonMixedText":"Study all cards","KOMReviewDetailPlayButtonSingleText":"Play","KOMReviewDetailNoSpacingsText":"All cards for today have been reviewed.","KOMReviewDetailTodayHeadingText":"Today","KOMReviewDetailGeneralHeadingText":"Historical","KOMReviewDetailDeckHeadingText":"Deck","KOMReviewDetailRenameButtonText":"Rename","KOMReviewDetailRenameButtonPromptText":"Name","KOMReviewDetailDiscardButtonText":"Delete deck and all cards inside","KOMReviewDetailDiscardPromptText":"Are you sure? Please type the name of the deck to confirm and delete.","KOMReviewDetailLanguageCodeFieldLabelText":"Language code","KOMReviewDetailLanguageCodeFieldOptionUnspecifiedText":"Unspecified","KOMReviewGeneralCardStatesHeadingText":"Cards","KOMReviewMasterToolbarTitleText":"Decks","KOMReviewMasterCreateButtonText":"Create deck","KOMReviewMasterCreateButtonPromptText":"Name","KOMReviewMasterListItemReviewLabelText":"review cards","KOMReviewMasterListItemUnseenLabelText":"new cards","KOMReviewTodayTotalCardsLabelText":"Total cards","KOMReviewTodayTimeMinutesLabelText":"Time (minutes)","KOMReviewTodayReviewAccuracyLabelText":"Review accuracy %","KOMBrowseInfoToolbarBackButtonText":"Back","KOMBrowseInfoToolbarDiscardButtonText":"Discard","KOMBrowseInfoDiscardConfirmText":"Are you sure?","KOMBrowseInfoToolbarTemplateButtonText":"Copy tags to new card","KOMBrowseInfoFormFrontTextFieldText":"Front text","KOMBrowseInfoFormFrontReadButtonText":"Read","KOMBrowseInfoFormRearTextFieldText":"Back text","KOMBrowseInfoFormRearReadButtonText":"Read","KOMBrowseInfoFormNotesFieldText":"Notes","KOMBrowseInfoAudioRecordButtonText":"Record","KOMBrowseInfoAudioRecordingAlertText":"Recording","KOMBrowseInfoAudioPlaybackButtonText":"Playback","KOMBrowseInfoAudioClearButtonText":"Clear","KOMBrowseInfoAudioNotAvailableAlertText":"Audio recording unsupported in this browser","KOMBrowseInfoTagsInputFieldText":"New tag name","KOMBrowseInfoTagsCreateButtonText":"Create tag","KOMBrowseInfoTagsRemoveButtonTextFormat":"Remove \'%@\'","KOMBrowseInfoTagsSuggestButtonTextFormat":"Add \'%@\'","KOMBrowseListToolbarCloseButtonText":"Close","KOMBrowseListToolbarCreateButtonText":"Create","KOMBrowseListItemUntitledText":"Untitled","KOMReviewLauncherItemDebugCardText":"Debug Card","KOMPlayToolbarUndoButtonText":"Undo","KOMPlayToolbarDoneButtonText":"Done","KOMPlayHearQuestionButtonText":"Hear question","KOMPlayHearAnswerButtonText":"Hear answer","KOMPlayFlipButtonText":"Flip","KOMPlayResponseButtonAgainText":"Again","KOMPlayResponseButtonHardText":"Sooner","KOMPlayResponseButtonGoodText":"Normal","KOMPlayResponseButtonEasyText":"Later"},"es":{"OLSKAppToolbarGuideLinkText":"Gua","OLSKAppToolbarDonateLinkText":"Donar","OLSKAppToolbarLauncherButtonText":"Lanzador","OLSKAppToolbarStorageButtonText":"Almacenamiento","OLSKDetailPlaceholderText":"Ningn artculo seleccionado","OLSKInputWrapperClearButtonText":"Despejar el texto","OLSKLanguageSwitcherVersionFormat":"Versin en %@","OLSKLanguageSwitcherVersionName":{"en":"ingls","fr":"francs","es":"espaol"},"OLSKMasterListFilterFieldText":"Filtrar","OLSKReloadButtonText":"Recargar","OLSKRemoteStorageStatusOnline":"En lneo","OLSKRemoteStorageStatusNetworkOffline":"Sin conexin","OLSKRemoteStorageStatusError":"Error","OLSKServiceWorkerUpdateAlertLabelText":"Actualizacin disponible","OLSKServiceWorkerUpdateAlertReloadButtonText":"Recargar"},"fr":{"OLSKAppToolbarGuideLinkText":"Guide","OLSKAppToolbarDonateLinkText":"Faire un don","OLSKAppToolbarLauncherButtonText":"Lanceur","OLSKAppToolbarStorageButtonText":"Stockage","OLSKDetailPlaceholderText":"Aucun article selection","OLSKInputWrapperClearButtonText":"Effacer le texte","OLSKLanguageSwitcherVersionFormat":"Version en %@","OLSKLanguageSwitcherVersionName":{"en":"anglais","fr":"franais","es":"espagnol"},"OLSKMasterListFilterFieldText":"Filtrer","OLSKReloadButtonText":"Recharger","OLSKRemoteStorageStatusOnline":"En ligne","OLSKRemoteStorageStatusNetworkOffline":"Hors connexion","OLSKRemoteStorageStatusError":"Erreur","OLSKServiceWorkerUpdateAlertLabelText":"Mise  jour disponible","OLSKServiceWorkerUpdateAlertReloadButtonText":"Recharger","KOMReviewLauncherItemSelectDeckTextFormat":"Choisir lot de cartes \'%@\'","KOMReviewLauncherItemSendLoginLinkText":"Envoyer lien d\'accs","KOMReviewLauncherItemSendLoginLinkSubject":"Kommit lien d\'accs","KOMReviewLauncherItemDebugFlushDataText":"Recharche les donnes","KOMReviewLauncherItemDebugFlushDataConfirmText":"tes-vous sr.e?","KOMReviewChartCompositionStatesTotalCardsLabelText":"Total des cartes","KOMReviewChartCompositionStatesUnseenCardsLabelText":"Non-vues","KOMReviewChartCompositionStatesDevelopingCardsLabelText":"En apprentisage","KOMReviewChartCompositionStatesMatureCardsLabelText":"Mature","KOMReviewChartCompositionStatesSuspendedCardsLabelText":"Suspendu","KOMReviewDetailToolbarBackButtonText":"Back","KOMReviewDetailToolbarCardsButtonText":"Cartes","KOMReviewDetailGameOptionsHeadingText":"Options du jeu","KOMReviewDetailNoCardsText":"Il n\'y a pas de cartes dans ce lot de cartes.","KOMReviewDetailFormAudioIsEnabledFieldLabelText":"Faire entendre la version audio enregistre","KOMReviewDetailFormFrontSpeechIsEnabledFieldLabelText":"Lire le recto","KOMReviewDetailFormRearSpeechIsEnabledFieldLabelText":"Lire le verso","KOMReviewDetailFormIsForwardOnlyFieldLabelText":"Ne pas activer la lecture des cartes inverses","KOMReviewDetailPlayButtonReviewingText":"tudier des cartes  rviser","KOMReviewDetailPlayButtonUnseenText":"tudier des nouvelles cartes","KOMReviewDetailPlayButtonMixedText":"tudier toutes les cartes","KOMReviewDetailPlayButtonSingleText":"Jouer","KOMReviewDetailNoSpacingsText":"Toutes les cartes pour aujourd\'hui ont t rvises.","KOMReviewDetailTodayHeadingText":"Aujourd\'hui","KOMReviewDetailGeneralHeadingText":"Historique","KOMReviewDetailDeckHeadingText":"Lot de cartes","KOMReviewDetailRenameButtonText":"Renommer","KOMReviewDetailRenameButtonPromptText":"Nom","KOMReviewDetailDiscardButtonText":"Supprimer le lot de cartes et toutes les cartes dedans","KOMReviewDetailDiscardPromptText":"tes-vous sr.e? Veuillez entrer le nom du lot de cartes pour confirmer et supprimer.","KOMReviewDetailLanguageCodeFieldLabelText":"Code de la langue","KOMReviewDetailLanguageCodeFieldOptionUnspecifiedText":"Non specifi","KOMReviewGeneralCardStatesHeadingText":"Les tats des cartes","KOMReviewMasterToolbarTitleText":"Lots de cartes","KOMReviewMasterCreateButtonText":"Crer lot de cartes","KOMReviewMasterCreateButtonPromptText":"Nom","KOMReviewMasterListItemReviewLabelText":"cartes  rviser","KOMReviewMasterListItemUnseenLabelText":"cartes nouvelles","KOMReviewTodayTotalCardsLabelText":"Total des cartes","KOMReviewTodayTimeMinutesLabelText":"Temps (minutes)","KOMReviewTodayReviewAccuracyLabelText":"Exactitude de la rvision %","KOMBrowseInfoToolbarBackButtonText":"Back","KOMBrowseInfoToolbarDiscardButtonText":"Jeter","KOMBrowseInfoDiscardConfirmText":"tes-vous sr.e?","KOMBrowseInfoToolbarTemplateButtonText":"Copier des tags  une nouvelle carte","KOMBrowseInfoFormFrontTextFieldText":"Texte du recto","KOMBrowseInfoFormFrontReadButtonText":"Lire","KOMBrowseInfoFormRearTextFieldText":"Texte du verso","KOMBrowseInfoFormRearReadButtonText":"Lire","KOMBrowseInfoFormNotesFieldText":"Notes","KOMBrowseInfoAudioRecordButtonText":"Enregistrer","KOMBrowseInfoAudioRecordingAlertText":"Enregistrement en cours","KOMBrowseInfoAudioPlaybackButtonText":"Lecture","KOMBrowseInfoAudioClearButtonText":"Effacer","KOMBrowseInfoAudioNotAvailableAlertText":"Enregistrement audio non pris en charge dans ce navigateur","KOMBrowseInfoTagsInputFieldText":"Nom du tag nouveau","KOMBrowseInfoTagsCreateButtonText":"Crer le tag","KOMBrowseInfoTagsRemoveButtonTextFormat":"Enlever \'%@\'","KOMBrowseInfoTagsSuggestButtonTextFormat":"Ajouter \'%@\'","KOMBrowseListToolbarCloseButtonText":"Fermer","KOMBrowseListToolbarCreateButtonText":"Crer","KOMBrowseListItemUntitledText":"Sans titre","KOMReviewLauncherItemDebugCardText":"Debug Card","KOMPlayToolbarUndoButtonText":"Annuler","KOMPlayToolbarDoneButtonText":"OK","KOMPlayHearQuestionButtonText":"couter la question","KOMPlayHearAnswerButtonText":"couter la rponse","KOMPlayFlipButtonText":"Retourner","KOMPlayResponseButtonAgainText":"Encore","KOMPlayResponseButtonHardText":"Plus tt","KOMPlayResponseButtonGoodText":"Normale","KOMPlayResponseButtonEasyText":"Plus tard"}}')[window.OLSKPublicConstants("OLSKSharedPageCurrentLanguage")])},i,function(){s._ValueLanguageCode=function(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}(this),n(3,s),n(2,a)}]}class nt extends X{constructor(e){super(),Q(this,e,tt,et,a,{KOMReviewDetailLanguageCodeItem:0,KOMReviewDetailLanguageCodeItemProperty:1,KOMReviewDetailLanguageCodeOptions:2,KOMReviewDetailLanguageCodeDispatchUpdate:5})}}const rt={KOMReviewTodayTotalCards(e){if(!Array.isArray(e))throw new Error("KOMErrorInputNotValid");const t={};return e.reduce((function(e,n){const r=Ke.KOMSpacingModelIdentifier(n.KOMSpacingID);return t[r]?e:(t[r]=!0,e+1)}),0)},KOMReviewTodayTotalMilliseconds(e){if(!Array.isArray(e))throw new Error("KOMErrorInputNotValid");return e.reduce((function(e,t){return e+t.KOMSpacingChronicles.filter((function(e){return Ue.KOMPlayDayGrouping(e.KOMChronicleResponseDate)===Ue.KOMPlayDayGrouping(new Date)})).reduce((function(e,t){return e+(t.KOMChronicleResponseDate-t.KOMChronicleDrawDate)}),0)}),0)},KOMReviewTodayMinutes(e){if("number"!=typeof e)throw new Error("KOMErrorInputNotValid");return Math.round(e/1e3/60*10)/10},KOMReviewTodayReviewAccuracy(e){if(!Array.isArray(e))throw new Error("KOMErrorInputNotValid");return(t=e.filter((function(e){const t=e.KOMSpacingChronicles.filter((function(e){return Ue.KOMPlayDayGrouping(e.KOMChronicleResponseDate)===Ue.KOMPlayDayGrouping(new Date)}));return!!t.length&&!!e.KOMSpacingChronicles.filter((function(e){return!t.includes(e)&&e.KOMChronicleMultiplier})).length})).map((function(e){return e.KOMSpacingChronicles.filter((function(e){return Ue.KOMPlayDayGrouping(e.KOMChronicleResponseDate)===Ue.KOMPlayDayGrouping(new Date)})).filter((function(e){return e.KOMChronicleResponseType===Ue.KOMPlayResponseTypeAgain()})).length?0:1}))).length?1*t.reduce((function(e,t){return e+t}),0)/t.length:0;var t},KOMReviewTodayPercentage(e){if("number"!=typeof e)throw new Error("KOMErrorInputNotValid");return Math.round(100*e*10)/10}};function ot(t){let n,r,o,a,i,s,l,f,p,m,M,T,w,S,x,y,b,L,R=rt.KOMReviewTodayTotalCards(t[0])+"",C=rt.KOMReviewTodayMinutes(rt.KOMReviewTodayTotalMilliseconds(t[0]))+"",D=rt.KOMReviewTodayPercentage(rt.KOMReviewTodayReviewAccuracy(t[0]))+"";return{c(){n=h("table"),r=h("tr"),o=h("td"),o.textContent=""+t[1]("KOMReviewTodayTotalCardsLabelText"),a=g(),i=h("td"),s=O(R),l=g(),f=h("tr"),p=h("td"),p.textContent=""+t[1]("KOMReviewTodayTimeMinutesLabelText"),m=g(),M=h("td"),T=O(C),w=g(),S=h("tr"),x=h("td"),x.textContent=""+t[1]("KOMReviewTodayReviewAccuracyLabelText"),y=g(),b=h("td"),L=O(D),K(o,"class","KOMReviewTodayTotalCardsLabel svelte-w8e259"),K(i,"class","KOMReviewTodayTotalCardsValue svelte-w8e259"),K(p,"class","KOMReviewTodayTimeMinutesLabel svelte-w8e259"),K(M,"class","KOMReviewTodayTimeMinutesValue svelte-w8e259"),K(x,"class","KOMReviewTodayReviewAccuracyLabel svelte-w8e259"),K(b,"class","KOMReviewTodayReviewAccuracyValue svelte-w8e259"),K(n,"class","KOMReviewToday")},m(e,t){c(e,n,t),u(n,r),u(r,o),u(r,a),u(r,i),u(i,s),u(n,l),u(n,f),u(f,p),u(f,m),u(f,M),u(M,T),u(n,w),u(n,S),u(S,x),u(S,y),u(S,b),u(b,L)},p(e,[t]){1&t&&R!==(R=rt.KOMReviewTodayTotalCards(e[0])+"")&&v(s,R),1&t&&C!==(C=rt.KOMReviewTodayMinutes(rt.KOMReviewTodayTotalMilliseconds(e[0]))+"")&&v(T,C),1&t&&D!==(D=rt.KOMReviewTodayPercentage(rt.KOMReviewTodayReviewAccuracy(e[0]))+"")&&v(L,D)},i:e,o:e,d(e){e&&d(n)}}}function at(e,t,n){let{KOMReviewTodaySpacings:r}=t;return e.$set=e=>{"KOMReviewTodaySpacings"in e&&n(0,r=e.KOMReviewTodaySpacings)},[r,function(e){return te.OLSKInternationalLocalizedString(e,JSON.parse('{"en":{"OLSKAppToolbarGuideLinkText":"Guide","OLSKAppToolbarDonateLinkText":"Donate","OLSKAppToolbarLauncherButtonText":"Launcher","OLSKAppToolbarStorageButtonText":"Storage","OLSKDetailPlaceholderText":"No item selected","OLSKInputWrapperClearButtonText":"Clear text","OLSKLanguageSwitcherVersionFormat":"Version in %@","OLSKLanguageSwitcherVersionName":{"en":"English","fr":"French","es":"Spanish"},"OLSKMasterListFilterFieldText":"Filter","OLSKReloadButtonText":"Reload","OLSKRemoteStorageStatusOnline":"Online","OLSKRemoteStorageStatusNetworkOffline":"Offline","OLSKRemoteStorageStatusError":"Error","OLSKServiceWorkerUpdateAlertLabelText":"Update available","OLSKServiceWorkerUpdateAlertReloadButtonText":"Reload","KOMReviewLauncherItemSelectDeckTextFormat":"Select deck \'%@\'","KOMReviewLauncherItemSendLoginLinkText":"Send login link","KOMReviewLauncherItemSendLoginLinkSubject":"Kommit Login Link","KOMReviewLauncherItemDebugFlushDataText":"Flush data","KOMReviewLauncherItemDebugFlushDataConfirmText":"Are you sure?","KOMReviewChartCompositionStatesTotalCardsLabelText":"Total cards","KOMReviewChartCompositionStatesUnseenCardsLabelText":"Unseen","KOMReviewChartCompositionStatesDevelopingCardsLabelText":"Developing","KOMReviewChartCompositionStatesMatureCardsLabelText":"Mature","KOMReviewChartCompositionStatesSuspendedCardsLabelText":"Suspended","KOMReviewDetailToolbarBackButtonText":"Back","KOMReviewDetailToolbarCardsButtonText":"Cards","KOMReviewDetailGameOptionsHeadingText":"Game options","KOMReviewDetailNoCardsText":"There are no cards in this deck.","KOMReviewDetailFormAudioIsEnabledFieldLabelText":"Play audio","KOMReviewDetailFormFrontSpeechIsEnabledFieldLabelText":"Read front","KOMReviewDetailFormRearSpeechIsEnabledFieldLabelText":"Read back","KOMReviewDetailFormIsForwardOnlyFieldLabelText":"Skip reversed cards","KOMReviewDetailPlayButtonReviewingText":"Study review cards","KOMReviewDetailPlayButtonUnseenText":"Study new cards","KOMReviewDetailPlayButtonMixedText":"Study all cards","KOMReviewDetailPlayButtonSingleText":"Play","KOMReviewDetailNoSpacingsText":"All cards for today have been reviewed.","KOMReviewDetailTodayHeadingText":"Today","KOMReviewDetailGeneralHeadingText":"Historical","KOMReviewDetailDeckHeadingText":"Deck","KOMReviewDetailRenameButtonText":"Rename","KOMReviewDetailRenameButtonPromptText":"Name","KOMReviewDetailDiscardButtonText":"Delete deck and all cards inside","KOMReviewDetailDiscardPromptText":"Are you sure? Please type the name of the deck to confirm and delete.","KOMReviewDetailLanguageCodeFieldLabelText":"Language code","KOMReviewDetailLanguageCodeFieldOptionUnspecifiedText":"Unspecified","KOMReviewGeneralCardStatesHeadingText":"Cards","KOMReviewMasterToolbarTitleText":"Decks","KOMReviewMasterCreateButtonText":"Create deck","KOMReviewMasterCreateButtonPromptText":"Name","KOMReviewMasterListItemReviewLabelText":"review cards","KOMReviewMasterListItemUnseenLabelText":"new cards","KOMReviewTodayTotalCardsLabelText":"Total cards","KOMReviewTodayTimeMinutesLabelText":"Time (minutes)","KOMReviewTodayReviewAccuracyLabelText":"Review accuracy %","KOMBrowseInfoToolbarBackButtonText":"Back","KOMBrowseInfoToolbarDiscardButtonText":"Discard","KOMBrowseInfoDiscardConfirmText":"Are you sure?","KOMBrowseInfoToolbarTemplateButtonText":"Copy tags to new card","KOMBrowseInfoFormFrontTextFieldText":"Front text","KOMBrowseInfoFormFrontReadButtonText":"Read","KOMBrowseInfoFormRearTextFieldText":"Back text","KOMBrowseInfoFormRearReadButtonText":"Read","KOMBrowseInfoFormNotesFieldText":"Notes","KOMBrowseInfoAudioRecordButtonText":"Record","KOMBrowseInfoAudioRecordingAlertText":"Recording","KOMBrowseInfoAudioPlaybackButtonText":"Playback","KOMBrowseInfoAudioClearButtonText":"Clear","KOMBrowseInfoAudioNotAvailableAlertText":"Audio recording unsupported in this browser","KOMBrowseInfoTagsInputFieldText":"New tag name","KOMBrowseInfoTagsCreateButtonText":"Create tag","KOMBrowseInfoTagsRemoveButtonTextFormat":"Remove \'%@\'","KOMBrowseInfoTagsSuggestButtonTextFormat":"Add \'%@\'","KOMBrowseListToolbarCloseButtonText":"Close","KOMBrowseListToolbarCreateButtonText":"Create","KOMBrowseListItemUntitledText":"Untitled","KOMReviewLauncherItemDebugCardText":"Debug Card","KOMPlayToolbarUndoButtonText":"Undo","KOMPlayToolbarDoneButtonText":"Done","KOMPlayHearQuestionButtonText":"Hear question","KOMPlayHearAnswerButtonText":"Hear answer","KOMPlayFlipButtonText":"Flip","KOMPlayResponseButtonAgainText":"Again","KOMPlayResponseButtonHardText":"Sooner","KOMPlayResponseButtonGoodText":"Normal","KOMPlayResponseButtonEasyText":"Later"},"es":{"OLSKAppToolbarGuideLinkText":"Gua","OLSKAppToolbarDonateLinkText":"Donar","OLSKAppToolbarLauncherButtonText":"Lanzador","OLSKAppToolbarStorageButtonText":"Almacenamiento","OLSKDetailPlaceholderText":"Ningn artculo seleccionado","OLSKInputWrapperClearButtonText":"Despejar el texto","OLSKLanguageSwitcherVersionFormat":"Versin en %@","OLSKLanguageSwitcherVersionName":{"en":"ingls","fr":"francs","es":"espaol"},"OLSKMasterListFilterFieldText":"Filtrar","OLSKReloadButtonText":"Recargar","OLSKRemoteStorageStatusOnline":"En lneo","OLSKRemoteStorageStatusNetworkOffline":"Sin conexin","OLSKRemoteStorageStatusError":"Error","OLSKServiceWorkerUpdateAlertLabelText":"Actualizacin disponible","OLSKServiceWorkerUpdateAlertReloadButtonText":"Recargar"},"fr":{"OLSKAppToolbarGuideLinkText":"Guide","OLSKAppToolbarDonateLinkText":"Faire un don","OLSKAppToolbarLauncherButtonText":"Lanceur","OLSKAppToolbarStorageButtonText":"Stockage","OLSKDetailPlaceholderText":"Aucun article selection","OLSKInputWrapperClearButtonText":"Effacer le texte","OLSKLanguageSwitcherVersionFormat":"Version en %@","OLSKLanguageSwitcherVersionName":{"en":"anglais","fr":"franais","es":"espagnol"},"OLSKMasterListFilterFieldText":"Filtrer","OLSKReloadButtonText":"Recharger","OLSKRemoteStorageStatusOnline":"En ligne","OLSKRemoteStorageStatusNetworkOffline":"Hors connexion","OLSKRemoteStorageStatusError":"Erreur","OLSKServiceWorkerUpdateAlertLabelText":"Mise  jour disponible","OLSKServiceWorkerUpdateAlertReloadButtonText":"Recharger","KOMReviewLauncherItemSelectDeckTextFormat":"Choisir lot de cartes \'%@\'","KOMReviewLauncherItemSendLoginLinkText":"Envoyer lien d\'accs","KOMReviewLauncherItemSendLoginLinkSubject":"Kommit lien d\'accs","KOMReviewLauncherItemDebugFlushDataText":"Recharche les donnes","KOMReviewLauncherItemDebugFlushDataConfirmText":"tes-vous sr.e?","KOMReviewChartCompositionStatesTotalCardsLabelText":"Total des cartes","KOMReviewChartCompositionStatesUnseenCardsLabelText":"Non-vues","KOMReviewChartCompositionStatesDevelopingCardsLabelText":"En apprentisage","KOMReviewChartCompositionStatesMatureCardsLabelText":"Mature","KOMReviewChartCompositionStatesSuspendedCardsLabelText":"Suspendu","KOMReviewDetailToolbarBackButtonText":"Back","KOMReviewDetailToolbarCardsButtonText":"Cartes","KOMReviewDetailGameOptionsHeadingText":"Options du jeu","KOMReviewDetailNoCardsText":"Il n\'y a pas de cartes dans ce lot de cartes.","KOMReviewDetailFormAudioIsEnabledFieldLabelText":"Faire entendre la version audio enregistre","KOMReviewDetailFormFrontSpeechIsEnabledFieldLabelText":"Lire le recto","KOMReviewDetailFormRearSpeechIsEnabledFieldLabelText":"Lire le verso","KOMReviewDetailFormIsForwardOnlyFieldLabelText":"Ne pas activer la lecture des cartes inverses","KOMReviewDetailPlayButtonReviewingText":"tudier des cartes  rviser","KOMReviewDetailPlayButtonUnseenText":"tudier des nouvelles cartes","KOMReviewDetailPlayButtonMixedText":"tudier toutes les cartes","KOMReviewDetailPlayButtonSingleText":"Jouer","KOMReviewDetailNoSpacingsText":"Toutes les cartes pour aujourd\'hui ont t rvises.","KOMReviewDetailTodayHeadingText":"Aujourd\'hui","KOMReviewDetailGeneralHeadingText":"Historique","KOMReviewDetailDeckHeadingText":"Lot de cartes","KOMReviewDetailRenameButtonText":"Renommer","KOMReviewDetailRenameButtonPromptText":"Nom","KOMReviewDetailDiscardButtonText":"Supprimer le lot de cartes et toutes les cartes dedans","KOMReviewDetailDiscardPromptText":"tes-vous sr.e? Veuillez entrer le nom du lot de cartes pour confirmer et supprimer.","KOMReviewDetailLanguageCodeFieldLabelText":"Code de la langue","KOMReviewDetailLanguageCodeFieldOptionUnspecifiedText":"Non specifi","KOMReviewGeneralCardStatesHeadingText":"Les tats des cartes","KOMReviewMasterToolbarTitleText":"Lots de cartes","KOMReviewMasterCreateButtonText":"Crer lot de cartes","KOMReviewMasterCreateButtonPromptText":"Nom","KOMReviewMasterListItemReviewLabelText":"cartes  rviser","KOMReviewMasterListItemUnseenLabelText":"cartes nouvelles","KOMReviewTodayTotalCardsLabelText":"Total des cartes","KOMReviewTodayTimeMinutesLabelText":"Temps (minutes)","KOMReviewTodayReviewAccuracyLabelText":"Exactitude de la rvision %","KOMBrowseInfoToolbarBackButtonText":"Back","KOMBrowseInfoToolbarDiscardButtonText":"Jeter","KOMBrowseInfoDiscardConfirmText":"tes-vous sr.e?","KOMBrowseInfoToolbarTemplateButtonText":"Copier des tags  une nouvelle carte","KOMBrowseInfoFormFrontTextFieldText":"Texte du recto","KOMBrowseInfoFormFrontReadButtonText":"Lire","KOMBrowseInfoFormRearTextFieldText":"Texte du verso","KOMBrowseInfoFormRearReadButtonText":"Lire","KOMBrowseInfoFormNotesFieldText":"Notes","KOMBrowseInfoAudioRecordButtonText":"Enregistrer","KOMBrowseInfoAudioRecordingAlertText":"Enregistrement en cours","KOMBrowseInfoAudioPlaybackButtonText":"Lecture","KOMBrowseInfoAudioClearButtonText":"Effacer","KOMBrowseInfoAudioNotAvailableAlertText":"Enregistrement audio non pris en charge dans ce navigateur","KOMBrowseInfoTagsInputFieldText":"Nom du tag nouveau","KOMBrowseInfoTagsCreateButtonText":"Crer le tag","KOMBrowseInfoTagsRemoveButtonTextFormat":"Enlever \'%@\'","KOMBrowseInfoTagsSuggestButtonTextFormat":"Ajouter \'%@\'","KOMBrowseListToolbarCloseButtonText":"Fermer","KOMBrowseListToolbarCreateButtonText":"Crer","KOMBrowseListItemUntitledText":"Sans titre","KOMReviewLauncherItemDebugCardText":"Debug Card","KOMPlayToolbarUndoButtonText":"Annuler","KOMPlayToolbarDoneButtonText":"OK","KOMPlayHearQuestionButtonText":"couter la question","KOMPlayHearAnswerButtonText":"couter la rponse","KOMPlayFlipButtonText":"Retourner","KOMPlayResponseButtonAgainText":"Encore","KOMPlayResponseButtonHardText":"Plus tt","KOMPlayResponseButtonGoodText":"Normale","KOMPlayResponseButtonEasyText":"Plus tard"}}')[window.OLSKPublicConstants("OLSKSharedPageCurrentLanguage")])}]}class it extends X{constructor(e){super(),Q(this,e,at,ot,a,{KOMReviewTodaySpacings:0})}}const st={KOMReviewChartCompositionStatesIsValid(e){if("object"!=typeof e||null===e)throw new Error("KOMErrorInputNotValid");return"number"==typeof e.KOMReviewChartCompositionStatesTotal&&("number"==typeof e.KOMReviewChartCompositionStatesUnseen&&("number"==typeof e.KOMReviewChartCompositionStatesDeveloping&&("number"==typeof e.KOMReviewChartCompositionStatesMature&&"number"==typeof e.KOMReviewChartCompositionStatesSuspended)))}},lt={KOMReviewChartElementNormalizedBarWidth:()=>100,KOMReviewChartElementNormalizedBarHeight:()=>10,KOMReviewChartElementNormalizedBarScaleHorizontal(e,t){if("function"!=typeof e)throw new Error("KOMErrorInputNotValid");if(!Array.isArray(t))throw new Error("KOMErrorInputNotValid");if(!t.length)throw new Error("KOMErrorInputNotValid");return e().range([0,lt.KOMReviewChartElementNormalizedBarWidth()]).domain([0,t.reduce((function(e,t){return e+t}),0)])},KOMReviewChartElementNormalizedBarScaleColor(e,t,n){if("function"!=typeof e)throw new Error("KOMErrorInputNotValid");if(!Array.isArray(t))throw new Error("KOMErrorInputNotValid");if(!Array.isArray(n))throw new Error("KOMErrorInputNotValid");if(n.length<3)throw new Error("KOMErrorInputNotValid");return e().domain(n).range(t[n.length].slice().reverse()).unknown("red")}};var ut=Z(ee((function(e,t){!function(e){function t(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function n(e){var n;return 1===e.length&&(n=e,e=function(e,r){return t(n(e),r)}),{left:function(t,n,r,o){for(null==r&&(r=0),null==o&&(o=t.length);r<o;){var a=r+o>>>1;e(t[a],n)<0?r=a+1:o=a}return r},right:function(t,n,r,o){for(null==r&&(r=0),null==o&&(o=t.length);r<o;){var a=r+o>>>1;e(t[a],n)>0?o=a:r=a+1}return r}}}var r=n(t),o=r.right,a=r.left;function i(e,t){return[e,t]}function s(e){return null===e?NaN:+e}function l(e,t){var n,r,o=e.length,a=0,i=-1,l=0,u=0;if(null==t)for(;++i<o;)isNaN(n=s(e[i]))||(u+=(r=n-l)*(n-(l+=r/++a)));else for(;++i<o;)isNaN(n=s(t(e[i],i,e)))||(u+=(r=n-l)*(n-(l+=r/++a)));if(a>1)return u/(a-1)}function u(e,t){var n=l(e,t);return n?Math.sqrt(n):n}function c(e,t){var n,r,o,a=e.length,i=-1;if(null==t){for(;++i<a;)if(null!=(n=e[i])&&n>=n)for(r=o=n;++i<a;)null!=(n=e[i])&&(r>n&&(r=n),o<n&&(o=n))}else for(;++i<a;)if(null!=(n=t(e[i],i,e))&&n>=n)for(r=o=n;++i<a;)null!=(n=t(e[i],i,e))&&(r>n&&(r=n),o<n&&(o=n));return[r,o]}var d=Array.prototype,f=d.slice,h=d.map;function p(e){return function(){return e}}function O(e){return e}function g(e,t,n){e=+e,t=+t,n=(o=arguments.length)<2?(t=e,e=0,1):o<3?1:+n;for(var r=-1,o=0|Math.max(0,Math.ceil((t-e)/n)),a=new Array(o);++r<o;)a[r]=e+r*n;return a}var m=Math.sqrt(50),M=Math.sqrt(10),K=Math.sqrt(2);function v(e,t,n){var r,o,a,i,s=-1;if(n=+n,(e=+e)==(t=+t)&&n>0)return[e];if((r=t<e)&&(o=e,e=t,t=o),0===(i=T(e,t,n))||!isFinite(i))return[];if(i>0)for(e=Math.ceil(e/i),t=Math.floor(t/i),a=new Array(o=Math.ceil(t-e+1));++s<o;)a[s]=(e+s)*i;else for(e=Math.floor(e*i),t=Math.ceil(t*i),a=new Array(o=Math.ceil(e-t+1));++s<o;)a[s]=(e-s)/i;return r&&a.reverse(),a}function T(e,t,n){var r=(t-e)/Math.max(0,n),o=Math.floor(Math.log(r)/Math.LN10),a=r/Math.pow(10,o);return o>=0?(a>=m?10:a>=M?5:a>=K?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(a>=m?10:a>=M?5:a>=K?2:1)}function w(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),o=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/o;return a>=m?o*=10:a>=M?o*=5:a>=K&&(o*=2),t<e?-o:o}function S(e){return Math.ceil(Math.log(e.length)/Math.LN2)+1}function x(e,t,n){if(null==n&&(n=s),r=e.length){if((t=+t)<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,o=(r-1)*t,a=Math.floor(o),i=+n(e[a],a,e);return i+(+n(e[a+1],a+1,e)-i)*(o-a)}}function y(e,t){var n,r,o=e.length,a=-1;if(null==t){for(;++a<o;)if(null!=(n=e[a])&&n>=n)for(r=n;++a<o;)null!=(n=e[a])&&n>r&&(r=n)}else for(;++a<o;)if(null!=(n=t(e[a],a,e))&&n>=n)for(r=n;++a<o;)null!=(n=t(e[a],a,e))&&n>r&&(r=n);return r}function b(e){for(var t,n,r,o=e.length,a=-1,i=0;++a<o;)i+=e[a].length;for(n=new Array(i);--o>=0;)for(t=(r=e[o]).length;--t>=0;)n[--i]=r[t];return n}function L(e,t){var n,r,o=e.length,a=-1;if(null==t){for(;++a<o;)if(null!=(n=e[a])&&n>=n)for(r=n;++a<o;)null!=(n=e[a])&&r>n&&(r=n)}else for(;++a<o;)if(null!=(n=t(e[a],a,e))&&n>=n)for(r=n;++a<o;)null!=(n=t(e[a],a,e))&&r>n&&(r=n);return r}function R(e){if(!(o=e.length))return[];for(var t=-1,n=L(e,C),r=new Array(n);++t<n;)for(var o,a=-1,i=r[t]=new Array(o);++a<o;)i[a]=e[a][t];return r}function C(e){return e.length}var D=Array.prototype.slice;function B(e){return e}var I=1e-6;function _(e){return"translate("+(e+.5)+",0)"}function k(e){return"translate(0,"+(e+.5)+")"}function F(){return!this.__axis}function A(e,t){var n=[],r=null,o=null,a=6,i=6,s=3,l=1===e||4===e?-1:1,u=4===e||2===e?"x":"y",c=1===e||3===e?_:k;function d(d){var f=null==r?t.ticks?t.ticks.apply(t,n):t.domain():r,h=null==o?t.tickFormat?t.tickFormat.apply(t,n):B:o,p=Math.max(a,0)+s,O=t.range(),g=+O[0]+.5,m=+O[O.length-1]+.5,M=(t.bandwidth?function(e){var t=Math.max(0,e.bandwidth()-1)/2;return e.round()&&(t=Math.round(t)),function(n){return+e(n)+t}}:function(e){return function(t){return+e(t)}})(t.copy()),K=d.selection?d.selection():d,v=K.selectAll(".domain").data([null]),T=K.selectAll(".tick").data(f,t).order(),w=T.exit(),S=T.enter().append("g").attr("class","tick"),x=T.select("line"),y=T.select("text");v=v.merge(v.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),T=T.merge(S),x=x.merge(S.append("line").attr("stroke","currentColor").attr(u+"2",l*a)),y=y.merge(S.append("text").attr("fill","currentColor").attr(u,l*p).attr("dy",1===e?"0em":3===e?"0.71em":"0.32em")),d!==K&&(v=v.transition(d),T=T.transition(d),x=x.transition(d),y=y.transition(d),w=w.transition(d).attr("opacity",I).attr("transform",(function(e){return isFinite(e=M(e))?c(e):this.getAttribute("transform")})),S.attr("opacity",I).attr("transform",(function(e){var t=this.parentNode.__axis;return c(t&&isFinite(t=t(e))?t:M(e))}))),w.remove(),v.attr("d",4===e||2==e?i?"M"+l*i+","+g+"H0.5V"+m+"H"+l*i:"M0.5,"+g+"V"+m:i?"M"+g+","+l*i+"V0.5H"+m+"V"+l*i:"M"+g+",0.5H"+m),T.attr("opacity",1).attr("transform",(function(e){return c(M(e))})),x.attr(u+"2",l*a),y.attr(u,l*p).text(h),K.filter(F).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===e?"start":4===e?"end":"middle"),K.each((function(){this.__axis=M}))}return d.scale=function(e){return arguments.length?(t=e,d):t},d.ticks=function(){return n=D.call(arguments),d},d.tickArguments=function(e){return arguments.length?(n=null==e?[]:D.call(e),d):n.slice()},d.tickValues=function(e){return arguments.length?(r=null==e?null:D.call(e),d):r&&r.slice()},d.tickFormat=function(e){return arguments.length?(o=e,d):o},d.tickSize=function(e){return arguments.length?(a=i=+e,d):a},d.tickSizeInner=function(e){return arguments.length?(a=+e,d):a},d.tickSizeOuter=function(e){return arguments.length?(i=+e,d):i},d.tickPadding=function(e){return arguments.length?(s=+e,d):s},d}var P={value:function(){}};function E(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new N(r)}function N(e){this._=e}function U(e,t){return e.trim().split(/^|\s+/).map((function(e){var n="",r=e.indexOf(".");if(r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}}))}function V(e,t){for(var n,r=0,o=e.length;r<o;++r)if((n=e[r]).name===t)return n.value}function H(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=P,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}N.prototype=E.prototype={constructor:N,on:function(e,t){var n,r=this._,o=U(e+"",r),a=-1,i=o.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++a<i;)if(n=(e=o[a]).type)r[n]=H(r[n],e.name,t);else if(null==t)for(n in r)r[n]=H(r[n],e.name,null);return this}for(;++a<i;)if((n=(e=o[a]).type)&&(n=V(r[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new N(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,o=new Array(n),a=0;a<n;++a)o[a]=arguments[a+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=0,n=(r=this._[e]).length;a<n;++a)r[a].value.apply(t,o)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],o=0,a=r.length;o<a;++o)r[o].value.apply(t,n)}};var j="http://www.w3.org/1999/xhtml",G={svg:"http://www.w3.org/2000/svg",xhtml:j,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function $(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),G.hasOwnProperty(t)?{space:G[t],local:e}:e}function z(e){var t=$(e);return(t.local?function(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}:function(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===j&&t.documentElement.namespaceURI===j?t.createElement(e):t.createElementNS(n,e)}})(t)}function W(){}function q(e){return null==e?W:function(){return this.querySelector(e)}}function J(){return[]}function Y(e){return null==e?J:function(){return this.querySelectorAll(e)}}function Q(e){return function(){return this.matches(e)}}function X(e){return new Array(e.length)}function Z(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function ee(e,t,n,r,o,a){for(var i,s=0,l=t.length,u=a.length;s<u;++s)(i=t[s])?(i.__data__=a[s],r[s]=i):n[s]=new Z(e,a[s]);for(;s<l;++s)(i=t[s])&&(o[s]=i)}function te(e,t,n,r,o,a,i){var s,l,u,c={},d=t.length,f=a.length,h=new Array(d);for(s=0;s<d;++s)(l=t[s])&&(h[s]=u="$"+i.call(l,l.__data__,s,t),u in c?o[s]=l:c[u]=l);for(s=0;s<f;++s)(l=c[u="$"+i.call(e,a[s],s,a)])?(r[s]=l,l.__data__=a[s],c[u]=null):n[s]=new Z(e,a[s]);for(s=0;s<d;++s)(l=t[s])&&c[h[s]]===l&&(o[s]=l)}function ne(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function re(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function oe(e,t){return e.style.getPropertyValue(t)||re(e).getComputedStyle(e,null).getPropertyValue(t)}function ae(e){return e.trim().split(/^|\s+/)}function ie(e){return e.classList||new se(e)}function se(e){this._node=e,this._names=ae(e.getAttribute("class")||"")}function le(e,t){for(var n=ie(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function ue(e,t){for(var n=ie(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function ce(){this.textContent=""}function de(){this.innerHTML=""}function fe(){this.nextSibling&&this.parentNode.appendChild(this)}function he(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function pe(){return null}function Oe(){var e=this.parentNode;e&&e.removeChild(this)}function ge(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function me(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}Z.prototype={constructor:Z,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}},se.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var Me={};function Ke(e,t,n){return e=ve(e,t,n),function(t){var n=t.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||e.call(this,t)}}function ve(t,n,r){return function(o){var a=e.event;e.event=o;try{t.call(this,this.__data__,n,r)}finally{e.event=a}}}function Te(e){return function(){var t=this.__on;if(t){for(var n,r=0,o=-1,a=t.length;r<a;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++o]=n:this.removeEventListener(n.type,n.listener,n.capture);++o?t.length=o:delete this.__on}}}function we(e,t,n){var r=Me.hasOwnProperty(e.type)?Ke:ve;return function(o,a,i){var s,l=this.__on,u=r(t,a,i);if(l)for(var c=0,d=l.length;c<d;++c)if((s=l[c]).type===e.type&&s.name===e.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=u,s.capture=n),void(s.value=t);this.addEventListener(e.type,u,n),s={type:e.type,name:e.name,value:t,listener:u,capture:n},l?l.push(s):this.__on=[s]}}function Se(t,n,r,o){var a=e.event;t.sourceEvent=e.event,e.event=t;try{return n.apply(r,o)}finally{e.event=a}}function xe(e,t,n){var r=re(e),o=r.CustomEvent;"function"==typeof o?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}e.event=null,"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(Me={mouseenter:"mouseover",mouseleave:"mouseout"}));var ye=[null];function be(e,t){this._groups=e,this._parents=t}function Le(){return new be([[document.documentElement]],ye)}function Re(e){return"string"==typeof e?new be([[document.querySelector(e)]],[document.documentElement]):new be([[e]],ye)}be.prototype=Le.prototype={constructor:be,select:function(e){"function"!=typeof e&&(e=q(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var a,i,s=t[o],l=s.length,u=r[o]=new Array(l),c=0;c<l;++c)(a=s[c])&&(i=e.call(a,a.__data__,c,s))&&("__data__"in a&&(i.__data__=a.__data__),u[c]=i);return new be(r,this._parents)},selectAll:function(e){"function"!=typeof e&&(e=Y(e));for(var t=this._groups,n=t.length,r=[],o=[],a=0;a<n;++a)for(var i,s=t[a],l=s.length,u=0;u<l;++u)(i=s[u])&&(r.push(e.call(i,i.__data__,u,s)),o.push(i));return new be(r,o)},filter:function(e){"function"!=typeof e&&(e=Q(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var a,i=t[o],s=i.length,l=r[o]=[],u=0;u<s;++u)(a=i[u])&&e.call(a,a.__data__,u,i)&&l.push(a);return new be(r,this._parents)},data:function(e,t){if(!e)return h=new Array(this.size()),u=-1,this.each((function(e){h[++u]=e})),h;var n=t?te:ee,r=this._parents,o=this._groups;"function"!=typeof e&&(e=function(e){return function(){return e}}(e));for(var a=o.length,i=new Array(a),s=new Array(a),l=new Array(a),u=0;u<a;++u){var c=r[u],d=o[u],f=d.length,h=e.call(c,c&&c.__data__,u,r),p=h.length,O=s[u]=new Array(p),g=i[u]=new Array(p);n(c,d,O,g,l[u]=new Array(f),h,t);for(var m,M,K=0,v=0;K<p;++K)if(m=O[K]){for(K>=v&&(v=K+1);!(M=g[v])&&++v<p;);m._next=M||null}}return(i=new be(i,r))._enter=s,i._exit=l,i},enter:function(){return new be(this._enter||this._groups.map(X),this._parents)},exit:function(){return new be(this._exit||this._groups.map(X),this._parents)},join:function(e,t,n){var r=this.enter(),o=this,a=this.exit();return r="function"==typeof e?e(r):r.append(e+""),null!=t&&(o=t(o)),null==n?a.remove():n(a),r&&o?r.merge(o).order():o},merge:function(e){for(var t=this._groups,n=e._groups,r=t.length,o=n.length,a=Math.min(r,o),i=new Array(r),s=0;s<a;++s)for(var l,u=t[s],c=n[s],d=u.length,f=i[s]=new Array(d),h=0;h<d;++h)(l=u[h]||c[h])&&(f[h]=l);for(;s<r;++s)i[s]=t[s];return new be(i,this._parents)},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,o=e[t],a=o.length-1,i=o[a];--a>=0;)(r=o[a])&&(i&&4^r.compareDocumentPosition(i)&&i.parentNode.insertBefore(r,i),i=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=ne);for(var n=this._groups,r=n.length,o=new Array(r),a=0;a<r;++a){for(var i,s=n[a],l=s.length,u=o[a]=new Array(l),c=0;c<l;++c)(i=s[c])&&(u[c]=i);u.sort(t)}return new be(o,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){var e=new Array(this.size()),t=-1;return this.each((function(){e[++t]=this})),e},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,a=r.length;o<a;++o){var i=r[o];if(i)return i}return null},size:function(){var e=0;return this.each((function(){++e})),e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o,a=t[n],i=0,s=a.length;i<s;++i)(o=a[i])&&e.call(o,o.__data__,i,a);return this},attr:function(e,t){var n=$(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?function(e){return function(){this.removeAttributeNS(e.space,e.local)}}:function(e){return function(){this.removeAttribute(e)}}:"function"==typeof t?n.local?function(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}:function(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}:n.local?function(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}:function(e,t){return function(){this.setAttribute(e,t)}})(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?function(e){return function(){this.style.removeProperty(e)}}:"function"==typeof t?function(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}:function(e,t,n){return function(){this.style.setProperty(e,t,n)}})(e,t,null==n?"":n)):oe(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?function(e){return function(){delete this[e]}}:"function"==typeof t?function(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}:function(e,t){return function(){this[e]=t}})(e,t)):this.node()[e]},classed:function(e,t){var n=ae(e+"");if(arguments.length<2){for(var r=ie(this.node()),o=-1,a=n.length;++o<a;)if(!r.contains(n[o]))return!1;return!0}return this.each(("function"==typeof t?function(e,t){return function(){(t.apply(this,arguments)?le:ue)(this,e)}}:t?function(e){return function(){le(this,e)}}:function(e){return function(){ue(this,e)}})(n,t))},text:function(e){return arguments.length?this.each(null==e?ce:("function"==typeof e?function(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}:function(e){return function(){this.textContent=e}})(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?de:("function"==typeof e?function(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}:function(e){return function(){this.innerHTML=e}})(e)):this.node().innerHTML},raise:function(){return this.each(fe)},lower:function(){return this.each(he)},append:function(e){var t="function"==typeof e?e:z(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(e,t){var n="function"==typeof e?e:z(e),r=null==t?pe:"function"==typeof t?t:q(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(Oe)},clone:function(e){return this.select(e?me:ge)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,o,a=function(e){return e.trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}(e+""),i=a.length;if(!(arguments.length<2)){for(s=t?we:Te,null==n&&(n=!1),r=0;r<i;++r)this.each(s(a[r],t,n));return this}var s=this.node().__on;if(s)for(var l,u=0,c=s.length;u<c;++u)for(r=0,l=s[u];r<i;++r)if((o=a[r]).type===l.type&&o.name===l.name)return l.value},dispatch:function(e,t){return this.each(("function"==typeof t?function(e,t){return function(){return xe(this,e,t.apply(this,arguments))}}:function(e,t){return function(){return xe(this,e,t)}})(e,t))}};var Ce=0;function De(){return new Be}function Be(){this._="@"+(++Ce).toString(36)}function Ie(){for(var t,n=e.event;t=n.sourceEvent;)n=t;return n}function _e(e,t){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}var o=e.getBoundingClientRect();return[t.clientX-o.left-e.clientLeft,t.clientY-o.top-e.clientTop]}function ke(e){var t=Ie();return t.changedTouches&&(t=t.changedTouches[0]),_e(e,t)}function Fe(e,t,n){arguments.length<3&&(n=t,t=Ie().changedTouches);for(var r,o=0,a=t?t.length:0;o<a;++o)if((r=t[o]).identifier===n)return _e(e,r);return null}function Ae(){e.event.stopImmediatePropagation()}function Pe(){e.event.preventDefault(),e.event.stopImmediatePropagation()}function Ee(e){var t=e.document.documentElement,n=Re(e).on("dragstart.drag",Pe,!0);"onselectstart"in t?n.on("selectstart.drag",Pe,!0):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Ne(e,t){var n=e.document.documentElement,r=Re(e).on("dragstart.drag",null);t&&(r.on("click.drag",Pe,!0),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function Ue(e){return function(){return e}}function Ve(e,t,n,r,o,a,i,s,l,u){this.target=e,this.type=t,this.subject=n,this.identifier=r,this.active=o,this.x=a,this.y=i,this.dx=s,this.dy=l,this._=u}function He(){return!e.event.ctrlKey&&!e.event.button}function je(){return this.parentNode}function Ge(t){return null==t?{x:e.event.x,y:e.event.y}:t}function $e(){return navigator.maxTouchPoints||"ontouchstart"in this}function ze(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function We(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function qe(){}Be.prototype=De.prototype={constructor:Be,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}},Ve.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};var Je="\\s*([+-]?\\d+)\\s*",Ye="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Qe="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Xe=/^#([0-9a-f]{3,8})$/,Ze=new RegExp("^rgb\\("+[Je,Je,Je]+"\\)$"),et=new RegExp("^rgb\\("+[Qe,Qe,Qe]+"\\)$"),tt=new RegExp("^rgba\\("+[Je,Je,Je,Ye]+"\\)$"),nt=new RegExp("^rgba\\("+[Qe,Qe,Qe,Ye]+"\\)$"),rt=new RegExp("^hsl\\("+[Ye,Qe,Qe]+"\\)$"),ot=new RegExp("^hsla\\("+[Ye,Qe,Qe,Ye]+"\\)$"),at={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function it(){return this.rgb().formatHex()}function st(){return this.rgb().formatRgb()}function lt(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Xe.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?ut(t):3===n?new ht(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?ct(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?ct(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=Ze.exec(e))?new ht(t[1],t[2],t[3],1):(t=et.exec(e))?new ht(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=tt.exec(e))?ct(t[1],t[2],t[3],t[4]):(t=nt.exec(e))?ct(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=rt.exec(e))?mt(t[1],t[2]/100,t[3]/100,1):(t=ot.exec(e))?mt(t[1],t[2]/100,t[3]/100,t[4]):at.hasOwnProperty(e)?ut(at[e]):"transparent"===e?new ht(NaN,NaN,NaN,0):null}function ut(e){return new ht(e>>16&255,e>>8&255,255&e,1)}function ct(e,t,n,r){return r<=0&&(e=t=n=NaN),new ht(e,t,n,r)}function dt(e){return e instanceof qe||(e=lt(e)),e?new ht((e=e.rgb()).r,e.g,e.b,e.opacity):new ht}function ft(e,t,n,r){return 1===arguments.length?dt(e):new ht(e,t,n,null==r?1:r)}function ht(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function pt(){return"#"+gt(this.r)+gt(this.g)+gt(this.b)}function Ot(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function gt(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function mt(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new vt(e,t,n,r)}function Mt(e){if(e instanceof vt)return new vt(e.h,e.s,e.l,e.opacity);if(e instanceof qe||(e=lt(e)),!e)return new vt;if(e instanceof vt)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),a=Math.max(t,n,r),i=NaN,s=a-o,l=(a+o)/2;return s?(i=t===a?(n-r)/s+6*(n<r):n===a?(r-t)/s+2:(t-n)/s+4,s/=l<.5?a+o:2-a-o,i*=60):s=l>0&&l<1?0:i,new vt(i,s,l,e.opacity)}function Kt(e,t,n,r){return 1===arguments.length?Mt(e):new vt(e,t,n,null==r?1:r)}function vt(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function Tt(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}ze(qe,lt,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:it,formatHex:it,formatHsl:function(){return Mt(this).formatHsl()},formatRgb:st,toString:st}),ze(ht,ft,We(qe,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new ht(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new ht(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:pt,formatHex:pt,formatRgb:Ot,toString:Ot})),ze(vt,Kt,We(qe,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new vt(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new vt(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new ht(Tt(e>=240?e-240:e+120,o,r),Tt(e,o,r),Tt(e<120?e+240:e-120,o,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));var wt=Math.PI/180,St=180/Math.PI,xt=6/29,yt=3*xt*xt;function bt(e){if(e instanceof Rt)return new Rt(e.l,e.a,e.b,e.opacity);if(e instanceof Ft)return At(e);e instanceof ht||(e=dt(e));var t,n,r=It(e.r),o=It(e.g),a=It(e.b),i=Ct((.2225045*r+.7168786*o+.0606169*a)/1);return r===o&&o===a?t=n=i:(t=Ct((.4360747*r+.3850649*o+.1430804*a)/.96422),n=Ct((.0139322*r+.0971045*o+.7141733*a)/.82521)),new Rt(116*i-16,500*(t-i),200*(i-n),e.opacity)}function Lt(e,t,n,r){return 1===arguments.length?bt(e):new Rt(e,t,n,null==r?1:r)}function Rt(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}function Ct(e){return e>.008856451679035631?Math.pow(e,1/3):e/yt+4/29}function Dt(e){return e>xt?e*e*e:yt*(e-4/29)}function Bt(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function It(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function _t(e){if(e instanceof Ft)return new Ft(e.h,e.c,e.l,e.opacity);if(e instanceof Rt||(e=bt(e)),0===e.a&&0===e.b)return new Ft(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*St;return new Ft(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function kt(e,t,n,r){return 1===arguments.length?_t(e):new Ft(e,t,n,null==r?1:r)}function Ft(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function At(e){if(isNaN(e.h))return new Rt(e.l,0,0,e.opacity);var t=e.h*wt;return new Rt(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}ze(Rt,Lt,We(qe,{brighter:function(e){return new Rt(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker:function(e){return new Rt(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return new ht(Bt(3.1338561*(t=.96422*Dt(t))-1.6168667*(e=1*Dt(e))-.4906146*(n=.82521*Dt(n))),Bt(-.9787684*t+1.9161415*e+.033454*n),Bt(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}})),ze(Ft,kt,We(qe,{brighter:function(e){return new Ft(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker:function(e){return new Ft(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb:function(){return At(this).rgb()}}));var Pt=1.78277,Et=-.29227,Nt=-.90649,Ut=1.97294,Vt=Ut*Nt,Ht=Ut*Pt,jt=Pt*Et- -.14861*Nt;function Gt(e,t,n,r){return 1===arguments.length?function(e){if(e instanceof $t)return new $t(e.h,e.s,e.l,e.opacity);e instanceof ht||(e=dt(e));var t=e.r/255,n=e.g/255,r=e.b/255,o=(jt*r+Vt*t-Ht*n)/(jt+Vt-Ht),a=r-o,i=(Ut*(n-o)-Et*a)/Nt,s=Math.sqrt(i*i+a*a)/(Ut*o*(1-o)),l=s?Math.atan2(i,a)*St-120:NaN;return new $t(l<0?l+360:l,s,o,e.opacity)}(e):new $t(e,t,n,null==r?1:r)}function $t(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function zt(e,t,n,r,o){var a=e*e,i=a*e;return((1-3*e+3*a-i)*t+(4-6*a+3*i)*n+(1+3*e+3*a-3*i)*r+i*o)/6}function Wt(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),o=e[r],a=e[r+1],i=r>0?e[r-1]:2*o-a,s=r<t-1?e[r+2]:2*a-o;return zt((n-r/t)*t,i,o,a,s)}}function qt(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),o=e[(r+t-1)%t],a=e[r%t],i=e[(r+1)%t],s=e[(r+2)%t];return zt((n-r/t)*t,o,a,i,s)}}function Jt(e){return function(){return e}}function Yt(e,t){return function(n){return e+n*t}}function Qt(e,t){var n=t-e;return n?Yt(e,n>180||n<-180?n-360*Math.round(n/360):n):Jt(isNaN(e)?t:e)}function Xt(e,t){var n=t-e;return n?Yt(e,n):Jt(isNaN(e)?t:e)}ze($t,Gt,We(qe,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new $t(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new $t(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*wt,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),o=Math.sin(e);return new ht(255*(t+n*(-.14861*r+Pt*o)),255*(t+n*(Et*r+Nt*o)),255*(t+n*(Ut*r)),this.opacity)}}));var Zt=function e(t){var n=function(e){return 1==(e=+e)?Xt:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):Jt(isNaN(t)?n:t)}}(t);function r(e,t){var r=n((e=ft(e)).r,(t=ft(t)).r),o=n(e.g,t.g),a=n(e.b,t.b),i=Xt(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=o(t),e.b=a(t),e.opacity=i(t),e+""}}return r.gamma=e,r}(1);function en(e){return function(t){var n,r,o=t.length,a=new Array(o),i=new Array(o),s=new Array(o);for(n=0;n<o;++n)r=ft(t[n]),a[n]=r.r||0,i[n]=r.g||0,s[n]=r.b||0;return a=e(a),i=e(i),s=e(s),r.opacity=1,function(e){return r.r=a(e),r.g=i(e),r.b=s(e),r+""}}}var tn=en(Wt),nn=en(qt);function rn(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,o=t.slice();return function(a){for(n=0;n<r;++n)o[n]=e[n]*(1-a)+t[n]*a;return o}}function on(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function an(e,t){var n,r=t?t.length:0,o=e?Math.min(r,e.length):0,a=new Array(o),i=new Array(r);for(n=0;n<o;++n)a[n]=hn(e[n],t[n]);for(;n<r;++n)i[n]=t[n];return function(e){for(n=0;n<o;++n)i[n]=a[n](e);return i}}function sn(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function ln(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function un(e,t){var n,r={},o={};for(n in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)n in e?r[n]=hn(e[n],t[n]):o[n]=t[n];return function(e){for(n in r)o[n]=r[n](e);return o}}var cn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,dn=new RegExp(cn.source,"g");function fn(e,t){var n,r,o,a=cn.lastIndex=dn.lastIndex=0,i=-1,s=[],l=[];for(e+="",t+="";(n=cn.exec(e))&&(r=dn.exec(t));)(o=r.index)>a&&(o=t.slice(a,o),s[i]?s[i]+=o:s[++i]=o),(n=n[0])===(r=r[0])?s[i]?s[i]+=r:s[++i]=r:(s[++i]=null,l.push({i:i,x:ln(n,r)})),a=dn.lastIndex;return a<t.length&&(o=t.slice(a),s[i]?s[i]+=o:s[++i]=o),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})}function hn(e,t){var n,r=typeof t;return null==t||"boolean"===r?Jt(t):("number"===r?ln:"string"===r?(n=lt(t))?(t=n,Zt):fn:t instanceof lt?Zt:t instanceof Date?sn:on(t)?rn:Array.isArray(t)?an:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?un:ln)(e,t)}function pn(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var On,gn,mn,Mn,Kn=180/Math.PI,vn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Tn(e,t,n,r,o,a){var i,s,l;return(i=Math.sqrt(e*e+t*t))&&(e/=i,t/=i),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),e*r<t*n&&(e=-e,t=-t,l=-l,i=-i),{translateX:o,translateY:a,rotate:Math.atan2(t,e)*Kn,skewX:Math.atan(l)*Kn,scaleX:i,scaleY:s}}function wn(e,t,n,r){function o(e){return e.length?e.pop()+" ":""}return function(a,i){var s=[],l=[];return a=e(a),i=e(i),function(e,r,o,a,i,s){if(e!==o||r!==a){var l=i.push("translate(",null,t,null,n);s.push({i:l-4,x:ln(e,o)},{i:l-2,x:ln(r,a)})}else(o||a)&&i.push("translate("+o+t+a+n)}(a.translateX,a.translateY,i.translateX,i.translateY,s,l),function(e,t,n,a){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),a.push({i:n.push(o(n)+"rotate(",null,r)-2,x:ln(e,t)})):t&&n.push(o(n)+"rotate("+t+r)}(a.rotate,i.rotate,s,l),function(e,t,n,a){e!==t?a.push({i:n.push(o(n)+"skewX(",null,r)-2,x:ln(e,t)}):t&&n.push(o(n)+"skewX("+t+r)}(a.skewX,i.skewX,s,l),function(e,t,n,r,a,i){if(e!==n||t!==r){var s=a.push(o(a)+"scale(",null,",",null,")");i.push({i:s-4,x:ln(e,n)},{i:s-2,x:ln(t,r)})}else 1===n&&1===r||a.push(o(a)+"scale("+n+","+r+")")}(a.scaleX,a.scaleY,i.scaleX,i.scaleY,s,l),a=i=null,function(e){for(var t,n=-1,r=l.length;++n<r;)s[(t=l[n]).i]=t.x(e);return s.join("")}}}var Sn=wn((function(e){return"none"===e?vn:(On||(On=document.createElement("DIV"),gn=document.documentElement,mn=document.defaultView),On.style.transform=e,e=mn.getComputedStyle(gn.appendChild(On),null).getPropertyValue("transform"),gn.removeChild(On),Tn(+(e=e.slice(7,-1).split(","))[0],+e[1],+e[2],+e[3],+e[4],+e[5]))}),"px, ","px)","deg)"),xn=wn((function(e){return null==e?vn:(Mn||(Mn=document.createElementNS("http://www.w3.org/2000/svg","g")),Mn.setAttribute("transform",e),(e=Mn.transform.baseVal.consolidate())?Tn((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):vn)}),", ",")",")"),yn=Math.SQRT2;function bn(e){return((e=Math.exp(e))+1/e)/2}function Ln(e,t){var n,r,o=e[0],a=e[1],i=e[2],s=t[0],l=t[1],u=t[2],c=s-o,d=l-a,f=c*c+d*d;if(f<1e-12)r=Math.log(u/i)/yn,n=function(e){return[o+e*c,a+e*d,i*Math.exp(yn*e*r)]};else{var h=Math.sqrt(f),p=(u*u-i*i+4*f)/(2*i*2*h),O=(u*u-i*i-4*f)/(2*u*2*h),g=Math.log(Math.sqrt(p*p+1)-p),m=Math.log(Math.sqrt(O*O+1)-O);r=(m-g)/yn,n=function(e){var t=e*r,n=bn(g),s=i/(2*h)*(n*function(e){return((e=Math.exp(2*e))-1)/(e+1)}(yn*t+g)-function(e){return((e=Math.exp(e))-1/e)/2}(g));return[o+s*c,a+s*d,i*n/bn(yn*t+g)]}}return n.duration=1e3*r,n}function Rn(e){return function(t,n){var r=e((t=Kt(t)).h,(n=Kt(n)).h),o=Xt(t.s,n.s),a=Xt(t.l,n.l),i=Xt(t.opacity,n.opacity);return function(e){return t.h=r(e),t.s=o(e),t.l=a(e),t.opacity=i(e),t+""}}}var Cn=Rn(Qt),Dn=Rn(Xt);function Bn(e){return function(t,n){var r=e((t=kt(t)).h,(n=kt(n)).h),o=Xt(t.c,n.c),a=Xt(t.l,n.l),i=Xt(t.opacity,n.opacity);return function(e){return t.h=r(e),t.c=o(e),t.l=a(e),t.opacity=i(e),t+""}}}var In=Bn(Qt),_n=Bn(Xt);function kn(e){return function t(n){function r(t,r){var o=e((t=Gt(t)).h,(r=Gt(r)).h),a=Xt(t.s,r.s),i=Xt(t.l,r.l),s=Xt(t.opacity,r.opacity);return function(e){return t.h=o(e),t.s=a(e),t.l=i(Math.pow(e,n)),t.opacity=s(e),t+""}}return n=+n,r.gamma=t,r}(1)}var Fn,An,Pn=kn(Qt),En=kn(Xt),Nn=0,Un=0,Vn=0,Hn=0,jn=0,Gn=0,$n="object"==typeof performance&&performance.now?performance:Date,zn="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Wn(){return jn||(zn(qn),jn=$n.now()+Gn)}function qn(){jn=0}function Jn(){this._call=this._time=this._next=null}function Yn(e,t,n){var r=new Jn;return r.restart(e,t,n),r}function Qn(){Wn(),++Nn;for(var e,t=Fn;t;)(e=jn-t._time)>=0&&t._call.call(null,e),t=t._next;--Nn}function Xn(){jn=(Hn=$n.now())+Gn,Nn=Un=0;try{Qn()}finally{Nn=0,function(){for(var e,t,n=Fn,r=1/0;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:Fn=t);An=e,er(r)}(),jn=0}}function Zn(){var e=$n.now(),t=e-Hn;t>1e3&&(Gn-=t,Hn=e)}function er(e){Nn||(Un&&(Un=clearTimeout(Un)),e-jn>24?(e<1/0&&(Un=setTimeout(Xn,e-$n.now()-Gn)),Vn&&(Vn=clearInterval(Vn))):(Vn||(Hn=$n.now(),Vn=setInterval(Zn,1e3)),Nn=1,zn(Xn)))}function tr(e,t,n){var r=new Jn;return t=null==t?0:+t,r.restart((function(n){r.stop(),e(n+t)}),t,n),r}Jn.prototype=Yn.prototype={constructor:Jn,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?Wn():+n)+(null==t?0:+t),this._next||An===this||(An?An._next=this:Fn=this,An=this),this._call=e,this._time=n,er()},stop:function(){this._call&&(this._call=null,this._time=1/0,er())}};var nr=E("start","end","cancel","interrupt"),rr=[];function or(e,t,n,r,o,a){var i=e.__transition;if(i){if(n in i)return}else e.__transition={};!function(e,t,n){var r,o=e.__transition;function a(l){var u,c,d,f;if(1!==n.state)return s();for(u in o)if((f=o[u]).name===n.name){if(3===f.state)return tr(a);4===f.state?(f.state=6,f.timer.stop(),f.on.call("interrupt",e,e.__data__,f.index,f.group),delete o[u]):+u<t&&(f.state=6,f.timer.stop(),f.on.call("cancel",e,e.__data__,f.index,f.group),delete o[u])}if(tr((function(){3===n.state&&(n.state=4,n.timer.restart(i,n.delay,n.time),i(l))})),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(d=n.tween.length),u=0,c=-1;u<d;++u)(f=n.tween[u].value.call(e,e.__data__,n.index,n.group))&&(r[++c]=f);r.length=c+1}}function i(t){for(var o=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(s),n.state=5,1),a=-1,i=r.length;++a<i;)r[a].call(e,o);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),s())}function s(){for(var r in n.state=6,n.timer.stop(),delete o[t],o)return;delete e.__transition}o[t]=n,n.timer=Yn((function(e){n.state=1,n.timer.restart(a,n.delay,n.time),n.delay<=e&&a(e-n.delay)}),0,n.time)}(e,n,{name:t,index:r,group:o,on:nr,tween:rr,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:0})}function ar(e,t){var n=sr(e,t);if(n.state>0)throw new Error("too late; already scheduled");return n}function ir(e,t){var n=sr(e,t);if(n.state>3)throw new Error("too late; already running");return n}function sr(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function lr(e,t){var n,r,o,a=e.__transition,i=!0;if(a){for(o in t=null==t?null:t+"",a)(n=a[o]).name===t?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete a[o]):i=!1;i&&delete e.__transition}}function ur(e,t,n){var r=e._id;return e.each((function(){var e=ir(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)})),function(e){return sr(e,r).value[t]}}function cr(e,t){var n;return("number"==typeof t?ln:t instanceof lt?Zt:(n=lt(t))?(t=n,Zt):fn)(e,t)}var dr=Le.prototype.constructor;function fr(e){return function(){this.style.removeProperty(e)}}var hr=0;function pr(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Or(e){return Le().transition(e)}function gr(){return++hr}var mr=Le.prototype;function Mr(e){return((e*=2)<=1?e*e:--e*(2-e)+1)/2}function Kr(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}pr.prototype=Or.prototype={constructor:pr,select:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=q(e));for(var r=this._groups,o=r.length,a=new Array(o),i=0;i<o;++i)for(var s,l,u=r[i],c=u.length,d=a[i]=new Array(c),f=0;f<c;++f)(s=u[f])&&(l=e.call(s,s.__data__,f,u))&&("__data__"in s&&(l.__data__=s.__data__),d[f]=l,or(d[f],t,n,f,d,sr(s,n)));return new pr(a,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=Y(e));for(var r=this._groups,o=r.length,a=[],i=[],s=0;s<o;++s)for(var l,u=r[s],c=u.length,d=0;d<c;++d)if(l=u[d]){for(var f,h=e.call(l,l.__data__,d,u),p=sr(l,n),O=0,g=h.length;O<g;++O)(f=h[O])&&or(f,t,n,O,h,p);a.push(h),i.push(l)}return new pr(a,i,t,n)},filter:function(e){"function"!=typeof e&&(e=Q(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var a,i=t[o],s=i.length,l=r[o]=[],u=0;u<s;++u)(a=i[u])&&e.call(a,a.__data__,u,i)&&l.push(a);return new pr(r,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,o=n.length,a=Math.min(r,o),i=new Array(r),s=0;s<a;++s)for(var l,u=t[s],c=n[s],d=u.length,f=i[s]=new Array(d),h=0;h<d;++h)(l=u[h]||c[h])&&(f[h]=l);for(;s<r;++s)i[s]=t[s];return new pr(i,this._parents,this._name,this._id)},selection:function(){return new dr(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=gr(),r=this._groups,o=r.length,a=0;a<o;++a)for(var i,s=r[a],l=s.length,u=0;u<l;++u)if(i=s[u]){var c=sr(i,t);or(i,e,n,u,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new pr(r,this._parents,e,n)},call:mr.call,nodes:mr.nodes,node:mr.node,size:mr.size,empty:mr.empty,each:mr.each,on:function(e,t){var n=this._id;return arguments.length<2?sr(this.node(),n).on.on(e):this.each(function(e,t,n){var r,o,a=function(e){return(e+"").trim().split(/^|\s+/).every((function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e}))}(t)?ar:ir;return function(){var i=a(this,e),s=i.on;s!==r&&(o=(r=s).copy()).on(t,n),i.on=o}}(n,e,t))},attr:function(e,t){var n=$(e),r="transform"===n?xn:cr;return this.attrTween(e,"function"==typeof t?(n.local?function(e,t,n){var r,o,a;return function(){var i,s,l=n(this);if(null!=l)return(i=this.getAttributeNS(e.space,e.local))===(s=l+"")?null:i===r&&s===o?a:(o=s,a=t(r=i,l));this.removeAttributeNS(e.space,e.local)}}:function(e,t,n){var r,o,a;return function(){var i,s,l=n(this);if(null!=l)return(i=this.getAttribute(e))===(s=l+"")?null:i===r&&s===o?a:(o=s,a=t(r=i,l));this.removeAttribute(e)}})(n,r,ur(this,"attr."+e,t)):null==t?(n.local?function(e){return function(){this.removeAttributeNS(e.space,e.local)}}:function(e){return function(){this.removeAttribute(e)}})(n):(n.local?function(e,t,n){var r,o,a=n+"";return function(){var i=this.getAttributeNS(e.space,e.local);return i===a?null:i===r?o:o=t(r=i,n)}}:function(e,t,n){var r,o,a=n+"";return function(){var i=this.getAttribute(e);return i===a?null:i===r?o:o=t(r=i,n)}})(n,r,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;var r=$(e);return this.tween(n,(r.local?function(e,t){var n,r;function o(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&function(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}(e,o)),n}return o._value=t,o}:function(e,t){var n,r;function o(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&function(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}(e,o)),n}return o._value=t,o})(r,t))},style:function(e,t,n){var r="transform"==(e+="")?Sn:cr;return null==t?this.styleTween(e,function(e,t){var n,r,o;return function(){var a=oe(this,e),i=(this.style.removeProperty(e),oe(this,e));return a===i?null:a===n&&i===r?o:o=t(n=a,r=i)}}(e,r)).on("end.style."+e,fr(e)):"function"==typeof t?this.styleTween(e,function(e,t,n){var r,o,a;return function(){var i=oe(this,e),s=n(this),l=s+"";return null==s&&(this.style.removeProperty(e),l=s=oe(this,e)),i===l?null:i===r&&l===o?a:(o=l,a=t(r=i,s))}}(e,r,ur(this,"style."+e,t))).each(function(e,t){var n,r,o,a,i="style."+t,s="end."+i;return function(){var l=ir(this,e),u=l.on,c=null==l.value[i]?a||(a=fr(t)):void 0;u===n&&o===c||(r=(n=u).copy()).on(s,o=c),l.on=r}}(this._id,e)):this.styleTween(e,function(e,t,n){var r,o,a=n+"";return function(){var i=oe(this,e);return i===a?null:i===r?o:o=t(r=i,n)}}(e,r,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!=typeof t)throw new Error;return this.tween(r,function(e,t,n){var r,o;function a(){var a=t.apply(this,arguments);return a!==o&&(r=(o=a)&&function(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}(e,a,n)),r}return a._value=t,a}(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"==typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(ur(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw new Error;return this.tween(t,function(e){var t,n;function r(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&function(e){return function(t){this.textContent=e.call(this,t)}}(r)),t}return r._value=e,r}(e))},remove:function(){return this.on("end.remove",function(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}(this._id))},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r,o=sr(this.node(),n).tween,a=0,i=o.length;a<i;++a)if((r=o[a]).name===e)return r.value;return null}return this.each((null==t?function(e,t){var n,r;return function(){var o=ir(this,e),a=o.tween;if(a!==n)for(var i=0,s=(r=n=a).length;i<s;++i)if(r[i].name===t){(r=r.slice()).splice(i,1);break}o.tween=r}}:function(e,t,n){var r,o;if("function"!=typeof n)throw new Error;return function(){var a=ir(this,e),i=a.tween;if(i!==r){o=(r=i).slice();for(var s={name:t,value:n},l=0,u=o.length;l<u;++l)if(o[l].name===t){o[l]=s;break}l===u&&o.push(s)}a.tween=o}})(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?function(e,t){return function(){ar(this,e).delay=+t.apply(this,arguments)}}:function(e,t){return t=+t,function(){ar(this,e).delay=t}})(t,e)):sr(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?function(e,t){return function(){ir(this,e).duration=+t.apply(this,arguments)}}:function(e,t){return t=+t,function(){ir(this,e).duration=t}})(t,e)):sr(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(function(e,t){if("function"!=typeof t)throw new Error;return function(){ir(this,e).ease=t}}(t,e)):sr(this.node(),t).ease},end:function(){var e,t,n=this,r=n._id,o=n.size();return new Promise((function(a,i){var s={value:i},l={value:function(){0==--o&&a()}};n.each((function(){var n=ir(this,r),o=n.on;o!==e&&((t=(e=o).copy())._.cancel.push(s),t._.interrupt.push(s),t._.end.push(l)),n.on=t}))}))}};var vr=function e(t){function n(e){return Math.pow(e,t)}return t=+t,n.exponent=e,n}(3),Tr=function e(t){function n(e){return 1-Math.pow(1-e,t)}return t=+t,n.exponent=e,n}(3),wr=function e(t){function n(e){return((e*=2)<=1?Math.pow(e,t):2-Math.pow(2-e,t))/2}return t=+t,n.exponent=e,n}(3),Sr=Math.PI,xr=Sr/2;function yr(e){return(1-Math.cos(Sr*e))/2}function br(e){return((e*=2)<=1?Math.pow(2,10*e-10):2-Math.pow(2,10-10*e))/2}function Lr(e){return((e*=2)<=1?1-Math.sqrt(1-e*e):Math.sqrt(1-(e-=2)*e)+1)/2}var Rr=7.5625;function Cr(e){return(e=+e)<4/11?Rr*e*e:e<8/11?Rr*(e-=6/11)*e+.75:e<10/11?Rr*(e-=9/11)*e+.9375:Rr*(e-=21/22)*e+63/64}var Dr=function e(t){function n(e){return e*e*((t+1)*e-t)}return t=+t,n.overshoot=e,n}(1.70158),Br=function e(t){function n(e){return--e*e*((t+1)*e+t)+1}return t=+t,n.overshoot=e,n}(1.70158),Ir=function e(t){function n(e){return((e*=2)<1?e*e*((t+1)*e-t):(e-=2)*e*((t+1)*e+t)+2)/2}return t=+t,n.overshoot=e,n}(1.70158),_r=2*Math.PI,kr=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=_r);function o(e){return t*Math.pow(2,10*--e)*Math.sin((r-e)/n)}return o.amplitude=function(t){return e(t,n*_r)},o.period=function(n){return e(t,n)},o}(1,.3),Fr=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=_r);function o(e){return 1-t*Math.pow(2,-10*(e=+e))*Math.sin((e+r)/n)}return o.amplitude=function(t){return e(t,n*_r)},o.period=function(n){return e(t,n)},o}(1,.3),Ar=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=_r);function o(e){return((e=2*e-1)<0?t*Math.pow(2,10*e)*Math.sin((r-e)/n):2-t*Math.pow(2,-10*e)*Math.sin((r+e)/n))/2}return o.amplitude=function(t){return e(t,n*_r)},o.period=function(n){return e(t,n)},o}(1,.3),Pr={time:null,delay:0,duration:250,ease:Kr};function Er(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))return Pr.time=Wn(),Pr;return n}Le.prototype.interrupt=function(e){return this.each((function(){lr(this,e)}))},Le.prototype.transition=function(e){var t,n;e instanceof pr?(t=e._id,e=e._name):(t=gr(),(n=Pr).time=Wn(),e=null==e?null:e+"");for(var r=this._groups,o=r.length,a=0;a<o;++a)for(var i,s=r[a],l=s.length,u=0;u<l;++u)(i=s[u])&&or(i,e,t,u,s,n||Er(i,t));return new pr(r,this._parents,e,t)};var Nr=[null];function Ur(e){return function(){return e}}function Vr(e,t,n){this.target=e,this.type=t,this.selection=n}function Hr(){e.event.stopImmediatePropagation()}function jr(){e.event.preventDefault(),e.event.stopImmediatePropagation()}var Gr={name:"drag"},$r={name:"space"},zr={name:"handle"},Wr={name:"center"};function qr(e){return[+e[0],+e[1]]}function Jr(e){return[qr(e[0]),qr(e[1])]}var Yr={name:"x",handles:["w","e"].map(oo),input:function(e,t){return null==e?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},Qr={name:"y",handles:["n","s"].map(oo),input:function(e,t){return null==e?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},Xr={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(oo),input:function(e){return null==e?null:Jr(e)},output:function(e){return e}},Zr={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},eo={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},to={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},no={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},ro={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function oo(e){return{type:e}}function ao(){return!e.event.ctrlKey&&!e.event.button}function io(){var e=this.ownerSVGElement||this;return e.hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function so(){return navigator.maxTouchPoints||"ontouchstart"in this}function lo(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function uo(t){var n,r=io,o=ao,a=so,i=!0,s=E("start","brush","end"),l=6;function u(e){var n=e.property("__brush",g).selectAll(".overlay").data([oo("overlay")]);n.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Zr.overlay).merge(n).each((function(){var e=lo(this).extent;Re(this).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1])})),e.selectAll(".selection").data([oo("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Zr.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var r=e.selectAll(".handle").data(t.handles,(function(e){return e.type}));r.exit().remove(),r.enter().append("rect").attr("class",(function(e){return"handle handle--"+e.type})).attr("cursor",(function(e){return Zr[e.type]})),e.each(c).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",h).filter(a).on("touchstart.brush",h).on("touchmove.brush",p).on("touchend.brush touchcancel.brush",O).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function c(){var e=Re(this),t=lo(this).selection;t?(e.selectAll(".selection").style("display",null).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1]),e.selectAll(".handle").style("display",null).attr("x",(function(e){return"e"===e.type[e.type.length-1]?t[1][0]-l/2:t[0][0]-l/2})).attr("y",(function(e){return"s"===e.type[0]?t[1][1]-l/2:t[0][1]-l/2})).attr("width",(function(e){return"n"===e.type||"s"===e.type?t[1][0]-t[0][0]+l:l})).attr("height",(function(e){return"e"===e.type||"w"===e.type?t[1][1]-t[0][1]+l:l}))):e.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function d(e,t,n){return!n&&e.__brush.emitter||new f(e,t)}function f(e,t){this.that=e,this.args=t,this.state=e.__brush,this.active=0}function h(){if((!n||e.event.touches)&&o.apply(this,arguments)){var r,a,s,l,u,f,h,p,O,g,m,M,K=this,v=e.event.target.__data__.type,T="selection"===(i&&e.event.metaKey?v="overlay":v)?Gr:i&&e.event.altKey?Wr:zr,w=t===Qr?null:no[v],S=t===Yr?null:ro[v],x=lo(K),y=x.extent,b=x.selection,L=y[0][0],R=y[0][1],C=y[1][0],D=y[1][1],B=0,I=0,_=w&&S&&i&&e.event.shiftKey,k=e.event.touches?(M=e.event.changedTouches[0].identifier,function(t){return Fe(t,e.event.touches,M)}):ke,F=k(K),A=F,P=d(K,arguments,!0).beforestart();"overlay"===v?(b&&(O=!0),x.selection=b=[[r=t===Qr?L:F[0],s=t===Yr?R:F[1]],[u=t===Qr?C:r,h=t===Yr?D:s]]):(r=b[0][0],s=b[0][1],u=b[1][0],h=b[1][1]),a=r,l=s,f=u,p=h;var E=Re(K).attr("pointer-events","none"),N=E.selectAll(".overlay").attr("cursor",Zr[v]);if(e.event.touches)P.moved=V,P.ended=j;else{var U=Re(e.event.view).on("mousemove.brush",V,!0).on("mouseup.brush",j,!0);i&&U.on("keydown.brush",(function(){switch(e.event.keyCode){case 16:_=w&&S;break;case 18:T===zr&&(w&&(u=f-B*w,r=a+B*w),S&&(h=p-I*S,s=l+I*S),T=Wr,H());break;case 32:T!==zr&&T!==Wr||(w<0?u=f-B:w>0&&(r=a-B),S<0?h=p-I:S>0&&(s=l-I),T=$r,N.attr("cursor",Zr.selection),H());break;default:return}jr()}),!0).on("keyup.brush",(function(){switch(e.event.keyCode){case 16:_&&(g=m=_=!1,H());break;case 18:T===Wr&&(w<0?u=f:w>0&&(r=a),S<0?h=p:S>0&&(s=l),T=zr,H());break;case 32:T===$r&&(e.event.altKey?(w&&(u=f-B*w,r=a+B*w),S&&(h=p-I*S,s=l+I*S),T=Wr):(w<0?u=f:w>0&&(r=a),S<0?h=p:S>0&&(s=l),T=zr),N.attr("cursor",Zr[v]),H());break;default:return}jr()}),!0),Ee(e.event.view)}Hr(),lr(K),c.call(K),P.start()}function V(){var e=k(K);!_||g||m||(Math.abs(e[0]-A[0])>Math.abs(e[1]-A[1])?m=!0:g=!0),A=e,O=!0,jr(),H()}function H(){var e;switch(B=A[0]-F[0],I=A[1]-F[1],T){case $r:case Gr:w&&(B=Math.max(L-r,Math.min(C-u,B)),a=r+B,f=u+B),S&&(I=Math.max(R-s,Math.min(D-h,I)),l=s+I,p=h+I);break;case zr:w<0?(B=Math.max(L-r,Math.min(C-r,B)),a=r+B,f=u):w>0&&(B=Math.max(L-u,Math.min(C-u,B)),a=r,f=u+B),S<0?(I=Math.max(R-s,Math.min(D-s,I)),l=s+I,p=h):S>0&&(I=Math.max(R-h,Math.min(D-h,I)),l=s,p=h+I);break;case Wr:w&&(a=Math.max(L,Math.min(C,r-B*w)),f=Math.max(L,Math.min(C,u+B*w))),S&&(l=Math.max(R,Math.min(D,s-I*S)),p=Math.max(R,Math.min(D,h+I*S)))}f<a&&(w*=-1,e=r,r=u,u=e,e=a,a=f,f=e,v in eo&&N.attr("cursor",Zr[v=eo[v]])),p<l&&(S*=-1,e=s,s=h,h=e,e=l,l=p,p=e,v in to&&N.attr("cursor",Zr[v=to[v]])),x.selection&&(b=x.selection),g&&(a=b[0][0],f=b[1][0]),m&&(l=b[0][1],p=b[1][1]),b[0][0]===a&&b[0][1]===l&&b[1][0]===f&&b[1][1]===p||(x.selection=[[a,l],[f,p]],c.call(K),P.brush())}function j(){if(Hr(),e.event.touches){if(e.event.touches.length)return;n&&clearTimeout(n),n=setTimeout((function(){n=null}),500)}else Ne(e.event.view,O),U.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);E.attr("pointer-events","all"),N.attr("cursor",Zr.overlay),x.selection&&(b=x.selection),function(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}(b)&&(x.selection=null,c.call(K)),P.end()}}function p(){d(this,arguments).moved()}function O(){d(this,arguments).ended()}function g(){var e=this.__brush||{selection:null};return e.extent=Jr(r.apply(this,arguments)),e.dim=t,e}return u.move=function(e,n){e.selection?e.on("start.brush",(function(){d(this,arguments).beforestart().start()})).on("interrupt.brush end.brush",(function(){d(this,arguments).end()})).tween("brush",(function(){var e=this,r=e.__brush,o=d(e,arguments),a=r.selection,i=t.input("function"==typeof n?n.apply(this,arguments):n,r.extent),s=hn(a,i);function l(t){r.selection=1===t&&null===i?null:s(t),c.call(e),o.brush()}return null!==a&&null!==i?l:l(1)})):e.each((function(){var e=this,r=arguments,o=e.__brush,a=t.input("function"==typeof n?n.apply(e,r):n,o.extent),i=d(e,r).beforestart();lr(e),o.selection=null===a?null:a,c.call(e),i.start().brush().end()}))},u.clear=function(e){u.move(e,null)},f.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting?(this.starting=!1,this.emit("start")):this.emit("brush"),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(e){Se(new Vr(u,e,t.output(this.state.selection)),s.apply,s,[e,this.that,this.args])}},u.extent=function(e){return arguments.length?(r="function"==typeof e?e:Ur(Jr(e)),u):r},u.filter=function(e){return arguments.length?(o="function"==typeof e?e:Ur(!!e),u):o},u.touchable=function(e){return arguments.length?(a="function"==typeof e?e:Ur(!!e),u):a},u.handleSize=function(e){return arguments.length?(l=+e,u):l},u.keyModifiers=function(e){return arguments.length?(i=!!e,u):i},u.on=function(){var e=s.on.apply(s,arguments);return e===s?u:e},u}var co=Math.cos,fo=Math.sin,ho=Math.PI,po=ho/2,Oo=2*ho,go=Math.max;function mo(e){return function(t,n){return e(t.source.value+t.target.value,n.source.value+n.target.value)}}var Mo=Array.prototype.slice;function Ko(e){return function(){return e}}var vo=Math.PI,To=2*vo,wo=To-1e-6;function So(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function xo(){return new So}function yo(e){return e.source}function bo(e){return e.target}function Lo(e){return e.radius}function Ro(e){return e.startAngle}function Co(e){return e.endAngle}function Do(){}function Bo(e,t){var n=new Do;if(e instanceof Do)e.each((function(e,t){n.set(t,e)}));else if(Array.isArray(e)){var r,o=-1,a=e.length;if(null==t)for(;++o<a;)n.set(o,e[o]);else for(;++o<a;)n.set(t(r=e[o],o,e),r)}else if(e)for(var i in e)n.set(i,e[i]);return n}function Io(){return{}}function _o(e,t,n){e[t]=n}function ko(){return Bo()}function Fo(e,t,n){e.set(t,n)}function Ao(){}So.prototype=xo.prototype={constructor:So,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,o,a){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+o)+","+(this._y1=+a)},arcTo:function(e,t,n,r,o){e=+e,t=+t,n=+n,r=+r,o=+o;var a=this._x1,i=this._y1,s=n-e,l=r-t,u=a-e,c=i-t,d=u*u+c*c;if(o<0)throw new Error("negative radius: "+o);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(d>1e-6)if(Math.abs(c*s-l*u)>1e-6&&o){var f=n-a,h=r-i,p=s*s+l*l,O=f*f+h*h,g=Math.sqrt(p),m=Math.sqrt(d),M=o*Math.tan((vo-Math.acos((p+d-O)/(2*g*m)))/2),K=M/m,v=M/g;Math.abs(K-1)>1e-6&&(this._+="L"+(e+K*u)+","+(t+K*c)),this._+="A"+o+","+o+",0,0,"+ +(c*f>u*h)+","+(this._x1=e+v*s)+","+(this._y1=t+v*l)}else this._+="L"+(this._x1=e)+","+(this._y1=t)},arc:function(e,t,n,r,o,a){e=+e,t=+t,a=!!a;var i=(n=+n)*Math.cos(r),s=n*Math.sin(r),l=e+i,u=t+s,c=1^a,d=a?r-o:o-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+l+","+u:(Math.abs(this._x1-l)>1e-6||Math.abs(this._y1-u)>1e-6)&&(this._+="L"+l+","+u),n&&(d<0&&(d=d%To+To),d>wo?this._+="A"+n+","+n+",0,1,"+c+","+(e-i)+","+(t-s)+"A"+n+","+n+",0,1,"+c+","+(this._x1=l)+","+(this._y1=u):d>1e-6&&(this._+="A"+n+","+n+",0,"+ +(d>=vo)+","+c+","+(this._x1=e+n*Math.cos(o))+","+(this._y1=t+n*Math.sin(o))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}},Do.prototype=Bo.prototype={constructor:Do,has:function(e){return"$"+e in this},get:function(e){return this["$"+e]},set:function(e,t){return this["$"+e]=t,this},remove:function(e){var t="$"+e;return t in this&&delete this[t]},clear:function(){for(var e in this)"$"===e[0]&&delete this[e]},keys:function(){var e=[];for(var t in this)"$"===t[0]&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)"$"===t[0]&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)"$"===t[0]&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)"$"===t[0]&&++e;return e},empty:function(){for(var e in this)if("$"===e[0])return!1;return!0},each:function(e){for(var t in this)"$"===t[0]&&e(this[t],t.slice(1),this)}};var Po=Bo.prototype;function Eo(e,t){var n=new Ao;if(e instanceof Ao)e.each((function(e){n.add(e)}));else if(e){var r=-1,o=e.length;if(null==t)for(;++r<o;)n.add(e[r]);else for(;++r<o;)n.add(t(e[r],r,e))}return n}Ao.prototype=Eo.prototype={constructor:Ao,has:Po.has,add:function(e){return this["$"+(e+="")]=e,this},remove:Po.remove,clear:Po.clear,values:Po.keys,size:Po.size,empty:Po.empty,each:Po.each};var No=Array.prototype.slice;function Uo(e,t){return e-t}function Vo(e){return function(){return e}}function Ho(e,t){for(var n,r=-1,o=t.length;++r<o;)if(n=jo(e,t[r]))return n;return 0}function jo(e,t){for(var n=t[0],r=t[1],o=-1,a=0,i=e.length,s=i-1;a<i;s=a++){var l=e[a],u=l[0],c=l[1],d=e[s],f=d[0],h=d[1];if(Go(l,d,t))return 0;c>r!=h>r&&n<(f-u)*(r-c)/(h-c)+u&&(o=-o)}return o}function Go(e,t,n){var r,o,a,i;return function(e,t,n){return(t[0]-e[0])*(n[1]-e[1])==(n[0]-e[0])*(t[1]-e[1])}(e,t,n)&&(o=e[r=+(e[0]===t[0])],a=n[r],i=t[r],o<=a&&a<=i||i<=a&&a<=o)}function $o(){}var zo=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function Wo(){var e=1,t=1,n=S,r=s;function o(e){var t=n(e);if(Array.isArray(t))t=t.slice().sort(Uo);else{var r=c(e),o=r[0],i=r[1];t=w(o,i,t),t=g(Math.floor(o/t)*t,Math.floor(i/t)*t,t)}return t.map((function(t){return a(e,t)}))}function a(n,o){var a=[],s=[];return function(n,r,o){var a,s,l,u,c,d,f=new Array,h=new Array;for(a=s=-1,u=n[0]>=r,zo[u<<1].forEach(p);++a<e-1;)l=u,u=n[a+1]>=r,zo[l|u<<1].forEach(p);for(zo[u<<0].forEach(p);++s<t-1;){for(a=-1,u=n[s*e+e]>=r,c=n[s*e]>=r,zo[u<<1|c<<2].forEach(p);++a<e-1;)l=u,u=n[s*e+e+a+1]>=r,d=c,c=n[s*e+a+1]>=r,zo[l|u<<1|c<<2|d<<3].forEach(p);zo[u|c<<3].forEach(p)}for(a=-1,c=n[s*e]>=r,zo[c<<2].forEach(p);++a<e-1;)d=c,c=n[s*e+a+1]>=r,zo[c<<2|d<<3].forEach(p);function p(e){var t,n,r=[e[0][0]+a,e[0][1]+s],l=[e[1][0]+a,e[1][1]+s],u=i(r),c=i(l);(t=h[u])?(n=f[c])?(delete h[t.end],delete f[n.start],t===n?(t.ring.push(l),o(t.ring)):f[t.start]=h[n.end]={start:t.start,end:n.end,ring:t.ring.concat(n.ring)}):(delete h[t.end],t.ring.push(l),h[t.end=c]=t):(t=f[c])?(n=h[u])?(delete f[t.start],delete h[n.end],t===n?(t.ring.push(l),o(t.ring)):f[n.start]=h[t.end]={start:n.start,end:t.end,ring:n.ring.concat(t.ring)}):(delete f[t.start],t.ring.unshift(r),f[t.start=u]=t):f[u]=h[c]={start:u,end:c,ring:[r,l]}}zo[c<<3].forEach(p)}(n,o,(function(e){r(e,n,o),function(e){for(var t=0,n=e.length,r=e[n-1][1]*e[0][0]-e[n-1][0]*e[0][1];++t<n;)r+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return r}(e)>0?a.push([e]):s.push(e)})),s.forEach((function(e){for(var t,n=0,r=a.length;n<r;++n)if(-1!==Ho((t=a[n])[0],e))return void t.push(e)})),{type:"MultiPolygon",value:o,coordinates:a}}function i(t){return 2*t[0]+t[1]*(e+1)*4}function s(n,r,o){n.forEach((function(n){var a,i=n[0],s=n[1],l=0|i,u=0|s,c=r[u*e+l];i>0&&i<e&&l===i&&(a=r[u*e+l-1],n[0]=i+(o-a)/(c-a)-.5),s>0&&s<t&&u===s&&(a=r[(u-1)*e+l],n[1]=s+(o-a)/(c-a)-.5)}))}return o.contour=a,o.size=function(n){if(!arguments.length)return[e,t];var r=Math.ceil(n[0]),a=Math.ceil(n[1]);if(!(r>0&&a>0))throw new Error("invalid size");return e=r,t=a,o},o.thresholds=function(e){return arguments.length?(n="function"==typeof e?e:Array.isArray(e)?Vo(No.call(e)):Vo(e),o):n},o.smooth=function(e){return arguments.length?(r=e?s:$o,o):r===s},o}function qo(e,t,n){for(var r=e.width,o=e.height,a=1+(n<<1),i=0;i<o;++i)for(var s=0,l=0;s<r+n;++s)s<r&&(l+=e.data[s+i*r]),s>=n&&(s>=a&&(l-=e.data[s-a+i*r]),t.data[s-n+i*r]=l/Math.min(s+1,r-1+a-s,a))}function Jo(e,t,n){for(var r=e.width,o=e.height,a=1+(n<<1),i=0;i<r;++i)for(var s=0,l=0;s<o+n;++s)s<o&&(l+=e.data[i+s*r]),s>=n&&(s>=a&&(l-=e.data[i+(s-a)*r]),t.data[i+(s-n)*r]=l/Math.min(s+1,o-1+a-s,a))}function Yo(e){return e[0]}function Qo(e){return e[1]}function Xo(){return 1}var Zo={},ea={};function ta(e){return new Function("d","return {"+e.map((function(e,t){return JSON.stringify(e)+": d["+t+'] || ""'})).join(",")+"}")}function na(e){var t=Object.create(null),n=[];return e.forEach((function(e){for(var r in e)r in t||n.push(t[r]=r)})),n}function ra(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function oa(e){var t=new RegExp('["'+e+"\n\r]"),n=e.charCodeAt(0);function r(e,t){var r,o=[],a=e.length,i=0,s=0,l=a<=0,u=!1;function c(){if(l)return ea;if(u)return u=!1,Zo;var t,r,o=i;if(34===e.charCodeAt(o)){for(;i++<a&&34!==e.charCodeAt(i)||34===e.charCodeAt(++i););return(t=i)>=a?l=!0:10===(r=e.charCodeAt(i++))?u=!0:13===r&&(u=!0,10===e.charCodeAt(i)&&++i),e.slice(o+1,t-1).replace(/""/g,'"')}for(;i<a;){if(10===(r=e.charCodeAt(t=i++)))u=!0;else if(13===r)u=!0,10===e.charCodeAt(i)&&++i;else if(r!==n)continue;return e.slice(o,t)}return l=!0,e.slice(o,a)}for(10===e.charCodeAt(a-1)&&--a,13===e.charCodeAt(a-1)&&--a;(r=c())!==ea;){for(var d=[];r!==Zo&&r!==ea;)d.push(r),r=c();t&&null==(d=t(d,s++))||o.push(d)}return o}function o(t,n){return t.map((function(t){return n.map((function(e){return i(t[e])})).join(e)}))}function a(t){return t.map(i).join(e)}function i(e){return null==e?"":e instanceof Date?function(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),o=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":function(e){return e<0?"-"+ra(-e,6):e>9999?"+"+ra(e,6):ra(e,4)}(e.getUTCFullYear())+"-"+ra(e.getUTCMonth()+1,2)+"-"+ra(e.getUTCDate(),2)+(o?"T"+ra(t,2)+":"+ra(n,2)+":"+ra(r,2)+"."+ra(o,3)+"Z":r?"T"+ra(t,2)+":"+ra(n,2)+":"+ra(r,2)+"Z":n||t?"T"+ra(t,2)+":"+ra(n,2)+"Z":"")}(e):t.test(e+="")?'"'+e.replace(/"/g,'""')+'"':e}return{parse:function(e,t){var n,o,a=r(e,(function(e,r){if(n)return n(e,r-1);o=e,n=t?function(e,t){var n=ta(e);return function(r,o){return t(n(r),o,e)}}(e,t):ta(e)}));return a.columns=o||[],a},parseRows:r,format:function(t,n){return null==n&&(n=na(t)),[n.map(i).join(e)].concat(o(t,n)).join("\n")},formatBody:function(e,t){return null==t&&(t=na(e)),o(e,t).join("\n")},formatRows:function(e){return e.map(a).join("\n")},formatRow:a,formatValue:i}}var aa=oa(","),ia=aa.parse,sa=aa.parseRows,la=aa.format,ua=aa.formatBody,ca=aa.formatRows,da=aa.formatRow,fa=aa.formatValue,ha=oa("\t"),pa=ha.parse,Oa=ha.parseRows,ga=ha.format,ma=ha.formatBody,Ma=ha.formatRows,Ka=ha.formatRow,va=ha.formatValue,Ta=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function wa(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.blob()}function Sa(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.arrayBuffer()}function xa(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function ya(e,t){return fetch(e,t).then(xa)}function ba(e){return function(t,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=void 0),ya(t,n).then((function(t){return e(t,r)}))}}var La=ba(ia),Ra=ba(pa);function Ca(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.json()}function Da(e){return function(t,n){return ya(t,n).then((function(t){return(new DOMParser).parseFromString(t,e)}))}}var Ba=Da("application/xml"),Ia=Da("text/html"),_a=Da("image/svg+xml");function ka(e){return function(){return e}}function Fa(){return 1e-6*(Math.random()-.5)}function Aa(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var o,a,i,s,l,u,c,d,f,h=e._root,p={data:r},O=e._x0,g=e._y0,m=e._x1,M=e._y1;if(!h)return e._root=p,e;for(;h.length;)if((u=t>=(a=(O+m)/2))?O=a:m=a,(c=n>=(i=(g+M)/2))?g=i:M=i,o=h,!(h=h[d=c<<1|u]))return o[d]=p,e;if(s=+e._x.call(null,h.data),l=+e._y.call(null,h.data),t===s&&n===l)return p.next=h,o?o[d]=p:e._root=p,e;do{o=o?o[d]=new Array(4):e._root=new Array(4),(u=t>=(a=(O+m)/2))?O=a:m=a,(c=n>=(i=(g+M)/2))?g=i:M=i}while((d=c<<1|u)==(f=(l>=i)<<1|s>=a));return o[f]=h,o[d]=p,e}function Pa(e,t,n,r,o){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=o}function Ea(e){return e[0]}function Na(e){return e[1]}function Ua(e,t,n){var r=new Va(null==t?Ea:t,null==n?Na:n,NaN,NaN,NaN,NaN);return null==e?r:r.addAll(e)}function Va(e,t,n,r,o,a){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=o,this._y1=a,this._root=void 0}function Ha(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var ja=Ua.prototype=Va.prototype;function Ga(e){return e.x+e.vx}function $a(e){return e.y+e.vy}function za(e){return e.index}function Wa(e,t){var n=e.get(t);if(!n)throw new Error("missing: "+t);return n}function qa(e){return e.x}function Ja(e){return e.y}ja.copy=function(){var e,t,n=new Va(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=Ha(r),n;for(e=[{source:r,target:n._root=new Array(4)}];r=e.pop();)for(var o=0;o<4;++o)(t=r.source[o])&&(t.length?e.push({source:t,target:r.target[o]=new Array(4)}):r.target[o]=Ha(t));return n},ja.add=function(e){var t=+this._x.call(null,e),n=+this._y.call(null,e);return Aa(this.cover(t,n),t,n,e)},ja.addAll=function(e){var t,n,r,o,a=e.length,i=new Array(a),s=new Array(a),l=1/0,u=1/0,c=-1/0,d=-1/0;for(n=0;n<a;++n)isNaN(r=+this._x.call(null,t=e[n]))||isNaN(o=+this._y.call(null,t))||(i[n]=r,s[n]=o,r<l&&(l=r),r>c&&(c=r),o<u&&(u=o),o>d&&(d=o));if(l>c||u>d)return this;for(this.cover(l,u).cover(c,d),n=0;n<a;++n)Aa(this,i[n],s[n],e[n]);return this},ja.cover=function(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,o=this._x1,a=this._y1;if(isNaN(n))o=(n=Math.floor(e))+1,a=(r=Math.floor(t))+1;else{for(var i,s,l=o-n,u=this._root;n>e||e>=o||r>t||t>=a;)switch(s=(t<r)<<1|e<n,(i=new Array(4))[s]=u,u=i,l*=2,s){case 0:o=n+l,a=r+l;break;case 1:n=o-l,a=r+l;break;case 2:o=n+l,r=a-l;break;case 3:n=o-l,r=a-l}this._root&&this._root.length&&(this._root=u)}return this._x0=n,this._y0=r,this._x1=o,this._y1=a,this},ja.data=function(){var e=[];return this.visit((function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)})),e},ja.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},ja.find=function(e,t,n){var r,o,a,i,s,l,u,c=this._x0,d=this._y0,f=this._x1,h=this._y1,p=[],O=this._root;for(O&&p.push(new Pa(O,c,d,f,h)),null==n?n=1/0:(c=e-n,d=t-n,f=e+n,h=t+n,n*=n);l=p.pop();)if(!(!(O=l.node)||(o=l.x0)>f||(a=l.y0)>h||(i=l.x1)<c||(s=l.y1)<d))if(O.length){var g=(o+i)/2,m=(a+s)/2;p.push(new Pa(O[3],g,m,i,s),new Pa(O[2],o,m,g,s),new Pa(O[1],g,a,i,m),new Pa(O[0],o,a,g,m)),(u=(t>=m)<<1|e>=g)&&(l=p[p.length-1],p[p.length-1]=p[p.length-1-u],p[p.length-1-u]=l)}else{var M=e-+this._x.call(null,O.data),K=t-+this._y.call(null,O.data),v=M*M+K*K;if(v<n){var T=Math.sqrt(n=v);c=e-T,d=t-T,f=e+T,h=t+T,r=O.data}}return r},ja.remove=function(e){if(isNaN(a=+this._x.call(null,e))||isNaN(i=+this._y.call(null,e)))return this;var t,n,r,o,a,i,s,l,u,c,d,f,h=this._root,p=this._x0,O=this._y0,g=this._x1,m=this._y1;if(!h)return this;if(h.length)for(;;){if((u=a>=(s=(p+g)/2))?p=s:g=s,(c=i>=(l=(O+m)/2))?O=l:m=l,t=h,!(h=h[d=c<<1|u]))return this;if(!h.length)break;(t[d+1&3]||t[d+2&3]||t[d+3&3])&&(n=t,f=d)}for(;h.data!==e;)if(r=h,!(h=h.next))return this;return(o=h.next)&&delete h.next,r?(o?r.next=o:delete r.next,this):t?(o?t[d]=o:delete t[d],(h=t[0]||t[1]||t[2]||t[3])&&h===(t[3]||t[2]||t[1]||t[0])&&!h.length&&(n?n[f]=h:this._root=h),this):(this._root=o,this)},ja.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},ja.root=function(){return this._root},ja.size=function(){var e=0;return this.visit((function(t){if(!t.length)do{++e}while(t=t.next)})),e},ja.visit=function(e){var t,n,r,o,a,i,s=[],l=this._root;for(l&&s.push(new Pa(l,this._x0,this._y0,this._x1,this._y1));t=s.pop();)if(!e(l=t.node,r=t.x0,o=t.y0,a=t.x1,i=t.y1)&&l.length){var u=(r+a)/2,c=(o+i)/2;(n=l[3])&&s.push(new Pa(n,u,c,a,i)),(n=l[2])&&s.push(new Pa(n,r,c,u,i)),(n=l[1])&&s.push(new Pa(n,u,o,a,c)),(n=l[0])&&s.push(new Pa(n,r,o,u,c))}return this},ja.visitAfter=function(e){var t,n=[],r=[];for(this._root&&n.push(new Pa(this._root,this._x0,this._y0,this._x1,this._y1));t=n.pop();){var o=t.node;if(o.length){var a,i=t.x0,s=t.y0,l=t.x1,u=t.y1,c=(i+l)/2,d=(s+u)/2;(a=o[0])&&n.push(new Pa(a,i,s,c,d)),(a=o[1])&&n.push(new Pa(a,c,s,l,d)),(a=o[2])&&n.push(new Pa(a,i,d,c,u)),(a=o[3])&&n.push(new Pa(a,c,d,l,u))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this},ja.x=function(e){return arguments.length?(this._x=e,this):this._x},ja.y=function(e){return arguments.length?(this._y=e,this):this._y};var Ya=Math.PI*(3-Math.sqrt(5));function Qa(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Xa(e){return(e=Qa(Math.abs(e)))?e[1]:NaN}var Za,ei=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ti(e){if(!(t=ei.exec(e)))throw new Error("invalid format: "+e);var t;return new ni({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function ni(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function ri(e,t){var n=Qa(e,t);if(!n)return e+"";var r=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+r:r.length>o+1?r.slice(0,o+1)+"."+r.slice(o+1):r+new Array(o-r.length+2).join("0")}ti.prototype=ni.prototype,ni.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var oi={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.round(e).toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return ri(100*e,t)},r:ri,s:function(e,t){var n=Qa(e,t);if(!n)return e+"";var r=n[0],o=n[1],a=o-(Za=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,i=r.length;return a===i?r:a>i?r+new Array(a-i+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Qa(e,Math.max(0,t+a-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}};function ai(e){return e}var ii,si=Array.prototype.map,li=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function ui(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?ai:(t=si.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var o=e.length,a=[],i=0,s=t[0],l=0;o>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(e.substring(o-=s,o+s)),!((l+=s+1)>r));)s=t[i=(i+1)%t.length];return a.reverse().join(n)}),o=void 0===e.currency?"":e.currency[0]+"",a=void 0===e.currency?"":e.currency[1]+"",i=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?ai:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(si.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",u=void 0===e.minus?"-":e.minus+"",c=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=ti(e)).fill,n=e.align,d=e.sign,f=e.symbol,h=e.zero,p=e.width,O=e.comma,g=e.precision,m=e.trim,M=e.type;"n"===M?(O=!0,M="g"):oi[M]||(void 0===g&&(g=12),m=!0,M="g"),(h||"0"===t&&"="===n)&&(h=!0,t="0",n="=");var K="$"===f?o:"#"===f&&/[boxX]/.test(M)?"0"+M.toLowerCase():"",v="$"===f?a:/[%p]/.test(M)?l:"",T=oi[M],w=/[defgprs%]/.test(M);function S(e){var o,a,l,f=K,S=v;if("c"===M)S=T(e)+S,e="";else{var x=(e=+e)<0||1/e<0;if(e=isNaN(e)?c:T(Math.abs(e),g),m&&(e=function(e){e:for(var t,n=e.length,r=1,o=-1;r<n;++r)switch(e[r]){case".":o=t=r;break;case"0":0===o&&(o=r),t=r;break;default:if(!+e[r])break e;o>0&&(o=0)}return o>0?e.slice(0,o)+e.slice(t+1):e}(e)),x&&0==+e&&"+"!==d&&(x=!1),f=(x?"("===d?d:u:"-"===d||"("===d?"":d)+f,S=("s"===M?li[8+Za/3]:"")+S+(x&&"("===d?")":""),w)for(o=-1,a=e.length;++o<a;)if(48>(l=e.charCodeAt(o))||l>57){S=(46===l?i+e.slice(o+1):e.slice(o))+S,e=e.slice(0,o);break}}O&&!h&&(e=r(e,1/0));var y=f.length+e.length+S.length,b=y<p?new Array(p-y+1).join(t):"";switch(O&&h&&(e=r(b+e,b.length?p-S.length:1/0),b=""),n){case"<":e=f+e+S+b;break;case"=":e=f+b+e+S;break;case"^":e=b.slice(0,y=b.length>>1)+f+e+S+b.slice(y);break;default:e=b+f+e+S}return s(e)}return g=void 0===g?6:/[gprs]/.test(M)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),S.toString=function(){return e+""},S}return{format:d,formatPrefix:function(e,t){var n=d(((e=ti(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(Xa(t)/3))),o=Math.pow(10,-r),a=li[8+r/3];return function(e){return n(o*e)+a}}}}function ci(t){return ii=ui(t),e.format=ii.format,e.formatPrefix=ii.formatPrefix,ii}function di(e){return Math.max(0,-Xa(Math.abs(e)))}function fi(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Xa(t)/3)))-Xa(Math.abs(e)))}function hi(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Xa(t)-Xa(e))+1}function pi(){return new Oi}function Oi(){this.reset()}ci({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),Oi.prototype={constructor:Oi,reset:function(){this.s=this.t=0},add:function(e){mi(gi,e,this.t),mi(this,gi.s,this.s),this.s?this.t+=gi.t:this.s=gi.t},valueOf:function(){return this.s}};var gi=new Oi;function mi(e,t,n){var r=e.s=t+n,o=r-t,a=r-o;e.t=t-a+(n-o)}var Mi=1e-6,Ki=1e-12,vi=Math.PI,Ti=vi/2,wi=vi/4,Si=2*vi,xi=180/vi,yi=vi/180,bi=Math.abs,Li=Math.atan,Ri=Math.atan2,Ci=Math.cos,Di=Math.ceil,Bi=Math.exp,Ii=Math.log,_i=Math.pow,ki=Math.sin,Fi=Math.sign||function(e){return e>0?1:e<0?-1:0},Ai=Math.sqrt,Pi=Math.tan;function Ei(e){return e>1?0:e<-1?vi:Math.acos(e)}function Ni(e){return e>1?Ti:e<-1?-Ti:Math.asin(e)}function Ui(e){return(e=ki(e/2))*e}function Vi(){}function Hi(e,t){e&&Gi.hasOwnProperty(e.type)&&Gi[e.type](e,t)}var ji={Feature:function(e,t){Hi(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,o=n.length;++r<o;)Hi(n[r].geometry,t)}},Gi={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,o=n.length;++r<o;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){$i(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,o=n.length;++r<o;)$i(n[r],t,0)},Polygon:function(e,t){zi(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,o=n.length;++r<o;)zi(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,o=n.length;++r<o;)Hi(n[r],t)}};function $i(e,t,n){var r,o=-1,a=e.length-n;for(t.lineStart();++o<a;)r=e[o],t.point(r[0],r[1],r[2]);t.lineEnd()}function zi(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)$i(e[n],t,1);t.polygonEnd()}function Wi(e,t){e&&ji.hasOwnProperty(e.type)?ji[e.type](e,t):Hi(e,t)}var qi,Ji,Yi,Qi,Xi,Zi=pi(),es=pi(),ts={point:Vi,lineStart:Vi,lineEnd:Vi,polygonStart:function(){Zi.reset(),ts.lineStart=ns,ts.lineEnd=rs},polygonEnd:function(){var e=+Zi;es.add(e<0?Si+e:e),this.lineStart=this.lineEnd=this.point=Vi},sphere:function(){es.add(Si)}};function ns(){ts.point=os}function rs(){as(qi,Ji)}function os(e,t){ts.point=as,qi=e,Ji=t,Yi=e*=yi,Qi=Ci(t=(t*=yi)/2+wi),Xi=ki(t)}function as(e,t){var n=(e*=yi)-Yi,r=n>=0?1:-1,o=r*n,a=Ci(t=(t*=yi)/2+wi),i=ki(t),s=Xi*i,l=Qi*a+s*Ci(o),u=s*r*ki(o);Zi.add(Ri(u,l)),Yi=e,Qi=a,Xi=i}function is(e){return[Ri(e[1],e[0]),Ni(e[2])]}function ss(e){var t=e[0],n=e[1],r=Ci(n);return[r*Ci(t),r*ki(t),ki(n)]}function ls(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function us(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function cs(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function ds(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function fs(e){var t=Ai(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}var hs,ps,Os,gs,ms,Ms,Ks,vs,Ts,ws,Ss,xs,ys,bs,Ls,Rs,Cs,Ds,Bs,Is,_s,ks,Fs,As,Ps,Es,Ns=pi(),Us={point:Vs,lineStart:js,lineEnd:Gs,polygonStart:function(){Us.point=$s,Us.lineStart=zs,Us.lineEnd=Ws,Ns.reset(),ts.polygonStart()},polygonEnd:function(){ts.polygonEnd(),Us.point=Vs,Us.lineStart=js,Us.lineEnd=Gs,Zi<0?(hs=-(Os=180),ps=-(gs=90)):Ns>Mi?gs=90:Ns<-Mi&&(ps=-90),ws[0]=hs,ws[1]=Os},sphere:function(){hs=-(Os=180),ps=-(gs=90)}};function Vs(e,t){Ts.push(ws=[hs=e,Os=e]),t<ps&&(ps=t),t>gs&&(gs=t)}function Hs(e,t){var n=ss([e*yi,t*yi]);if(vs){var r=us(vs,n),o=us([r[1],-r[0],0],r);fs(o),o=is(o);var a,i=e-ms,s=i>0?1:-1,l=o[0]*xi*s,u=bi(i)>180;u^(s*ms<l&&l<s*e)?(a=o[1]*xi)>gs&&(gs=a):u^(s*ms<(l=(l+360)%360-180)&&l<s*e)?(a=-o[1]*xi)<ps&&(ps=a):(t<ps&&(ps=t),t>gs&&(gs=t)),u?e<ms?qs(hs,e)>qs(hs,Os)&&(Os=e):qs(e,Os)>qs(hs,Os)&&(hs=e):Os>=hs?(e<hs&&(hs=e),e>Os&&(Os=e)):e>ms?qs(hs,e)>qs(hs,Os)&&(Os=e):qs(e,Os)>qs(hs,Os)&&(hs=e)}else Ts.push(ws=[hs=e,Os=e]);t<ps&&(ps=t),t>gs&&(gs=t),vs=n,ms=e}function js(){Us.point=Hs}function Gs(){ws[0]=hs,ws[1]=Os,Us.point=Vs,vs=null}function $s(e,t){if(vs){var n=e-ms;Ns.add(bi(n)>180?n+(n>0?360:-360):n)}else Ms=e,Ks=t;ts.point(e,t),Hs(e,t)}function zs(){ts.lineStart()}function Ws(){$s(Ms,Ks),ts.lineEnd(),bi(Ns)>Mi&&(hs=-(Os=180)),ws[0]=hs,ws[1]=Os,vs=null}function qs(e,t){return(t-=e)<0?t+360:t}function Js(e,t){return e[0]-t[0]}function Ys(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var Qs={sphere:Vi,point:Xs,lineStart:el,lineEnd:rl,polygonStart:function(){Qs.lineStart=ol,Qs.lineEnd=al},polygonEnd:function(){Qs.lineStart=el,Qs.lineEnd=rl}};function Xs(e,t){e*=yi;var n=Ci(t*=yi);Zs(n*Ci(e),n*ki(e),ki(t))}function Zs(e,t,n){ys+=(e-ys)/++Ss,bs+=(t-bs)/Ss,Ls+=(n-Ls)/Ss}function el(){Qs.point=tl}function tl(e,t){e*=yi;var n=Ci(t*=yi);As=n*Ci(e),Ps=n*ki(e),Es=ki(t),Qs.point=nl,Zs(As,Ps,Es)}function nl(e,t){e*=yi;var n=Ci(t*=yi),r=n*Ci(e),o=n*ki(e),a=ki(t),i=Ri(Ai((i=Ps*a-Es*o)*i+(i=Es*r-As*a)*i+(i=As*o-Ps*r)*i),As*r+Ps*o+Es*a);xs+=i,Rs+=i*(As+(As=r)),Cs+=i*(Ps+(Ps=o)),Ds+=i*(Es+(Es=a)),Zs(As,Ps,Es)}function rl(){Qs.point=Xs}function ol(){Qs.point=il}function al(){sl(ks,Fs),Qs.point=Xs}function il(e,t){ks=e,Fs=t,e*=yi,t*=yi,Qs.point=sl;var n=Ci(t);As=n*Ci(e),Ps=n*ki(e),Es=ki(t),Zs(As,Ps,Es)}function sl(e,t){e*=yi;var n=Ci(t*=yi),r=n*Ci(e),o=n*ki(e),a=ki(t),i=Ps*a-Es*o,s=Es*r-As*a,l=As*o-Ps*r,u=Ai(i*i+s*s+l*l),c=Ni(u),d=u&&-c/u;Bs+=d*i,Is+=d*s,_s+=d*l,xs+=c,Rs+=c*(As+(As=r)),Cs+=c*(Ps+(Ps=o)),Ds+=c*(Es+(Es=a)),Zs(As,Ps,Es)}function ll(e){return function(){return e}}function ul(e,t){function n(n,r){return n=e(n,r),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,r){return(n=t.invert(n,r))&&e.invert(n[0],n[1])}),n}function cl(e,t){return[bi(e)>vi?e+Math.round(-e/Si)*Si:e,t]}function dl(e,t,n){return(e%=Si)?t||n?ul(hl(e),pl(t,n)):hl(e):t||n?pl(t,n):cl}function fl(e){return function(t,n){return[(t+=e)>vi?t-Si:t<-vi?t+Si:t,n]}}function hl(e){var t=fl(e);return t.invert=fl(-e),t}function pl(e,t){var n=Ci(e),r=ki(e),o=Ci(t),a=ki(t);function i(e,t){var i=Ci(t),s=Ci(e)*i,l=ki(e)*i,u=ki(t),c=u*n+s*r;return[Ri(l*o-c*a,s*n-u*r),Ni(c*o+l*a)]}return i.invert=function(e,t){var i=Ci(t),s=Ci(e)*i,l=ki(e)*i,u=ki(t),c=u*o-l*a;return[Ri(l*o+u*a,s*n+c*r),Ni(c*n-s*r)]},i}function Ol(e){function t(t){return(t=e(t[0]*yi,t[1]*yi))[0]*=xi,t[1]*=xi,t}return e=dl(e[0]*yi,e[1]*yi,e.length>2?e[2]*yi:0),t.invert=function(t){return(t=e.invert(t[0]*yi,t[1]*yi))[0]*=xi,t[1]*=xi,t},t}function gl(e,t,n,r,o,a){if(n){var i=Ci(t),s=ki(t),l=r*n;null==o?(o=t+r*Si,a=t-l/2):(o=ml(i,o),a=ml(i,a),(r>0?o<a:o>a)&&(o+=r*Si));for(var u,c=o;r>0?c>a:c<a;c-=l)u=is([i,-s*Ci(c),-s*ki(c)]),e.point(u[0],u[1])}}function ml(e,t){(t=ss(t))[0]-=e,fs(t);var n=Ei(-t[1]);return((-t[2]<0?-n:n)+Si-Mi)%Si}function Ml(){var e,t=[];return{point:function(t,n){e.push([t,n])},lineStart:function(){t.push(e=[])},lineEnd:Vi,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function Kl(e,t){return bi(e[0]-t[0])<Mi&&bi(e[1]-t[1])<Mi}function vl(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Tl(e,t,n,r,o){var a,i,s=[],l=[];if(e.forEach((function(e){if(!((t=e.length-1)<=0)){var t,n,r=e[0],i=e[t];if(Kl(r,i)){for(o.lineStart(),a=0;a<t;++a)o.point((r=e[a])[0],r[1]);o.lineEnd()}else s.push(n=new vl(r,e,null,!0)),l.push(n.o=new vl(r,null,n,!1)),s.push(n=new vl(i,e,null,!1)),l.push(n.o=new vl(i,null,n,!0))}})),s.length){for(l.sort(t),wl(s),wl(l),a=0,i=l.length;a<i;++a)l[a].e=n=!n;for(var u,c,d=s[0];;){for(var f=d,h=!0;f.v;)if((f=f.n)===d)return;u=f.z,o.lineStart();do{if(f.v=f.o.v=!0,f.e){if(h)for(a=0,i=u.length;a<i;++a)o.point((c=u[a])[0],c[1]);else r(f.x,f.n.x,1,o);f=f.n}else{if(h)for(u=f.p.z,a=u.length-1;a>=0;--a)o.point((c=u[a])[0],c[1]);else r(f.x,f.p.x,-1,o);f=f.p}u=(f=f.o).z,h=!h}while(!f.v);o.lineEnd()}}}function wl(e){if(t=e.length){for(var t,n,r=0,o=e[0];++r<t;)o.n=n=e[r],n.p=o,o=n;o.n=n=e[0],n.p=o}}cl.invert=cl;var Sl=pi();function xl(e){return bi(e[0])<=vi?e[0]:Fi(e[0])*((bi(e[0])+vi)%Si-vi)}function yl(e,t){var n=xl(t),r=t[1],o=ki(r),a=[ki(n),-Ci(n),0],i=0,s=0;Sl.reset(),1===o?r=Ti+Mi:-1===o&&(r=-Ti-Mi);for(var l=0,u=e.length;l<u;++l)if(d=(c=e[l]).length)for(var c,d,f=c[d-1],h=xl(f),p=f[1]/2+wi,O=ki(p),g=Ci(p),m=0;m<d;++m,h=K,O=T,g=w,f=M){var M=c[m],K=xl(M),v=M[1]/2+wi,T=ki(v),w=Ci(v),S=K-h,x=S>=0?1:-1,y=x*S,b=y>vi,L=O*T;if(Sl.add(Ri(L*x*ki(y),g*w+L*Ci(y))),i+=b?S+x*Si:S,b^h>=n^K>=n){var R=us(ss(f),ss(M));fs(R);var C=us(a,R);fs(C);var D=(b^S>=0?-1:1)*Ni(C[2]);(r>D||r===D&&(R[0]||R[1]))&&(s+=b^S>=0?1:-1)}}return(i<-Mi||i<Mi&&Sl<-Mi)^1&s}function bl(e,t,n,r){return function(o){var a,i,s,l=t(o),u=Ml(),c=t(u),d=!1,f={point:h,lineStart:O,lineEnd:g,polygonStart:function(){f.point=m,f.lineStart=M,f.lineEnd=K,i=[],a=[]},polygonEnd:function(){f.point=h,f.lineStart=O,f.lineEnd=g,i=b(i);var e=yl(a,r);i.length?(d||(o.polygonStart(),d=!0),Tl(i,Rl,e,n,o)):e&&(d||(o.polygonStart(),d=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),d&&(o.polygonEnd(),d=!1),i=a=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function h(t,n){e(t,n)&&o.point(t,n)}function p(e,t){l.point(e,t)}function O(){f.point=p,l.lineStart()}function g(){f.point=h,l.lineEnd()}function m(e,t){s.push([e,t]),c.point(e,t)}function M(){c.lineStart(),s=[]}function K(){m(s[0][0],s[0][1]),c.lineEnd();var e,t,n,r,l=c.clean(),f=u.result(),h=f.length;if(s.pop(),a.push(s),s=null,h)if(1&l){if((t=(n=f[0]).length-1)>0){for(d||(o.polygonStart(),d=!0),o.lineStart(),e=0;e<t;++e)o.point((r=n[e])[0],r[1]);o.lineEnd()}}else h>1&&2&l&&f.push(f.pop().concat(f.shift())),i.push(f.filter(Ll))}return f}}function Ll(e){return e.length>1}function Rl(e,t){return((e=e.x)[0]<0?e[1]-Ti-Mi:Ti-e[1])-((t=t.x)[0]<0?t[1]-Ti-Mi:Ti-t[1])}var Cl=bl((function(){return!0}),(function(e){var t,n=NaN,r=NaN,o=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(a,i){var s=a>0?vi:-vi,l=bi(a-n);bi(l-vi)<Mi?(e.point(n,r=(r+i)/2>0?Ti:-Ti),e.point(o,r),e.lineEnd(),e.lineStart(),e.point(s,r),e.point(a,r),t=0):o!==s&&l>=vi&&(bi(n-o)<Mi&&(n-=o*Mi),bi(a-s)<Mi&&(a-=s*Mi),r=function(e,t,n,r){var o,a,i=ki(e-n);return bi(i)>Mi?Li((ki(t)*(a=Ci(r))*ki(n)-ki(r)*(o=Ci(t))*ki(e))/(o*a*i)):(t+r)/2}(n,r,a,i),e.point(o,r),e.lineEnd(),e.lineStart(),e.point(s,r),t=0),e.point(n=a,r=i),o=s},lineEnd:function(){e.lineEnd(),n=r=NaN},clean:function(){return 2-t}}}),(function(e,t,n,r){var o;if(null==e)o=n*Ti,r.point(-vi,o),r.point(0,o),r.point(vi,o),r.point(vi,0),r.point(vi,-o),r.point(0,-o),r.point(-vi,-o),r.point(-vi,0),r.point(-vi,o);else if(bi(e[0]-t[0])>Mi){var a=e[0]<t[0]?vi:-vi;o=n*a/2,r.point(-a,o),r.point(0,o),r.point(a,o)}else r.point(t[0],t[1])}),[-vi,-Ti]);function Dl(e){var t=Ci(e),n=6*yi,r=t>0,o=bi(t)>Mi;function a(e,n){return Ci(e)*Ci(n)>t}function i(e,n,r){var o=[1,0,0],a=us(ss(e),ss(n)),i=ls(a,a),s=a[0],l=i-s*s;if(!l)return!r&&e;var u=t*i/l,c=-t*s/l,d=us(o,a),f=ds(o,u);cs(f,ds(a,c));var h=d,p=ls(f,h),O=ls(h,h),g=p*p-O*(ls(f,f)-1);if(!(g<0)){var m=Ai(g),M=ds(h,(-p-m)/O);if(cs(M,f),M=is(M),!r)return M;var K,v=e[0],T=n[0],w=e[1],S=n[1];T<v&&(K=v,v=T,T=K);var x=T-v,y=bi(x-vi)<Mi;if(!y&&S<w&&(K=w,w=S,S=K),y||x<Mi?y?w+S>0^M[1]<(bi(M[0]-v)<Mi?w:S):w<=M[1]&&M[1]<=S:x>vi^(v<=M[0]&&M[0]<=T)){var b=ds(h,(-p+m)/O);return cs(b,f),[M,is(b)]}}}function s(t,n){var o=r?e:vi-e,a=0;return t<-o?a|=1:t>o&&(a|=2),n<-o?a|=4:n>o&&(a|=8),a}return bl(a,(function(e){var t,n,l,u,c;return{lineStart:function(){u=l=!1,c=1},point:function(d,f){var h,p=[d,f],O=a(d,f),g=r?O?0:s(d,f):O?s(d+(d<0?vi:-vi),f):0;if(!t&&(u=l=O)&&e.lineStart(),O!==l&&(!(h=i(t,p))||Kl(t,h)||Kl(p,h))&&(p[0]+=Mi,p[1]+=Mi,O=a(p[0],p[1])),O!==l)c=0,O?(e.lineStart(),h=i(p,t),e.point(h[0],h[1])):(h=i(t,p),e.point(h[0],h[1]),e.lineEnd()),t=h;else if(o&&t&&r^O){var m;g&n||!(m=i(p,t,!0))||(c=0,r?(e.lineStart(),e.point(m[0][0],m[0][1]),e.point(m[1][0],m[1][1]),e.lineEnd()):(e.point(m[1][0],m[1][1]),e.lineEnd(),e.lineStart(),e.point(m[0][0],m[0][1])))}!O||t&&Kl(t,p)||e.point(p[0],p[1]),t=p,l=O,n=g},lineEnd:function(){l&&e.lineEnd(),t=null},clean:function(){return c|(u&&l)<<1}}}),(function(t,r,o,a){gl(a,e,n,o,t,r)}),r?[0,-e]:[-vi,e-vi])}var Bl=1e9,Il=-Bl;function _l(e,t,n,r){function o(o,a){return e<=o&&o<=n&&t<=a&&a<=r}function a(o,a,s,u){var c=0,d=0;if(null==o||(c=i(o,s))!==(d=i(a,s))||l(o,a)<0^s>0)do{u.point(0===c||3===c?e:n,c>1?r:t)}while((c=(c+s+4)%4)!==d);else u.point(a[0],a[1])}function i(r,o){return bi(r[0]-e)<Mi?o>0?0:3:bi(r[0]-n)<Mi?o>0?2:1:bi(r[1]-t)<Mi?o>0?1:0:o>0?3:2}function s(e,t){return l(e.x,t.x)}function l(e,t){var n=i(e,1),r=i(t,1);return n!==r?n-r:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(i){var l,u,c,d,f,h,p,O,g,m,M,K=i,v=Ml(),T={point:w,lineStart:function(){T.point=S,u&&u.push(c=[]),m=!0,g=!1,p=O=NaN},lineEnd:function(){l&&(S(d,f),h&&g&&v.rejoin(),l.push(v.result())),T.point=w,g&&K.lineEnd()},polygonStart:function(){K=v,l=[],u=[],M=!0},polygonEnd:function(){var t=function(){for(var t=0,n=0,o=u.length;n<o;++n)for(var a,i,s=u[n],l=1,c=s.length,d=s[0],f=d[0],h=d[1];l<c;++l)a=f,i=h,f=(d=s[l])[0],h=d[1],i<=r?h>r&&(f-a)*(r-i)>(h-i)*(e-a)&&++t:h<=r&&(f-a)*(r-i)<(h-i)*(e-a)&&--t;return t}(),n=M&&t,o=(l=b(l)).length;(n||o)&&(i.polygonStart(),n&&(i.lineStart(),a(null,null,1,i),i.lineEnd()),o&&Tl(l,s,t,a,i),i.polygonEnd()),K=i,l=u=c=null}};function w(e,t){o(e,t)&&K.point(e,t)}function S(a,i){var s=o(a,i);if(u&&c.push([a,i]),m)d=a,f=i,h=s,m=!1,s&&(K.lineStart(),K.point(a,i));else if(s&&g)K.point(a,i);else{var l=[p=Math.max(Il,Math.min(Bl,p)),O=Math.max(Il,Math.min(Bl,O))],v=[a=Math.max(Il,Math.min(Bl,a)),i=Math.max(Il,Math.min(Bl,i))];!function(e,t,n,r,o,a){var i,s=e[0],l=e[1],u=0,c=1,d=t[0]-s,f=t[1]-l;if(i=n-s,d||!(i>0)){if(i/=d,d<0){if(i<u)return;i<c&&(c=i)}else if(d>0){if(i>c)return;i>u&&(u=i)}if(i=o-s,d||!(i<0)){if(i/=d,d<0){if(i>c)return;i>u&&(u=i)}else if(d>0){if(i<u)return;i<c&&(c=i)}if(i=r-l,f||!(i>0)){if(i/=f,f<0){if(i<u)return;i<c&&(c=i)}else if(f>0){if(i>c)return;i>u&&(u=i)}if(i=a-l,f||!(i<0)){if(i/=f,f<0){if(i>c)return;i>u&&(u=i)}else if(f>0){if(i<u)return;i<c&&(c=i)}return u>0&&(e[0]=s+u*d,e[1]=l+u*f),c<1&&(t[0]=s+c*d,t[1]=l+c*f),!0}}}}}(l,v,e,t,n,r)?s&&(K.lineStart(),K.point(a,i),M=!1):(g||(K.lineStart(),K.point(l[0],l[1])),K.point(v[0],v[1]),s||K.lineEnd(),M=!1)}p=a,O=i,g=s}return T}}var kl,Fl,Al,Pl=pi(),El={sphere:Vi,point:Vi,lineStart:function(){El.point=Ul,El.lineEnd=Nl},lineEnd:Vi,polygonStart:Vi,polygonEnd:Vi};function Nl(){El.point=El.lineEnd=Vi}function Ul(e,t){kl=e*=yi,Fl=ki(t*=yi),Al=Ci(t),El.point=Vl}function Vl(e,t){e*=yi;var n=ki(t*=yi),r=Ci(t),o=bi(e-kl),a=Ci(o),i=r*ki(o),s=Al*n-Fl*r*a,l=Fl*n+Al*r*a;Pl.add(Ri(Ai(i*i+s*s),l)),kl=e,Fl=n,Al=r}function Hl(e){return Pl.reset(),Wi(e,El),+Pl}var jl=[null,null],Gl={type:"LineString",coordinates:jl};function $l(e,t){return jl[0]=e,jl[1]=t,Hl(Gl)}var zl={Feature:function(e,t){return ql(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,o=n.length;++r<o;)if(ql(n[r].geometry,t))return!0;return!1}},Wl={Sphere:function(){return!0},Point:function(e,t){return Jl(e.coordinates,t)},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,o=n.length;++r<o;)if(Jl(n[r],t))return!0;return!1},LineString:function(e,t){return Yl(e.coordinates,t)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,o=n.length;++r<o;)if(Yl(n[r],t))return!0;return!1},Polygon:function(e,t){return Ql(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,o=n.length;++r<o;)if(Ql(n[r],t))return!0;return!1},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,o=n.length;++r<o;)if(ql(n[r],t))return!0;return!1}};function ql(e,t){return!(!e||!Wl.hasOwnProperty(e.type))&&Wl[e.type](e,t)}function Jl(e,t){return 0===$l(e,t)}function Yl(e,t){for(var n,r,o,a=0,i=e.length;a<i;a++){if(0===(r=$l(e[a],t)))return!0;if(a>0&&(o=$l(e[a],e[a-1]))>0&&n<=o&&r<=o&&(n+r-o)*(1-Math.pow((n-r)/o,2))<Ki*o)return!0;n=r}return!1}function Ql(e,t){return!!yl(e.map(Xl),Zl(t))}function Xl(e){return(e=e.map(Zl)).pop(),e}function Zl(e){return[e[0]*yi,e[1]*yi]}function eu(e,t,n){var r=g(e,t-Mi,n).concat(t);return function(e){return r.map((function(t){return[e,t]}))}}function tu(e,t,n){var r=g(e,t-Mi,n).concat(t);return function(e){return r.map((function(t){return[t,e]}))}}function nu(){var e,t,n,r,o,a,i,s,l,u,c,d,f=10,h=f,p=90,O=360,m=2.5;function M(){return{type:"MultiLineString",coordinates:K()}}function K(){return g(Di(r/p)*p,n,p).map(c).concat(g(Di(s/O)*O,i,O).map(d)).concat(g(Di(t/f)*f,e,f).filter((function(e){return bi(e%p)>Mi})).map(l)).concat(g(Di(a/h)*h,o,h).filter((function(e){return bi(e%O)>Mi})).map(u))}return M.lines=function(){return K().map((function(e){return{type:"LineString",coordinates:e}}))},M.outline=function(){return{type:"Polygon",coordinates:[c(r).concat(d(i).slice(1),c(n).reverse().slice(1),d(s).reverse().slice(1))]}},M.extent=function(e){return arguments.length?M.extentMajor(e).extentMinor(e):M.extentMinor()},M.extentMajor=function(e){return arguments.length?(r=+e[0][0],n=+e[1][0],s=+e[0][1],i=+e[1][1],r>n&&(e=r,r=n,n=e),s>i&&(e=s,s=i,i=e),M.precision(m)):[[r,s],[n,i]]},M.extentMinor=function(n){return arguments.length?(t=+n[0][0],e=+n[1][0],a=+n[0][1],o=+n[1][1],t>e&&(n=t,t=e,e=n),a>o&&(n=a,a=o,o=n),M.precision(m)):[[t,a],[e,o]]},M.step=function(e){return arguments.length?M.stepMajor(e).stepMinor(e):M.stepMinor()},M.stepMajor=function(e){return arguments.length?(p=+e[0],O=+e[1],M):[p,O]},M.stepMinor=function(e){return arguments.length?(f=+e[0],h=+e[1],M):[f,h]},M.precision=function(f){return arguments.length?(m=+f,l=eu(a,o,90),u=tu(t,e,m),c=eu(s,i,90),d=tu(r,n,m),M):m},M.extentMajor([[-180,-90+Mi],[180,90-Mi]]).extentMinor([[-180,-80-Mi],[180,80+Mi]])}function ru(e){return e}var ou,au,iu,su,lu=pi(),uu=pi(),cu={point:Vi,lineStart:Vi,lineEnd:Vi,polygonStart:function(){cu.lineStart=du,cu.lineEnd=pu},polygonEnd:function(){cu.lineStart=cu.lineEnd=cu.point=Vi,lu.add(bi(uu)),uu.reset()},result:function(){var e=lu/2;return lu.reset(),e}};function du(){cu.point=fu}function fu(e,t){cu.point=hu,ou=iu=e,au=su=t}function hu(e,t){uu.add(su*e-iu*t),iu=e,su=t}function pu(){hu(ou,au)}var Ou,gu,mu,Mu,Ku=1/0,vu=Ku,Tu=-Ku,wu=Tu,Su={point:function(e,t){e<Ku&&(Ku=e),e>Tu&&(Tu=e),t<vu&&(vu=t),t>wu&&(wu=t)},lineStart:Vi,lineEnd:Vi,polygonStart:Vi,polygonEnd:Vi,result:function(){var e=[[Ku,vu],[Tu,wu]];return Tu=wu=-(vu=Ku=1/0),e}},xu=0,yu=0,bu=0,Lu=0,Ru=0,Cu=0,Du=0,Bu=0,Iu=0,_u={point:ku,lineStart:Fu,lineEnd:Eu,polygonStart:function(){_u.lineStart=Nu,_u.lineEnd=Uu},polygonEnd:function(){_u.point=ku,_u.lineStart=Fu,_u.lineEnd=Eu},result:function(){var e=Iu?[Du/Iu,Bu/Iu]:Cu?[Lu/Cu,Ru/Cu]:bu?[xu/bu,yu/bu]:[NaN,NaN];return xu=yu=bu=Lu=Ru=Cu=Du=Bu=Iu=0,e}};function ku(e,t){xu+=e,yu+=t,++bu}function Fu(){_u.point=Au}function Au(e,t){_u.point=Pu,ku(mu=e,Mu=t)}function Pu(e,t){var n=e-mu,r=t-Mu,o=Ai(n*n+r*r);Lu+=o*(mu+e)/2,Ru+=o*(Mu+t)/2,Cu+=o,ku(mu=e,Mu=t)}function Eu(){_u.point=ku}function Nu(){_u.point=Vu}function Uu(){Hu(Ou,gu)}function Vu(e,t){_u.point=Hu,ku(Ou=mu=e,gu=Mu=t)}function Hu(e,t){var n=e-mu,r=t-Mu,o=Ai(n*n+r*r);Lu+=o*(mu+e)/2,Ru+=o*(Mu+t)/2,Cu+=o,Du+=(o=Mu*e-mu*t)*(mu+e),Bu+=o*(Mu+t),Iu+=3*o,ku(mu=e,Mu=t)}function ju(e){this._context=e}ju.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._context.moveTo(e,t),this._point=1;break;case 1:this._context.lineTo(e,t);break;default:this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,Si)}},result:Vi};var Gu,$u,zu,Wu,qu,Ju=pi(),Yu={point:Vi,lineStart:function(){Yu.point=Qu},lineEnd:function(){Gu&&Xu($u,zu),Yu.point=Vi},polygonStart:function(){Gu=!0},polygonEnd:function(){Gu=null},result:function(){var e=+Ju;return Ju.reset(),e}};function Qu(e,t){Yu.point=Xu,$u=Wu=e,zu=qu=t}function Xu(e,t){Wu-=e,qu-=t,Ju.add(Ai(Wu*Wu+qu*qu)),Wu=e,qu=t}function Zu(){this._string=[]}function ec(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function tc(e){return function(t){var n=new nc;for(var r in e)n[r]=e[r];return n.stream=t,n}}function nc(){}function rc(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),null!=r&&e.clipExtent(null),Wi(n,e.stream(Su)),t(Su.result()),null!=r&&e.clipExtent(r),e}function oc(e,t,n){return rc(e,(function(n){var r=t[1][0]-t[0][0],o=t[1][1]-t[0][1],a=Math.min(r/(n[1][0]-n[0][0]),o/(n[1][1]-n[0][1])),i=+t[0][0]+(r-a*(n[1][0]+n[0][0]))/2,s=+t[0][1]+(o-a*(n[1][1]+n[0][1]))/2;e.scale(150*a).translate([i,s])}),n)}function ac(e,t,n){return oc(e,[[0,0],t],n)}function ic(e,t,n){return rc(e,(function(n){var r=+t,o=r/(n[1][0]-n[0][0]),a=(r-o*(n[1][0]+n[0][0]))/2,i=-o*n[0][1];e.scale(150*o).translate([a,i])}),n)}function sc(e,t,n){return rc(e,(function(n){var r=+t,o=r/(n[1][1]-n[0][1]),a=-o*n[0][0],i=(r-o*(n[1][1]+n[0][1]))/2;e.scale(150*o).translate([a,i])}),n)}Zu.prototype={_radius:4.5,_circle:ec(4.5),pointRadius:function(e){return(e=+e)!==this._radius&&(this._radius=e,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._string.push("M",e,",",t),this._point=1;break;case 1:this._string.push("L",e,",",t);break;default:null==this._circle&&(this._circle=ec(this._radius)),this._string.push("M",e,",",t,this._circle)}},result:function(){if(this._string.length){var e=this._string.join("");return this._string=[],e}return null}},nc.prototype={constructor:nc,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var lc=Ci(30*yi);function uc(e,t){return+t?function(e,t){function n(r,o,a,i,s,l,u,c,d,f,h,p,O,g){var m=u-r,M=c-o,K=m*m+M*M;if(K>4*t&&O--){var v=i+f,T=s+h,w=l+p,S=Ai(v*v+T*T+w*w),x=Ni(w/=S),y=bi(bi(w)-1)<Mi||bi(a-d)<Mi?(a+d)/2:Ri(T,v),b=e(y,x),L=b[0],R=b[1],C=L-r,D=R-o,B=M*C-m*D;(B*B/K>t||bi((m*C+M*D)/K-.5)>.3||i*f+s*h+l*p<lc)&&(n(r,o,a,i,s,l,L,R,y,v/=S,T/=S,w,O,g),g.point(L,R),n(L,R,y,v,T,w,u,c,d,f,h,p,O,g))}}return function(t){var r,o,a,i,s,l,u,c,d,f,h,p,O={point:g,lineStart:m,lineEnd:K,polygonStart:function(){t.polygonStart(),O.lineStart=v},polygonEnd:function(){t.polygonEnd(),O.lineStart=m}};function g(n,r){n=e(n,r),t.point(n[0],n[1])}function m(){c=NaN,O.point=M,t.lineStart()}function M(r,o){var a=ss([r,o]),i=e(r,o);n(c,d,u,f,h,p,c=i[0],d=i[1],u=r,f=a[0],h=a[1],p=a[2],16,t),t.point(c,d)}function K(){O.point=g,t.lineEnd()}function v(){m(),O.point=T,O.lineEnd=w}function T(e,t){M(r=e,t),o=c,a=d,i=f,s=h,l=p,O.point=M}function w(){n(c,d,u,f,h,p,o,a,r,i,s,l,16,t),O.lineEnd=K,K()}return O}}(e,t):function(e){return tc({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}(e)}var cc=tc({point:function(e,t){this.stream.point(e*yi,t*yi)}});function dc(e,t,n,r,o,a){var i=Ci(a),s=ki(a),l=i*e,u=s*e,c=i/e,d=s/e,f=(s*n-i*t)/e,h=(s*t+i*n)/e;function p(e,a){return[l*(e*=r)-u*(a*=o)+t,n-u*e-l*a]}return p.invert=function(e,t){return[r*(c*e-d*t+f),o*(h-d*e-c*t)]},p}function fc(e){return hc((function(){return e}))()}function hc(e){var t,n,r,o,a,i,s,l,u,c,d=150,f=480,h=250,p=0,O=0,g=0,m=0,M=0,K=0,v=1,T=1,w=null,S=Cl,x=null,y=ru,b=.5;function L(e){return l(e[0]*yi,e[1]*yi)}function R(e){return(e=l.invert(e[0],e[1]))&&[e[0]*xi,e[1]*xi]}function C(){var e=dc(d,0,0,v,T,K).apply(null,t(p,O)),r=(K?dc:function(e,t,n,r,o){function a(a,i){return[t+e*(a*=r),n-e*(i*=o)]}return a.invert=function(a,i){return[(a-t)/e*r,(n-i)/e*o]},a})(d,f-e[0],h-e[1],v,T,K);return n=dl(g,m,M),s=ul(t,r),l=ul(n,s),i=uc(s,b),D()}function D(){return u=c=null,L}return L.stream=function(e){return u&&c===e?u:u=cc(function(e){return tc({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}(n)(S(i(y(c=e)))))},L.preclip=function(e){return arguments.length?(S=e,w=void 0,D()):S},L.postclip=function(e){return arguments.length?(y=e,x=r=o=a=null,D()):y},L.clipAngle=function(e){return arguments.length?(S=+e?Dl(w=e*yi):(w=null,Cl),D()):w*xi},L.clipExtent=function(e){return arguments.length?(y=null==e?(x=r=o=a=null,ru):_l(x=+e[0][0],r=+e[0][1],o=+e[1][0],a=+e[1][1]),D()):null==x?null:[[x,r],[o,a]]},L.scale=function(e){return arguments.length?(d=+e,C()):d},L.translate=function(e){return arguments.length?(f=+e[0],h=+e[1],C()):[f,h]},L.center=function(e){return arguments.length?(p=e[0]%360*yi,O=e[1]%360*yi,C()):[p*xi,O*xi]},L.rotate=function(e){return arguments.length?(g=e[0]%360*yi,m=e[1]%360*yi,M=e.length>2?e[2]%360*yi:0,C()):[g*xi,m*xi,M*xi]},L.angle=function(e){return arguments.length?(K=e%360*yi,C()):K*xi},L.reflectX=function(e){return arguments.length?(v=e?-1:1,C()):v<0},L.reflectY=function(e){return arguments.length?(T=e?-1:1,C()):T<0},L.precision=function(e){return arguments.length?(i=uc(s,b=e*e),D()):Ai(b)},L.fitExtent=function(e,t){return oc(L,e,t)},L.fitSize=function(e,t){return ac(L,e,t)},L.fitWidth=function(e,t){return ic(L,e,t)},L.fitHeight=function(e,t){return sc(L,e,t)},function(){return t=e.apply(this,arguments),L.invert=t.invert&&R,C()}}function pc(e){var t=0,n=vi/3,r=hc(e),o=r(t,n);return o.parallels=function(e){return arguments.length?r(t=e[0]*yi,n=e[1]*yi):[t*xi,n*xi]},o}function Oc(e,t){var n=ki(e),r=(n+ki(t))/2;if(bi(r)<Mi)return function(e){var t=Ci(e);function n(e,n){return[e*t,ki(n)/t]}return n.invert=function(e,n){return[e/t,Ni(n*t)]},n}(e);var o=1+n*(2*r-n),a=Ai(o)/r;function i(e,t){var n=Ai(o-2*r*ki(t))/r;return[n*ki(e*=r),a-n*Ci(e)]}return i.invert=function(e,t){var n=a-t,i=Ri(e,bi(n))*Fi(n);return n*r<0&&(i-=vi*Fi(e)*Fi(n)),[i/r,Ni((o-(e*e+n*n)*r*r)/(2*r))]},i}function gc(){return pc(Oc).scale(155.424).center([0,33.6442])}function mc(){return gc().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Mc(e){return function(t,n){var r=Ci(t),o=Ci(n),a=e(r*o);return[a*o*ki(t),a*ki(n)]}}function Kc(e){return function(t,n){var r=Ai(t*t+n*n),o=e(r),a=ki(o),i=Ci(o);return[Ri(t*a,r*i),Ni(r&&n*a/r)]}}var vc=Mc((function(e){return Ai(2/(1+e))}));vc.invert=Kc((function(e){return 2*Ni(e/2)}));var Tc=Mc((function(e){return(e=Ei(e))&&e/ki(e)}));function wc(e,t){return[e,Ii(Pi((Ti+t)/2))]}function Sc(e){var t,n,r,o=fc(e),a=o.center,i=o.scale,s=o.translate,l=o.clipExtent,u=null;function c(){var a=vi*i(),s=o(Ol(o.rotate()).invert([0,0]));return l(null==u?[[s[0]-a,s[1]-a],[s[0]+a,s[1]+a]]:e===wc?[[Math.max(s[0]-a,u),t],[Math.min(s[0]+a,n),r]]:[[u,Math.max(s[1]-a,t)],[n,Math.min(s[1]+a,r)]])}return o.scale=function(e){return arguments.length?(i(e),c()):i()},o.translate=function(e){return arguments.length?(s(e),c()):s()},o.center=function(e){return arguments.length?(a(e),c()):a()},o.clipExtent=function(e){return arguments.length?(null==e?u=t=n=r=null:(u=+e[0][0],t=+e[0][1],n=+e[1][0],r=+e[1][1]),c()):null==u?null:[[u,t],[n,r]]},c()}function xc(e){return Pi((Ti+e)/2)}function yc(e,t){var n=Ci(e),r=e===t?ki(e):Ii(n/Ci(t))/Ii(xc(t)/xc(e)),o=n*_i(xc(e),r)/r;if(!r)return wc;function a(e,t){o>0?t<-Ti+Mi&&(t=-Ti+Mi):t>Ti-Mi&&(t=Ti-Mi);var n=o/_i(xc(t),r);return[n*ki(r*e),o-n*Ci(r*e)]}return a.invert=function(e,t){var n=o-t,a=Fi(r)*Ai(e*e+n*n),i=Ri(e,bi(n))*Fi(n);return n*r<0&&(i-=vi*Fi(e)*Fi(n)),[i/r,2*Li(_i(o/a,1/r))-Ti]},a}function bc(e,t){return[e,t]}function Lc(e,t){var n=Ci(e),r=e===t?ki(e):(n-Ci(t))/(t-e),o=n/r+e;if(bi(r)<Mi)return bc;function a(e,t){var n=o-t,a=r*e;return[n*ki(a),o-n*Ci(a)]}return a.invert=function(e,t){var n=o-t,a=Ri(e,bi(n))*Fi(n);return n*r<0&&(a-=vi*Fi(e)*Fi(n)),[a/r,o-Fi(r)*Ai(e*e+n*n)]},a}Tc.invert=Kc((function(e){return e})),wc.invert=function(e,t){return[e,2*Li(Bi(t))-Ti]},bc.invert=bc;var Rc=1.340264,Cc=-.081106,Dc=893e-6,Bc=.003796,Ic=Ai(3)/2;function _c(e,t){var n=Ni(Ic*ki(t)),r=n*n,o=r*r*r;return[e*Ci(n)/(Ic*(Rc+3*Cc*r+o*(7*Dc+9*Bc*r))),n*(Rc+Cc*r+o*(Dc+Bc*r))]}function kc(e,t){var n=Ci(t),r=Ci(e)*n;return[n*ki(e)/r,ki(t)/r]}function Fc(e,t){var n=t*t,r=n*n;return[e*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),t*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}function Ac(e,t){return[Ci(t)*ki(e),ki(t)]}function Pc(e,t){var n=Ci(t),r=1+Ci(e)*n;return[n*ki(e)/r,ki(t)/r]}function Ec(e,t){return[Ii(Pi((Ti+t)/2)),-e]}function Nc(e,t){return e.parent===t.parent?1:2}function Uc(e,t){return e+t.x}function Vc(e,t){return Math.max(e,t.y)}function Hc(e){var t=0,n=e.children,r=n&&n.length;if(r)for(;--r>=0;)t+=n[r].value;else t=1;e.value=t}function jc(e,t){var n,r,o,a,i,s=new Wc(e),l=+e.value&&(s.value=e.value),u=[s];for(null==t&&(t=Gc);n=u.pop();)if(l&&(n.value=+n.data.value),(o=t(n.data))&&(i=o.length))for(n.children=new Array(i),a=i-1;a>=0;--a)u.push(r=n.children[a]=new Wc(o[a])),r.parent=n,r.depth=n.depth+1;return s.eachBefore(zc)}function Gc(e){return e.children}function $c(e){e.data=e.data.data}function zc(e){var t=0;do{e.height=t}while((e=e.parent)&&e.height<++t)}function Wc(e){this.data=e,this.depth=this.height=0,this.parent=null}_c.invert=function(e,t){for(var n,r=t,o=r*r,a=o*o*o,i=0;i<12&&(a=(o=(r-=n=(r*(Rc+Cc*o+a*(Dc+Bc*o))-t)/(Rc+3*Cc*o+a*(7*Dc+9*Bc*o)))*r)*o*o,!(bi(n)<Ki));++i);return[Ic*e*(Rc+3*Cc*o+a*(7*Dc+9*Bc*o))/Ci(r),Ni(ki(r)/Ic)]},kc.invert=Kc(Li),Fc.invert=function(e,t){var n,r=t,o=25;do{var a=r*r,i=a*a;r-=n=(r*(1.007226+a*(.015085+i*(.028874*a-.044475-.005916*i)))-t)/(1.007226+a*(.045255+i*(.259866*a-.311325-.005916*11*i)))}while(bi(n)>Mi&&--o>0);return[e/(.8707+(a=r*r)*(a*(a*a*a*(.003971-.001529*a)-.013791)-.131979)),r]},Ac.invert=Kc(Ni),Pc.invert=Kc((function(e){return 2*Li(e)})),Ec.invert=function(e,t){return[-t,2*Li(Bi(e))-Ti]},Wc.prototype=jc.prototype={constructor:Wc,count:function(){return this.eachAfter(Hc)},each:function(e){var t,n,r,o,a=this,i=[a];do{for(t=i.reverse(),i=[];a=t.pop();)if(e(a),n=a.children)for(r=0,o=n.length;r<o;++r)i.push(n[r])}while(i.length);return this},eachAfter:function(e){for(var t,n,r,o=this,a=[o],i=[];o=a.pop();)if(i.push(o),t=o.children)for(n=0,r=t.length;n<r;++n)a.push(t[n]);for(;o=i.pop();)e(o);return this},eachBefore:function(e){for(var t,n,r=this,o=[r];r=o.pop();)if(e(r),t=r.children)for(n=t.length-1;n>=0;--n)o.push(t[n]);return this},sum:function(e){return this.eachAfter((function(t){for(var n=+e(t.data)||0,r=t.children,o=r&&r.length;--o>=0;)n+=r[o].value;t.value=n}))},sort:function(e){return this.eachBefore((function(t){t.children&&t.children.sort(e)}))},path:function(e){for(var t=this,n=function(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),o=null;for(e=n.pop(),t=r.pop();e===t;)o=e,e=n.pop(),t=r.pop();return o}(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var o=r.length;e!==n;)r.splice(o,0,e),e=e.parent;return r},ancestors:function(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t},descendants:function(){var e=[];return this.each((function(t){e.push(t)})),e},leaves:function(){var e=[];return this.eachBefore((function(t){t.children||e.push(t)})),e},links:function(){var e=this,t=[];return e.each((function(n){n!==e&&t.push({source:n.parent,target:n})})),t},copy:function(){return jc(this).eachBefore($c)}};var qc=Array.prototype.slice;function Jc(e){for(var t,n,r=0,o=(e=function(e){for(var t,n,r=e.length;r;)n=Math.random()*r--|0,t=e[r],e[r]=e[n],e[n]=t;return e}(qc.call(e))).length,a=[];r<o;)t=e[r],n&&Xc(n,t)?++r:(n=ed(a=Yc(a,t)),r=0);return n}function Yc(e,t){var n,r;if(Zc(t,e))return[t];for(n=0;n<e.length;++n)if(Qc(t,e[n])&&Zc(td(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(r=n+1;r<e.length;++r)if(Qc(td(e[n],e[r]),t)&&Qc(td(e[n],t),e[r])&&Qc(td(e[r],t),e[n])&&Zc(nd(e[n],e[r],t),e))return[e[n],e[r],t];throw new Error}function Qc(e,t){var n=e.r-t.r,r=t.x-e.x,o=t.y-e.y;return n<0||n*n<r*r+o*o}function Xc(e,t){var n=e.r-t.r+1e-6,r=t.x-e.x,o=t.y-e.y;return n>0&&n*n>r*r+o*o}function Zc(e,t){for(var n=0;n<t.length;++n)if(!Xc(e,t[n]))return!1;return!0}function ed(e){switch(e.length){case 1:return function(e){return{x:e.x,y:e.y,r:e.r}}(e[0]);case 2:return td(e[0],e[1]);case 3:return nd(e[0],e[1],e[2])}}function td(e,t){var n=e.x,r=e.y,o=e.r,a=t.x,i=t.y,s=t.r,l=a-n,u=i-r,c=s-o,d=Math.sqrt(l*l+u*u);return{x:(n+a+l/d*c)/2,y:(r+i+u/d*c)/2,r:(d+o+s)/2}}function nd(e,t,n){var r=e.x,o=e.y,a=e.r,i=t.x,s=t.y,l=t.r,u=n.x,c=n.y,d=n.r,f=r-i,h=r-u,p=o-s,O=o-c,g=l-a,m=d-a,M=r*r+o*o-a*a,K=M-i*i-s*s+l*l,v=M-u*u-c*c+d*d,T=h*p-f*O,w=(p*v-O*K)/(2*T)-r,S=(O*g-p*m)/T,x=(h*K-f*v)/(2*T)-o,y=(f*m-h*g)/T,b=S*S+y*y-1,L=2*(a+w*S+x*y),R=w*w+x*x-a*a,C=-(b?(L+Math.sqrt(L*L-4*b*R))/(2*b):R/L);return{x:r+w+S*C,y:o+x+y*C,r:C}}function rd(e,t,n){var r,o,a,i,s=e.x-t.x,l=e.y-t.y,u=s*s+l*l;u?(o=t.r+n.r,o*=o,i=e.r+n.r,o>(i*=i)?(r=(u+i-o)/(2*u),a=Math.sqrt(Math.max(0,i/u-r*r)),n.x=e.x-r*s-a*l,n.y=e.y-r*l+a*s):(r=(u+o-i)/(2*u),a=Math.sqrt(Math.max(0,o/u-r*r)),n.x=t.x+r*s-a*l,n.y=t.y+r*l+a*s)):(n.x=t.x+n.r,n.y=t.y)}function od(e,t){var n=e.r+t.r-1e-6,r=t.x-e.x,o=t.y-e.y;return n>0&&n*n>r*r+o*o}function ad(e){var t=e._,n=e.next._,r=t.r+n.r,o=(t.x*n.r+n.x*t.r)/r,a=(t.y*n.r+n.y*t.r)/r;return o*o+a*a}function id(e){this._=e,this.next=null,this.previous=null}function sd(e){if(!(o=e.length))return 0;var t,n,r,o,a,i,s,l,u,c,d;if((t=e[0]).x=0,t.y=0,!(o>1))return t.r;if(n=e[1],t.x=-n.r,n.x=t.r,n.y=0,!(o>2))return t.r+n.r;rd(n,t,r=e[2]),t=new id(t),n=new id(n),r=new id(r),t.next=r.previous=n,n.next=t.previous=r,r.next=n.previous=t;e:for(s=3;s<o;++s){rd(t._,n._,r=e[s]),r=new id(r),l=n.next,u=t.previous,c=n._.r,d=t._.r;do{if(c<=d){if(od(l._,r._)){n=l,t.next=n,n.previous=t,--s;continue e}c+=l._.r,l=l.next}else{if(od(u._,r._)){(t=u).next=n,n.previous=t,--s;continue e}d+=u._.r,u=u.previous}}while(l!==u.next);for(r.previous=t,r.next=n,t.next=n.previous=n=r,a=ad(t);(r=r.next)!==n;)(i=ad(r))<a&&(t=r,a=i);n=t.next}for(t=[n._],r=n;(r=r.next)!==n;)t.push(r._);for(r=Jc(t),s=0;s<o;++s)(t=e[s]).x-=r.x,t.y-=r.y;return r.r}function ld(e){return null==e?null:ud(e)}function ud(e){if("function"!=typeof e)throw new Error;return e}function cd(){return 0}function dd(e){return function(){return e}}function fd(e){return Math.sqrt(e.value)}function hd(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function pd(e,t){return function(n){if(r=n.children){var r,o,a,i=r.length,s=e(n)*t||0;if(s)for(o=0;o<i;++o)r[o].r+=s;if(a=sd(r),s)for(o=0;o<i;++o)r[o].r-=s;n.r=a+s}}}function Od(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}function gd(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function md(e,t,n,r,o){for(var a,i=e.children,s=-1,l=i.length,u=e.value&&(r-t)/e.value;++s<l;)(a=i[s]).y0=n,a.y1=o,a.x0=t,a.x1=t+=a.value*u}var Md={depth:-1},Kd={};function vd(e){return e.id}function Td(e){return e.parentId}function wd(e,t){return e.parent===t.parent?1:2}function Sd(e){var t=e.children;return t?t[0]:e.t}function xd(e){var t=e.children;return t?t[t.length-1]:e.t}function yd(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function bd(e,t,n){return e.a.parent===t.parent?e.a:n}function Ld(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}function Rd(e,t,n,r,o){for(var a,i=e.children,s=-1,l=i.length,u=e.value&&(o-n)/e.value;++s<l;)(a=i[s]).x0=t,a.x1=r,a.y0=n,a.y1=n+=a.value*u}Ld.prototype=Object.create(Wc.prototype);var Cd=(1+Math.sqrt(5))/2;function Dd(e,t,n,r,o,a){for(var i,s,l,u,c,d,f,h,p,O,g,m=[],M=t.children,K=0,v=0,T=M.length,w=t.value;K<T;){l=o-n,u=a-r;do{c=M[v++].value}while(!c&&v<T);for(d=f=c,g=c*c*(O=Math.max(u/l,l/u)/(w*e)),p=Math.max(f/g,g/d);v<T;++v){if(c+=s=M[v].value,s<d&&(d=s),s>f&&(f=s),g=c*c*O,(h=Math.max(f/g,g/d))>p){c-=s;break}p=h}m.push(i={value:c,dice:l<u,children:M.slice(K,v)}),i.dice?md(i,n,r,o,w?r+=u*c/w:a):Rd(i,n,r,w?n+=l*c/w:o,a),w-=c,K=v}return m}var Bd=function e(t){function n(e,n,r,o,a){Dd(t,e,n,r,o,a)}return n.ratio=function(t){return e((t=+t)>1?t:1)},n}(Cd),Id=function e(t){function n(e,n,r,o,a){if((i=e._squarify)&&i.ratio===t)for(var i,s,l,u,c,d=-1,f=i.length,h=e.value;++d<f;){for(l=(s=i[d]).children,u=s.value=0,c=l.length;u<c;++u)s.value+=l[u].value;s.dice?md(s,n,r,o,r+=(a-r)*s.value/h):Rd(s,n,r,n+=(o-n)*s.value/h,a),h-=s.value}else e._squarify=i=Dd(t,e,n,r,o,a),i.ratio=t}return n.ratio=function(t){return e((t=+t)>1?t:1)},n}(Cd);function _d(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])}function kd(e,t){return e[0]-t[0]||e[1]-t[1]}function Fd(e){for(var t=e.length,n=[0,1],r=2,o=2;o<t;++o){for(;r>1&&_d(e[n[r-2]],e[n[r-1]],e[o])<=0;)--r;n[r++]=o}return n.slice(0,r)}function Ad(){return Math.random()}var Pd=function e(t){function n(e,n){return e=null==e?0:+e,n=null==n?1:+n,1===arguments.length?(n=e,e=0):n-=e,function(){return t()*n+e}}return n.source=e,n}(Ad),Ed=function e(t){function n(e,n){var r,o;return e=null==e?0:+e,n=null==n?1:+n,function(){var a;if(null!=r)a=r,r=null;else do{r=2*t()-1,a=2*t()-1,o=r*r+a*a}while(!o||o>1);return e+n*a*Math.sqrt(-2*Math.log(o)/o)}}return n.source=e,n}(Ad),Nd=function e(t){function n(){var e=Ed.source(t).apply(this,arguments);return function(){return Math.exp(e())}}return n.source=e,n}(Ad),Ud=function e(t){function n(e){return function(){for(var n=0,r=0;r<e;++r)n+=t();return n}}return n.source=e,n}(Ad),Vd=function e(t){function n(e){var n=Ud.source(t)(e);return function(){return n()/e}}return n.source=e,n}(Ad),Hd=function e(t){function n(e){return function(){return-Math.log(1-t())/e}}return n.source=e,n}(Ad);function jd(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function Gd(e,t){switch(arguments.length){case 0:break;case 1:this.interpolator(e);break;default:this.interpolator(t).domain(e)}return this}var $d=Array.prototype,zd=$d.map,Wd=$d.slice,qd={name:"implicit"};function Jd(){var e=Bo(),t=[],n=[],r=qd;function o(o){var a=o+"",i=e.get(a);if(!i){if(r!==qd)return r;e.set(a,i=t.push(o))}return n[(i-1)%n.length]}return o.domain=function(n){if(!arguments.length)return t.slice();t=[],e=Bo();for(var r,a,i=-1,s=n.length;++i<s;)e.has(a=(r=n[i])+"")||e.set(a,t.push(r));return o},o.range=function(e){return arguments.length?(n=Wd.call(e),o):n.slice()},o.unknown=function(e){return arguments.length?(r=e,o):r},o.copy=function(){return Jd(t,n).unknown(r)},jd.apply(o,arguments),o}function Yd(){var e,t,n=Jd().unknown(void 0),r=n.domain,o=n.range,a=[0,1],i=!1,s=0,l=0,u=.5;function c(){var n=r().length,c=a[1]<a[0],d=a[c-0],f=a[1-c];e=(f-d)/Math.max(1,n-s+2*l),i&&(e=Math.floor(e)),d+=(f-d-e*(n-s))*u,t=e*(1-s),i&&(d=Math.round(d),t=Math.round(t));var h=g(n).map((function(t){return d+e*t}));return o(c?h.reverse():h)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),c()):r()},n.range=function(e){return arguments.length?(a=[+e[0],+e[1]],c()):a.slice()},n.rangeRound=function(e){return a=[+e[0],+e[1]],i=!0,c()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(i=!!e,c()):i},n.padding=function(e){return arguments.length?(s=Math.min(1,l=+e),c()):s},n.paddingInner=function(e){return arguments.length?(s=Math.min(1,e),c()):s},n.paddingOuter=function(e){return arguments.length?(l=+e,c()):l},n.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),c()):u},n.copy=function(){return Yd(r(),a).round(i).paddingInner(s).paddingOuter(l).align(u)},jd.apply(c(),arguments)}function Qd(e){return+e}var Xd=[0,1];function Zd(e){return e}function ef(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:function(e){return function(){return e}}(isNaN(t)?NaN:.5)}function tf(e){var t,n=e[0],r=e[e.length-1];return n>r&&(t=n,n=r,r=t),function(e){return Math.max(n,Math.min(r,e))}}function nf(e,t,n){var r=e[0],o=e[1],a=t[0],i=t[1];return o<r?(r=ef(o,r),a=n(i,a)):(r=ef(r,o),a=n(a,i)),function(e){return a(r(e))}}function rf(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),i=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)a[s]=ef(e[s],e[s+1]),i[s]=n(t[s],t[s+1]);return function(t){var n=o(e,t,1,r)-1;return i[n](a[n](t))}}function of(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function af(){var e,t,n,r,o,a,i=Xd,s=Xd,l=hn,u=Zd;function c(){return r=Math.min(i.length,s.length)>2?rf:nf,o=a=null,d}function d(t){return isNaN(t=+t)?n:(o||(o=r(i.map(e),s,l)))(e(u(t)))}return d.invert=function(n){return u(t((a||(a=r(s,i.map(e),ln)))(n)))},d.domain=function(e){return arguments.length?(i=zd.call(e,Qd),u===Zd||(u=tf(i)),c()):i.slice()},d.range=function(e){return arguments.length?(s=Wd.call(e),c()):s.slice()},d.rangeRound=function(e){return s=Wd.call(e),l=pn,c()},d.clamp=function(e){return arguments.length?(u=e?tf(i):Zd,d):u!==Zd},d.interpolate=function(e){return arguments.length?(l=e,c()):l},d.unknown=function(e){return arguments.length?(n=e,d):n},function(n,r){return e=n,t=r,c()}}function sf(e,t){return af()(e,t)}function lf(t,n,r,o){var a,i=w(t,n,r);switch((o=ti(null==o?",f":o)).type){case"s":var s=Math.max(Math.abs(t),Math.abs(n));return null!=o.precision||isNaN(a=fi(i,s))||(o.precision=a),e.formatPrefix(o,s);case"":case"e":case"g":case"p":case"r":null!=o.precision||isNaN(a=hi(i,Math.max(Math.abs(t),Math.abs(n))))||(o.precision=a-("e"===o.type));break;case"f":case"%":null!=o.precision||isNaN(a=di(i))||(o.precision=a-2*("%"===o.type))}return e.format(o)}function uf(e){var t=e.domain;return e.ticks=function(e){var n=t();return v(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return lf(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,o=t(),a=0,i=o.length-1,s=o[a],l=o[i];return l<s&&(r=s,s=l,l=r,r=a,a=i,i=r),(r=T(s,l,n))>0?r=T(s=Math.floor(s/r)*r,l=Math.ceil(l/r)*r,n):r<0&&(r=T(s=Math.ceil(s*r)/r,l=Math.floor(l*r)/r,n)),r>0?(o[a]=Math.floor(s/r)*r,o[i]=Math.ceil(l/r)*r,t(o)):r<0&&(o[a]=Math.ceil(s*r)/r,o[i]=Math.floor(l*r)/r,t(o)),e},e}function cf(e,t){var n,r=0,o=(e=e.slice()).length-1,a=e[r],i=e[o];return i<a&&(n=r,r=o,o=n,n=a,a=i,i=n),e[r]=t.floor(a),e[o]=t.ceil(i),e}function df(e){return Math.log(e)}function ff(e){return Math.exp(e)}function hf(e){return-Math.log(-e)}function pf(e){return-Math.exp(-e)}function Of(e){return isFinite(e)?+("1e"+e):e<0?0:e}function gf(e){return function(t){return-e(-t)}}function mf(t){var n,r,o=t(df,ff),a=o.domain,i=10;function s(){return n=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}(i),r=function(e){return 10===e?Of:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}(i),a()[0]<0?(n=gf(n),r=gf(r),t(hf,pf)):t(df,ff),o}return o.base=function(e){return arguments.length?(i=+e,s()):i},o.domain=function(e){return arguments.length?(a(e),s()):a()},o.ticks=function(e){var t,o=a(),s=o[0],l=o[o.length-1];(t=l<s)&&(f=s,s=l,l=f);var u,c,d,f=n(s),h=n(l),p=null==e?10:+e,O=[];if(!(i%1)&&h-f<p){if(f=Math.round(f)-1,h=Math.round(h)+1,s>0){for(;f<h;++f)for(c=1,u=r(f);c<i;++c)if(!((d=u*c)<s)){if(d>l)break;O.push(d)}}else for(;f<h;++f)for(c=i-1,u=r(f);c>=1;--c)if(!((d=u*c)<s)){if(d>l)break;O.push(d)}}else O=v(f,h,Math.min(h-f,p)).map(r);return t?O.reverse():O},o.tickFormat=function(t,a){if(null==a&&(a=10===i?".0e":","),"function"!=typeof a&&(a=e.format(a)),t===1/0)return a;null==t&&(t=10);var s=Math.max(1,i*t/o.ticks().length);return function(e){var t=e/r(Math.round(n(e)));return t*i<i-.5&&(t*=i),t<=s?a(e):""}},o.nice=function(){return a(cf(a(),{floor:function(e){return r(Math.floor(n(e)))},ceil:function(e){return r(Math.ceil(n(e)))}}))},o}function Mf(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Kf(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function vf(e){var t=1,n=e(Mf(t),Kf(t));return n.constant=function(n){return arguments.length?e(Mf(t=+n),Kf(t)):t},uf(n)}function Tf(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function wf(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Sf(e){return e<0?-e*e:e*e}function xf(e){var t=e(Zd,Zd),n=1;function r(){return 1===n?e(Zd,Zd):.5===n?e(wf,Sf):e(Tf(n),Tf(1/n))}return t.exponent=function(e){return arguments.length?(n=+e,r()):n},uf(t)}function yf(){var e=xf(af());return e.copy=function(){return of(e,yf()).exponent(e.exponent())},jd.apply(e,arguments),e}var bf=new Date,Lf=new Date;function Rf(e,t,n,r){function o(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return o.floor=function(t){return e(t=new Date(+t)),t},o.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},o.round=function(e){var t=o(e),n=o.ceil(e);return e-t<n-e?t:n},o.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},o.range=function(n,r,a){var i,s=[];if(n=o.ceil(n),a=null==a?1:Math.floor(a),!(n<r&&a>0))return s;do{s.push(i=new Date(+n)),t(n,a),e(n)}while(i<n&&n<r);return s},o.filter=function(n){return Rf((function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),(function(e,r){if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}))},n&&(o.count=function(t,r){return bf.setTime(+t),Lf.setTime(+r),e(bf),e(Lf),Math.floor(n(bf,Lf))},o.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?o.filter(r?function(t){return r(t)%e==0}:function(t){return o.count(0,t)%e==0}):o:null}),o}var Cf=Rf((function(){}),(function(e,t){e.setTime(+e+t)}),(function(e,t){return t-e}));Cf.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?Rf((function(t){t.setTime(Math.floor(t/e)*e)}),(function(t,n){t.setTime(+t+n*e)}),(function(t,n){return(n-t)/e})):Cf:null};var Df=Cf.range,Bf=6e4,If=6048e5,_f=Rf((function(e){e.setTime(e-e.getMilliseconds())}),(function(e,t){e.setTime(+e+1e3*t)}),(function(e,t){return(t-e)/1e3}),(function(e){return e.getUTCSeconds()})),kf=_f.range,Ff=Rf((function(e){e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds())}),(function(e,t){e.setTime(+e+t*Bf)}),(function(e,t){return(t-e)/Bf}),(function(e){return e.getMinutes()})),Af=Ff.range,Pf=Rf((function(e){e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds()-e.getMinutes()*Bf)}),(function(e,t){e.setTime(+e+36e5*t)}),(function(e,t){return(t-e)/36e5}),(function(e){return e.getHours()})),Ef=Pf.range,Nf=Rf((function(e){e.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Bf)/864e5}),(function(e){return e.getDate()-1})),Uf=Nf.range;function Vf(e){return Rf((function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+7*t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Bf)/If}))}var Hf=Vf(0),jf=Vf(1),Gf=Vf(2),$f=Vf(3),zf=Vf(4),Wf=Vf(5),qf=Vf(6),Jf=Hf.range,Yf=jf.range,Qf=Gf.range,Xf=$f.range,Zf=zf.range,eh=Wf.range,th=qf.range,nh=Rf((function(e){e.setDate(1),e.setHours(0,0,0,0)}),(function(e,t){e.setMonth(e.getMonth()+t)}),(function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())}),(function(e){return e.getMonth()})),rh=nh.range,oh=Rf((function(e){e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e,t){return t.getFullYear()-e.getFullYear()}),(function(e){return e.getFullYear()}));oh.every=function(e){return isFinite(e=Math.floor(e))&&e>0?Rf((function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n*e)})):null};var ah=oh.range,ih=Rf((function(e){e.setUTCSeconds(0,0)}),(function(e,t){e.setTime(+e+t*Bf)}),(function(e,t){return(t-e)/Bf}),(function(e){return e.getUTCMinutes()})),sh=ih.range,lh=Rf((function(e){e.setUTCMinutes(0,0,0)}),(function(e,t){e.setTime(+e+36e5*t)}),(function(e,t){return(t-e)/36e5}),(function(e){return e.getUTCHours()})),uh=lh.range,ch=Rf((function(e){e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+t)}),(function(e,t){return(t-e)/864e5}),(function(e){return e.getUTCDate()-1})),dh=ch.range;function fh(e){return Rf((function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+7*t)}),(function(e,t){return(t-e)/If}))}var hh=fh(0),ph=fh(1),Oh=fh(2),gh=fh(3),mh=fh(4),Mh=fh(5),Kh=fh(6),vh=hh.range,Th=ph.range,wh=Oh.range,Sh=gh.range,xh=mh.range,yh=Mh.range,bh=Kh.range,Lh=Rf((function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCMonth(e.getUTCMonth()+t)}),(function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())}),(function(e){return e.getUTCMonth()})),Rh=Lh.range,Ch=Rf((function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)}),(function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}),(function(e){return e.getUTCFullYear()}));Ch.every=function(e){return isFinite(e=Math.floor(e))&&e>0?Rf((function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null};var Dh=Ch.range;function Bh(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Ih(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function _h(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function kh(e){var t=e.dateTime,n=e.date,r=e.time,o=e.periods,a=e.days,i=e.shortDays,s=e.months,l=e.shortMonths,u=Hh(o),c=jh(o),d=Hh(a),f=jh(a),h=Hh(i),p=jh(i),O=Hh(s),g=jh(s),m=Hh(l),M=jh(l),K={a:function(e){return i[e.getDay()]},A:function(e){return a[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:cp,e:cp,f:Op,H:dp,I:fp,j:hp,L:pp,m:gp,M:mp,p:function(e){return o[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:$p,s:zp,S:Mp,u:Kp,U:vp,V:Tp,w:wp,W:Sp,x:null,X:null,y:xp,Y:yp,Z:bp,"%":Gp},v={a:function(e){return i[e.getUTCDay()]},A:function(e){return a[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:Lp,e:Lp,f:Ip,H:Rp,I:Cp,j:Dp,L:Bp,m:_p,M:kp,p:function(e){return o[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:$p,s:zp,S:Fp,u:Ap,U:Pp,V:Ep,w:Np,W:Up,x:null,X:null,y:Vp,Y:Hp,Z:jp,"%":Gp},T={a:function(e,t,n){var r=h.exec(t.slice(n));return r?(e.w=p[r[0].toLowerCase()],n+r[0].length):-1},A:function(e,t,n){var r=d.exec(t.slice(n));return r?(e.w=f[r[0].toLowerCase()],n+r[0].length):-1},b:function(e,t,n){var r=m.exec(t.slice(n));return r?(e.m=M[r[0].toLowerCase()],n+r[0].length):-1},B:function(e,t,n){var r=O.exec(t.slice(n));return r?(e.m=g[r[0].toLowerCase()],n+r[0].length):-1},c:function(e,n,r){return x(e,t,n,r)},d:ep,e:ep,f:ip,H:np,I:np,j:tp,L:ap,m:Zh,M:rp,p:function(e,t,n){var r=u.exec(t.slice(n));return r?(e.p=c[r[0].toLowerCase()],n+r[0].length):-1},q:Xh,Q:lp,s:up,S:op,u:$h,U:zh,V:Wh,w:Gh,W:qh,x:function(e,t,r){return x(e,n,t,r)},X:function(e,t,n){return x(e,r,t,n)},y:Yh,Y:Jh,Z:Qh,"%":sp};function w(e,t){return function(n){var r,o,a,i=[],s=-1,l=0,u=e.length;for(n instanceof Date||(n=new Date(+n));++s<u;)37===e.charCodeAt(s)&&(i.push(e.slice(l,s)),null!=(o=Ah[r=e.charAt(++s)])?r=e.charAt(++s):o="e"===r?" ":"0",(a=t[r])&&(r=a(n,o)),i.push(r),l=s+1);return i.push(e.slice(l,s)),i.join("")}}function S(e,t){return function(n){var r,o,a=_h(1900,void 0,1);if(x(a,e,n+="",0)!=n.length)return null;if("Q"in a)return new Date(a.Q);if("s"in a)return new Date(1e3*a.s+("L"in a?a.L:0));if(!t||"Z"in a||(a.Z=0),"p"in a&&(a.H=a.H%12+12*a.p),void 0===a.m&&(a.m="q"in a?a.q:0),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(o=(r=Ih(_h(a.y,0,1))).getUTCDay(),r=o>4||0===o?ph.ceil(r):ph(r),r=ch.offset(r,7*(a.V-1)),a.y=r.getUTCFullYear(),a.m=r.getUTCMonth(),a.d=r.getUTCDate()+(a.w+6)%7):(o=(r=Bh(_h(a.y,0,1))).getDay(),r=o>4||0===o?jf.ceil(r):jf(r),r=Nf.offset(r,7*(a.V-1)),a.y=r.getFullYear(),a.m=r.getMonth(),a.d=r.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),o="Z"in a?Ih(_h(a.y,0,1)).getUTCDay():Bh(_h(a.y,0,1)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(o+5)%7:a.w+7*a.U-(o+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,Ih(a)):Bh(a)}}function x(e,t,n,r){for(var o,a,i=0,s=t.length,l=n.length;i<s;){if(r>=l)return-1;if(37===(o=t.charCodeAt(i++))){if(o=t.charAt(i++),!(a=T[o in Ah?t.charAt(i++):o])||(r=a(e,n,r))<0)return-1}else if(o!=n.charCodeAt(r++))return-1}return r}return K.x=w(n,K),K.X=w(r,K),K.c=w(t,K),v.x=w(n,v),v.X=w(r,v),v.c=w(t,v),{format:function(e){var t=w(e+="",K);return t.toString=function(){return e},t},parse:function(e){var t=S(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=w(e+="",v);return t.toString=function(){return e},t},utcParse:function(e){var t=S(e+="",!0);return t.toString=function(){return e},t}}}var Fh,Ah={"-":"",_:" ",0:"0"},Ph=/^\s*\d+/,Eh=/^%/,Nh=/[\\^$*+?|[\]().{}]/g;function Uh(e,t,n){var r=e<0?"-":"",o=(r?-e:e)+"",a=o.length;return r+(a<n?new Array(n-a+1).join(t)+o:o)}function Vh(e){return e.replace(Nh,"\\$&")}function Hh(e){return new RegExp("^(?:"+e.map(Vh).join("|")+")","i")}function jh(e){for(var t={},n=-1,r=e.length;++n<r;)t[e[n].toLowerCase()]=n;return t}function Gh(e,t,n){var r=Ph.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function $h(e,t,n){var r=Ph.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function zh(e,t,n){var r=Ph.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Wh(e,t,n){var r=Ph.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function qh(e,t,n){var r=Ph.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Jh(e,t,n){var r=Ph.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Yh(e,t,n){var r=Ph.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Qh(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Xh(e,t,n){var r=Ph.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function Zh(e,t,n){var r=Ph.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function ep(e,t,n){var r=Ph.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function tp(e,t,n){var r=Ph.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function np(e,t,n){var r=Ph.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function rp(e,t,n){var r=Ph.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function op(e,t,n){var r=Ph.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function ap(e,t,n){var r=Ph.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function ip(e,t,n){var r=Ph.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function sp(e,t,n){var r=Eh.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function lp(e,t,n){var r=Ph.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function up(e,t,n){var r=Ph.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function cp(e,t){return Uh(e.getDate(),t,2)}function dp(e,t){return Uh(e.getHours(),t,2)}function fp(e,t){return Uh(e.getHours()%12||12,t,2)}function hp(e,t){return Uh(1+Nf.count(oh(e),e),t,3)}function pp(e,t){return Uh(e.getMilliseconds(),t,3)}function Op(e,t){return pp(e,t)+"000"}function gp(e,t){return Uh(e.getMonth()+1,t,2)}function mp(e,t){return Uh(e.getMinutes(),t,2)}function Mp(e,t){return Uh(e.getSeconds(),t,2)}function Kp(e){var t=e.getDay();return 0===t?7:t}function vp(e,t){return Uh(Hf.count(oh(e)-1,e),t,2)}function Tp(e,t){var n=e.getDay();return e=n>=4||0===n?zf(e):zf.ceil(e),Uh(zf.count(oh(e),e)+(4===oh(e).getDay()),t,2)}function wp(e){return e.getDay()}function Sp(e,t){return Uh(jf.count(oh(e)-1,e),t,2)}function xp(e,t){return Uh(e.getFullYear()%100,t,2)}function yp(e,t){return Uh(e.getFullYear()%1e4,t,4)}function bp(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Uh(t/60|0,"0",2)+Uh(t%60,"0",2)}function Lp(e,t){return Uh(e.getUTCDate(),t,2)}function Rp(e,t){return Uh(e.getUTCHours(),t,2)}function Cp(e,t){return Uh(e.getUTCHours()%12||12,t,2)}function Dp(e,t){return Uh(1+ch.count(Ch(e),e),t,3)}function Bp(e,t){return Uh(e.getUTCMilliseconds(),t,3)}function Ip(e,t){return Bp(e,t)+"000"}function _p(e,t){return Uh(e.getUTCMonth()+1,t,2)}function kp(e,t){return Uh(e.getUTCMinutes(),t,2)}function Fp(e,t){return Uh(e.getUTCSeconds(),t,2)}function Ap(e){var t=e.getUTCDay();return 0===t?7:t}function Pp(e,t){return Uh(hh.count(Ch(e)-1,e),t,2)}function Ep(e,t){var n=e.getUTCDay();return e=n>=4||0===n?mh(e):mh.ceil(e),Uh(mh.count(Ch(e),e)+(4===Ch(e).getUTCDay()),t,2)}function Np(e){return e.getUTCDay()}function Up(e,t){return Uh(ph.count(Ch(e)-1,e),t,2)}function Vp(e,t){return Uh(e.getUTCFullYear()%100,t,2)}function Hp(e,t){return Uh(e.getUTCFullYear()%1e4,t,4)}function jp(){return"+0000"}function Gp(){return"%"}function $p(e){return+e}function zp(e){return Math.floor(+e/1e3)}function Wp(t){return Fh=kh(t),e.timeFormat=Fh.format,e.timeParse=Fh.parse,e.utcFormat=Fh.utcFormat,e.utcParse=Fh.utcParse,Fh}Wp({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var qp=Date.prototype.toISOString?function(e){return e.toISOString()}:e.utcFormat("%Y-%m-%dT%H:%M:%S.%LZ"),Jp=+new Date("2000-01-01T00:00:00.000Z")?function(e){var t=new Date(e);return isNaN(t)?null:t}:e.utcParse("%Y-%m-%dT%H:%M:%S.%LZ"),Yp=1e3,Qp=6e4,Xp=60*Qp,Zp=24*Xp,eO=30*Zp,tO=365*Zp;function nO(e){return new Date(e)}function rO(e){return e instanceof Date?+e:+new Date(+e)}function oO(e,t,r,o,a,i,s,l,u){var c=sf(Zd,Zd),d=c.invert,f=c.domain,h=u(".%L"),p=u(":%S"),O=u("%I:%M"),g=u("%I %p"),m=u("%a %d"),M=u("%b %d"),K=u("%B"),v=u("%Y"),T=[[s,1,Yp],[s,5,5e3],[s,15,15e3],[s,30,3e4],[i,1,Qp],[i,5,5*Qp],[i,15,15*Qp],[i,30,30*Qp],[a,1,Xp],[a,3,3*Xp],[a,6,6*Xp],[a,12,12*Xp],[o,1,Zp],[o,2,2*Zp],[r,1,6048e5],[t,1,eO],[t,3,3*eO],[e,1,tO]];function S(n){return(s(n)<n?h:i(n)<n?p:a(n)<n?O:o(n)<n?g:t(n)<n?r(n)<n?m:M:e(n)<n?K:v)(n)}function x(t,r,o,a){if(null==t&&(t=10),"number"==typeof t){var i=Math.abs(o-r)/t,s=n((function(e){return e[2]})).right(T,i);s===T.length?(a=w(r/tO,o/tO,t),t=e):s?(a=(s=T[i/T[s-1][2]<T[s][2]/i?s-1:s])[1],t=s[0]):(a=Math.max(w(r,o,t),1),t=l)}return null==a?t:t.every(a)}return c.invert=function(e){return new Date(d(e))},c.domain=function(e){return arguments.length?f(zd.call(e,rO)):f().map(nO)},c.ticks=function(e,t){var n,r=f(),o=r[0],a=r[r.length-1],i=a<o;return i&&(n=o,o=a,a=n),n=(n=x(e,o,a,t))?n.range(o,a+1):[],i?n.reverse():n},c.tickFormat=function(e,t){return null==t?S:u(t)},c.nice=function(e,t){var n=f();return(e=x(e,n[0],n[n.length-1],t))?f(cf(n,e)):c},c.copy=function(){return of(c,oO(e,t,r,o,a,i,s,l,u))},c}function aO(){var e,t,n,r,o,a=0,i=1,s=Zd,l=!1;function u(t){return isNaN(t=+t)?o:s(0===n?.5:(t=(r(t)-e)*n,l?Math.max(0,Math.min(1,t)):t))}return u.domain=function(o){return arguments.length?(e=r(a=+o[0]),t=r(i=+o[1]),n=e===t?0:1/(t-e),u):[a,i]},u.clamp=function(e){return arguments.length?(l=!!e,u):l},u.interpolator=function(e){return arguments.length?(s=e,u):s},u.unknown=function(e){return arguments.length?(o=e,u):o},function(o){return r=o,e=o(a),t=o(i),n=e===t?0:1/(t-e),u}}function iO(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function sO(){var e=xf(aO());return e.copy=function(){return iO(e,sO()).exponent(e.exponent())},Gd.apply(e,arguments)}function lO(){var e,t,n,r,o,a,i,s=0,l=.5,u=1,c=Zd,d=!1;function f(e){return isNaN(e=+e)?i:(e=.5+((e=+a(e))-t)*(e<t?r:o),c(d?Math.max(0,Math.min(1,e)):e))}return f.domain=function(i){return arguments.length?(e=a(s=+i[0]),t=a(l=+i[1]),n=a(u=+i[2]),r=e===t?0:.5/(t-e),o=t===n?0:.5/(n-t),f):[s,l,u]},f.clamp=function(e){return arguments.length?(d=!!e,f):d},f.interpolator=function(e){return arguments.length?(c=e,f):c},f.unknown=function(e){return arguments.length?(i=e,f):i},function(i){return a=i,e=i(s),t=i(l),n=i(u),r=e===t?0:.5/(t-e),o=t===n?0:.5/(n-t),f}}function uO(){var e=xf(lO());return e.copy=function(){return iO(e,uO()).exponent(e.exponent())},Gd.apply(e,arguments)}function cO(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(6*r,6*++r);return n}var dO=cO("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),fO=cO("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),hO=cO("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),pO=cO("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),OO=cO("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),gO=cO("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),mO=cO("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),MO=cO("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),KO=cO("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),vO=cO("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function TO(e){return tn(e[e.length-1])}var wO=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(cO),SO=TO(wO),xO=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(cO),yO=TO(xO),bO=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(cO),LO=TO(bO),RO=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(cO),CO=TO(RO),DO=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(cO),BO=TO(DO),IO=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(cO),_O=TO(IO),kO=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(cO),FO=TO(kO),AO=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(cO),PO=TO(AO),EO=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(cO),NO=TO(EO),UO=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(cO),VO=TO(UO),HO=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(cO),jO=TO(HO),GO=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(cO),$O=TO(GO),zO=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(cO),WO=TO(zO),qO=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(cO),JO=TO(qO),YO=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(cO),QO=TO(YO),XO=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(cO),ZO=TO(XO),eg=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(cO),tg=TO(eg),ng=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(cO),rg=TO(ng),og=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(cO),ag=TO(og),ig=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(cO),sg=TO(ig),lg=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(cO),ug=TO(lg),cg=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(cO),dg=TO(cg),fg=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(cO),hg=TO(fg),pg=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(cO),Og=TO(pg),gg=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(cO),mg=TO(gg),Mg=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(cO),Kg=TO(Mg),vg=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(cO),Tg=TO(vg),wg=En(Gt(300,.5,0),Gt(-240,.5,1)),Sg=En(Gt(-100,.75,.35),Gt(80,1.5,.8)),xg=En(Gt(260,.75,.35),Gt(80,1.5,.8)),yg=Gt(),bg=ft(),Lg=Math.PI/3,Rg=2*Math.PI/3;function Cg(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}var Dg=Cg(cO("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),Bg=Cg(cO("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Ig=Cg(cO("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),_g=Cg(cO("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function kg(e){return function(){return e}}var Fg=Math.abs,Ag=Math.atan2,Pg=Math.cos,Eg=Math.max,Ng=Math.min,Ug=Math.sin,Vg=Math.sqrt,Hg=1e-12,jg=Math.PI,Gg=jg/2,$g=2*jg;function zg(e){return e>=1?Gg:e<=-1?-Gg:Math.asin(e)}function Wg(e){return e.innerRadius}function qg(e){return e.outerRadius}function Jg(e){return e.startAngle}function Yg(e){return e.endAngle}function Qg(e){return e&&e.padAngle}function Xg(e,t,n,r,o,a,i){var s=e-n,l=t-r,u=(i?a:-a)/Vg(s*s+l*l),c=u*l,d=-u*s,f=e+c,h=t+d,p=n+c,O=r+d,g=(f+p)/2,m=(h+O)/2,M=p-f,K=O-h,v=M*M+K*K,T=o-a,w=f*O-p*h,S=(K<0?-1:1)*Vg(Eg(0,T*T*v-w*w)),x=(w*K-M*S)/v,y=(-w*M-K*S)/v,b=(w*K+M*S)/v,L=(-w*M+K*S)/v,R=x-g,C=y-m,D=b-g,B=L-m;return R*R+C*C>D*D+B*B&&(x=b,y=L),{cx:x,cy:y,x01:-c,y01:-d,x11:x*(o/T-1),y11:y*(o/T-1)}}function Zg(e){this._context=e}function em(e){return new Zg(e)}function tm(e){return e[0]}function nm(e){return e[1]}function rm(){var e=tm,t=nm,n=kg(!0),r=null,o=em,a=null;function i(i){var s,l,u,c=i.length,d=!1;for(null==r&&(a=o(u=xo())),s=0;s<=c;++s)!(s<c&&n(l=i[s],s,i))===d&&((d=!d)?a.lineStart():a.lineEnd()),d&&a.point(+e(l,s,i),+t(l,s,i));if(u)return a=null,u+""||null}return i.x=function(t){return arguments.length?(e="function"==typeof t?t:kg(+t),i):e},i.y=function(e){return arguments.length?(t="function"==typeof e?e:kg(+e),i):t},i.defined=function(e){return arguments.length?(n="function"==typeof e?e:kg(!!e),i):n},i.curve=function(e){return arguments.length?(o=e,null!=r&&(a=o(r)),i):o},i.context=function(e){return arguments.length?(null==e?r=a=null:a=o(r=e),i):r},i}function om(){var e=tm,t=null,n=kg(0),r=nm,o=kg(!0),a=null,i=em,s=null;function l(l){var u,c,d,f,h,p=l.length,O=!1,g=new Array(p),m=new Array(p);for(null==a&&(s=i(h=xo())),u=0;u<=p;++u){if(!(u<p&&o(f=l[u],u,l))===O)if(O=!O)c=u,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),d=u-1;d>=c;--d)s.point(g[d],m[d]);s.lineEnd(),s.areaEnd()}O&&(g[u]=+e(f,u,l),m[u]=+n(f,u,l),s.point(t?+t(f,u,l):g[u],r?+r(f,u,l):m[u]))}if(h)return s=null,h+""||null}function u(){return rm().defined(o).curve(i).context(a)}return l.x=function(n){return arguments.length?(e="function"==typeof n?n:kg(+n),t=null,l):e},l.x0=function(t){return arguments.length?(e="function"==typeof t?t:kg(+t),l):e},l.x1=function(e){return arguments.length?(t=null==e?null:"function"==typeof e?e:kg(+e),l):t},l.y=function(e){return arguments.length?(n="function"==typeof e?e:kg(+e),r=null,l):n},l.y0=function(e){return arguments.length?(n="function"==typeof e?e:kg(+e),l):n},l.y1=function(e){return arguments.length?(r=null==e?null:"function"==typeof e?e:kg(+e),l):r},l.lineX0=l.lineY0=function(){return u().x(e).y(n)},l.lineY1=function(){return u().x(e).y(r)},l.lineX1=function(){return u().x(t).y(n)},l.defined=function(e){return arguments.length?(o="function"==typeof e?e:kg(!!e),l):o},l.curve=function(e){return arguments.length?(i=e,null!=a&&(s=i(a)),l):i},l.context=function(e){return arguments.length?(null==e?a=s=null:s=i(a=e),l):a},l}function am(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function im(e){return e}Zg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};var sm=um(em);function lm(e){this._curve=e}function um(e){function t(t){return new lm(e(t))}return t._curve=e,t}function cm(e){var t=e.curve;return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e.curve=function(e){return arguments.length?t(um(e)):t()._curve},e}function dm(){return cm(rm().curve(sm))}function fm(){var e=om().curve(sm),t=e.curve,n=e.lineX0,r=e.lineX1,o=e.lineY0,a=e.lineY1;return e.angle=e.x,delete e.x,e.startAngle=e.x0,delete e.x0,e.endAngle=e.x1,delete e.x1,e.radius=e.y,delete e.y,e.innerRadius=e.y0,delete e.y0,e.outerRadius=e.y1,delete e.y1,e.lineStartAngle=function(){return cm(n())},delete e.lineX0,e.lineEndAngle=function(){return cm(r())},delete e.lineX1,e.lineInnerRadius=function(){return cm(o())},delete e.lineY0,e.lineOuterRadius=function(){return cm(a())},delete e.lineY1,e.curve=function(e){return arguments.length?t(um(e)):t()._curve},e}function hm(e,t){return[(t=+t)*Math.cos(e-=Math.PI/2),t*Math.sin(e)]}lm.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,t){this._curve.point(t*Math.sin(e),t*-Math.cos(e))}};var pm=Array.prototype.slice;function Om(e){return e.source}function gm(e){return e.target}function mm(e){var t=Om,n=gm,r=tm,o=nm,a=null;function i(){var i,s=pm.call(arguments),l=t.apply(this,s),u=n.apply(this,s);if(a||(a=i=xo()),e(a,+r.apply(this,(s[0]=l,s)),+o.apply(this,s),+r.apply(this,(s[0]=u,s)),+o.apply(this,s)),i)return a=null,i+""||null}return i.source=function(e){return arguments.length?(t=e,i):t},i.target=function(e){return arguments.length?(n=e,i):n},i.x=function(e){return arguments.length?(r="function"==typeof e?e:kg(+e),i):r},i.y=function(e){return arguments.length?(o="function"==typeof e?e:kg(+e),i):o},i.context=function(e){return arguments.length?(a=null==e?null:e,i):a},i}function Mm(e,t,n,r,o){e.moveTo(t,n),e.bezierCurveTo(t=(t+r)/2,n,t,o,r,o)}function Km(e,t,n,r,o){e.moveTo(t,n),e.bezierCurveTo(t,n=(n+o)/2,r,n,r,o)}function vm(e,t,n,r,o){var a=hm(t,n),i=hm(t,n=(n+o)/2),s=hm(r,n),l=hm(r,o);e.moveTo(a[0],a[1]),e.bezierCurveTo(i[0],i[1],s[0],s[1],l[0],l[1])}var Tm={draw:function(e,t){var n=Math.sqrt(t/jg);e.moveTo(n,0),e.arc(0,0,n,0,$g)}},wm={draw:function(e,t){var n=Math.sqrt(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},Sm=Math.sqrt(1/3),xm=2*Sm,ym={draw:function(e,t){var n=Math.sqrt(t/xm),r=n*Sm;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},bm=Math.sin(jg/10)/Math.sin(7*jg/10),Lm=Math.sin($g/10)*bm,Rm=-Math.cos($g/10)*bm,Cm={draw:function(e,t){var n=Math.sqrt(.8908130915292852*t),r=Lm*n,o=Rm*n;e.moveTo(0,-n),e.lineTo(r,o);for(var a=1;a<5;++a){var i=$g*a/5,s=Math.cos(i),l=Math.sin(i);e.lineTo(l*n,-s*n),e.lineTo(s*r-l*o,l*r+s*o)}e.closePath()}},Dm={draw:function(e,t){var n=Math.sqrt(t),r=-n/2;e.rect(r,r,n,n)}},Bm=Math.sqrt(3),Im={draw:function(e,t){var n=-Math.sqrt(t/(3*Bm));e.moveTo(0,2*n),e.lineTo(-Bm*n,-n),e.lineTo(Bm*n,-n),e.closePath()}},_m=Math.sqrt(3)/2,km=1/Math.sqrt(12),Fm=3*(km/2+1),Am={draw:function(e,t){var n=Math.sqrt(t/Fm),r=n/2,o=n*km,a=r,i=n*km+n,s=-a,l=i;e.moveTo(r,o),e.lineTo(a,i),e.lineTo(s,l),e.lineTo(-.5*r-_m*o,_m*r+-.5*o),e.lineTo(-.5*a-_m*i,_m*a+-.5*i),e.lineTo(-.5*s-_m*l,_m*s+-.5*l),e.lineTo(-.5*r+_m*o,-.5*o-_m*r),e.lineTo(-.5*a+_m*i,-.5*i-_m*a),e.lineTo(-.5*s+_m*l,-.5*l-_m*s),e.closePath()}},Pm=[Tm,wm,ym,Dm,Cm,Im,Am];function Em(){}function Nm(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Um(e){this._context=e}function Vm(e){this._context=e}function Hm(e){this._context=e}function jm(e,t){this._basis=new Um(e),this._beta=t}Um.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Nm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Nm(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Vm.prototype={areaStart:Em,areaEnd:Em,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Nm(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Hm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Nm(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},jm.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r,o=e[0],a=t[0],i=e[n]-o,s=t[n]-a,l=-1;++l<=n;)r=l/n,this._basis.point(this._beta*e[l]+(1-this._beta)*(o+r*i),this._beta*t[l]+(1-this._beta)*(a+r*s));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};var Gm=function e(t){function n(e){return 1===t?new Um(e):new jm(e,t)}return n.beta=function(t){return e(+t)},n}(.85);function $m(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function zm(e,t){this._context=e,this._k=(1-t)/6}zm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:$m(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:$m(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Wm=function e(t){function n(e){return new zm(e,t)}return n.tension=function(t){return e(+t)},n}(0);function qm(e,t){this._context=e,this._k=(1-t)/6}qm.prototype={areaStart:Em,areaEnd:Em,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:$m(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Jm=function e(t){function n(e){return new qm(e,t)}return n.tension=function(t){return e(+t)},n}(0);function Ym(e,t){this._context=e,this._k=(1-t)/6}Ym.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:$m(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Qm=function e(t){function n(e){return new Ym(e,t)}return n.tension=function(t){return e(+t)},n}(0);function Xm(e,t,n){var r=e._x1,o=e._y1,a=e._x2,i=e._y2;if(e._l01_a>Hg){var s=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*s-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,o=(o*s-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>Hg){var u=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,c=3*e._l23_a*(e._l23_a+e._l12_a);a=(a*u+e._x1*e._l23_2a-t*e._l12_2a)/c,i=(i*u+e._y1*e._l23_2a-n*e._l12_2a)/c}e._context.bezierCurveTo(r,o,a,i,e._x2,e._y2)}function Zm(e,t){this._context=e,this._alpha=t}Zm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:Xm(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var eM=function e(t){function n(e){return t?new Zm(e,t):new zm(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function tM(e,t){this._context=e,this._alpha=t}tM.prototype={areaStart:Em,areaEnd:Em,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Xm(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var nM=function e(t){function n(e){return t?new tM(e,t):new qm(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function rM(e,t){this._context=e,this._alpha=t}rM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Xm(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var oM=function e(t){function n(e){return t?new rM(e,t):new Ym(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function aM(e){this._context=e}function iM(e){return e<0?-1:1}function sM(e,t,n){var r=e._x1-e._x0,o=t-e._x1,a=(e._y1-e._y0)/(r||o<0&&-0),i=(n-e._y1)/(o||r<0&&-0),s=(a*o+i*r)/(r+o);return(iM(a)+iM(i))*Math.min(Math.abs(a),Math.abs(i),.5*Math.abs(s))||0}function lM(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function uM(e,t,n){var r=e._x0,o=e._y0,a=e._x1,i=e._y1,s=(a-r)/3;e._context.bezierCurveTo(r+s,o+s*t,a-s,i-s*n,a,i)}function cM(e){this._context=e}function dM(e){this._context=new fM(e)}function fM(e){this._context=e}function hM(e){this._context=e}function pM(e){var t,n,r=e.length-1,o=new Array(r),a=new Array(r),i=new Array(r);for(o[0]=0,a[0]=2,i[0]=e[0]+2*e[1],t=1;t<r-1;++t)o[t]=1,a[t]=4,i[t]=4*e[t]+2*e[t+1];for(o[r-1]=2,a[r-1]=7,i[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=o[t]/a[t-1],a[t]-=n,i[t]-=n*i[t-1];for(o[r-1]=i[r-1]/a[r-1],t=r-2;t>=0;--t)o[t]=(i[t]-o[t+1])/a[t];for(a[r-1]=(e[r]+o[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-o[t+1];return[o,a]}function OM(e,t){this._context=e,this._t=t}function gM(e,t){if((o=e.length)>1)for(var n,r,o,a=1,i=e[t[0]],s=i.length;a<o;++a)for(r=i,i=e[t[a]],n=0;n<s;++n)i[n][1]+=i[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}function mM(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function MM(e,t){return e[t]}function KM(e){var t=e.map(vM);return mM(e).sort((function(e,n){return t[e]-t[n]}))}function vM(e){for(var t,n=-1,r=0,o=e.length,a=-1/0;++n<o;)(t=+e[n][1])>a&&(a=t,r=n);return r}function TM(e){var t=e.map(wM);return mM(e).sort((function(e,n){return t[e]-t[n]}))}function wM(e){for(var t,n=0,r=-1,o=e.length;++r<o;)(t=+e[r][1])&&(n+=t);return n}function SM(e){return function(){return e}}function xM(e){return e[0]}function yM(e){return e[1]}function bM(){this._=null}function LM(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function RM(e,t){var n=t,r=t.R,o=n.U;o?o.L===n?o.L=r:o.R=r:e._=r,r.U=o,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function CM(e,t){var n=t,r=t.L,o=n.U;o?o.L===n?o.L=r:o.R=r:e._=r,r.U=o,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function DM(e){for(;e.L;)e=e.L;return e}function BM(e,t,n,r){var o=[null,null],a=tK.push(o)-1;return o.left=e,o.right=t,n&&_M(o,e,t,n),r&&_M(o,t,e,r),ZM[e.index].halfedges.push(a),ZM[t.index].halfedges.push(a),o}function IM(e,t,n){var r=[t,n];return r.left=e,r}function _M(e,t,n,r){e[0]||e[1]?e.left===n?e[1]=r:e[0]=r:(e[0]=r,e.left=t,e.right=n)}function kM(e,t,n,r,o){var a,i=e[0],s=e[1],l=i[0],u=i[1],c=0,d=1,f=s[0]-l,h=s[1]-u;if(a=t-l,f||!(a>0)){if(a/=f,f<0){if(a<c)return;a<d&&(d=a)}else if(f>0){if(a>d)return;a>c&&(c=a)}if(a=r-l,f||!(a<0)){if(a/=f,f<0){if(a>d)return;a>c&&(c=a)}else if(f>0){if(a<c)return;a<d&&(d=a)}if(a=n-u,h||!(a>0)){if(a/=h,h<0){if(a<c)return;a<d&&(d=a)}else if(h>0){if(a>d)return;a>c&&(c=a)}if(a=o-u,h||!(a<0)){if(a/=h,h<0){if(a>d)return;a>c&&(c=a)}else if(h>0){if(a<c)return;a<d&&(d=a)}return!(c>0||d<1)||(c>0&&(e[0]=[l+c*f,u+c*h]),d<1&&(e[1]=[l+d*f,u+d*h]),!0)}}}}}function FM(e,t,n,r,o){var a=e[1];if(a)return!0;var i,s,l=e[0],u=e.left,c=e.right,d=u[0],f=u[1],h=c[0],p=c[1],O=(d+h)/2,g=(f+p)/2;if(p===f){if(O<t||O>=r)return;if(d>h){if(l){if(l[1]>=o)return}else l=[O,n];a=[O,o]}else{if(l){if(l[1]<n)return}else l=[O,o];a=[O,n]}}else if(s=g-(i=(d-h)/(p-f))*O,i<-1||i>1)if(d>h){if(l){if(l[1]>=o)return}else l=[(n-s)/i,n];a=[(o-s)/i,o]}else{if(l){if(l[1]<n)return}else l=[(o-s)/i,o];a=[(n-s)/i,n]}else if(f<p){if(l){if(l[0]>=r)return}else l=[t,i*t+s];a=[r,i*r+s]}else{if(l){if(l[0]<t)return}else l=[r,i*r+s];a=[t,i*t+s]}return e[0]=l,e[1]=a,!0}function AM(e,t){var n=e.site,r=t.left,o=t.right;return n===o&&(o=r,r=n),o?Math.atan2(o[1]-r[1],o[0]-r[0]):(n===r?(r=t[1],o=t[0]):(r=t[0],o=t[1]),Math.atan2(r[0]-o[0],o[1]-r[1]))}function PM(e,t){return t[+(t.left!==e.site)]}function EM(e,t){return t[+(t.left===e.site)]}aM.prototype={areaStart:Em,areaEnd:Em,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},cM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:uM(this,this._t0,lM(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,uM(this,lM(this,n=sM(this,e,t)),n);break;default:uM(this,this._t0,n=sM(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(dM.prototype=Object.create(cM.prototype)).point=function(e,t){cM.prototype.point.call(this,t,e)},fM.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,o,a){this._context.bezierCurveTo(t,e,r,n,a,o)}},hM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=pM(e),o=pM(t),a=0,i=1;i<n;++a,++i)this._context.bezierCurveTo(r[0][a],o[0][a],r[1][a],o[1][a],e[i],t[i]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},OM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}},bM.prototype={constructor:bM,insert:function(e,t){var n,r,o;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;n=e}else this._?(e=DM(this._),t.P=null,t.N=e,e.P=e.L=t,n=e):(t.P=t.N=null,this._=t,n=null);for(t.L=t.R=null,t.U=n,t.C=!0,e=t;n&&n.C;)n===(r=n.U).L?(o=r.R)&&o.C?(n.C=o.C=!1,r.C=!0,e=r):(e===n.R&&(RM(this,n),n=(e=n).U),n.C=!1,r.C=!0,CM(this,r)):(o=r.L)&&o.C?(n.C=o.C=!1,r.C=!0,e=r):(e===n.L&&(CM(this,n),n=(e=n).U),n.C=!1,r.C=!0,RM(this,r)),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t,n,r,o=e.U,a=e.L,i=e.R;if(n=a?i?DM(i):a:i,o?o.L===e?o.L=n:o.R=n:this._=n,a&&i?(r=n.C,n.C=e.C,n.L=a,a.U=n,n!==i?(o=n.U,n.U=e.U,e=n.R,o.L=e,n.R=i,i.U=n):(n.U=o,o=n,e=n.R)):(r=e.C,e=n),e&&(e.U=o),!r)if(e&&e.C)e.C=!1;else{do{if(e===this._)break;if(e===o.L){if((t=o.R).C&&(t.C=!1,o.C=!0,RM(this,o),t=o.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,CM(this,t),t=o.R),t.C=o.C,o.C=t.R.C=!1,RM(this,o),e=this._;break}}else if((t=o.L).C&&(t.C=!1,o.C=!0,CM(this,o),t=o.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,RM(this,t),t=o.L),t.C=o.C,o.C=t.L.C=!1,CM(this,o),e=this._;break}t.C=!0,e=o,o=o.U}while(!e.C);e&&(e.C=!1)}}};var NM,UM=[];function VM(){LM(this),this.x=this.y=this.arc=this.site=this.cy=null}function HM(e){var t=e.P,n=e.N;if(t&&n){var r=t.site,o=e.site,a=n.site;if(r!==a){var i=o[0],s=o[1],l=r[0]-i,u=r[1]-s,c=a[0]-i,d=a[1]-s,f=2*(l*d-u*c);if(!(f>=-rK)){var h=l*l+u*u,p=c*c+d*d,O=(d*h-u*p)/f,g=(l*p-c*h)/f,m=UM.pop()||new VM;m.arc=e,m.site=o,m.x=O+i,m.y=(m.cy=g+s)+Math.sqrt(O*O+g*g),e.circle=m;for(var M=null,K=eK._;K;)if(m.y<K.y||m.y===K.y&&m.x<=K.x){if(!K.L){M=K.P;break}K=K.L}else{if(!K.R){M=K;break}K=K.R}eK.insert(M,m),M||(NM=m)}}}}function jM(e){var t=e.circle;t&&(t.P||(NM=t.N),eK.remove(t),UM.push(t),LM(t),e.circle=null)}var GM=[];function $M(){LM(this),this.edge=this.site=this.circle=null}function zM(e){var t=GM.pop()||new $M;return t.site=e,t}function WM(e){jM(e),XM.remove(e),GM.push(e),LM(e)}function qM(e){var t=e.circle,n=t.x,r=t.cy,o=[n,r],a=e.P,i=e.N,s=[e];WM(e);for(var l=a;l.circle&&Math.abs(n-l.circle.x)<nK&&Math.abs(r-l.circle.cy)<nK;)a=l.P,s.unshift(l),WM(l),l=a;s.unshift(l),jM(l);for(var u=i;u.circle&&Math.abs(n-u.circle.x)<nK&&Math.abs(r-u.circle.cy)<nK;)i=u.N,s.push(u),WM(u),u=i;s.push(u),jM(u);var c,d=s.length;for(c=1;c<d;++c)u=s[c],l=s[c-1],_M(u.edge,l.site,u.site,o);l=s[0],(u=s[d-1]).edge=BM(l.site,u.site,null,o),HM(l),HM(u)}function JM(e){for(var t,n,r,o,a=e[0],i=e[1],s=XM._;s;)if((r=YM(s,i)-a)>nK)s=s.L;else{if(!((o=a-QM(s,i))>nK)){r>-nK?(t=s.P,n=s):o>-nK?(t=s,n=s.N):t=n=s;break}if(!s.R){t=s;break}s=s.R}!function(e){ZM[e.index]={site:e,halfedges:[]}}(e);var l=zM(e);if(XM.insert(t,l),t||n){if(t===n)return jM(t),n=zM(t.site),XM.insert(l,n),l.edge=n.edge=BM(t.site,l.site),HM(t),void HM(n);if(n){jM(t),jM(n);var u=t.site,c=u[0],d=u[1],f=e[0]-c,h=e[1]-d,p=n.site,O=p[0]-c,g=p[1]-d,m=2*(f*g-h*O),M=f*f+h*h,K=O*O+g*g,v=[(g*M-h*K)/m+c,(f*K-O*M)/m+d];_M(n.edge,u,p,v),l.edge=BM(u,e,null,v),n.edge=BM(e,p,null,v),HM(t),HM(n)}else l.edge=BM(t.site,l.site)}}function YM(e,t){var n=e.site,r=n[0],o=n[1],a=o-t;if(!a)return r;var i=e.P;if(!i)return-1/0;var s=(n=i.site)[0],l=n[1],u=l-t;if(!u)return s;var c=s-r,d=1/a-1/u,f=c/u;return d?(-f+Math.sqrt(f*f-2*d*(c*c/(-2*u)-l+u/2+o-a/2)))/d+r:(r+s)/2}function QM(e,t){var n=e.N;if(n)return YM(n,t);var r=e.site;return r[1]===t?r[0]:1/0}var XM,ZM,eK,tK,nK=1e-6,rK=1e-12;function oK(e,t,n){return(e[0]-n[0])*(t[1]-e[1])-(e[0]-t[0])*(n[1]-e[1])}function aK(e,t){return t[1]-e[1]||t[0]-e[0]}function iK(e,t){var n,r,o,a=e.sort(aK).pop();for(tK=[],ZM=new Array(e.length),XM=new bM,eK=new bM;;)if(o=NM,a&&(!o||a[1]<o.y||a[1]===o.y&&a[0]<o.x))a[0]===n&&a[1]===r||(JM(a),n=a[0],r=a[1]),a=e.pop();else{if(!o)break;qM(o.arc)}if(function(){for(var e,t,n,r,o=0,a=ZM.length;o<a;++o)if((e=ZM[o])&&(r=(t=e.halfedges).length)){var i=new Array(r),s=new Array(r);for(n=0;n<r;++n)i[n]=n,s[n]=AM(e,tK[t[n]]);for(i.sort((function(e,t){return s[t]-s[e]})),n=0;n<r;++n)s[n]=t[i[n]];for(n=0;n<r;++n)t[n]=s[n]}}(),t){var i=+t[0][0],s=+t[0][1],l=+t[1][0],u=+t[1][1];!function(e,t,n,r){for(var o,a=tK.length;a--;)FM(o=tK[a],e,t,n,r)&&kM(o,e,t,n,r)&&(Math.abs(o[0][0]-o[1][0])>nK||Math.abs(o[0][1]-o[1][1])>nK)||delete tK[a]}(i,s,l,u),function(e,t,n,r){var o,a,i,s,l,u,c,d,f,h,p,O,g=ZM.length,m=!0;for(o=0;o<g;++o)if(a=ZM[o]){for(i=a.site,s=(l=a.halfedges).length;s--;)tK[l[s]]||l.splice(s,1);for(s=0,u=l.length;s<u;)p=(h=EM(a,tK[l[s]]))[0],O=h[1],d=(c=PM(a,tK[l[++s%u]]))[0],f=c[1],(Math.abs(p-d)>nK||Math.abs(O-f)>nK)&&(l.splice(s,0,tK.push(IM(i,h,Math.abs(p-e)<nK&&r-O>nK?[e,Math.abs(d-e)<nK?f:r]:Math.abs(O-r)<nK&&n-p>nK?[Math.abs(f-r)<nK?d:n,r]:Math.abs(p-n)<nK&&O-t>nK?[n,Math.abs(d-n)<nK?f:t]:Math.abs(O-t)<nK&&p-e>nK?[Math.abs(f-t)<nK?d:e,t]:null))-1),++u);u&&(m=!1)}if(m){var M,K,v,T=1/0;for(o=0,m=null;o<g;++o)(a=ZM[o])&&(v=(M=(i=a.site)[0]-e)*M+(K=i[1]-t)*K)<T&&(T=v,m=a);if(m){var w=[e,t],S=[e,r],x=[n,r],y=[n,t];m.halfedges.push(tK.push(IM(i=m.site,w,S))-1,tK.push(IM(i,S,x))-1,tK.push(IM(i,x,y))-1,tK.push(IM(i,y,w))-1)}}for(o=0;o<g;++o)(a=ZM[o])&&(a.halfedges.length||delete ZM[o])}(i,s,l,u)}this.edges=tK,this.cells=ZM,XM=eK=tK=ZM=null}function sK(e){return function(){return e}}function lK(e,t,n){this.target=e,this.type=t,this.transform=n}function uK(e,t,n){this.k=e,this.x=t,this.y=n}iK.prototype={constructor:iK,polygons:function(){var e=this.edges;return this.cells.map((function(t){var n=t.halfedges.map((function(n){return PM(t,e[n])}));return n.data=t.site.data,n}))},triangles:function(){var e=[],t=this.edges;return this.cells.forEach((function(n,r){if(a=(o=n.halfedges).length)for(var o,a,i,s=n.site,l=-1,u=t[o[a-1]],c=u.left===s?u.right:u.left;++l<a;)i=c,c=(u=t[o[l]]).left===s?u.right:u.left,i&&c&&r<i.index&&r<c.index&&oK(s,i,c)<0&&e.push([s.data,i.data,c.data])})),e},links:function(){return this.edges.filter((function(e){return e.right})).map((function(e){return{source:e.left.data,target:e.right.data}}))},find:function(e,t,n){for(var r,o,a=this,i=a._found||0,s=a.cells.length;!(o=a.cells[i]);)if(++i>=s)return null;var l=e-o.site[0],u=t-o.site[1],c=l*l+u*u;do{o=a.cells[r=i],i=null,o.halfedges.forEach((function(n){var r=a.edges[n],s=r.left;if(s!==o.site&&s||(s=r.right)){var l=e-s[0],u=t-s[1],d=l*l+u*u;d<c&&(c=d,i=s.index)}}))}while(null!==i);return a._found=r,null==n||c<=n*n?o.site:null}},uK.prototype={constructor:uK,scale:function(e){return 1===e?this:new uK(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new uK(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var cK=new uK(1,0,0);function dK(e){for(;!e.__zoom;)if(!(e=e.parentNode))return cK;return e.__zoom}function fK(){e.event.stopImmediatePropagation()}function hK(){e.event.preventDefault(),e.event.stopImmediatePropagation()}function pK(){return!e.event.ctrlKey&&!e.event.button}function OK(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function gK(){return this.__zoom||cK}function mK(){return-e.event.deltaY*(1===e.event.deltaMode?.05:e.event.deltaMode?1:.002)}function MK(){return navigator.maxTouchPoints||"ontouchstart"in this}function KK(e,t,n){var r=e.invertX(t[0][0])-n[0][0],o=e.invertX(t[1][0])-n[1][0],a=e.invertY(t[0][1])-n[0][1],i=e.invertY(t[1][1])-n[1][1];return e.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),i>a?(a+i)/2:Math.min(0,a)||Math.max(0,i))}dK.prototype=uK.prototype,e.FormatSpecifier=ni,e.active=function(e,t){var n,r,o=e.__transition;if(o)for(r in t=null==t?null:t+"",o)if((n=o[r]).state>1&&n.name===t)return new pr([[e]],Nr,t,+r);return null},e.arc=function(){var e=Wg,t=qg,n=kg(0),r=null,o=Jg,a=Yg,i=Qg,s=null;function l(){var l,u,c=+e.apply(this,arguments),d=+t.apply(this,arguments),f=o.apply(this,arguments)-Gg,h=a.apply(this,arguments)-Gg,p=Fg(h-f),O=h>f;if(s||(s=l=xo()),d<c&&(u=d,d=c,c=u),d>Hg)if(p>$g-Hg)s.moveTo(d*Pg(f),d*Ug(f)),s.arc(0,0,d,f,h,!O),c>Hg&&(s.moveTo(c*Pg(h),c*Ug(h)),s.arc(0,0,c,h,f,O));else{var g,m,M=f,K=h,v=f,T=h,w=p,S=p,x=i.apply(this,arguments)/2,y=x>Hg&&(r?+r.apply(this,arguments):Vg(c*c+d*d)),b=Ng(Fg(d-c)/2,+n.apply(this,arguments)),L=b,R=b;if(y>Hg){var C=zg(y/c*Ug(x)),D=zg(y/d*Ug(x));(w-=2*C)>Hg?(v+=C*=O?1:-1,T-=C):(w=0,v=T=(f+h)/2),(S-=2*D)>Hg?(M+=D*=O?1:-1,K-=D):(S=0,M=K=(f+h)/2)}var B=d*Pg(M),I=d*Ug(M),_=c*Pg(T),k=c*Ug(T);if(b>Hg){var F,A=d*Pg(K),P=d*Ug(K),E=c*Pg(v),N=c*Ug(v);if(p<jg&&(F=function(e,t,n,r,o,a,i,s){var l=n-e,u=r-t,c=i-o,d=s-a,f=d*l-c*u;if(!(f*f<Hg))return[e+(f=(c*(t-a)-d*(e-o))/f)*l,t+f*u]}(B,I,E,N,A,P,_,k))){var U=B-F[0],V=I-F[1],H=A-F[0],j=P-F[1],G=1/Ug(function(e){return e>1?0:e<-1?jg:Math.acos(e)}((U*H+V*j)/(Vg(U*U+V*V)*Vg(H*H+j*j)))/2),$=Vg(F[0]*F[0]+F[1]*F[1]);L=Ng(b,(c-$)/(G-1)),R=Ng(b,(d-$)/(G+1))}}S>Hg?R>Hg?(g=Xg(E,N,B,I,d,R,O),m=Xg(A,P,_,k,d,R,O),s.moveTo(g.cx+g.x01,g.cy+g.y01),R<b?s.arc(g.cx,g.cy,R,Ag(g.y01,g.x01),Ag(m.y01,m.x01),!O):(s.arc(g.cx,g.cy,R,Ag(g.y01,g.x01),Ag(g.y11,g.x11),!O),s.arc(0,0,d,Ag(g.cy+g.y11,g.cx+g.x11),Ag(m.cy+m.y11,m.cx+m.x11),!O),s.arc(m.cx,m.cy,R,Ag(m.y11,m.x11),Ag(m.y01,m.x01),!O))):(s.moveTo(B,I),s.arc(0,0,d,M,K,!O)):s.moveTo(B,I),c>Hg&&w>Hg?L>Hg?(g=Xg(_,k,A,P,c,-L,O),m=Xg(B,I,E,N,c,-L,O),s.lineTo(g.cx+g.x01,g.cy+g.y01),L<b?s.arc(g.cx,g.cy,L,Ag(g.y01,g.x01),Ag(m.y01,m.x01),!O):(s.arc(g.cx,g.cy,L,Ag(g.y01,g.x01),Ag(g.y11,g.x11),!O),s.arc(0,0,c,Ag(g.cy+g.y11,g.cx+g.x11),Ag(m.cy+m.y11,m.cx+m.x11),O),s.arc(m.cx,m.cy,L,Ag(m.y11,m.x11),Ag(m.y01,m.x01),!O))):s.arc(0,0,c,T,v,O):s.lineTo(_,k)}else s.moveTo(0,0);if(s.closePath(),l)return s=null,l+""||null}return l.centroid=function(){var n=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,r=(+o.apply(this,arguments)+ +a.apply(this,arguments))/2-jg/2;return[Pg(r)*n,Ug(r)*n]},l.innerRadius=function(t){return arguments.length?(e="function"==typeof t?t:kg(+t),l):e},l.outerRadius=function(e){return arguments.length?(t="function"==typeof e?e:kg(+e),l):t},l.cornerRadius=function(e){return arguments.length?(n="function"==typeof e?e:kg(+e),l):n},l.padRadius=function(e){return arguments.length?(r=null==e?null:"function"==typeof e?e:kg(+e),l):r},l.startAngle=function(e){return arguments.length?(o="function"==typeof e?e:kg(+e),l):o},l.endAngle=function(e){return arguments.length?(a="function"==typeof e?e:kg(+e),l):a},l.padAngle=function(e){return arguments.length?(i="function"==typeof e?e:kg(+e),l):i},l.context=function(e){return arguments.length?(s=null==e?null:e,l):s},l},e.area=om,e.areaRadial=fm,e.ascending=t,e.autoType=function(e){for(var t in e){var n,r,o=e[t].trim();if(o)if("true"===o)o=!0;else if("false"===o)o=!1;else if("NaN"===o)o=NaN;else if(isNaN(n=+o)){if(!(r=o.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;Ta&&r[4]&&!r[7]&&(o=o.replace(/-/g,"/").replace(/T/," ")),o=new Date(o)}else o=n;else o=null;e[t]=o}return e},e.axisBottom=function(e){return A(3,e)},e.axisLeft=function(e){return A(4,e)},e.axisRight=function(e){return A(2,e)},e.axisTop=function(e){return A(1,e)},e.bisect=o,e.bisectLeft=a,e.bisectRight=o,e.bisector=n,e.blob=function(e,t){return fetch(e,t).then(wa)},e.brush=function(){return uo(Xr)},e.brushSelection=function(e){var t=e.__brush;return t?t.dim.output(t.selection):null},e.brushX=function(){return uo(Yr)},e.brushY=function(){return uo(Qr)},e.buffer=function(e,t){return fetch(e,t).then(Sa)},e.chord=function(){var e=0,t=null,n=null,r=null;function o(o){var a,i,s,l,u,c,d=o.length,f=[],h=g(d),p=[],O=[],m=O.groups=new Array(d),M=new Array(d*d);for(a=0,u=-1;++u<d;){for(i=0,c=-1;++c<d;)i+=o[u][c];f.push(i),p.push(g(d)),a+=i}for(t&&h.sort((function(e,n){return t(f[e],f[n])})),n&&p.forEach((function(e,t){e.sort((function(e,r){return n(o[t][e],o[t][r])}))})),l=(a=go(0,Oo-e*d)/a)?e:Oo/d,i=0,u=-1;++u<d;){for(s=i,c=-1;++c<d;){var K=h[u],v=p[K][c],T=o[K][v],w=i,S=i+=T*a;M[v*d+K]={index:K,subindex:v,startAngle:w,endAngle:S,value:T}}m[K]={index:K,startAngle:s,endAngle:i,value:f[K]},i+=l}for(u=-1;++u<d;)for(c=u-1;++c<d;){var x=M[c*d+u],y=M[u*d+c];(x.value||y.value)&&O.push(x.value<y.value?{source:y,target:x}:{source:x,target:y})}return r?O.sort(r):O}return o.padAngle=function(t){return arguments.length?(e=go(0,t),o):e},o.sortGroups=function(e){return arguments.length?(t=e,o):t},o.sortSubgroups=function(e){return arguments.length?(n=e,o):n},o.sortChords=function(e){return arguments.length?(null==e?r=null:(r=mo(e))._=e,o):r&&r._},o},e.clientPoint=_e,e.cluster=function(){var e=Nc,t=1,n=1,r=!1;function o(o){var a,i=0;o.eachAfter((function(t){var n=t.children;n?(t.x=function(e){return e.reduce(Uc,0)/e.length}(n),t.y=function(e){return 1+e.reduce(Vc,0)}(n)):(t.x=a?i+=e(t,a):0,t.y=0,a=t)}));var s=function(e){for(var t;t=e.children;)e=t[0];return e}(o),l=function(e){for(var t;t=e.children;)e=t[t.length-1];return e}(o),u=s.x-e(s,l)/2,c=l.x+e(l,s)/2;return o.eachAfter(r?function(e){e.x=(e.x-o.x)*t,e.y=(o.y-e.y)*n}:function(e){e.x=(e.x-u)/(c-u)*t,e.y=(1-(o.y?e.y/o.y:1))*n})}return o.separation=function(t){return arguments.length?(e=t,o):e},o.size=function(e){return arguments.length?(r=!1,t=+e[0],n=+e[1],o):r?null:[t,n]},o.nodeSize=function(e){return arguments.length?(r=!0,t=+e[0],n=+e[1],o):r?[t,n]:null},o},e.color=lt,e.contourDensity=function(){var e=Yo,t=Qo,n=Xo,r=960,o=500,a=20,i=2,s=3*a,l=r+2*s>>i,u=o+2*s>>i,c=Vo(20);function d(r){var o=new Float32Array(l*u),d=new Float32Array(l*u);r.forEach((function(r,a,c){var d=+e(r,a,c)+s>>i,f=+t(r,a,c)+s>>i,h=+n(r,a,c);d>=0&&d<l&&f>=0&&f<u&&(o[d+f*l]+=h)})),qo({width:l,height:u,data:o},{width:l,height:u,data:d},a>>i),Jo({width:l,height:u,data:d},{width:l,height:u,data:o},a>>i),qo({width:l,height:u,data:o},{width:l,height:u,data:d},a>>i),Jo({width:l,height:u,data:d},{width:l,height:u,data:o},a>>i),qo({width:l,height:u,data:o},{width:l,height:u,data:d},a>>i),Jo({width:l,height:u,data:d},{width:l,height:u,data:o},a>>i);var h=c(o);if(!Array.isArray(h)){var p=y(o);h=w(0,p,h),(h=g(0,Math.floor(p/h)*h,h)).shift()}return Wo().thresholds(h).size([l,u])(o).map(f)}function f(e){return e.value*=Math.pow(2,-2*i),e.coordinates.forEach(h),e}function h(e){e.forEach(p)}function p(e){e.forEach(O)}function O(e){e[0]=e[0]*Math.pow(2,i)-s,e[1]=e[1]*Math.pow(2,i)-s}function m(){return l=r+2*(s=3*a)>>i,u=o+2*s>>i,d}return d.x=function(t){return arguments.length?(e="function"==typeof t?t:Vo(+t),d):e},d.y=function(e){return arguments.length?(t="function"==typeof e?e:Vo(+e),d):t},d.weight=function(e){return arguments.length?(n="function"==typeof e?e:Vo(+e),d):n},d.size=function(e){if(!arguments.length)return[r,o];var t=Math.ceil(e[0]),n=Math.ceil(e[1]);if(!(t>=0||t>=0))throw new Error("invalid size");return r=t,o=n,m()},d.cellSize=function(e){if(!arguments.length)return 1<<i;if(!((e=+e)>=1))throw new Error("invalid cell size");return i=Math.floor(Math.log(e)/Math.LN2),m()},d.thresholds=function(e){return arguments.length?(c="function"==typeof e?e:Array.isArray(e)?Vo(No.call(e)):Vo(e),d):c},d.bandwidth=function(e){if(!arguments.length)return Math.sqrt(a*(a+1));if(!((e=+e)>=0))throw new Error("invalid bandwidth");return a=Math.round((Math.sqrt(4*e*e+1)-1)/2),m()},d},e.contours=Wo,e.create=function(e){return Re(z(e).call(document.documentElement))},e.creator=z,e.cross=function(e,t,n){var r,o,a,s,l=e.length,u=t.length,c=new Array(l*u);for(null==n&&(n=i),r=a=0;r<l;++r)for(s=e[r],o=0;o<u;++o,++a)c[a]=n(s,t[o]);return c},e.csv=La,e.csvFormat=la,e.csvFormatBody=ua,e.csvFormatRow=da,e.csvFormatRows=ca,e.csvFormatValue=fa,e.csvParse=ia,e.csvParseRows=sa,e.cubehelix=Gt,e.curveBasis=function(e){return new Um(e)},e.curveBasisClosed=function(e){return new Vm(e)},e.curveBasisOpen=function(e){return new Hm(e)},e.curveBundle=Gm,e.curveCardinal=Wm,e.curveCardinalClosed=Jm,e.curveCardinalOpen=Qm,e.curveCatmullRom=eM,e.curveCatmullRomClosed=nM,e.curveCatmullRomOpen=oM,e.curveLinear=em,e.curveLinearClosed=function(e){return new aM(e)},e.curveMonotoneX=function(e){return new cM(e)},e.curveMonotoneY=function(e){return new dM(e)},e.curveNatural=function(e){return new hM(e)},e.curveStep=function(e){return new OM(e,.5)},e.curveStepAfter=function(e){return new OM(e,1)},e.curveStepBefore=function(e){return new OM(e,0)},e.customEvent=Se,e.descending=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN},e.deviation=u,e.dispatch=E,e.drag=function(){var t,n,r,o,a=He,i=je,s=Ge,l=$e,u={},c=E("start","drag","end"),d=0,f=0;function h(e){e.on("mousedown.drag",p).filter(l).on("touchstart.drag",m).on("touchmove.drag",M).on("touchend.drag touchcancel.drag",K).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(){if(!o&&a.apply(this,arguments)){var s=v("mouse",i.apply(this,arguments),ke,this,arguments);s&&(Re(e.event.view).on("mousemove.drag",O,!0).on("mouseup.drag",g,!0),Ee(e.event.view),Ae(),r=!1,t=e.event.clientX,n=e.event.clientY,s("start"))}}function O(){if(Pe(),!r){var o=e.event.clientX-t,a=e.event.clientY-n;r=o*o+a*a>f}u.mouse("drag")}function g(){Re(e.event.view).on("mousemove.drag mouseup.drag",null),Ne(e.event.view,r),Pe(),u.mouse("end")}function m(){if(a.apply(this,arguments)){var t,n,r=e.event.changedTouches,o=i.apply(this,arguments),s=r.length;for(t=0;t<s;++t)(n=v(r[t].identifier,o,Fe,this,arguments))&&(Ae(),n("start"))}}function M(){var t,n,r=e.event.changedTouches,o=r.length;for(t=0;t<o;++t)(n=u[r[t].identifier])&&(Pe(),n("drag"))}function K(){var t,n,r=e.event.changedTouches,a=r.length;for(o&&clearTimeout(o),o=setTimeout((function(){o=null}),500),t=0;t<a;++t)(n=u[r[t].identifier])&&(Ae(),n("end"))}function v(t,n,r,o,a){var i,l,f,p=r(n,t),O=c.copy();if(Se(new Ve(h,"beforestart",i,t,d,p[0],p[1],0,0,O),(function(){return null!=(e.event.subject=i=s.apply(o,a))&&(l=i.x-p[0]||0,f=i.y-p[1]||0,!0)})))return function e(s){var c,g=p;switch(s){case"start":u[t]=e,c=d++;break;case"end":delete u[t],--d;case"drag":p=r(n,t),c=d}Se(new Ve(h,s,i,t,c,p[0]+l,p[1]+f,p[0]-g[0],p[1]-g[1],O),O.apply,O,[s,o,a])}}return h.filter=function(e){return arguments.length?(a="function"==typeof e?e:Ue(!!e),h):a},h.container=function(e){return arguments.length?(i="function"==typeof e?e:Ue(e),h):i},h.subject=function(e){return arguments.length?(s="function"==typeof e?e:Ue(e),h):s},h.touchable=function(e){return arguments.length?(l="function"==typeof e?e:Ue(!!e),h):l},h.on=function(){var e=c.on.apply(c,arguments);return e===c?h:e},h.clickDistance=function(e){return arguments.length?(f=(e=+e)*e,h):Math.sqrt(f)},h},e.dragDisable=Ee,e.dragEnable=Ne,e.dsv=function(e,t,n,r){3===arguments.length&&"function"==typeof n&&(r=n,n=void 0);var o=oa(e);return ya(t,n).then((function(e){return o.parse(e,r)}))},e.dsvFormat=oa,e.easeBack=Ir,e.easeBackIn=Dr,e.easeBackInOut=Ir,e.easeBackOut=Br,e.easeBounce=Cr,e.easeBounceIn=function(e){return 1-Cr(1-e)},e.easeBounceInOut=function(e){return((e*=2)<=1?1-Cr(1-e):Cr(e-1)+1)/2},e.easeBounceOut=Cr,e.easeCircle=Lr,e.easeCircleIn=function(e){return 1-Math.sqrt(1-e*e)},e.easeCircleInOut=Lr,e.easeCircleOut=function(e){return Math.sqrt(1- --e*e)},e.easeCubic=Kr,e.easeCubicIn=function(e){return e*e*e},e.easeCubicInOut=Kr,e.easeCubicOut=function(e){return--e*e*e+1},e.easeElastic=Fr,e.easeElasticIn=kr,e.easeElasticInOut=Ar,e.easeElasticOut=Fr,e.easeExp=br,e.easeExpIn=function(e){return Math.pow(2,10*e-10)},e.easeExpInOut=br,e.easeExpOut=function(e){return 1-Math.pow(2,-10*e)},e.easeLinear=function(e){return+e},e.easePoly=wr,e.easePolyIn=vr,e.easePolyInOut=wr,e.easePolyOut=Tr,e.easeQuad=Mr,e.easeQuadIn=function(e){return e*e},e.easeQuadInOut=Mr,e.easeQuadOut=function(e){return e*(2-e)},e.easeSin=yr,e.easeSinIn=function(e){return 1-Math.cos(e*xr)},e.easeSinInOut=yr,e.easeSinOut=function(e){return Math.sin(e*xr)},e.entries=function(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t},e.extent=c,e.forceCenter=function(e,t){var n;function r(){var r,o,a=n.length,i=0,s=0;for(r=0;r<a;++r)i+=(o=n[r]).x,s+=o.y;for(i=i/a-e,s=s/a-t,r=0;r<a;++r)(o=n[r]).x-=i,o.y-=s}return null==e&&(e=0),null==t&&(t=0),r.initialize=function(e){n=e},r.x=function(t){return arguments.length?(e=+t,r):e},r.y=function(e){return arguments.length?(t=+e,r):t},r},e.forceCollide=function(e){var t,n,r=1,o=1;function a(){for(var e,a,s,l,u,c,d,f=t.length,h=0;h<o;++h)for(a=Ua(t,Ga,$a).visitAfter(i),e=0;e<f;++e)s=t[e],c=n[s.index],d=c*c,l=s.x+s.vx,u=s.y+s.vy,a.visit(p);function p(e,t,n,o,a){var i=e.data,f=e.r,h=c+f;if(!i)return t>l+h||o<l-h||n>u+h||a<u-h;if(i.index>s.index){var p=l-i.x-i.vx,O=u-i.y-i.vy,g=p*p+O*O;g<h*h&&(0===p&&(g+=(p=Fa())*p),0===O&&(g+=(O=Fa())*O),g=(h-(g=Math.sqrt(g)))/g*r,s.vx+=(p*=g)*(h=(f*=f)/(d+f)),s.vy+=(O*=g)*h,i.vx-=p*(h=1-h),i.vy-=O*h)}}}function i(e){if(e.data)return e.r=n[e.data.index];for(var t=e.r=0;t<4;++t)e[t]&&e[t].r>e.r&&(e.r=e[t].r)}function s(){if(t){var r,o,a=t.length;for(n=new Array(a),r=0;r<a;++r)o=t[r],n[o.index]=+e(o,r,t)}}return"function"!=typeof e&&(e=ka(null==e?1:+e)),a.initialize=function(e){t=e,s()},a.iterations=function(e){return arguments.length?(o=+e,a):o},a.strength=function(e){return arguments.length?(r=+e,a):r},a.radius=function(t){return arguments.length?(e="function"==typeof t?t:ka(+t),s(),a):e},a},e.forceLink=function(e){var t,n,r,o,a,i=za,s=function(e){return 1/Math.min(o[e.source.index],o[e.target.index])},l=ka(30),u=1;function c(r){for(var o=0,i=e.length;o<u;++o)for(var s,l,c,d,f,h,p,O=0;O<i;++O)l=(s=e[O]).source,d=(c=s.target).x+c.vx-l.x-l.vx||Fa(),f=c.y+c.vy-l.y-l.vy||Fa(),d*=h=((h=Math.sqrt(d*d+f*f))-n[O])/h*r*t[O],f*=h,c.vx-=d*(p=a[O]),c.vy-=f*p,l.vx+=d*(p=1-p),l.vy+=f*p}function d(){if(r){var s,l,u=r.length,c=e.length,d=Bo(r,i);for(s=0,o=new Array(u);s<c;++s)(l=e[s]).index=s,"object"!=typeof l.source&&(l.source=Wa(d,l.source)),"object"!=typeof l.target&&(l.target=Wa(d,l.target)),o[l.source.index]=(o[l.source.index]||0)+1,o[l.target.index]=(o[l.target.index]||0)+1;for(s=0,a=new Array(c);s<c;++s)l=e[s],a[s]=o[l.source.index]/(o[l.source.index]+o[l.target.index]);t=new Array(c),f(),n=new Array(c),h()}}function f(){if(r)for(var n=0,o=e.length;n<o;++n)t[n]=+s(e[n],n,e)}function h(){if(r)for(var t=0,o=e.length;t<o;++t)n[t]=+l(e[t],t,e)}return null==e&&(e=[]),c.initialize=function(e){r=e,d()},c.links=function(t){return arguments.length?(e=t,d(),c):e},c.id=function(e){return arguments.length?(i=e,c):i},c.iterations=function(e){return arguments.length?(u=+e,c):u},c.strength=function(e){return arguments.length?(s="function"==typeof e?e:ka(+e),f(),c):s},c.distance=function(e){return arguments.length?(l="function"==typeof e?e:ka(+e),h(),c):l},c},e.forceManyBody=function(){var e,t,n,r,o=ka(-30),a=1,i=1/0,s=.81;function l(r){var o,a=e.length,i=Ua(e,qa,Ja).visitAfter(c);for(n=r,o=0;o<a;++o)t=e[o],i.visit(d)}function u(){if(e){var t,n,a=e.length;for(r=new Array(a),t=0;t<a;++t)n=e[t],r[n.index]=+o(n,t,e)}}function c(e){var t,n,o,a,i,s=0,l=0;if(e.length){for(o=a=i=0;i<4;++i)(t=e[i])&&(n=Math.abs(t.value))&&(s+=t.value,l+=n,o+=n*t.x,a+=n*t.y);e.x=o/l,e.y=a/l}else{(t=e).x=t.data.x,t.y=t.data.y;do{s+=r[t.data.index]}while(t=t.next)}e.value=s}function d(e,o,l,u){if(!e.value)return!0;var c=e.x-t.x,d=e.y-t.y,f=u-o,h=c*c+d*d;if(f*f/s<h)return h<i&&(0===c&&(h+=(c=Fa())*c),0===d&&(h+=(d=Fa())*d),h<a&&(h=Math.sqrt(a*h)),t.vx+=c*e.value*n/h,t.vy+=d*e.value*n/h),!0;if(!(e.length||h>=i)){(e.data!==t||e.next)&&(0===c&&(h+=(c=Fa())*c),0===d&&(h+=(d=Fa())*d),h<a&&(h=Math.sqrt(a*h)));do{e.data!==t&&(f=r[e.data.index]*n/h,t.vx+=c*f,t.vy+=d*f)}while(e=e.next)}}return l.initialize=function(t){e=t,u()},l.strength=function(e){return arguments.length?(o="function"==typeof e?e:ka(+e),u(),l):o},l.distanceMin=function(e){return arguments.length?(a=e*e,l):Math.sqrt(a)},l.distanceMax=function(e){return arguments.length?(i=e*e,l):Math.sqrt(i)},l.theta=function(e){return arguments.length?(s=e*e,l):Math.sqrt(s)},l},e.forceRadial=function(e,t,n){var r,o,a,i=ka(.1);function s(e){for(var i=0,s=r.length;i<s;++i){var l=r[i],u=l.x-t||1e-6,c=l.y-n||1e-6,d=Math.sqrt(u*u+c*c),f=(a[i]-d)*o[i]*e/d;l.vx+=u*f,l.vy+=c*f}}function l(){if(r){var t,n=r.length;for(o=new Array(n),a=new Array(n),t=0;t<n;++t)a[t]=+e(r[t],t,r),o[t]=isNaN(a[t])?0:+i(r[t],t,r)}}return"function"!=typeof e&&(e=ka(+e)),null==t&&(t=0),null==n&&(n=0),s.initialize=function(e){r=e,l()},s.strength=function(e){return arguments.length?(i="function"==typeof e?e:ka(+e),l(),s):i},s.radius=function(t){return arguments.length?(e="function"==typeof t?t:ka(+t),l(),s):e},s.x=function(e){return arguments.length?(t=+e,s):t},s.y=function(e){return arguments.length?(n=+e,s):n},s},e.forceSimulation=function(e){var t,n=1,r=.001,o=1-Math.pow(r,1/300),a=0,i=.6,s=Bo(),l=Yn(c),u=E("tick","end");function c(){d(),u.call("tick",t),n<r&&(l.stop(),u.call("end",t))}function d(r){var l,u,c=e.length;void 0===r&&(r=1);for(var d=0;d<r;++d)for(n+=(a-n)*o,s.each((function(e){e(n)})),l=0;l<c;++l)null==(u=e[l]).fx?u.x+=u.vx*=i:(u.x=u.fx,u.vx=0),null==u.fy?u.y+=u.vy*=i:(u.y=u.fy,u.vy=0);return t}function f(){for(var t,n=0,r=e.length;n<r;++n){if((t=e[n]).index=n,null!=t.fx&&(t.x=t.fx),null!=t.fy&&(t.y=t.fy),isNaN(t.x)||isNaN(t.y)){var o=10*Math.sqrt(n),a=n*Ya;t.x=o*Math.cos(a),t.y=o*Math.sin(a)}(isNaN(t.vx)||isNaN(t.vy))&&(t.vx=t.vy=0)}}function h(t){return t.initialize&&t.initialize(e),t}return null==e&&(e=[]),f(),t={tick:d,restart:function(){return l.restart(c),t},stop:function(){return l.stop(),t},nodes:function(n){return arguments.length?(e=n,f(),s.each(h),t):e},alpha:function(e){return arguments.length?(n=+e,t):n},alphaMin:function(e){return arguments.length?(r=+e,t):r},alphaDecay:function(e){return arguments.length?(o=+e,t):+o},alphaTarget:function(e){return arguments.length?(a=+e,t):a},velocityDecay:function(e){return arguments.length?(i=1-e,t):1-i},force:function(e,n){return arguments.length>1?(null==n?s.remove(e):s.set(e,h(n)),t):s.get(e)},find:function(t,n,r){var o,a,i,s,l,u=0,c=e.length;for(null==r?r=1/0:r*=r,u=0;u<c;++u)(i=(o=t-(s=e[u]).x)*o+(a=n-s.y)*a)<r&&(l=s,r=i);return l},on:function(e,n){return arguments.length>1?(u.on(e,n),t):u.on(e)}}},e.forceX=function(e){var t,n,r,o=ka(.1);function a(e){for(var o,a=0,i=t.length;a<i;++a)(o=t[a]).vx+=(r[a]-o.x)*n[a]*e}function i(){if(t){var a,i=t.length;for(n=new Array(i),r=new Array(i),a=0;a<i;++a)n[a]=isNaN(r[a]=+e(t[a],a,t))?0:+o(t[a],a,t)}}return"function"!=typeof e&&(e=ka(null==e?0:+e)),a.initialize=function(e){t=e,i()},a.strength=function(e){return arguments.length?(o="function"==typeof e?e:ka(+e),i(),a):o},a.x=function(t){return arguments.length?(e="function"==typeof t?t:ka(+t),i(),a):e},a},e.forceY=function(e){var t,n,r,o=ka(.1);function a(e){for(var o,a=0,i=t.length;a<i;++a)(o=t[a]).vy+=(r[a]-o.y)*n[a]*e}function i(){if(t){var a,i=t.length;for(n=new Array(i),r=new Array(i),a=0;a<i;++a)n[a]=isNaN(r[a]=+e(t[a],a,t))?0:+o(t[a],a,t)}}return"function"!=typeof e&&(e=ka(null==e?0:+e)),a.initialize=function(e){t=e,i()},a.strength=function(e){return arguments.length?(o="function"==typeof e?e:ka(+e),i(),a):o},a.y=function(t){return arguments.length?(e="function"==typeof t?t:ka(+t),i(),a):e},a},e.formatDefaultLocale=ci,e.formatLocale=ui,e.formatSpecifier=ti,e.geoAlbers=mc,e.geoAlbersUsa=function(){var e,t,n,r,o,a,i=mc(),s=gc().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l=gc().rotate([157,0]).center([-3,19.9]).parallels([8,18]),u={point:function(e,t){a=[e,t]}};function c(e){var t=e[0],i=e[1];return a=null,n.point(t,i),a||(r.point(t,i),a)||(o.point(t,i),a)}function d(){return e=t=null,c}return c.invert=function(e){var t=i.scale(),n=i.translate(),r=(e[0]-n[0])/t,o=(e[1]-n[1])/t;return(o>=.12&&o<.234&&r>=-.425&&r<-.214?s:o>=.166&&o<.234&&r>=-.214&&r<-.115?l:i).invert(e)},c.stream=function(n){return e&&t===n?e:(r=[i.stream(t=n),s.stream(n),l.stream(n)],o=r.length,e={point:function(e,t){for(var n=-1;++n<o;)r[n].point(e,t)},sphere:function(){for(var e=-1;++e<o;)r[e].sphere()},lineStart:function(){for(var e=-1;++e<o;)r[e].lineStart()},lineEnd:function(){for(var e=-1;++e<o;)r[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<o;)r[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<o;)r[e].polygonEnd()}});var r,o},c.precision=function(e){return arguments.length?(i.precision(e),s.precision(e),l.precision(e),d()):i.precision()},c.scale=function(e){return arguments.length?(i.scale(e),s.scale(.35*e),l.scale(e),c.translate(i.translate())):i.scale()},c.translate=function(e){if(!arguments.length)return i.translate();var t=i.scale(),a=+e[0],c=+e[1];return n=i.translate(e).clipExtent([[a-.455*t,c-.238*t],[a+.455*t,c+.238*t]]).stream(u),r=s.translate([a-.307*t,c+.201*t]).clipExtent([[a-.425*t+Mi,c+.12*t+Mi],[a-.214*t-Mi,c+.234*t-Mi]]).stream(u),o=l.translate([a-.205*t,c+.212*t]).clipExtent([[a-.214*t+Mi,c+.166*t+Mi],[a-.115*t-Mi,c+.234*t-Mi]]).stream(u),d()},c.fitExtent=function(e,t){return oc(c,e,t)},c.fitSize=function(e,t){return ac(c,e,t)},c.fitWidth=function(e,t){return ic(c,e,t)},c.fitHeight=function(e,t){return sc(c,e,t)},c.scale(1070)},e.geoArea=function(e){return es.reset(),Wi(e,ts),2*es},e.geoAzimuthalEqualArea=function(){return fc(vc).scale(124.75).clipAngle(179.999)},e.geoAzimuthalEqualAreaRaw=vc,e.geoAzimuthalEquidistant=function(){return fc(Tc).scale(79.4188).clipAngle(179.999)},e.geoAzimuthalEquidistantRaw=Tc,e.geoBounds=function(e){var t,n,r,o,a,i,s;if(gs=Os=-(hs=ps=1/0),Ts=[],Wi(e,Us),n=Ts.length){for(Ts.sort(Js),t=1,a=[r=Ts[0]];t<n;++t)Ys(r,(o=Ts[t])[0])||Ys(r,o[1])?(qs(r[0],o[1])>qs(r[0],r[1])&&(r[1]=o[1]),qs(o[0],r[1])>qs(r[0],r[1])&&(r[0]=o[0])):a.push(r=o);for(i=-1/0,t=0,r=a[n=a.length-1];t<=n;r=o,++t)o=a[t],(s=qs(r[1],o[0]))>i&&(i=s,hs=o[0],Os=r[1])}return Ts=ws=null,hs===1/0||ps===1/0?[[NaN,NaN],[NaN,NaN]]:[[hs,ps],[Os,gs]]},e.geoCentroid=function(e){Ss=xs=ys=bs=Ls=Rs=Cs=Ds=Bs=Is=_s=0,Wi(e,Qs);var t=Bs,n=Is,r=_s,o=t*t+n*n+r*r;return o<Ki&&(t=Rs,n=Cs,r=Ds,xs<Mi&&(t=ys,n=bs,r=Ls),(o=t*t+n*n+r*r)<Ki)?[NaN,NaN]:[Ri(n,t)*xi,Ni(r/Ai(o))*xi]},e.geoCircle=function(){var e,t,n=ll([0,0]),r=ll(90),o=ll(6),a={point:function(n,r){e.push(n=t(n,r)),n[0]*=xi,n[1]*=xi}};function i(){var i=n.apply(this,arguments),s=r.apply(this,arguments)*yi,l=o.apply(this,arguments)*yi;return e=[],t=dl(-i[0]*yi,-i[1]*yi,0).invert,gl(a,s,l,1),i={type:"Polygon",coordinates:[e]},e=t=null,i}return i.center=function(e){return arguments.length?(n="function"==typeof e?e:ll([+e[0],+e[1]]),i):n},i.radius=function(e){return arguments.length?(r="function"==typeof e?e:ll(+e),i):r},i.precision=function(e){return arguments.length?(o="function"==typeof e?e:ll(+e),i):o},i},e.geoClipAntimeridian=Cl,e.geoClipCircle=Dl,e.geoClipExtent=function(){var e,t,n,r=0,o=0,a=960,i=500;return n={stream:function(n){return e&&t===n?e:e=_l(r,o,a,i)(t=n)},extent:function(s){return arguments.length?(r=+s[0][0],o=+s[0][1],a=+s[1][0],i=+s[1][1],e=t=null,n):[[r,o],[a,i]]}}},e.geoClipRectangle=_l,e.geoConicConformal=function(){return pc(yc).scale(109.5).parallels([30,30])},e.geoConicConformalRaw=yc,e.geoConicEqualArea=gc,e.geoConicEqualAreaRaw=Oc,e.geoConicEquidistant=function(){return pc(Lc).scale(131.154).center([0,13.9389])},e.geoConicEquidistantRaw=Lc,e.geoContains=function(e,t){return(e&&zl.hasOwnProperty(e.type)?zl[e.type]:ql)(e,t)},e.geoDistance=$l,e.geoEqualEarth=function(){return fc(_c).scale(177.158)},e.geoEqualEarthRaw=_c,e.geoEquirectangular=function(){return fc(bc).scale(152.63)},e.geoEquirectangularRaw=bc,e.geoGnomonic=function(){return fc(kc).scale(144.049).clipAngle(60)},e.geoGnomonicRaw=kc,e.geoGraticule=nu,e.geoGraticule10=function(){return nu()()},e.geoIdentity=function(){var e,t,n,r,o,a,i,s=1,l=0,u=0,c=1,d=1,f=0,h=null,p=1,O=1,g=tc({point:function(e,t){var n=K([e,t]);this.stream.point(n[0],n[1])}}),m=ru;function M(){return p=s*c,O=s*d,a=i=null,K}function K(n){var r=n[0]*p,o=n[1]*O;if(f){var a=o*e-r*t;r=r*e+o*t,o=a}return[r+l,o+u]}return K.invert=function(n){var r=n[0]-l,o=n[1]-u;if(f){var a=o*e+r*t;r=r*e-o*t,o=a}return[r/p,o/O]},K.stream=function(e){return a&&i===e?a:a=g(m(i=e))},K.postclip=function(e){return arguments.length?(m=e,h=n=r=o=null,M()):m},K.clipExtent=function(e){return arguments.length?(m=null==e?(h=n=r=o=null,ru):_l(h=+e[0][0],n=+e[0][1],r=+e[1][0],o=+e[1][1]),M()):null==h?null:[[h,n],[r,o]]},K.scale=function(e){return arguments.length?(s=+e,M()):s},K.translate=function(e){return arguments.length?(l=+e[0],u=+e[1],M()):[l,u]},K.angle=function(n){return arguments.length?(t=ki(f=n%360*yi),e=Ci(f),M()):f*xi},K.reflectX=function(e){return arguments.length?(c=e?-1:1,M()):c<0},K.reflectY=function(e){return arguments.length?(d=e?-1:1,M()):d<0},K.fitExtent=function(e,t){return oc(K,e,t)},K.fitSize=function(e,t){return ac(K,e,t)},K.fitWidth=function(e,t){return ic(K,e,t)},K.fitHeight=function(e,t){return sc(K,e,t)},K},e.geoInterpolate=function(e,t){var n=e[0]*yi,r=e[1]*yi,o=t[0]*yi,a=t[1]*yi,i=Ci(r),s=ki(r),l=Ci(a),u=ki(a),c=i*Ci(n),d=i*ki(n),f=l*Ci(o),h=l*ki(o),p=2*Ni(Ai(Ui(a-r)+i*l*Ui(o-n))),O=ki(p),g=p?function(e){var t=ki(e*=p)/O,n=ki(p-e)/O,r=n*c+t*f,o=n*d+t*h,a=n*s+t*u;return[Ri(o,r)*xi,Ri(a,Ai(r*r+o*o))*xi]}:function(){return[n*xi,r*xi]};return g.distance=p,g},e.geoLength=Hl,e.geoMercator=function(){return Sc(wc).scale(961/Si)},e.geoMercatorRaw=wc,e.geoNaturalEarth1=function(){return fc(Fc).scale(175.295)},e.geoNaturalEarth1Raw=Fc,e.geoOrthographic=function(){return fc(Ac).scale(249.5).clipAngle(90+Mi)},e.geoOrthographicRaw=Ac,e.geoPath=function(e,t){var n,r,o=4.5;function a(e){return e&&("function"==typeof o&&r.pointRadius(+o.apply(this,arguments)),Wi(e,n(r))),r.result()}return a.area=function(e){return Wi(e,n(cu)),cu.result()},a.measure=function(e){return Wi(e,n(Yu)),Yu.result()},a.bounds=function(e){return Wi(e,n(Su)),Su.result()},a.centroid=function(e){return Wi(e,n(_u)),_u.result()},a.projection=function(t){return arguments.length?(n=null==t?(e=null,ru):(e=t).stream,a):e},a.context=function(e){return arguments.length?(r=null==e?(t=null,new Zu):new ju(t=e),"function"!=typeof o&&r.pointRadius(o),a):t},a.pointRadius=function(e){return arguments.length?(o="function"==typeof e?e:(r.pointRadius(+e),+e),a):o},a.projection(e).context(t)},e.geoProjection=fc,e.geoProjectionMutator=hc,e.geoRotation=Ol,e.geoStereographic=function(){return fc(Pc).scale(250).clipAngle(142)},e.geoStereographicRaw=Pc,e.geoStream=Wi,e.geoTransform=function(e){return{stream:tc(e)}},e.geoTransverseMercator=function(){var e=Sc(Ec),t=e.center,n=e.rotate;return e.center=function(e){return arguments.length?t([-e[1],e[0]]):[(e=t())[1],-e[0]]},e.rotate=function(e){return arguments.length?n([e[0],e[1],e.length>2?e[2]+90:90]):[(e=n())[0],e[1],e[2]-90]},n([0,0,90]).scale(159.155)},e.geoTransverseMercatorRaw=Ec,e.gray=function(e,t){return new Rt(e,0,0,null==t?1:t)},e.hcl=kt,e.hierarchy=jc,e.histogram=function(){var e=O,t=c,n=S;function r(r){var a,i,s=r.length,l=new Array(s);for(a=0;a<s;++a)l[a]=e(r[a],a,r);var u=t(l),c=u[0],d=u[1],f=n(l,c,d);Array.isArray(f)||(f=w(c,d,f),f=g(Math.ceil(c/f)*f,d,f));for(var h=f.length;f[0]<=c;)f.shift(),--h;for(;f[h-1]>d;)f.pop(),--h;var p,O=new Array(h+1);for(a=0;a<=h;++a)(p=O[a]=[]).x0=a>0?f[a-1]:c,p.x1=a<h?f[a]:d;for(a=0;a<s;++a)c<=(i=l[a])&&i<=d&&O[o(f,i,0,h)].push(r[a]);return O}return r.value=function(t){return arguments.length?(e="function"==typeof t?t:p(t),r):e},r.domain=function(e){return arguments.length?(t="function"==typeof e?e:p([e[0],e[1]]),r):t},r.thresholds=function(e){return arguments.length?(n="function"==typeof e?e:Array.isArray(e)?p(f.call(e)):p(e),r):n},r},e.hsl=Kt,e.html=Ia,e.image=function(e,t){return new Promise((function(n,r){var o=new Image;for(var a in t)o[a]=t[a];o.onerror=r,o.onload=function(){n(o)},o.src=e}))},e.interpolate=hn,e.interpolateArray=function(e,t){return(on(t)?rn:an)(e,t)},e.interpolateBasis=Wt,e.interpolateBasisClosed=qt,e.interpolateBlues=dg,e.interpolateBrBG=SO,e.interpolateBuGn=VO,e.interpolateBuPu=jO,e.interpolateCividis=function(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-2710.57*e)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-67.37*e)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-2475.67*e)))))))+")"},e.interpolateCool=xg,e.interpolateCubehelix=Pn,e.interpolateCubehelixDefault=wg,e.interpolateCubehelixLong=En,e.interpolateDate=sn,e.interpolateDiscrete=function(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}},e.interpolateGnBu=$O,e.interpolateGreens=hg,e.interpolateGreys=Og,e.interpolateHcl=In,e.interpolateHclLong=_n,e.interpolateHsl=Cn,e.interpolateHslLong=Dn,e.interpolateHue=function(e,t){var n=Qt(+e,+t);return function(e){var t=n(e);return t-360*Math.floor(t/360)}},e.interpolateInferno=Ig,e.interpolateLab=function(e,t){var n=Xt((e=Lt(e)).l,(t=Lt(t)).l),r=Xt(e.a,t.a),o=Xt(e.b,t.b),a=Xt(e.opacity,t.opacity);return function(t){return e.l=n(t),e.a=r(t),e.b=o(t),e.opacity=a(t),e+""}},e.interpolateMagma=Bg,e.interpolateNumber=ln,e.interpolateNumberArray=rn,e.interpolateObject=un,e.interpolateOrRd=WO,e.interpolateOranges=Tg,e.interpolatePRGn=yO,e.interpolatePiYG=LO,e.interpolatePlasma=_g,e.interpolatePuBu=QO,e.interpolatePuBuGn=JO,e.interpolatePuOr=CO,e.interpolatePuRd=ZO,e.interpolatePurples=mg,e.interpolateRainbow=function(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return yg.h=360*e-100,yg.s=1.5-1.5*t,yg.l=.8-.9*t,yg+""},e.interpolateRdBu=BO,e.interpolateRdGy=_O,e.interpolateRdPu=tg,e.interpolateRdYlBu=FO,e.interpolateRdYlGn=PO,e.interpolateReds=Kg,e.interpolateRgb=Zt,e.interpolateRgbBasis=tn,e.interpolateRgbBasisClosed=nn,e.interpolateRound=pn,e.interpolateSinebow=function(e){var t;return e=(.5-e)*Math.PI,bg.r=255*(t=Math.sin(e))*t,bg.g=255*(t=Math.sin(e+Lg))*t,bg.b=255*(t=Math.sin(e+Rg))*t,bg+""},e.interpolateSpectral=NO,e.interpolateString=fn,e.interpolateTransformCss=Sn,e.interpolateTransformSvg=xn,e.interpolateTurbo=function(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-14825.05*e)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+707.56*e)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-6838.66*e)))))))+")"},e.interpolateViridis=Dg,e.interpolateWarm=Sg,e.interpolateYlGn=ag,e.interpolateYlGnBu=rg,e.interpolateYlOrBr=sg,e.interpolateYlOrRd=ug,e.interpolateZoom=Ln,e.interrupt=lr,e.interval=function(e,t,n){var r=new Jn,o=t;return null==t?(r.restart(e,t,n),r):(t=+t,n=null==n?Wn():+n,r.restart((function a(i){i+=o,r.restart(a,o+=t,n),e(i)}),t,n),r)},e.isoFormat=qp,e.isoParse=Jp,e.json=function(e,t){return fetch(e,t).then(Ca)},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t},e.lab=Lt,e.lch=function(e,t,n,r){return 1===arguments.length?_t(e):new Ft(n,t,e,null==r?1:r)},e.line=rm,e.lineRadial=dm,e.linkHorizontal=function(){return mm(Mm)},e.linkRadial=function(){var e=mm(vm);return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e},e.linkVertical=function(){return mm(Km)},e.local=De,e.map=Bo,e.matcher=Q,e.max=y,e.mean=function(e,t){var n,r=e.length,o=r,a=-1,i=0;if(null==t)for(;++a<r;)isNaN(n=s(e[a]))?--o:i+=n;else for(;++a<r;)isNaN(n=s(t(e[a],a,e)))?--o:i+=n;if(o)return i/o},e.median=function(e,n){var r,o=e.length,a=-1,i=[];if(null==n)for(;++a<o;)isNaN(r=s(e[a]))||i.push(r);else for(;++a<o;)isNaN(r=s(n(e[a],a,e)))||i.push(r);return x(i.sort(t),.5)},e.merge=b,e.min=L,e.mouse=ke,e.namespace=$,e.namespaces=G,e.nest=function(){var e,t,n,r=[],o=[];function a(n,o,i,s){if(o>=r.length)return null!=e&&n.sort(e),null!=t?t(n):n;for(var l,u,c,d=-1,f=n.length,h=r[o++],p=Bo(),O=i();++d<f;)(c=p.get(l=h(u=n[d])+""))?c.push(u):p.set(l,[u]);return p.each((function(e,t){s(O,t,a(e,o,i,s))})),O}return n={object:function(e){return a(e,0,Io,_o)},map:function(e){return a(e,0,ko,Fo)},entries:function(e){return function e(n,a){if(++a>r.length)return n;var i,s=o[a-1];return null!=t&&a>=r.length?i=n.entries():(i=[],n.each((function(t,n){i.push({key:n,values:e(t,a)})}))),null!=s?i.sort((function(e,t){return s(e.key,t.key)})):i}(a(e,0,ko,Fo),0)},key:function(e){return r.push(e),n},sortKeys:function(e){return o[r.length-1]=e,n},sortValues:function(t){return e=t,n},rollup:function(e){return t=e,n}}},e.now=Wn,e.pack=function(){var e=null,t=1,n=1,r=cd;function o(o){return o.x=t/2,o.y=n/2,e?o.eachBefore(hd(e)).eachAfter(pd(r,.5)).eachBefore(Od(1)):o.eachBefore(hd(fd)).eachAfter(pd(cd,1)).eachAfter(pd(r,o.r/Math.min(t,n))).eachBefore(Od(Math.min(t,n)/(2*o.r))),o}return o.radius=function(t){return arguments.length?(e=ld(t),o):e},o.size=function(e){return arguments.length?(t=+e[0],n=+e[1],o):[t,n]},o.padding=function(e){return arguments.length?(r="function"==typeof e?e:dd(+e),o):r},o},e.packEnclose=Jc,e.packSiblings=function(e){return sd(e),e},e.pairs=function(e,t){null==t&&(t=i);for(var n=0,r=e.length-1,o=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(o,o=e[++n]);return a},e.partition=function(){var e=1,t=1,n=0,r=!1;function o(o){var a=o.height+1;return o.x0=o.y0=n,o.x1=e,o.y1=t/a,o.eachBefore(function(e,t){return function(r){r.children&&md(r,r.x0,e*(r.depth+1)/t,r.x1,e*(r.depth+2)/t);var o=r.x0,a=r.y0,i=r.x1-n,s=r.y1-n;i<o&&(o=i=(o+i)/2),s<a&&(a=s=(a+s)/2),r.x0=o,r.y0=a,r.x1=i,r.y1=s}}(t,a)),r&&o.eachBefore(gd),o}return o.round=function(e){return arguments.length?(r=!!e,o):r},o.size=function(n){return arguments.length?(e=+n[0],t=+n[1],o):[e,t]},o.padding=function(e){return arguments.length?(n=+e,o):n},o},e.path=xo,e.permute=function(e,t){for(var n=t.length,r=new Array(n);n--;)r[n]=e[t[n]];return r},e.pie=function(){var e=im,t=am,n=null,r=kg(0),o=kg($g),a=kg(0);function i(i){var s,l,u,c,d,f=i.length,h=0,p=new Array(f),O=new Array(f),g=+r.apply(this,arguments),m=Math.min($g,Math.max(-$g,o.apply(this,arguments)-g)),M=Math.min(Math.abs(m)/f,a.apply(this,arguments)),K=M*(m<0?-1:1);for(s=0;s<f;++s)(d=O[p[s]=s]=+e(i[s],s,i))>0&&(h+=d);for(null!=t?p.sort((function(e,n){return t(O[e],O[n])})):null!=n&&p.sort((function(e,t){return n(i[e],i[t])})),s=0,u=h?(m-f*K)/h:0;s<f;++s,g=c)l=p[s],c=g+((d=O[l])>0?d*u:0)+K,O[l]={data:i[l],index:s,value:d,startAngle:g,endAngle:c,padAngle:M};return O}return i.value=function(t){return arguments.length?(e="function"==typeof t?t:kg(+t),i):e},i.sortValues=function(e){return arguments.length?(t=e,n=null,i):t},i.sort=function(e){return arguments.length?(n=e,t=null,i):n},i.startAngle=function(e){return arguments.length?(r="function"==typeof e?e:kg(+e),i):r},i.endAngle=function(e){return arguments.length?(o="function"==typeof e?e:kg(+e),i):o},i.padAngle=function(e){return arguments.length?(a="function"==typeof e?e:kg(+e),i):a},i},e.piecewise=function(e,t){for(var n=0,r=t.length-1,o=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(o,o=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return a[t](e-t)}},e.pointRadial=hm,e.polygonArea=function(e){for(var t,n=-1,r=e.length,o=e[r-1],a=0;++n<r;)t=o,o=e[n],a+=t[1]*o[0]-t[0]*o[1];return a/2},e.polygonCentroid=function(e){for(var t,n,r=-1,o=e.length,a=0,i=0,s=e[o-1],l=0;++r<o;)t=s,s=e[r],l+=n=t[0]*s[1]-s[0]*t[1],a+=(t[0]+s[0])*n,i+=(t[1]+s[1])*n;return[a/(l*=3),i/l]},e.polygonContains=function(e,t){for(var n,r,o=e.length,a=e[o-1],i=t[0],s=t[1],l=a[0],u=a[1],c=!1,d=0;d<o;++d)n=(a=e[d])[0],(r=a[1])>s!=u>s&&i<(l-n)*(s-r)/(u-r)+n&&(c=!c),l=n,u=r;return c},e.polygonHull=function(e){if((n=e.length)<3)return null;var t,n,r=new Array(n),o=new Array(n);for(t=0;t<n;++t)r[t]=[+e[t][0],+e[t][1],t];for(r.sort(kd),t=0;t<n;++t)o[t]=[r[t][0],-r[t][1]];var a=Fd(r),i=Fd(o),s=i[0]===a[0],l=i[i.length-1]===a[a.length-1],u=[];for(t=a.length-1;t>=0;--t)u.push(e[r[a[t]][2]]);for(t=+s;t<i.length-l;++t)u.push(e[r[i[t]][2]]);return u},e.polygonLength=function(e){for(var t,n,r=-1,o=e.length,a=e[o-1],i=a[0],s=a[1],l=0;++r<o;)t=i,n=s,t-=i=(a=e[r])[0],n-=s=a[1],l+=Math.sqrt(t*t+n*n);return l},e.precisionFixed=di,e.precisionPrefix=fi,e.precisionRound=hi,e.quadtree=Ua,e.quantile=x,e.quantize=function(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n},e.radialArea=fm,e.radialLine=dm,e.randomBates=Vd,e.randomExponential=Hd,e.randomIrwinHall=Ud,e.randomLogNormal=Nd,e.randomNormal=Ed,e.randomUniform=Pd,e.range=g,e.rgb=ft,e.ribbon=function(){var e=yo,t=bo,n=Lo,r=Ro,o=Co,a=null;function i(){var i,s=Mo.call(arguments),l=e.apply(this,s),u=t.apply(this,s),c=+n.apply(this,(s[0]=l,s)),d=r.apply(this,s)-po,f=o.apply(this,s)-po,h=c*co(d),p=c*fo(d),O=+n.apply(this,(s[0]=u,s)),g=r.apply(this,s)-po,m=o.apply(this,s)-po;if(a||(a=i=xo()),a.moveTo(h,p),a.arc(0,0,c,d,f),d===g&&f===m||(a.quadraticCurveTo(0,0,O*co(g),O*fo(g)),a.arc(0,0,O,g,m)),a.quadraticCurveTo(0,0,h,p),a.closePath(),i)return a=null,i+""||null}return i.radius=function(e){return arguments.length?(n="function"==typeof e?e:Ko(+e),i):n},i.startAngle=function(e){return arguments.length?(r="function"==typeof e?e:Ko(+e),i):r},i.endAngle=function(e){return arguments.length?(o="function"==typeof e?e:Ko(+e),i):o},i.source=function(t){return arguments.length?(e=t,i):e},i.target=function(e){return arguments.length?(t=e,i):t},i.context=function(e){return arguments.length?(a=null==e?null:e,i):a},i},e.scaleBand=Yd,e.scaleDiverging=function e(){var t=uf(lO()(Zd));return t.copy=function(){return iO(t,e())},Gd.apply(t,arguments)},e.scaleDivergingLog=function e(){var t=mf(lO()).domain([.1,1,10]);return t.copy=function(){return iO(t,e()).base(t.base())},Gd.apply(t,arguments)},e.scaleDivergingPow=uO,e.scaleDivergingSqrt=function(){return uO.apply(null,arguments).exponent(.5)},e.scaleDivergingSymlog=function e(){var t=vf(lO());return t.copy=function(){return iO(t,e()).constant(t.constant())},Gd.apply(t,arguments)},e.scaleIdentity=function e(t){var n;function r(e){return isNaN(e=+e)?n:e}return r.invert=r,r.domain=r.range=function(e){return arguments.length?(t=zd.call(e,Qd),r):t.slice()},r.unknown=function(e){return arguments.length?(n=e,r):n},r.copy=function(){return e(t).unknown(n)},t=arguments.length?zd.call(t,Qd):[0,1],uf(r)},e.scaleImplicit=qd,e.scaleLinear=function e(){var t=sf(Zd,Zd);return t.copy=function(){return of(t,e())},jd.apply(t,arguments),uf(t)},e.scaleLog=function e(){var t=mf(af()).domain([1,10]);return t.copy=function(){return of(t,e()).base(t.base())},jd.apply(t,arguments),t},e.scaleOrdinal=Jd,e.scalePoint=function(){return function e(t){var n=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return e(n())},t}(Yd.apply(null,arguments).paddingInner(1))},e.scalePow=yf,e.scaleQuantile=function e(){var n,r=[],a=[],i=[];function s(){var e=0,t=Math.max(1,a.length);for(i=new Array(t-1);++e<t;)i[e-1]=x(r,e/t);return l}function l(e){return isNaN(e=+e)?n:a[o(i,e)]}return l.invertExtent=function(e){var t=a.indexOf(e);return t<0?[NaN,NaN]:[t>0?i[t-1]:r[0],t<i.length?i[t]:r[r.length-1]]},l.domain=function(e){if(!arguments.length)return r.slice();r=[];for(var n,o=0,a=e.length;o<a;++o)null==(n=e[o])||isNaN(n=+n)||r.push(n);return r.sort(t),s()},l.range=function(e){return arguments.length?(a=Wd.call(e),s()):a.slice()},l.unknown=function(e){return arguments.length?(n=e,l):n},l.quantiles=function(){return i.slice()},l.copy=function(){return e().domain(r).range(a).unknown(n)},jd.apply(l,arguments)},e.scaleQuantize=function e(){var t,n=0,r=1,a=1,i=[.5],s=[0,1];function l(e){return e<=e?s[o(i,e,0,a)]:t}function u(){var e=-1;for(i=new Array(a);++e<a;)i[e]=((e+1)*r-(e-a)*n)/(a+1);return l}return l.domain=function(e){return arguments.length?(n=+e[0],r=+e[1],u()):[n,r]},l.range=function(e){return arguments.length?(a=(s=Wd.call(e)).length-1,u()):s.slice()},l.invertExtent=function(e){var t=s.indexOf(e);return t<0?[NaN,NaN]:t<1?[n,i[0]]:t>=a?[i[a-1],r]:[i[t-1],i[t]]},l.unknown=function(e){return arguments.length?(t=e,l):l},l.thresholds=function(){return i.slice()},l.copy=function(){return e().domain([n,r]).range(s).unknown(t)},jd.apply(uf(l),arguments)},e.scaleSequential=function e(){var t=uf(aO()(Zd));return t.copy=function(){return iO(t,e())},Gd.apply(t,arguments)},e.scaleSequentialLog=function e(){var t=mf(aO()).domain([1,10]);return t.copy=function(){return iO(t,e()).base(t.base())},Gd.apply(t,arguments)},e.scaleSequentialPow=sO,e.scaleSequentialQuantile=function e(){var n=[],r=Zd;function a(e){if(!isNaN(e=+e))return r((o(n,e)-1)/(n.length-1))}return a.domain=function(e){if(!arguments.length)return n.slice();n=[];for(var r,o=0,i=e.length;o<i;++o)null==(r=e[o])||isNaN(r=+r)||n.push(r);return n.sort(t),a},a.interpolator=function(e){return arguments.length?(r=e,a):r},a.copy=function(){return e(r).domain(n)},Gd.apply(a,arguments)},e.scaleSequentialSqrt=function(){return sO.apply(null,arguments).exponent(.5)},e.scaleSequentialSymlog=function e(){var t=vf(aO());return t.copy=function(){return iO(t,e()).constant(t.constant())},Gd.apply(t,arguments)},e.scaleSqrt=function(){return yf.apply(null,arguments).exponent(.5)},e.scaleSymlog=function e(){var t=vf(af());return t.copy=function(){return of(t,e()).constant(t.constant())},jd.apply(t,arguments)},e.scaleThreshold=function e(){var t,n=[.5],r=[0,1],a=1;function i(e){return e<=e?r[o(n,e,0,a)]:t}return i.domain=function(e){return arguments.length?(n=Wd.call(e),a=Math.min(n.length,r.length-1),i):n.slice()},i.range=function(e){return arguments.length?(r=Wd.call(e),a=Math.min(n.length,r.length-1),i):r.slice()},i.invertExtent=function(e){var t=r.indexOf(e);return[n[t-1],n[t]]},i.unknown=function(e){return arguments.length?(t=e,i):t},i.copy=function(){return e().domain(n).range(r).unknown(t)},jd.apply(i,arguments)},e.scaleTime=function(){return jd.apply(oO(oh,nh,Hf,Nf,Pf,Ff,_f,Cf,e.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},e.scaleUtc=function(){return jd.apply(oO(Ch,Lh,hh,ch,lh,ih,_f,Cf,e.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)},e.scan=function(e,n){if(r=e.length){var r,o,a=0,i=0,s=e[i];for(null==n&&(n=t);++a<r;)(n(o=e[a],s)<0||0!==n(s,s))&&(s=o,i=a);return 0===n(s,s)?i:void 0}},e.schemeAccent=fO,e.schemeBlues=cg,e.schemeBrBG=wO,e.schemeBuGn=UO,e.schemeBuPu=HO,e.schemeCategory10=dO,e.schemeDark2=hO,e.schemeGnBu=GO,e.schemeGreens=fg,e.schemeGreys=pg,e.schemeOrRd=zO,e.schemeOranges=vg,e.schemePRGn=xO,e.schemePaired=pO,e.schemePastel1=OO,e.schemePastel2=gO,e.schemePiYG=bO,e.schemePuBu=YO,e.schemePuBuGn=qO,e.schemePuOr=RO,e.schemePuRd=XO,e.schemePurples=gg,e.schemeRdBu=DO,e.schemeRdGy=IO,e.schemeRdPu=eg,e.schemeRdYlBu=kO,e.schemeRdYlGn=AO,e.schemeReds=Mg,e.schemeSet1=mO,e.schemeSet2=MO,e.schemeSet3=KO,e.schemeSpectral=EO,e.schemeTableau10=vO,e.schemeYlGn=og,e.schemeYlGnBu=ng,e.schemeYlOrBr=ig,e.schemeYlOrRd=lg,e.select=Re,e.selectAll=function(e){return"string"==typeof e?new be([document.querySelectorAll(e)],[document.documentElement]):new be([null==e?[]:e],ye)},e.selection=Le,e.selector=q,e.selectorAll=Y,e.set=Eo,e.shuffle=function(e,t,n){for(var r,o,a=(null==n?e.length:n)-(t=null==t?0:+t);a;)o=Math.random()*a--|0,r=e[a+t],e[a+t]=e[o+t],e[o+t]=r;return e},e.stack=function(){var e=kg([]),t=mM,n=gM,r=MM;function o(o){var a,i,s=e.apply(this,arguments),l=o.length,u=s.length,c=new Array(u);for(a=0;a<u;++a){for(var d,f=s[a],h=c[a]=new Array(l),p=0;p<l;++p)h[p]=d=[0,+r(o[p],f,p,o)],d.data=o[p];h.key=f}for(a=0,i=t(c);a<u;++a)c[i[a]].index=a;return n(c,i),c}return o.keys=function(t){return arguments.length?(e="function"==typeof t?t:kg(pm.call(t)),o):e},o.value=function(e){return arguments.length?(r="function"==typeof e?e:kg(+e),o):r},o.order=function(e){return arguments.length?(t=null==e?mM:"function"==typeof e?e:kg(pm.call(e)),o):t},o.offset=function(e){return arguments.length?(n=null==e?gM:e,o):n},o},e.stackOffsetDiverging=function(e,t){if((s=e.length)>0)for(var n,r,o,a,i,s,l=0,u=e[t[0]].length;l<u;++l)for(a=i=0,n=0;n<s;++n)(o=(r=e[t[n]][l])[1]-r[0])>0?(r[0]=a,r[1]=a+=o):o<0?(r[1]=i,r[0]=i+=o):(r[0]=0,r[1]=o)},e.stackOffsetExpand=function(e,t){if((r=e.length)>0){for(var n,r,o,a=0,i=e[0].length;a<i;++a){for(o=n=0;n<r;++n)o+=e[n][a][1]||0;if(o)for(n=0;n<r;++n)e[n][a][1]/=o}gM(e,t)}},e.stackOffsetNone=gM,e.stackOffsetSilhouette=function(e,t){if((n=e.length)>0){for(var n,r=0,o=e[t[0]],a=o.length;r<a;++r){for(var i=0,s=0;i<n;++i)s+=e[i][r][1]||0;o[r][1]+=o[r][0]=-s/2}gM(e,t)}},e.stackOffsetWiggle=function(e,t){if((o=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,o,a=0,i=1;i<r;++i){for(var s=0,l=0,u=0;s<o;++s){for(var c=e[t[s]],d=c[i][1]||0,f=(d-(c[i-1][1]||0))/2,h=0;h<s;++h){var p=e[t[h]];f+=(p[i][1]||0)-(p[i-1][1]||0)}l+=d,u+=f*d}n[i-1][1]+=n[i-1][0]=a,l&&(a-=u/l)}n[i-1][1]+=n[i-1][0]=a,gM(e,t)}},e.stackOrderAppearance=KM,e.stackOrderAscending=TM,e.stackOrderDescending=function(e){return TM(e).reverse()},e.stackOrderInsideOut=function(e){var t,n,r=e.length,o=e.map(wM),a=KM(e),i=0,s=0,l=[],u=[];for(t=0;t<r;++t)n=a[t],i<s?(i+=o[n],l.push(n)):(s+=o[n],u.push(n));return u.reverse().concat(l)},e.stackOrderNone=mM,e.stackOrderReverse=function(e){return mM(e).reverse()},e.stratify=function(){var e=vd,t=Td;function n(n){var r,o,a,i,s,l,u,c=n.length,d=new Array(c),f={};for(o=0;o<c;++o)r=n[o],s=d[o]=new Wc(r),null!=(l=e(r,o,n))&&(l+="")&&(f[u="$"+(s.id=l)]=u in f?Kd:s);for(o=0;o<c;++o)if(s=d[o],null!=(l=t(n[o],o,n))&&(l+="")){if(!(i=f["$"+l]))throw new Error("missing: "+l);if(i===Kd)throw new Error("ambiguous: "+l);i.children?i.children.push(s):i.children=[s],s.parent=i}else{if(a)throw new Error("multiple roots");a=s}if(!a)throw new Error("no root");if(a.parent=Md,a.eachBefore((function(e){e.depth=e.parent.depth+1,--c})).eachBefore(zc),a.parent=null,c>0)throw new Error("cycle");return a}return n.id=function(t){return arguments.length?(e=ud(t),n):e},n.parentId=function(e){return arguments.length?(t=ud(e),n):t},n},e.style=oe,e.sum=function(e,t){var n,r=e.length,o=-1,a=0;if(null==t)for(;++o<r;)(n=+e[o])&&(a+=n);else for(;++o<r;)(n=+t(e[o],o,e))&&(a+=n);return a},e.svg=_a,e.symbol=function(){var e=kg(Tm),t=kg(64),n=null;function r(){var r;if(n||(n=r=xo()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),r)return n=null,r+""||null}return r.type=function(t){return arguments.length?(e="function"==typeof t?t:kg(t),r):e},r.size=function(e){return arguments.length?(t="function"==typeof e?e:kg(+e),r):t},r.context=function(e){return arguments.length?(n=null==e?null:e,r):n},r},e.symbolCircle=Tm,e.symbolCross=wm,e.symbolDiamond=ym,e.symbolSquare=Dm,e.symbolStar=Cm,e.symbolTriangle=Im,e.symbolWye=Am,e.symbols=Pm,e.text=ya,e.thresholdFreedmanDiaconis=function(e,n,r){return e=h.call(e,s).sort(t),Math.ceil((r-n)/(2*(x(e,.75)-x(e,.25))*Math.pow(e.length,-1/3)))},e.thresholdScott=function(e,t,n){return Math.ceil((n-t)/(3.5*u(e)*Math.pow(e.length,-1/3)))},e.thresholdSturges=S,e.tickFormat=lf,e.tickIncrement=T,e.tickStep=w,e.ticks=v,e.timeDay=Nf,e.timeDays=Uf,e.timeFormatDefaultLocale=Wp,e.timeFormatLocale=kh,e.timeFriday=Wf,e.timeFridays=eh,e.timeHour=Pf,e.timeHours=Ef,e.timeInterval=Rf,e.timeMillisecond=Cf,e.timeMilliseconds=Df,e.timeMinute=Ff,e.timeMinutes=Af,e.timeMonday=jf,e.timeMondays=Yf,e.timeMonth=nh,e.timeMonths=rh,e.timeSaturday=qf,e.timeSaturdays=th,e.timeSecond=_f,e.timeSeconds=kf,e.timeSunday=Hf,e.timeSundays=Jf,e.timeThursday=zf,e.timeThursdays=Zf,e.timeTuesday=Gf,e.timeTuesdays=Qf,e.timeWednesday=$f,e.timeWednesdays=Xf,e.timeWeek=Hf,e.timeWeeks=Jf,e.timeYear=oh,e.timeYears=ah,e.timeout=tr,e.timer=Yn,e.timerFlush=Qn,e.touch=Fe,e.touches=function(e,t){null==t&&(t=Ie().touches);for(var n=0,r=t?t.length:0,o=new Array(r);n<r;++n)o[n]=_e(e,t[n]);return o},e.transition=Or,e.transpose=R,e.tree=function(){var e=wd,t=1,n=1,r=null;function o(o){var l=function(e){for(var t,n,r,o,a,i=new Ld(e,0),s=[i];t=s.pop();)if(r=t._.children)for(t.children=new Array(a=r.length),o=a-1;o>=0;--o)s.push(n=t.children[o]=new Ld(r[o],o)),n.parent=t;return(i.parent=new Ld(null,0)).children=[i],i}(o);if(l.eachAfter(a),l.parent.m=-l.z,l.eachBefore(i),r)o.eachBefore(s);else{var u=o,c=o,d=o;o.eachBefore((function(e){e.x<u.x&&(u=e),e.x>c.x&&(c=e),e.depth>d.depth&&(d=e)}));var f=u===c?1:e(u,c)/2,h=f-u.x,p=t/(c.x+f+h),O=n/(d.depth||1);o.eachBefore((function(e){e.x=(e.x+h)*p,e.y=e.depth*O}))}return o}function a(t){var n=t.children,r=t.parent.children,o=t.i?r[t.i-1]:null;if(n){!function(e){for(var t,n=0,r=0,o=e.children,a=o.length;--a>=0;)(t=o[a]).z+=n,t.m+=n,n+=t.s+(r+=t.c)}(t);var a=(n[0].z+n[n.length-1].z)/2;o?(t.z=o.z+e(t._,o._),t.m=t.z-a):t.z=a}else o&&(t.z=o.z+e(t._,o._));t.parent.A=function(t,n,r){if(n){for(var o,a=t,i=t,s=n,l=a.parent.children[0],u=a.m,c=i.m,d=s.m,f=l.m;s=xd(s),a=Sd(a),s&&a;)l=Sd(l),(i=xd(i)).a=t,(o=s.z+d-a.z-u+e(s._,a._))>0&&(yd(bd(s,t,r),t,o),u+=o,c+=o),d+=s.m,u+=a.m,f+=l.m,c+=i.m;s&&!xd(i)&&(i.t=s,i.m+=d-c),a&&!Sd(l)&&(l.t=a,l.m+=u-f,r=t)}return r}(t,o,t.parent.A||r[0])}function i(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function s(e){e.x*=t,e.y=e.depth*n}return o.separation=function(t){return arguments.length?(e=t,o):e},o.size=function(e){return arguments.length?(r=!1,t=+e[0],n=+e[1],o):r?null:[t,n]},o.nodeSize=function(e){return arguments.length?(r=!0,t=+e[0],n=+e[1],o):r?[t,n]:null},o},e.treemap=function(){var e=Bd,t=!1,n=1,r=1,o=[0],a=cd,i=cd,s=cd,l=cd,u=cd;function c(e){return e.x0=e.y0=0,e.x1=n,e.y1=r,e.eachBefore(d),o=[0],t&&e.eachBefore(gd),e}function d(t){var n=o[t.depth],r=t.x0+n,c=t.y0+n,d=t.x1-n,f=t.y1-n;d<r&&(r=d=(r+d)/2),f<c&&(c=f=(c+f)/2),t.x0=r,t.y0=c,t.x1=d,t.y1=f,t.children&&(n=o[t.depth+1]=a(t)/2,r+=u(t)-n,c+=i(t)-n,(d-=s(t)-n)<r&&(r=d=(r+d)/2),(f-=l(t)-n)<c&&(c=f=(c+f)/2),e(t,r,c,d,f))}return c.round=function(e){return arguments.length?(t=!!e,c):t},c.size=function(e){return arguments.length?(n=+e[0],r=+e[1],c):[n,r]},c.tile=function(t){return arguments.length?(e=ud(t),c):e},c.padding=function(e){return arguments.length?c.paddingInner(e).paddingOuter(e):c.paddingInner()},c.paddingInner=function(e){return arguments.length?(a="function"==typeof e?e:dd(+e),c):a},c.paddingOuter=function(e){return arguments.length?c.paddingTop(e).paddingRight(e).paddingBottom(e).paddingLeft(e):c.paddingTop()},c.paddingTop=function(e){return arguments.length?(i="function"==typeof e?e:dd(+e),c):i},c.paddingRight=function(e){return arguments.length?(s="function"==typeof e?e:dd(+e),c):s},c.paddingBottom=function(e){return arguments.length?(l="function"==typeof e?e:dd(+e),c):l},c.paddingLeft=function(e){return arguments.length?(u="function"==typeof e?e:dd(+e),c):u},c},e.treemapBinary=function(e,t,n,r,o){var a,i,s=e.children,l=s.length,u=new Array(l+1);for(u[0]=i=a=0;a<l;++a)u[a+1]=i+=s[a].value;!function e(t,n,r,o,a,i,l){if(t>=n-1){var c=s[t];return c.x0=o,c.y0=a,c.x1=i,void(c.y1=l)}for(var d=u[t],f=r/2+d,h=t+1,p=n-1;h<p;){var O=h+p>>>1;u[O]<f?h=O+1:p=O}f-u[h-1]<u[h]-f&&t+1<h&&--h;var g=u[h]-d,m=r-g;if(i-o>l-a){var M=(o*m+i*g)/r;e(t,h,g,o,a,M,l),e(h,n,m,M,a,i,l)}else{var K=(a*m+l*g)/r;e(t,h,g,o,a,i,K),e(h,n,m,o,K,i,l)}}(0,l,e.value,t,n,r,o)},e.treemapDice=md,e.treemapResquarify=Id,e.treemapSlice=Rd,e.treemapSliceDice=function(e,t,n,r,o){(1&e.depth?Rd:md)(e,t,n,r,o)},e.treemapSquarify=Bd,e.tsv=Ra,e.tsvFormat=ga,e.tsvFormatBody=ma,e.tsvFormatRow=Ka,e.tsvFormatRows=Ma,e.tsvFormatValue=va,e.tsvParse=pa,e.tsvParseRows=Oa,e.utcDay=ch,e.utcDays=dh,e.utcFriday=Mh,e.utcFridays=yh,e.utcHour=lh,e.utcHours=uh,e.utcMillisecond=Cf,e.utcMilliseconds=Df,e.utcMinute=ih,e.utcMinutes=sh,e.utcMonday=ph,e.utcMondays=Th,e.utcMonth=Lh,e.utcMonths=Rh,e.utcSaturday=Kh,e.utcSaturdays=bh,e.utcSecond=_f,e.utcSeconds=kf,e.utcSunday=hh,e.utcSundays=vh,e.utcThursday=mh,e.utcThursdays=xh,e.utcTuesday=Oh,e.utcTuesdays=wh,e.utcWednesday=gh,e.utcWednesdays=Sh,e.utcWeek=hh,e.utcWeeks=vh,e.utcYear=Ch,e.utcYears=Dh,e.values=function(e){var t=[];for(var n in e)t.push(e[n]);return t},e.variance=l,e.version="5.16.0",e.voronoi=function(){var e=xM,t=yM,n=null;function r(r){return new iK(r.map((function(n,o){var a=[Math.round(e(n,o,r)/nK)*nK,Math.round(t(n,o,r)/nK)*nK];return a.index=o,a.data=n,a})),n)}return r.polygons=function(e){return r(e).polygons()},r.links=function(e){return r(e).links()},r.triangles=function(e){return r(e).triangles()},r.x=function(t){return arguments.length?(e="function"==typeof t?t:SM(+t),r):e},r.y=function(e){return arguments.length?(t="function"==typeof e?e:SM(+e),r):t},r.extent=function(e){return arguments.length?(n=null==e?null:[[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]],r):n&&[[n[0][0],n[0][1]],[n[1][0],n[1][1]]]},r.size=function(e){return arguments.length?(n=null==e?null:[[0,0],[+e[0],+e[1]]],r):n&&[n[1][0]-n[0][0],n[1][1]-n[0][1]]},r},e.window=re,e.xml=Ba,e.zip=function(){return R(arguments)},e.zoom=function(){var t,n,r=pK,o=OK,a=KK,i=mK,s=MK,l=[0,1/0],u=[[-1/0,-1/0],[1/0,1/0]],c=250,d=Ln,f=E("start","zoom","end"),h=500,p=0;function O(e){e.property("__zoom",gK).on("wheel.zoom",w).on("mousedown.zoom",S).on("dblclick.zoom",x).filter(s).on("touchstart.zoom",y).on("touchmove.zoom",b).on("touchend.zoom touchcancel.zoom",L).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(e,t){return(t=Math.max(l[0],Math.min(l[1],t)))===e.k?e:new uK(t,e.x,e.y)}function m(e,t,n){var r=t[0]-n[0]*e.k,o=t[1]-n[1]*e.k;return r===e.x&&o===e.y?e:new uK(e.k,r,o)}function M(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function K(e,t,n){e.on("start.zoom",(function(){v(this,arguments).start()})).on("interrupt.zoom end.zoom",(function(){v(this,arguments).end()})).tween("zoom",(function(){var e=this,r=arguments,a=v(e,r),i=o.apply(e,r),s=null==n?M(i):"function"==typeof n?n.apply(e,r):n,l=Math.max(i[1][0]-i[0][0],i[1][1]-i[0][1]),u=e.__zoom,c="function"==typeof t?t.apply(e,r):t,f=d(u.invert(s).concat(l/u.k),c.invert(s).concat(l/c.k));return function(e){if(1===e)e=c;else{var t=f(e),n=l/t[2];e=new uK(n,s[0]-t[0]*n,s[1]-t[1]*n)}a.zoom(null,e)}}))}function v(e,t,n){return!n&&e.__zooming||new T(e,t)}function T(e,t){this.that=e,this.args=t,this.active=0,this.extent=o.apply(e,t),this.taps=0}function w(){if(r.apply(this,arguments)){var e=v(this,arguments),t=this.__zoom,n=Math.max(l[0],Math.min(l[1],t.k*Math.pow(2,i.apply(this,arguments)))),o=ke(this);if(e.wheel)e.mouse[0][0]===o[0]&&e.mouse[0][1]===o[1]||(e.mouse[1]=t.invert(e.mouse[0]=o)),clearTimeout(e.wheel);else{if(t.k===n)return;e.mouse=[o,t.invert(o)],lr(this),e.start()}hK(),e.wheel=setTimeout((function(){e.wheel=null,e.end()}),150),e.zoom("mouse",a(m(g(t,n),e.mouse[0],e.mouse[1]),e.extent,u))}}function S(){if(!n&&r.apply(this,arguments)){var t=v(this,arguments,!0),o=Re(e.event.view).on("mousemove.zoom",(function(){if(hK(),!t.moved){var n=e.event.clientX-s,r=e.event.clientY-l;t.moved=n*n+r*r>p}t.zoom("mouse",a(m(t.that.__zoom,t.mouse[0]=ke(t.that),t.mouse[1]),t.extent,u))}),!0).on("mouseup.zoom",(function(){o.on("mousemove.zoom mouseup.zoom",null),Ne(e.event.view,t.moved),hK(),t.end()}),!0),i=ke(this),s=e.event.clientX,l=e.event.clientY;Ee(e.event.view),fK(),t.mouse=[i,this.__zoom.invert(i)],lr(this),t.start()}}function x(){if(r.apply(this,arguments)){var t=this.__zoom,n=ke(this),i=t.invert(n),s=t.k*(e.event.shiftKey?.5:2),l=a(m(g(t,s),n,i),o.apply(this,arguments),u);hK(),c>0?Re(this).transition().duration(c).call(K,l,n):Re(this).call(O.transform,l)}}function y(){if(r.apply(this,arguments)){var n,o,a,i,s=e.event.touches,l=s.length,u=v(this,arguments,e.event.changedTouches.length===l);for(fK(),o=0;o<l;++o)i=[i=Fe(this,s,(a=s[o]).identifier),this.__zoom.invert(i),a.identifier],u.touch0?u.touch1||u.touch0[2]===i[2]||(u.touch1=i,u.taps=0):(u.touch0=i,n=!0,u.taps=1+!!t);t&&(t=clearTimeout(t)),n&&(u.taps<2&&(t=setTimeout((function(){t=null}),h)),lr(this),u.start())}}function b(){if(this.__zooming){var n,r,o,i,s=v(this,arguments),l=e.event.changedTouches,c=l.length;for(hK(),t&&(t=clearTimeout(t)),s.taps=0,n=0;n<c;++n)o=Fe(this,l,(r=l[n]).identifier),s.touch0&&s.touch0[2]===r.identifier?s.touch0[0]=o:s.touch1&&s.touch1[2]===r.identifier&&(s.touch1[0]=o);if(r=s.that.__zoom,s.touch1){var d=s.touch0[0],f=s.touch0[1],h=s.touch1[0],p=s.touch1[1],O=(O=h[0]-d[0])*O+(O=h[1]-d[1])*O,M=(M=p[0]-f[0])*M+(M=p[1]-f[1])*M;r=g(r,Math.sqrt(O/M)),o=[(d[0]+h[0])/2,(d[1]+h[1])/2],i=[(f[0]+p[0])/2,(f[1]+p[1])/2]}else{if(!s.touch0)return;o=s.touch0[0],i=s.touch0[1]}s.zoom("touch",a(m(r,o,i),s.extent,u))}}function L(){if(this.__zooming){var t,r,o=v(this,arguments),a=e.event.changedTouches,i=a.length;for(fK(),n&&clearTimeout(n),n=setTimeout((function(){n=null}),h),t=0;t<i;++t)r=a[t],o.touch0&&o.touch0[2]===r.identifier?delete o.touch0:o.touch1&&o.touch1[2]===r.identifier&&delete o.touch1;if(o.touch1&&!o.touch0&&(o.touch0=o.touch1,delete o.touch1),o.touch0)o.touch0[1]=this.__zoom.invert(o.touch0[0]);else if(o.end(),2===o.taps){var s=Re(this).on("dblclick.zoom");s&&s.apply(this,arguments)}}}return O.transform=function(e,t,n){var r=e.selection?e.selection():e;r.property("__zoom",gK),e!==r?K(e,t,n):r.interrupt().each((function(){v(this,arguments).start().zoom(null,"function"==typeof t?t.apply(this,arguments):t).end()}))},O.scaleBy=function(e,t,n){O.scaleTo(e,(function(){var e=this.__zoom.k,n="function"==typeof t?t.apply(this,arguments):t;return e*n}),n)},O.scaleTo=function(e,t,n){O.transform(e,(function(){var e=o.apply(this,arguments),r=this.__zoom,i=null==n?M(e):"function"==typeof n?n.apply(this,arguments):n,s=r.invert(i),l="function"==typeof t?t.apply(this,arguments):t;return a(m(g(r,l),i,s),e,u)}),n)},O.translateBy=function(e,t,n){O.transform(e,(function(){return a(this.__zoom.translate("function"==typeof t?t.apply(this,arguments):t,"function"==typeof n?n.apply(this,arguments):n),o.apply(this,arguments),u)}))},O.translateTo=function(e,t,n,r){O.transform(e,(function(){var e=o.apply(this,arguments),i=this.__zoom,s=null==r?M(e):"function"==typeof r?r.apply(this,arguments):r;return a(cK.translate(s[0],s[1]).scale(i.k).translate("function"==typeof t?-t.apply(this,arguments):-t,"function"==typeof n?-n.apply(this,arguments):-n),e,u)}),r)},T.prototype={start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(e){Se(new lK(O,e,this.that.__zoom),f.apply,f,[e,this.that,this.args])}},O.wheelDelta=function(e){return arguments.length?(i="function"==typeof e?e:sK(+e),O):i},O.filter=function(e){return arguments.length?(r="function"==typeof e?e:sK(!!e),O):r},O.touchable=function(e){return arguments.length?(s="function"==typeof e?e:sK(!!e),O):s},O.extent=function(e){return arguments.length?(o="function"==typeof e?e:sK([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),O):o},O.scaleExtent=function(e){return arguments.length?(l[0]=+e[0],l[1]=+e[1],O):[l[0],l[1]]},O.translateExtent=function(e){return arguments.length?(u[0][0]=+e[0][0],u[1][0]=+e[1][0],u[0][1]=+e[0][1],u[1][1]=+e[1][1],O):[[u[0][0],u[0][1]],[u[1][0],u[1][1]]]},O.constrain=function(e){return arguments.length?(a=e,O):a},O.duration=function(e){return arguments.length?(c=+e,O):c},O.interpolate=function(e){return arguments.length?(d=e,O):d},O.on=function(){var e=f.on.apply(f,arguments);return e===f?O:e},O.clickDistance=function(e){return arguments.length?(p=(e=+e)*e,O):Math.sqrt(p)},O},e.zoomIdentity=cK,e.zoomTransform=dK,Object.defineProperty(e,"__esModule",{value:!0})}(t)})));function ct(e,t,n){const r=e.slice();return r[3]=t[n],r[5]=n,r}function dt(e){let t,n,r,o,a;return{c(){t=p("rect"),K(t,"class","KOMReviewChartElementNormalizedBarSection"),K(t,"x",n=e[1].DataScaleHorizontal(e[0].slice(0,e[5]).reduce(ht,0))),K(t,"y","0"),K(t,"width",r=e[1].DataScaleHorizontal(e[3])),K(t,"height",o=lt.KOMReviewChartElementNormalizedBarHeight()),K(t,"fill",a=e[1].DataScaleColor(e[5]))},m(e,n){c(e,t,n)},p(e,o){1&o&&n!==(n=e[1].DataScaleHorizontal(e[0].slice(0,e[5]).reduce(ht,0)))&&K(t,"x",n),1&o&&r!==(r=e[1].DataScaleHorizontal(e[3]))&&K(t,"width",r)},d(e){e&&d(t)}}}function ft(t){let n,r,o=t[0],a=[];for(let e=0;e<o.length;e+=1)a[e]=dt(ct(t,o,e));return{c(){n=p("svg");for(let e=0;e<a.length;e+=1)a[e].c();K(n,"class","KOMReviewChartElementNormalizedBar"),K(n,"viewBox",r=`0,0,${lt.KOMReviewChartElementNormalizedBarWidth()},${lt.KOMReviewChartElementNormalizedBarHeight()}`)},m(e,t){c(e,n,t);for(let e=0;e<a.length;e+=1)a[e].m(n,null)},p(e,[t]){if(3&t){let r;for(o=e[0],r=0;r<o.length;r+=1){const i=ct(e,o,r);a[r]?a[r].p(i,t):(a[r]=dt(i),a[r].c(),a[r].m(n,null))}for(;r<a.length;r+=1)a[r].d(1);a.length=o.length}},i:e,o:e,d(e){e&&d(n),f(a,e)}}}const ht=function(e,t){return e+t};function pt(e,t,n){let{KOMReviewChartElementNormalizedBarValues:r}=t;const o={DataScaleHorizontal:e=>lt.KOMReviewChartElementNormalizedBarScaleHorizontal(ut.scaleLinear,r)(e),DataScaleColor:e=>lt.KOMReviewChartElementNormalizedBarScaleColor(ut.scaleOrdinal,ut.schemeGreys,r.map((function(e,t){return t})))(e)};return e.$set=e=>{"KOMReviewChartElementNormalizedBarValues"in e&&n(0,r=e.KOMReviewChartElementNormalizedBarValues)},[r,o]}class Ot extends X{constructor(e){super(),Q(this,e,pt,ft,a,{KOMReviewChartElementNormalizedBarValues:0})}}function gt(e){let t,n,r,o,a,i,s,l,f,p,m,M,T,S,x,y,b,L,R,C,D,B,I,_,k,F,A,P,E,N,U,V,H,j,z,Y,Q,X,Z,ee,te,ne,re,oe,ae,ie,se,le,ue,ce=e[0].KOMReviewChartCompositionStatesTotal+"",de=e[0].KOMReviewChartCompositionStatesUnseen+"",fe=e[0].KOMReviewChartCompositionStatesDeveloping+"",he=e[0].KOMReviewChartCompositionStatesMature+"",pe=e[0].KOMReviewChartCompositionStatesSuspended+"";return le=new Ot({props:{KOMReviewChartElementNormalizedBarValues:e[2].DataNormalizeValues()}}),{c(){t=h("table"),n=h("tr"),r=h("th"),o=g(),a=h("th"),a.textContent=""+e[1]("KOMReviewChartCompositionStatesTotalCardsLabelText"),i=g(),s=h("th"),l=O(ce),f=g(),p=h("tr"),m=h("td"),M=h("span"),T=g(),S=h("td"),S.textContent=""+e[1]("KOMReviewChartCompositionStatesUnseenCardsLabelText"),x=g(),y=h("td"),b=O(de),L=g(),R=h("tr"),C=h("td"),D=h("span"),B=g(),I=h("td"),I.textContent=""+e[1]("KOMReviewChartCompositionStatesDevelopingCardsLabelText"),_=g(),k=h("td"),F=O(fe),A=g(),P=h("tr"),E=h("td"),N=h("span"),U=g(),V=h("td"),V.textContent=""+e[1]("KOMReviewChartCompositionStatesMatureCardsLabelText"),H=g(),j=h("td"),z=O(he),Y=g(),Q=h("tr"),X=h("td"),Z=h("span"),ee=g(),te=h("td"),te.textContent=""+e[1]("KOMReviewChartCompositionStatesSuspendedCardsLabelText"),ne=g(),re=h("td"),oe=O(pe),ae=g(),ie=h("tr"),se=h("td"),W(le.$$.fragment),K(r,"class","svelte-ezts3m"),K(a,"class","KOMReviewChartCompositionStatesTotalCardsLabel svelte-ezts3m"),K(s,"class","KOMReviewChartCompositionStatesTotalCardsValue svelte-ezts3m"),K(M,"class","KOMReviewChartCompositionStatesUnseenCardsColor svelte-ezts3m"),w(M,"background",e[2].DataScaleColor(0)),K(m,"class","svelte-ezts3m"),K(S,"class","KOMReviewChartCompositionStatesUnseenCardsLabel svelte-ezts3m"),K(y,"class","KOMReviewChartCompositionStatesUnseenCardsValue svelte-ezts3m"),K(p,"class","svelte-ezts3m"),K(D,"class","KOMReviewChartCompositionStatesDevelopingCardsColor svelte-ezts3m"),w(D,"background",e[2].DataScaleColor(1)),K(C,"class","svelte-ezts3m"),K(I,"class","KOMReviewChartCompositionStatesDevelopingCardsLabel svelte-ezts3m"),K(k,"class","KOMReviewChartCompositionStatesDevelopingCardsValue svelte-ezts3m"),K(R,"class","svelte-ezts3m"),K(N,"class","KOMReviewChartCompositionStatesMatureCardsColor svelte-ezts3m"),w(N,"background",e[2].DataScaleColor(2)),K(E,"class","svelte-ezts3m"),K(V,"class","KOMReviewChartCompositionStatesMatureCardsLabel svelte-ezts3m"),K(j,"class","KOMReviewChartCompositionStatesMatureCardsValue svelte-ezts3m"),K(P,"class","svelte-ezts3m"),K(Z,"class","KOMReviewChartCompositionStatesSuspendedCardsColor svelte-ezts3m"),w(Z,"background",e[2].DataScaleColor(3)),K(X,"class","svelte-ezts3m"),K(te,"class","KOMReviewChartCompositionStatesSuspendedCardsLabel svelte-ezts3m"),K(re,"class","KOMReviewChartCompositionStatesSuspendedCardsValue svelte-ezts3m"),K(Q,"class","svelte-ezts3m"),K(se,"colspan","3"),K(se,"class","svelte-ezts3m"),K(ie,"class","svelte-ezts3m"),K(t,"class","KOMReviewChartCompositionStates svelte-ezts3m")},m(e,d){c(e,t,d),u(t,n),u(n,r),u(n,o),u(n,a),u(n,i),u(n,s),u(s,l),u(t,f),u(t,p),u(p,m),u(m,M),u(p,T),u(p,S),u(p,x),u(p,y),u(y,b),u(t,L),u(t,R),u(R,C),u(C,D),u(R,B),u(R,I),u(R,_),u(R,k),u(k,F),u(t,A),u(t,P),u(P,E),u(E,N),u(P,U),u(P,V),u(P,H),u(P,j),u(j,z),u(t,Y),u(t,Q),u(Q,X),u(X,Z),u(Q,ee),u(Q,te),u(Q,ne),u(Q,re),u(re,oe),u(t,ae),u(t,ie),u(ie,se),q(le,se,null),ue=!0},p(e,[t]){(!ue||1&t)&&ce!==(ce=e[0].KOMReviewChartCompositionStatesTotal+"")&&v(l,ce),(!ue||1&t)&&de!==(de=e[0].KOMReviewChartCompositionStatesUnseen+"")&&v(b,de),(!ue||1&t)&&fe!==(fe=e[0].KOMReviewChartCompositionStatesDeveloping+"")&&v(F,fe),(!ue||1&t)&&he!==(he=e[0].KOMReviewChartCompositionStatesMature+"")&&v(z,he),(!ue||1&t)&&pe!==(pe=e[0].KOMReviewChartCompositionStatesSuspended+"")&&v(oe,pe)},i(e){ue||(G(le.$$.fragment,e),ue=!0)},o(e){$(le.$$.fragment,e),ue=!1},d(e){e&&d(t),J(le)}}}function mt(e,t,n){let{KOMReviewChartCompositionStatesData:r}=t;if(!st.KOMReviewChartCompositionStatesIsValid(r))throw new Error("KOMErrorInputNotValid");const o={DataNormalizeValues:()=>Object.values(r).slice(1),DataScaleColor:e=>lt.KOMReviewChartElementNormalizedBarScaleColor(ut.scaleOrdinal,ut.schemeGreys,o.DataNormalizeValues().map((function(e,t){return t})))(e)};return e.$set=e=>{"KOMReviewChartCompositionStatesData"in e&&n(0,r=e.KOMReviewChartCompositionStatesData)},[r,function(e){return te.OLSKInternationalLocalizedString(e,JSON.parse('{"en":{"OLSKAppToolbarGuideLinkText":"Guide","OLSKAppToolbarDonateLinkText":"Donate","OLSKAppToolbarLauncherButtonText":"Launcher","OLSKAppToolbarStorageButtonText":"Storage","OLSKDetailPlaceholderText":"No item selected","OLSKInputWrapperClearButtonText":"Clear text","OLSKLanguageSwitcherVersionFormat":"Version in %@","OLSKLanguageSwitcherVersionName":{"en":"English","fr":"French","es":"Spanish"},"OLSKMasterListFilterFieldText":"Filter","OLSKReloadButtonText":"Reload","OLSKRemoteStorageStatusOnline":"Online","OLSKRemoteStorageStatusNetworkOffline":"Offline","OLSKRemoteStorageStatusError":"Error","OLSKServiceWorkerUpdateAlertLabelText":"Update available","OLSKServiceWorkerUpdateAlertReloadButtonText":"Reload","KOMReviewLauncherItemSelectDeckTextFormat":"Select deck \'%@\'","KOMReviewLauncherItemSendLoginLinkText":"Send login link","KOMReviewLauncherItemSendLoginLinkSubject":"Kommit Login Link","KOMReviewLauncherItemDebugFlushDataText":"Flush data","KOMReviewLauncherItemDebugFlushDataConfirmText":"Are you sure?","KOMReviewChartCompositionStatesTotalCardsLabelText":"Total cards","KOMReviewChartCompositionStatesUnseenCardsLabelText":"Unseen","KOMReviewChartCompositionStatesDevelopingCardsLabelText":"Developing","KOMReviewChartCompositionStatesMatureCardsLabelText":"Mature","KOMReviewChartCompositionStatesSuspendedCardsLabelText":"Suspended","KOMReviewDetailToolbarBackButtonText":"Back","KOMReviewDetailToolbarCardsButtonText":"Cards","KOMReviewDetailGameOptionsHeadingText":"Game options","KOMReviewDetailNoCardsText":"There are no cards in this deck.","KOMReviewDetailFormAudioIsEnabledFieldLabelText":"Play audio","KOMReviewDetailFormFrontSpeechIsEnabledFieldLabelText":"Read front","KOMReviewDetailFormRearSpeechIsEnabledFieldLabelText":"Read back","KOMReviewDetailFormIsForwardOnlyFieldLabelText":"Skip reversed cards","KOMReviewDetailPlayButtonReviewingText":"Study review cards","KOMReviewDetailPlayButtonUnseenText":"Study new cards","KOMReviewDetailPlayButtonMixedText":"Study all cards","KOMReviewDetailPlayButtonSingleText":"Play","KOMReviewDetailNoSpacingsText":"All cards for today have been reviewed.","KOMReviewDetailTodayHeadingText":"Today","KOMReviewDetailGeneralHeadingText":"Historical","KOMReviewDetailDeckHeadingText":"Deck","KOMReviewDetailRenameButtonText":"Rename","KOMReviewDetailRenameButtonPromptText":"Name","KOMReviewDetailDiscardButtonText":"Delete deck and all cards inside","KOMReviewDetailDiscardPromptText":"Are you sure? Please type the name of the deck to confirm and delete.","KOMReviewDetailLanguageCodeFieldLabelText":"Language code","KOMReviewDetailLanguageCodeFieldOptionUnspecifiedText":"Unspecified","KOMReviewGeneralCardStatesHeadingText":"Cards","KOMReviewMasterToolbarTitleText":"Decks","KOMReviewMasterCreateButtonText":"Create deck","KOMReviewMasterCreateButtonPromptText":"Name","KOMReviewMasterListItemReviewLabelText":"review cards","KOMReviewMasterListItemUnseenLabelText":"new cards","KOMReviewTodayTotalCardsLabelText":"Total cards","KOMReviewTodayTimeMinutesLabelText":"Time (minutes)","KOMReviewTodayReviewAccuracyLabelText":"Review accuracy %","KOMBrowseInfoToolbarBackButtonText":"Back","KOMBrowseInfoToolbarDiscardButtonText":"Discard","KOMBrowseInfoDiscardConfirmText":"Are you sure?","KOMBrowseInfoToolbarTemplateButtonText":"Copy tags to new card","KOMBrowseInfoFormFrontTextFieldText":"Front text","KOMBrowseInfoFormFrontReadButtonText":"Read","KOMBrowseInfoFormRearTextFieldText":"Back text","KOMBrowseInfoFormRearReadButtonText":"Read","KOMBrowseInfoFormNotesFieldText":"Notes","KOMBrowseInfoAudioRecordButtonText":"Record","KOMBrowseInfoAudioRecordingAlertText":"Recording","KOMBrowseInfoAudioPlaybackButtonText":"Playback","KOMBrowseInfoAudioClearButtonText":"Clear","KOMBrowseInfoAudioNotAvailableAlertText":"Audio recording unsupported in this browser","KOMBrowseInfoTagsInputFieldText":"New tag name","KOMBrowseInfoTagsCreateButtonText":"Create tag","KOMBrowseInfoTagsRemoveButtonTextFormat":"Remove \'%@\'","KOMBrowseInfoTagsSuggestButtonTextFormat":"Add \'%@\'","KOMBrowseListToolbarCloseButtonText":"Close","KOMBrowseListToolbarCreateButtonText":"Create","KOMBrowseListItemUntitledText":"Untitled","KOMReviewLauncherItemDebugCardText":"Debug Card","KOMPlayToolbarUndoButtonText":"Undo","KOMPlayToolbarDoneButtonText":"Done","KOMPlayHearQuestionButtonText":"Hear question","KOMPlayHearAnswerButtonText":"Hear answer","KOMPlayFlipButtonText":"Flip","KOMPlayResponseButtonAgainText":"Again","KOMPlayResponseButtonHardText":"Sooner","KOMPlayResponseButtonGoodText":"Normal","KOMPlayResponseButtonEasyText":"Later"},"es":{"OLSKAppToolbarGuideLinkText":"Gua","OLSKAppToolbarDonateLinkText":"Donar","OLSKAppToolbarLauncherButtonText":"Lanzador","OLSKAppToolbarStorageButtonText":"Almacenamiento","OLSKDetailPlaceholderText":"Ningn artculo seleccionado","OLSKInputWrapperClearButtonText":"Despejar el texto","OLSKLanguageSwitcherVersionFormat":"Versin en %@","OLSKLanguageSwitcherVersionName":{"en":"ingls","fr":"francs","es":"espaol"},"OLSKMasterListFilterFieldText":"Filtrar","OLSKReloadButtonText":"Recargar","OLSKRemoteStorageStatusOnline":"En lneo","OLSKRemoteStorageStatusNetworkOffline":"Sin conexin","OLSKRemoteStorageStatusError":"Error","OLSKServiceWorkerUpdateAlertLabelText":"Actualizacin disponible","OLSKServiceWorkerUpdateAlertReloadButtonText":"Recargar"},"fr":{"OLSKAppToolbarGuideLinkText":"Guide","OLSKAppToolbarDonateLinkText":"Faire un don","OLSKAppToolbarLauncherButtonText":"Lanceur","OLSKAppToolbarStorageButtonText":"Stockage","OLSKDetailPlaceholderText":"Aucun article selection","OLSKInputWrapperClearButtonText":"Effacer le texte","OLSKLanguageSwitcherVersionFormat":"Version en %@","OLSKLanguageSwitcherVersionName":{"en":"anglais","fr":"franais","es":"espagnol"},"OLSKMasterListFilterFieldText":"Filtrer","OLSKReloadButtonText":"Recharger","OLSKRemoteStorageStatusOnline":"En ligne","OLSKRemoteStorageStatusNetworkOffline":"Hors connexion","OLSKRemoteStorageStatusError":"Erreur","OLSKServiceWorkerUpdateAlertLabelText":"Mise  jour disponible","OLSKServiceWorkerUpdateAlertReloadButtonText":"Recharger","KOMReviewLauncherItemSelectDeckTextFormat":"Choisir lot de cartes \'%@\'","KOMReviewLauncherItemSendLoginLinkText":"Envoyer lien d\'accs","KOMReviewLauncherItemSendLoginLinkSubject":"Kommit lien d\'accs","KOMReviewLauncherItemDebugFlushDataText":"Recharche les donnes","KOMReviewLauncherItemDebugFlushDataConfirmText":"tes-vous sr.e?","KOMReviewChartCompositionStatesTotalCardsLabelText":"Total des cartes","KOMReviewChartCompositionStatesUnseenCardsLabelText":"Non-vues","KOMReviewChartCompositionStatesDevelopingCardsLabelText":"En apprentisage","KOMReviewChartCompositionStatesMatureCardsLabelText":"Mature","KOMReviewChartCompositionStatesSuspendedCardsLabelText":"Suspendu","KOMReviewDetailToolbarBackButtonText":"Back","KOMReviewDetailToolbarCardsButtonText":"Cartes","KOMReviewDetailGameOptionsHeadingText":"Options du jeu","KOMReviewDetailNoCardsText":"Il n\'y a pas de cartes dans ce lot de cartes.","KOMReviewDetailFormAudioIsEnabledFieldLabelText":"Faire entendre la version audio enregistre","KOMReviewDetailFormFrontSpeechIsEnabledFieldLabelText":"Lire le recto","KOMReviewDetailFormRearSpeechIsEnabledFieldLabelText":"Lire le verso","KOMReviewDetailFormIsForwardOnlyFieldLabelText":"Ne pas activer la lecture des cartes inverses","KOMReviewDetailPlayButtonReviewingText":"tudier des cartes  rviser","KOMReviewDetailPlayButtonUnseenText":"tudier des nouvelles cartes","KOMReviewDetailPlayButtonMixedText":"tudier toutes les cartes","KOMReviewDetailPlayButtonSingleText":"Jouer","KOMReviewDetailNoSpacingsText":"Toutes les cartes pour aujourd\'hui ont t rvises.","KOMReviewDetailTodayHeadingText":"Aujourd\'hui","KOMReviewDetailGeneralHeadingText":"Historique","KOMReviewDetailDeckHeadingText":"Lot de cartes","KOMReviewDetailRenameButtonText":"Renommer","KOMReviewDetailRenameButtonPromptText":"Nom","KOMReviewDetailDiscardButtonText":"Supprimer le lot de cartes et toutes les cartes dedans","KOMReviewDetailDiscardPromptText":"tes-vous sr.e? Veuillez entrer le nom du lot de cartes pour confirmer et supprimer.","KOMReviewDetailLanguageCodeFieldLabelText":"Code de la langue","KOMReviewDetailLanguageCodeFieldOptionUnspecifiedText":"Non specifi","KOMReviewGeneralCardStatesHeadingText":"Les tats des cartes","KOMReviewMasterToolbarTitleText":"Lots de cartes","KOMReviewMasterCreateButtonText":"Crer lot de cartes","KOMReviewMasterCreateButtonPromptText":"Nom","KOMReviewMasterListItemReviewLabelText":"cartes  rviser","KOMReviewMasterListItemUnseenLabelText":"cartes nouvelles","KOMReviewTodayTotalCardsLabelText":"Total des cartes","KOMReviewTodayTimeMinutesLabelText":"Temps (minutes)","KOMReviewTodayReviewAccuracyLabelText":"Exactitude de la rvision %","KOMBrowseInfoToolbarBackButtonText":"Back","KOMBrowseInfoToolbarDiscardButtonText":"Jeter","KOMBrowseInfoDiscardConfirmText":"tes-vous sr.e?","KOMBrowseInfoToolbarTemplateButtonText":"Copier des tags  une nouvelle carte","KOMBrowseInfoFormFrontTextFieldText":"Texte du recto","KOMBrowseInfoFormFrontReadButtonText":"Lire","KOMBrowseInfoFormRearTextFieldText":"Texte du verso","KOMBrowseInfoFormRearReadButtonText":"Lire","KOMBrowseInfoFormNotesFieldText":"Notes","KOMBrowseInfoAudioRecordButtonText":"Enregistrer","KOMBrowseInfoAudioRecordingAlertText":"Enregistrement en cours","KOMBrowseInfoAudioPlaybackButtonText":"Lecture","KOMBrowseInfoAudioClearButtonText":"Effacer","KOMBrowseInfoAudioNotAvailableAlertText":"Enregistrement audio non pris en charge dans ce navigateur","KOMBrowseInfoTagsInputFieldText":"Nom du tag nouveau","KOMBrowseInfoTagsCreateButtonText":"Crer le tag","KOMBrowseInfoTagsRemoveButtonTextFormat":"Enlever \'%@\'","KOMBrowseInfoTagsSuggestButtonTextFormat":"Ajouter \'%@\'","KOMBrowseListToolbarCloseButtonText":"Fermer","KOMBrowseListToolbarCreateButtonText":"Crer","KOMBrowseListItemUntitledText":"Sans titre","KOMReviewLauncherItemDebugCardText":"Debug Card","KOMPlayToolbarUndoButtonText":"Annuler","KOMPlayToolbarDoneButtonText":"OK","KOMPlayHearQuestionButtonText":"couter la question","KOMPlayHearAnswerButtonText":"couter la rponse","KOMPlayFlipButtonText":"Retourner","KOMPlayResponseButtonAgainText":"Encore","KOMPlayResponseButtonHardText":"Plus tt","KOMPlayResponseButtonGoodText":"Normale","KOMPlayResponseButtonEasyText":"Plus tard"}}')[window.OLSKPublicConstants("OLSKSharedPageCurrentLanguage")])},o]}class Mt extends X{constructor(e){super(),Q(this,e,mt,gt,a,{KOMReviewChartCompositionStatesData:0})}}function Kt(t){let n,r,o,a,i;return a=new Mt({props:{KOMReviewChartCompositionStatesData:t[1].DataStatesData()}}),{c(){n=h("div"),r=h("h3"),r.textContent=""+t[0]("KOMReviewGeneralCardStatesHeadingText"),o=g(),W(a.$$.fragment),K(r,"class","KOMReviewGeneralCardStatesHeading"),K(n,"class","KOMReviewGeneral")},m(e,t){c(e,n,t),u(n,r),u(n,o),q(a,n,null),i=!0},p:e,i(e){i||(G(a.$$.fragment,e),i=!0)},o(e){$(a.$$.fragment,e),i=!1},d(e){e&&d(n),J(a)}}}function vt(e,t,n){let{KOMReviewGeneralSpacings:r}=t;const o={DataStatesData:()=>Object.entries(r.reduce((function(e,t){return e.KOMReviewChartCompositionStatesTotal.push(t),Ke.KOMSpacingModelIsUnseen(t)&&e.KOMReviewChartCompositionStatesUnseen.push(t),Ke.KOMSpacingModelIsDeveloping(t)&&e.KOMReviewChartCompositionStatesDeveloping.push(t),Ke.KOMSpacingModelIsMature(t)&&e.KOMReviewChartCompositionStatesMature.push(t),e}),{KOMReviewChartCompositionStatesTotal:[],KOMReviewChartCompositionStatesUnseen:[],KOMReviewChartCompositionStatesDeveloping:[],KOMReviewChartCompositionStatesMature:[],KOMReviewChartCompositionStatesSuspended:[]})).reduce((function(e,t){return e[t[0]]=Ke.KOMSpacingModelFilterUnique(t[1]).length,e}),{})};return e.$set=e=>{"KOMReviewGeneralSpacings"in e&&n(2,r=e.KOMReviewGeneralSpacings)},[function(e){return te.OLSKInternationalLocalizedString(e,JSON.parse('{"en":{"OLSKAppToolbarGuideLinkText":"Guide","OLSKAppToolbarDonateLinkText":"Donate","OLSKAppToolbarLauncherButtonText":"Launcher","OLSKAppToolbarStorageButtonText":"Storage","OLSKDetailPlaceholderText":"No item selected","OLSKInputWrapperClearButtonText":"Clear text","OLSKLanguageSwitcherVersionFormat":"Version in %@","OLSKLanguageSwitcherVersionName":{"en":"English","fr":"French","es":"Spanish"},"OLSKMasterListFilterFieldText":"Filter","OLSKReloadButtonText":"Reload","OLSKRemoteStorageStatusOnline":"Online","OLSKRemoteStorageStatusNetworkOffline":"Offline","OLSKRemoteStorageStatusError":"Error","OLSKServiceWorkerUpdateAlertLabelText":"Update available","OLSKServiceWorkerUpdateAlertReloadButtonText":"Reload","KOMReviewLauncherItemSelectDeckTextFormat":"Select deck \'%@\'","KOMReviewLauncherItemSendLoginLinkText":"Send login link","KOMReviewLauncherItemSendLoginLinkSubject":"Kommit Login Link","KOMReviewLauncherItemDebugFlushDataText":"Flush data","KOMReviewLauncherItemDebugFlushDataConfirmText":"Are you sure?","KOMReviewChartCompositionStatesTotalCardsLabelText":"Total cards","KOMReviewChartCompositionStatesUnseenCardsLabelText":"Unseen","KOMReviewChartCompositionStatesDevelopingCardsLabelText":"Developing","KOMReviewChartCompositionStatesMatureCardsLabelText":"Mature","KOMReviewChartCompositionStatesSuspendedCardsLabelText":"Suspended","KOMReviewDetailToolbarBackButtonText":"Back","KOMReviewDetailToolbarCardsButtonText":"Cards","KOMReviewDetailGameOptionsHeadingText":"Game options","KOMReviewDetailNoCardsText":"There are no cards in this deck.","KOMReviewDetailFormAudioIsEnabledFieldLabelText":"Play audio","KOMReviewDetailFormFrontSpeechIsEnabledFieldLabelText":"Read front","KOMReviewDetailFormRearSpeechIsEnabledFieldLabelText":"Read back","KOMReviewDetailFormIsForwardOnlyFieldLabelText":"Skip reversed cards","KOMReviewDetailPlayButtonReviewingText":"Study review cards","KOMReviewDetailPlayButtonUnseenText":"Study new cards","KOMReviewDetailPlayButtonMixedText":"Study all cards","KOMReviewDetailPlayButtonSingleText":"Play","KOMReviewDetailNoSpacingsText":"All cards for today have been reviewed.","KOMReviewDetailTodayHeadingText":"Today","KOMReviewDetailGeneralHeadingText":"Historical","KOMReviewDetailDeckHeadingText":"Deck","KOMReviewDetailRenameButtonText":"Rename","KOMReviewDetailRenameButtonPromptText":"Name","KOMReviewDetailDiscardButtonText":"Delete deck and all cards inside","KOMReviewDetailDiscardPromptText":"Are you sure? Please type the name of the deck to confirm and delete.","KOMReviewDetailLanguageCodeFieldLabelText":"Language code","KOMReviewDetailLanguageCodeFieldOptionUnspecifiedText":"Unspecified","KOMReviewGeneralCardStatesHeadingText":"Cards","KOMReviewMasterToolbarTitleText":"Decks","KOMReviewMasterCreateButtonText":"Create deck","KOMReviewMasterCreateButtonPromptText":"Name","KOMReviewMasterListItemReviewLabelText":"review cards","KOMReviewMasterListItemUnseenLabelText":"new cards","KOMReviewTodayTotalCardsLabelText":"Total cards","KOMReviewTodayTimeMinutesLabelText":"Time (minutes)","KOMReviewTodayReviewAccuracyLabelText":"Review accuracy %","KOMBrowseInfoToolbarBackButtonText":"Back","KOMBrowseInfoToolbarDiscardButtonText":"Discard","KOMBrowseInfoDiscardConfirmText":"Are you sure?","KOMBrowseInfoToolbarTemplateButtonText":"Copy tags to new card","KOMBrowseInfoFormFrontTextFieldText":"Front text","KOMBrowseInfoFormFrontReadButtonText":"Read","KOMBrowseInfoFormRearTextFieldText":"Back text","KOMBrowseInfoFormRearReadButtonText":"Read","KOMBrowseInfoFormNotesFieldText":"Notes","KOMBrowseInfoAudioRecordButtonText":"Record","KOMBrowseInfoAudioRecordingAlertText":"Recording","KOMBrowseInfoAudioPlaybackButtonText":"Playback","KOMBrowseInfoAudioClearButtonText":"Clear","KOMBrowseInfoAudioNotAvailableAlertText":"Audio recording unsupported in this browser","KOMBrowseInfoTagsInputFieldText":"New tag name","KOMBrowseInfoTagsCreateButtonText":"Create tag","KOMBrowseInfoTagsRemoveButtonTextFormat":"Remove \'%@\'","KOMBrowseInfoTagsSuggestButtonTextFormat":"Add \'%@\'","KOMBrowseListToolbarCloseButtonText":"Close","KOMBrowseListToolbarCreateButtonText":"Create","KOMBrowseListItemUntitledText":"Untitled","KOMReviewLauncherItemDebugCardText":"Debug Card","KOMPlayToolbarUndoButtonText":"Undo","KOMPlayToolbarDoneButtonText":"Done","KOMPlayHearQuestionButtonText":"Hear question","KOMPlayHearAnswerButtonText":"Hear answer","KOMPlayFlipButtonText":"Flip","KOMPlayResponseButtonAgainText":"Again","KOMPlayResponseButtonHardText":"Sooner","KOMPlayResponseButtonGoodText":"Normal","KOMPlayResponseButtonEasyText":"Later"},"es":{"OLSKAppToolbarGuideLinkText":"Gua","OLSKAppToolbarDonateLinkText":"Donar","OLSKAppToolbarLauncherButtonText":"Lanzador","OLSKAppToolbarStorageButtonText":"Almacenamiento","OLSKDetailPlaceholderText":"Ningn artculo seleccionado","OLSKInputWrapperClearButtonText":"Despejar el texto","OLSKLanguageSwitcherVersionFormat":"Versin en %@","OLSKLanguageSwitcherVersionName":{"en":"ingls","fr":"francs","es":"espaol"},"OLSKMasterListFilterFieldText":"Filtrar","OLSKReloadButtonText":"Recargar","OLSKRemoteStorageStatusOnline":"En lneo","OLSKRemoteStorageStatusNetworkOffline":"Sin conexin","OLSKRemoteStorageStatusError":"Error","OLSKServiceWorkerUpdateAlertLabelText":"Actualizacin disponible","OLSKServiceWorkerUpdateAlertReloadButtonText":"Recargar"},"fr":{"OLSKAppToolbarGuideLinkText":"Guide","OLSKAppToolbarDonateLinkText":"Faire un don","OLSKAppToolbarLauncherButtonText":"Lanceur","OLSKAppToolbarStorageButtonText":"Stockage","OLSKDetailPlaceholderText":"Aucun article selection","OLSKInputWrapperClearButtonText":"Effacer le texte","OLSKLanguageSwitcherVersionFormat":"Version en %@","OLSKLanguageSwitcherVersionName":{"en":"anglais","fr":"franais","es":"espagnol"},"OLSKMasterListFilterFieldText":"Filtrer","OLSKReloadButtonText":"Recharger","OLSKRemoteStorageStatusOnline":"En ligne","OLSKRemoteStorageStatusNetworkOffline":"Hors connexion","OLSKRemoteStorageStatusError":"Erreur","OLSKServiceWorkerUpdateAlertLabelText":"Mise  jour disponible","OLSKServiceWorkerUpdateAlertReloadButtonText":"Recharger","KOMReviewLauncherItemSelectDeckTextFormat":"Choisir lot de cartes \'%@\'","KOMReviewLauncherItemSendLoginLinkText":"Envoyer lien d\'accs","KOMReviewLauncherItemSendLoginLinkSubject":"Kommit lien d\'accs","KOMReviewLauncherItemDebugFlushDataText":"Recharche les donnes","KOMReviewLauncherItemDebugFlushDataConfirmText":"tes-vous sr.e?","KOMReviewChartCompositionStatesTotalCardsLabelText":"Total des cartes","KOMReviewChartCompositionStatesUnseenCardsLabelText":"Non-vues","KOMReviewChartCompositionStatesDevelopingCardsLabelText":"En apprentisage","KOMReviewChartCompositionStatesMatureCardsLabelText":"Mature","KOMReviewChartCompositionStatesSuspendedCardsLabelText":"Suspendu","KOMReviewDetailToolbarBackButtonText":"Back","KOMReviewDetailToolbarCardsButtonText":"Cartes","KOMReviewDetailGameOptionsHeadingText":"Options du jeu","KOMReviewDetailNoCardsText":"Il n\'y a pas de cartes dans ce lot de cartes.","KOMReviewDetailFormAudioIsEnabledFieldLabelText":"Faire entendre la version audio enregistre","KOMReviewDetailFormFrontSpeechIsEnabledFieldLabelText":"Lire le recto","KOMReviewDetailFormRearSpeechIsEnabledFieldLabelText":"Lire le verso","KOMReviewDetailFormIsForwardOnlyFieldLabelText":"Ne pas activer la lecture des cartes inverses","KOMReviewDetailPlayButtonReviewingText":"tudier des cartes  rviser","KOMReviewDetailPlayButtonUnseenText":"tudier des nouvelles cartes","KOMReviewDetailPlayButtonMixedText":"tudier toutes les cartes","KOMReviewDetailPlayButtonSingleText":"Jouer","KOMReviewDetailNoSpacingsText":"Toutes les cartes pour aujourd\'hui ont t rvises.","KOMReviewDetailTodayHeadingText":"Aujourd\'hui","KOMReviewDetailGeneralHeadingText":"Historique","KOMReviewDetailDeckHeadingText":"Lot de cartes","KOMReviewDetailRenameButtonText":"Renommer","KOMReviewDetailRenameButtonPromptText":"Nom","KOMReviewDetailDiscardButtonText":"Supprimer le lot de cartes et toutes les cartes dedans","KOMReviewDetailDiscardPromptText":"tes-vous sr.e? Veuillez entrer le nom du lot de cartes pour confirmer et supprimer.","KOMReviewDetailLanguageCodeFieldLabelText":"Code de la langue","KOMReviewDetailLanguageCodeFieldOptionUnspecifiedText":"Non specifi","KOMReviewGeneralCardStatesHeadingText":"Les tats des cartes","KOMReviewMasterToolbarTitleText":"Lots de cartes","KOMReviewMasterCreateButtonText":"Crer lot de cartes","KOMReviewMasterCreateButtonPromptText":"Nom","KOMReviewMasterListItemReviewLabelText":"cartes  rviser","KOMReviewMasterListItemUnseenLabelText":"cartes nouvelles","KOMReviewTodayTotalCardsLabelText":"Total des cartes","KOMReviewTodayTimeMinutesLabelText":"Temps (minutes)","KOMReviewTodayReviewAccuracyLabelText":"Exactitude de la rvision %","KOMBrowseInfoToolbarBackButtonText":"Back","KOMBrowseInfoToolbarDiscardButtonText":"Jeter","KOMBrowseInfoDiscardConfirmText":"tes-vous sr.e?","KOMBrowseInfoToolbarTemplateButtonText":"Copier des tags  une nouvelle carte","KOMBrowseInfoFormFrontTextFieldText":"Texte du recto","KOMBrowseInfoFormFrontReadButtonText":"Lire","KOMBrowseInfoFormRearTextFieldText":"Texte du verso","KOMBrowseInfoFormRearReadButtonText":"Lire","KOMBrowseInfoFormNotesFieldText":"Notes","KOMBrowseInfoAudioRecordButtonText":"Enregistrer","KOMBrowseInfoAudioRecordingAlertText":"Enregistrement en cours","KOMBrowseInfoAudioPlaybackButtonText":"Lecture","KOMBrowseInfoAudioClearButtonText":"Effacer","KOMBrowseInfoAudioNotAvailableAlertText":"Enregistrement audio non pris en charge dans ce navigateur","KOMBrowseInfoTagsInputFieldText":"Nom du tag nouveau","KOMBrowseInfoTagsCreateButtonText":"Crer le tag","KOMBrowseInfoTagsRemoveButtonTextFormat":"Enlever \'%@\'","KOMBrowseInfoTagsSuggestButtonTextFormat":"Ajouter \'%@\'","KOMBrowseListToolbarCloseButtonText":"Fermer","KOMBrowseListToolbarCreateButtonText":"Crer","KOMBrowseListItemUntitledText":"Sans titre","KOMReviewLauncherItemDebugCardText":"Debug Card","KOMPlayToolbarUndoButtonText":"Annuler","KOMPlayToolbarDoneButtonText":"OK","KOMPlayHearQuestionButtonText":"couter la question","KOMPlayHearAnswerButtonText":"couter la rponse","KOMPlayFlipButtonText":"Retourner","KOMPlayResponseButtonAgainText":"Encore","KOMPlayResponseButtonHardText":"Plus tt","KOMPlayResponseButtonGoodText":"Normale","KOMPlayResponseButtonEasyText":"Plus tard"}}')[window.OLSKPublicConstants("OLSKSharedPageCurrentLanguage")])},o,r]}class Tt extends X{constructor(e){super(),Q(this,e,vt,Kt,a,{KOMReviewGeneralSpacings:2})}}const{window:wt}=z;function St(t){let n;return{c(){n=h("p"),n.textContent=""+t[6]("KOMReviewDetailNoCardsText"),K(n,"class","KOMReviewDetailNoCards")},m(e,t){c(e,n,t)},p:e,d(e){e&&d(n)}}}function xt(e){let t,n,r,o,a=e[1]&&yt(e),i=!e[1]&&e[0].$KOMDeckTodayReviewCount&&bt(e),s=!e[1]&&e[0].$KOMDeckTodayUnseenCount&&Lt(e),l=!e[1]&&e[0].$KOMDeckTodayReviewCount&&e[0].$KOMDeckTodayUnseenCount&&Rt(e);return{c(){t=h("div"),a&&a.c(),n=g(),i&&i.c(),r=g(),s&&s.c(),o=g(),l&&l.c(),K(t,"class","KOMReviewDetailPlay")},m(e,d){c(e,t,d),a&&a.m(t,null),u(t,n),i&&i.m(t,null),u(t,r),s&&s.m(t,null),u(t,o),l&&l.m(t,null)},p(e,u){e[1]?a?a.p(e,u):(a=yt(e),a.c(),a.m(t,n)):a&&(a.d(1),a=null),!e[1]&&e[0].$KOMDeckTodayReviewCount?i?i.p(e,u):(i=bt(e),i.c(),i.m(t,r)):i&&(i.d(1),i=null),!e[1]&&e[0].$KOMDeckTodayUnseenCount?s?s.p(e,u):(s=Lt(e),s.c(),s.m(t,o)):s&&(s.d(1),s=null),!e[1]&&e[0].$KOMDeckTodayReviewCount&&e[0].$KOMDeckTodayUnseenCount?l?l.p(e,u):(l=Rt(e),l.c(),l.m(t,null)):l&&(l.d(1),l=null)},d(e){e&&d(t),a&&a.d(),i&&i.d(),s&&s.d(),l&&l.d()}}}function yt(t){let n,r,o,a;return{c(){n=h("p"),r=h("button"),r.textContent=""+t[6]("KOMReviewDetailPlayButtonSingleText"),K(r,"class","KOMReviewDetailPlayButtonSingle"),K(r,"accesskey","g")},m(e,i){c(e,n,i),u(n,r),o||(a=M(r,"click",t[7].InterfaceMixedButtonDidClick),o=!0)},p:e,d(e){e&&d(n),o=!1,a()}}}function bt(t){let n,r,o,a;return{c(){n=h("p"),r=h("button"),r.textContent=""+t[6]("KOMReviewDetailPlayButtonReviewingText"),K(r,"class","KOMReviewDetailPlayButtonReviewing")},m(e,i){c(e,n,i),u(n,r),o||(a=M(r,"click",t[7].InterfaceReviewingButtonDidClick),o=!0)},p:e,d(e){e&&d(n),o=!1,a()}}}function Lt(t){let n,r,o,a;return{c(){n=h("p"),r=h("button"),r.textContent=""+t[6]("KOMReviewDetailPlayButtonUnseenText"),K(r,"class","KOMReviewDetailPlayButtonUnseen")},m(e,i){c(e,n,i),u(n,r),o||(a=M(r,"click",t[7].InterfaceUnseenButtonDidClick),o=!0)},p:e,d(e){e&&d(n),o=!1,a()}}}function Rt(t){let n,r,o,a;return{c(){n=h("p"),r=h("button"),r.textContent=""+t[6]("KOMReviewDetailPlayButtonMixedText"),K(r,"class","KOMReviewDetailPlayButtonMixed")},m(e,i){c(e,n,i),u(n,r),o||(a=M(r,"click",t[7].InterfaceMixedButtonDidClick),o=!0)},p:e,d(e){e&&d(n),o=!1,a()}}}function Ct(t){let n;return{c(){n=h("p"),n.textContent=""+t[6]("KOMReviewDetailNoSpacingsText"),K(n,"class","KOMReviewDetailNoSpacings")},m(e,t){c(e,n,t)},p:e,d(e){e&&d(n)}}}function Dt(e){let t,n,r,o,a,i,s;return i=new it({props:{KOMReviewTodaySpacings:e[0].$KOMDeckTodayStudiedSpacings||[]}}),{c(){t=h("hr"),n=g(),r=h("div"),o=h("h1"),o.textContent=""+e[6]("KOMReviewDetailTodayHeadingText"),a=g(),W(i.$$.fragment),K(t,"class","svelte-7wbi0h"),K(o,"class","KOMReviewDetailTodayHeading"),K(r,"class","KOMReviewDetailToday")},m(e,l){c(e,t,l),c(e,n,l),c(e,r,l),u(r,o),u(r,a),q(i,r,null),s=!0},p(e,t){const n={};1&t&&(n.KOMReviewTodaySpacings=e[0].$KOMDeckTodayStudiedSpacings||[]),i.$set(n)},i(e){s||(G(i.$$.fragment,e),s=!0)},o(e){$(i.$$.fragment,e),s=!1},d(e){e&&d(t),e&&d(n),e&&d(r),J(i)}}}function Bt(e){let t,n,r,o,a,i,s;return i=new Tt({props:{KOMReviewGeneralSpacings:e[0].$KOMDeckSpacings}}),{c(){t=h("hr"),n=g(),r=h("div"),o=h("h1"),o.textContent=""+e[6]("KOMReviewDetailGeneralHeadingText"),a=g(),W(i.$$.fragment),K(t,"class","svelte-7wbi0h"),K(o,"class","KOMReviewDetailGeneralHeading"),K(r,"class","KOMReviewDetailGeneral")},m(e,l){c(e,t,l),c(e,n,l),c(e,r,l),u(r,o),u(r,a),q(i,r,null),s=!0},p(e,t){const n={};1&t&&(n.KOMReviewGeneralSpacings=e[0].$KOMDeckSpacings),i.$set(n)},i(e){s||(G(i.$$.fragment,e),s=!0)},o(e){$(i.$$.fragment,e),s=!1},d(e){e&&d(t),e&&d(n),e&&d(r),J(i)}}}function It(t){let n,r,o;return{c(){n=h("button"),K(n,"class","OLSKAppToolbarLauncherButton")},m(e,a){c(e,n,a),r||(o=M(n,"click",t[7]._OLSKAppToolbarDispatchLauncher),r=!0)},p:e,d(e){e&&d(n),r=!1,o()}}}function _t(e){let t,n,a,i,s,l,f,p,T,w,S,x,y,b,L,R,C,D,B,I,_,k,F,A,P,E,N,U,V,z,Y,Q,X,Z,ee,te,ne,re,oe,ae,se,le,ue,ce,de,fe,he,pe,Oe,ge,me,Me,Ke,ve,Te,we,Se,xe,ye,be,Le,Re,Ce,De,Be,Ie,_e,ke,Fe,Ae=e[0].KOMDeckName+"",Pe=ie()&&e[5];Q=new nt({props:{KOMReviewDetailLanguageCodeItem:e[0],KOMReviewDetailLanguageCodeItemProperty:"KOMDeckFrontLanguageCode",KOMReviewDetailLanguageCodeOptions:e[7]._ValueLanguages,KOMReviewDetailLanguageCodeDispatchUpdate:e[7].InterfaceFormDidUpdate}}),se=new nt({props:{KOMReviewDetailLanguageCodeItem:e[0],KOMReviewDetailLanguageCodeItemProperty:"KOMDeckRearLanguageCode",KOMReviewDetailLanguageCodeOptions:e[7]._ValueLanguages,KOMReviewDetailLanguageCodeDispatchUpdate:e[7].InterfaceFormDidUpdate}});let Ee=!e[0].$KOMDeckSpacings.length&&St(e),Ne=e[0].$KOMDeckSpacings.length&&(e[0].$KOMDeckTodayReviewCount||e[0].$KOMDeckTodayUnseenCount)&&xt(e),Ue=e[0].$KOMDeckSpacings.length&&!(e[0].$KOMDeckTodayReviewCount||e[0].$KOMDeckTodayUnseenCount)&&Ct(e),Ve=e[0].$KOMDeckTodayStudiedCount&&Dt(e),He=e[0].$KOMDeckGeneralNotUnseenCount&&Bt(e),je=Pe&&It(e);return{c(){t=h("div"),n=h("header"),a=h("div"),i=h("button"),s=h("div"),f=g(),p=h("div"),T=h("strong"),w=O(Ae),S=g(),x=h("div"),y=h("button"),y.textContent=""+e[6]("KOMReviewDetailToolbarCardsButtonText"),b=g(),L=h("div"),R=h("h1"),R.textContent=""+e[6]("KOMReviewDetailGameOptionsHeadingText"),C=g(),D=h("div"),B=h("p"),I=h("label"),_=h("input"),k=g(),F=h("span"),F.textContent=""+e[6]("KOMReviewDetailFormAudioIsEnabledFieldLabelText"),A=g(),P=h("p"),E=h("label"),N=h("input"),U=g(),V=h("span"),V.textContent=""+e[6]("KOMReviewDetailFormFrontSpeechIsEnabledFieldLabelText"),z=g(),Y=h("span"),W(Q.$$.fragment),X=g(),Z=h("p"),ee=h("label"),te=h("input"),ne=g(),re=h("span"),re.textContent=""+e[6]("KOMReviewDetailFormRearSpeechIsEnabledFieldLabelText"),oe=g(),ae=h("span"),W(se.$$.fragment),le=g(),ue=h("p"),ce=h("label"),de=h("input"),fe=g(),he=h("span"),he.textContent=""+e[6]("KOMReviewDetailFormIsForwardOnlyFieldLabelText"),pe=g(),Ee&&Ee.c(),Oe=g(),Ne&&Ne.c(),ge=g(),Ue&&Ue.c(),me=g(),Ve&&Ve.c(),Me=g(),He&&He.c(),Ke=g(),ve=h("hr"),Te=g(),we=h("h1"),we.textContent=""+e[6]("KOMReviewDetailDeckHeadingText"),Se=g(),xe=h("p"),ye=h("button"),ye.textContent=""+e[6]("KOMReviewDetailRenameButtonText"),be=g(),Le=h("hr"),Re=g(),Ce=h("p"),De=h("button"),De.textContent=""+e[6]("KOMReviewDetailDiscardButtonText"),Be=g(),je&&je.c(),Ie=m(),K(s,"class","KOMReviewDetailToolbarBackButtonImage"),K(i,"class","KOMReviewDetailToolbarBackButton OLSKLayoutButtonNoStyle OLSKLayoutElementTappable OLSKToolbarButton"),K(i,"title",l=e[6]("KOMReviewDetailToolbarBackButtonText")),K(a,"class","OLSKToolbarElementGroup"),K(T,"class","KOMReviewDetailToolbarTitle"),K(p,"class","OLSKToolbarElementGroup"),K(y,"class","KOMReviewDetailToolbarCardsButton OLSKLayoutButtonNoStyle OLSKLayoutElementTappable"),K(y,"accesskey","c"),K(x,"class","OLSKToolbarElementGroup"),K(n,"class","KOMReviewDetailToolbar OLSKToolbar OLSKToolbarJustify svelte-7wbi0h"),K(R,"class","KOMReviewDetailStudyHeading"),K(_,"class","KOMReviewDetailFormAudioIsEnabledField"),K(_,"type","checkbox"),K(F,"class","KOMReviewDetailFormAudioIsEnabledFieldLabel"),K(N,"class","KOMReviewDetailFormFrontSpeechIsEnabledField"),K(N,"type","checkbox"),K(V,"class","KOMReviewDetailFormFrontSpeechIsEnabledFieldLabel"),K(Y,"class","KOMReviewDetailFormFrontLanguageCode"),K(te,"class","KOMReviewDetailFormRearSpeechIsEnabledField"),K(te,"type","checkbox"),K(re,"class","KOMReviewDetailFormRearSpeechIsEnabledFieldLabel"),K(ae,"class","KOMReviewDetailFormRearLanguageCode"),K(de,"class","KOMReviewDetailFormIsForwardOnlyField"),K(de,"type","checkbox"),K(he,"class","KOMReviewDetailFormIsForwardOnlyFieldLabel"),K(D,"class","KOMReviewDetailForm"),K(ve,"class","svelte-7wbi0h"),K(we,"class","KOMReviewDetailDeckHeading"),K(ye,"class","KOMReviewDetailRenameButton"),K(Le,"class","svelte-7wbi0h"),K(De,"class","KOMReviewDetailDiscardButton OLSKLayoutButtonNoStyle OLSKLayoutElementTappable svelte-7wbi0h"),K(L,"class","KOMReviewDetailBody svelte-7wbi0h"),K(t,"class","KOMReviewDetail svelte-7wbi0h")},m(r,l){c(r,t,l),u(t,n),u(n,a),u(a,i),u(i,s),s.innerHTML=Qe,u(n,f),u(n,p),u(p,T),u(T,w),u(n,S),u(n,x),u(x,y),u(t,b),u(t,L),u(L,R),u(L,C),u(L,D),u(D,B),u(B,I),u(I,_),_.checked=e[0].KOMDeckAudioIsEnabled,u(I,k),u(I,F),u(D,A),u(D,P),u(P,E),u(E,N),N.checked=e[0].KOMDeckFrontSpeechIsEnabled,u(E,U),u(E,V),u(P,z),u(P,Y),q(Q,Y,null),u(D,X),u(D,Z),u(Z,ee),u(ee,te),te.checked=e[0].KOMDeckRearSpeechIsEnabled,u(ee,ne),u(ee,re),u(Z,oe),u(Z,ae),q(se,ae,null),u(D,le),u(D,ue),u(ue,ce),u(ce,de),de.checked=e[0].KOMDeckIsForwardOnly,u(ce,fe),u(ce,he),u(L,pe),Ee&&Ee.m(L,null),u(L,Oe),Ne&&Ne.m(L,null),u(L,ge),Ue&&Ue.m(L,null),u(L,me),Ve&&Ve.m(L,null),u(L,Me),He&&He.m(L,null),u(L,Ke),u(L,ve),u(L,Te),u(L,we),u(L,Se),u(L,xe),u(xe,ye),u(L,be),u(L,Le),u(L,Re),u(L,Ce),u(Ce,De),c(r,Be,l),je&&je.m(r,l),c(r,Ie,l),_e=!0,ke||(Fe=[M(wt,"keydown",e[7].InterfaceWindowDidKeydown),M(i,"click",(function(){o(e[2])&&e[2].apply(this,arguments)})),M(y,"click",(function(){o(e[3])&&e[3].apply(this,arguments)})),M(_,"change",e[12]),M(_,"input",e[7].InterfaceFormDidUpdate),M(N,"change",e[13]),M(N,"input",e[7].InterfaceFormDidUpdate),M(te,"change",e[14]),M(te,"input",e[7].InterfaceFormDidUpdate),M(de,"change",e[15]),M(de,"input",e[7].InterfaceForwardOnlyDidInput),M(ye,"click",e[7].InterfaceRenameButtonDidClick),M(De,"click",e[16])],ke=!0)},p(t,[n]){e=t,(!_e||1&n)&&Ae!==(Ae=e[0].KOMDeckName+"")&&v(w,Ae),1&n&&(_.checked=e[0].KOMDeckAudioIsEnabled),1&n&&(N.checked=e[0].KOMDeckFrontSpeechIsEnabled);const r={};1&n&&(r.KOMReviewDetailLanguageCodeItem=e[0]),Q.$set(r),1&n&&(te.checked=e[0].KOMDeckRearSpeechIsEnabled);const o={};1&n&&(o.KOMReviewDetailLanguageCodeItem=e[0]),se.$set(o),1&n&&(de.checked=e[0].KOMDeckIsForwardOnly),e[0].$KOMDeckSpacings.length?Ee&&(Ee.d(1),Ee=null):Ee?Ee.p(e,n):(Ee=St(e),Ee.c(),Ee.m(L,Oe)),e[0].$KOMDeckSpacings.length&&(e[0].$KOMDeckTodayReviewCount||e[0].$KOMDeckTodayUnseenCount)?Ne?Ne.p(e,n):(Ne=xt(e),Ne.c(),Ne.m(L,ge)):Ne&&(Ne.d(1),Ne=null),!e[0].$KOMDeckSpacings.length||e[0].$KOMDeckTodayReviewCount||e[0].$KOMDeckTodayUnseenCount?Ue&&(Ue.d(1),Ue=null):Ue?Ue.p(e,n):(Ue=Ct(e),Ue.c(),Ue.m(L,me)),e[0].$KOMDeckTodayStudiedCount?Ve?(Ve.p(e,n),1&n&&G(Ve,1)):(Ve=Dt(e),Ve.c(),G(Ve,1),Ve.m(L,Me)):Ve&&(H(),$(Ve,1,1,()=>{Ve=null}),j()),e[0].$KOMDeckGeneralNotUnseenCount?He?(He.p(e,n),1&n&&G(He,1)):(He=Bt(e),He.c(),G(He,1),He.m(L,Ke)):He&&(H(),$(He,1,1,()=>{He=null}),j()),32&n&&(Pe=ie()&&e[5]),Pe?je?je.p(e,n):(je=It(e),je.c(),je.m(Ie.parentNode,Ie)):je&&(je.d(1),je=null)},i(e){_e||(G(Q.$$.fragment,e),G(se.$$.fragment,e),G(Ve),G(He),_e=!0)},o(e){$(Q.$$.fragment,e),$(se.$$.fragment,e),$(Ve),$(He),_e=!1},d(e){e&&d(t),J(Q),J(se),Ee&&Ee.d(),Ne&&Ne.d(),Ue&&Ue.d(),Ve&&Ve.d(),He&&He.d(),e&&d(Be),je&&je.d(e),e&&d(Ie),ke=!1,r(Fe)}}}function kt(e,t,n){let{KOMReviewDetailDeck:r}=t,{KOMReviewDetailPlaySingle:o=!1}=t,{KOMReviewDetailDispatchBack:a}=t,{KOMReviewDetailDispatchBrowse:i}=t,{KOMReviewDetailDispatchUpdate:s}=t,{KOMReviewDetailDispatchRecount:l}=t,{KOMReviewDetailDispatchPlay:u}=t,{KOMReviewDetailDispatchDiscard:c}=t,{KOMReviewDetail_DebugShowLauncherButton:d=!1}=t;const f={KOMReviewDetailRecipes:()=>p.DataRecipes()},h=function(e){return te.OLSKInternationalLocalizedString(e,JSON.parse('{"en":{"OLSKAppToolbarGuideLinkText":"Guide","OLSKAppToolbarDonateLinkText":"Donate","OLSKAppToolbarLauncherButtonText":"Launcher","OLSKAppToolbarStorageButtonText":"Storage","OLSKDetailPlaceholderText":"No item selected","OLSKInputWrapperClearButtonText":"Clear text","OLSKLanguageSwitcherVersionFormat":"Version in %@","OLSKLanguageSwitcherVersionName":{"en":"English","fr":"French","es":"Spanish"},"OLSKMasterListFilterFieldText":"Filter","OLSKReloadButtonText":"Reload","OLSKRemoteStorageStatusOnline":"Online","OLSKRemoteStorageStatusNetworkOffline":"Offline","OLSKRemoteStorageStatusError":"Error","OLSKServiceWorkerUpdateAlertLabelText":"Update available","OLSKServiceWorkerUpdateAlertReloadButtonText":"Reload","KOMReviewLauncherItemSelectDeckTextFormat":"Select deck \'%@\'","KOMReviewLauncherItemSendLoginLinkText":"Send login link","KOMReviewLauncherItemSendLoginLinkSubject":"Kommit Login Link","KOMReviewLauncherItemDebugFlushDataText":"Flush data","KOMReviewLauncherItemDebugFlushDataConfirmText":"Are you sure?","KOMReviewChartCompositionStatesTotalCardsLabelText":"Total cards","KOMReviewChartCompositionStatesUnseenCardsLabelText":"Unseen","KOMReviewChartCompositionStatesDevelopingCardsLabelText":"Developing","KOMReviewChartCompositionStatesMatureCardsLabelText":"Mature","KOMReviewChartCompositionStatesSuspendedCardsLabelText":"Suspended","KOMReviewDetailToolbarBackButtonText":"Back","KOMReviewDetailToolbarCardsButtonText":"Cards","KOMReviewDetailGameOptionsHeadingText":"Game options","KOMReviewDetailNoCardsText":"There are no cards in this deck.","KOMReviewDetailFormAudioIsEnabledFieldLabelText":"Play audio","KOMReviewDetailFormFrontSpeechIsEnabledFieldLabelText":"Read front","KOMReviewDetailFormRearSpeechIsEnabledFieldLabelText":"Read back","KOMReviewDetailFormIsForwardOnlyFieldLabelText":"Skip reversed cards","KOMReviewDetailPlayButtonReviewingText":"Study review cards","KOMReviewDetailPlayButtonUnseenText":"Study new cards","KOMReviewDetailPlayButtonMixedText":"Study all cards","KOMReviewDetailPlayButtonSingleText":"Play","KOMReviewDetailNoSpacingsText":"All cards for today have been reviewed.","KOMReviewDetailTodayHeadingText":"Today","KOMReviewDetailGeneralHeadingText":"Historical","KOMReviewDetailDeckHeadingText":"Deck","KOMReviewDetailRenameButtonText":"Rename","KOMReviewDetailRenameButtonPromptText":"Name","KOMReviewDetailDiscardButtonText":"Delete deck and all cards inside","KOMReviewDetailDiscardPromptText":"Are you sure? Please type the name of the deck to confirm and delete.","KOMReviewDetailLanguageCodeFieldLabelText":"Language code","KOMReviewDetailLanguageCodeFieldOptionUnspecifiedText":"Unspecified","KOMReviewGeneralCardStatesHeadingText":"Cards","KOMReviewMasterToolbarTitleText":"Decks","KOMReviewMasterCreateButtonText":"Create deck","KOMReviewMasterCreateButtonPromptText":"Name","KOMReviewMasterListItemReviewLabelText":"review cards","KOMReviewMasterListItemUnseenLabelText":"new cards","KOMReviewTodayTotalCardsLabelText":"Total cards","KOMReviewTodayTimeMinutesLabelText":"Time (minutes)","KOMReviewTodayReviewAccuracyLabelText":"Review accuracy %","KOMBrowseInfoToolbarBackButtonText":"Back","KOMBrowseInfoToolbarDiscardButtonText":"Discard","KOMBrowseInfoDiscardConfirmText":"Are you sure?","KOMBrowseInfoToolbarTemplateButtonText":"Copy tags to new card","KOMBrowseInfoFormFrontTextFieldText":"Front text","KOMBrowseInfoFormFrontReadButtonText":"Read","KOMBrowseInfoFormRearTextFieldText":"Back text","KOMBrowseInfoFormRearReadButtonText":"Read","KOMBrowseInfoFormNotesFieldText":"Notes","KOMBrowseInfoAudioRecordButtonText":"Record","KOMBrowseInfoAudioRecordingAlertText":"Recording","KOMBrowseInfoAudioPlaybackButtonText":"Playback","KOMBrowseInfoAudioClearButtonText":"Clear","KOMBrowseInfoAudioNotAvailableAlertText":"Audio recording unsupported in this browser","KOMBrowseInfoTagsInputFieldText":"New tag name","KOMBrowseInfoTagsCreateButtonText":"Create tag","KOMBrowseInfoTagsRemoveButtonTextFormat":"Remove \'%@\'","KOMBrowseInfoTagsSuggestButtonTextFormat":"Add \'%@\'","KOMBrowseListToolbarCloseButtonText":"Close","KOMBrowseListToolbarCreateButtonText":"Create","KOMBrowseListItemUntitledText":"Untitled","KOMReviewLauncherItemDebugCardText":"Debug Card","KOMPlayToolbarUndoButtonText":"Undo","KOMPlayToolbarDoneButtonText":"Done","KOMPlayHearQuestionButtonText":"Hear question","KOMPlayHearAnswerButtonText":"Hear answer","KOMPlayFlipButtonText":"Flip","KOMPlayResponseButtonAgainText":"Again","KOMPlayResponseButtonHardText":"Sooner","KOMPlayResponseButtonGoodText":"Normal","KOMPlayResponseButtonEasyText":"Later"},"es":{"OLSKAppToolbarGuideLinkText":"Gua","OLSKAppToolbarDonateLinkText":"Donar","OLSKAppToolbarLauncherButtonText":"Lanzador","OLSKAppToolbarStorageButtonText":"Almacenamiento","OLSKDetailPlaceholderText":"Ningn artculo seleccionado","OLSKInputWrapperClearButtonText":"Despejar el texto","OLSKLanguageSwitcherVersionFormat":"Versin en %@","OLSKLanguageSwitcherVersionName":{"en":"ingls","fr":"francs","es":"espaol"},"OLSKMasterListFilterFieldText":"Filtrar","OLSKReloadButtonText":"Recargar","OLSKRemoteStorageStatusOnline":"En lneo","OLSKRemoteStorageStatusNetworkOffline":"Sin conexin","OLSKRemoteStorageStatusError":"Error","OLSKServiceWorkerUpdateAlertLabelText":"Actualizacin disponible","OLSKServiceWorkerUpdateAlertReloadButtonText":"Recargar"},"fr":{"OLSKAppToolbarGuideLinkText":"Guide","OLSKAppToolbarDonateLinkText":"Faire un don","OLSKAppToolbarLauncherButtonText":"Lanceur","OLSKAppToolbarStorageButtonText":"Stockage","OLSKDetailPlaceholderText":"Aucun article selection","OLSKInputWrapperClearButtonText":"Effacer le texte","OLSKLanguageSwitcherVersionFormat":"Version en %@","OLSKLanguageSwitcherVersionName":{"en":"anglais","fr":"franais","es":"espagnol"},"OLSKMasterListFilterFieldText":"Filtrer","OLSKReloadButtonText":"Recharger","OLSKRemoteStorageStatusOnline":"En ligne","OLSKRemoteStorageStatusNetworkOffline":"Hors connexion","OLSKRemoteStorageStatusError":"Erreur","OLSKServiceWorkerUpdateAlertLabelText":"Mise  jour disponible","OLSKServiceWorkerUpdateAlertReloadButtonText":"Recharger","KOMReviewLauncherItemSelectDeckTextFormat":"Choisir lot de cartes \'%@\'","KOMReviewLauncherItemSendLoginLinkText":"Envoyer lien d\'accs","KOMReviewLauncherItemSendLoginLinkSubject":"Kommit lien d\'accs","KOMReviewLauncherItemDebugFlushDataText":"Recharche les donnes","KOMReviewLauncherItemDebugFlushDataConfirmText":"tes-vous sr.e?","KOMReviewChartCompositionStatesTotalCardsLabelText":"Total des cartes","KOMReviewChartCompositionStatesUnseenCardsLabelText":"Non-vues","KOMReviewChartCompositionStatesDevelopingCardsLabelText":"En apprentisage","KOMReviewChartCompositionStatesMatureCardsLabelText":"Mature","KOMReviewChartCompositionStatesSuspendedCardsLabelText":"Suspendu","KOMReviewDetailToolbarBackButtonText":"Back","KOMReviewDetailToolbarCardsButtonText":"Cartes","KOMReviewDetailGameOptionsHeadingText":"Options du jeu","KOMReviewDetailNoCardsText":"Il n\'y a pas de cartes dans ce lot de cartes.","KOMReviewDetailFormAudioIsEnabledFieldLabelText":"Faire entendre la version audio enregistre","KOMReviewDetailFormFrontSpeechIsEnabledFieldLabelText":"Lire le recto","KOMReviewDetailFormRearSpeechIsEnabledFieldLabelText":"Lire le verso","KOMReviewDetailFormIsForwardOnlyFieldLabelText":"Ne pas activer la lecture des cartes inverses","KOMReviewDetailPlayButtonReviewingText":"tudier des cartes  rviser","KOMReviewDetailPlayButtonUnseenText":"tudier des nouvelles cartes","KOMReviewDetailPlayButtonMixedText":"tudier toutes les cartes","KOMReviewDetailPlayButtonSingleText":"Jouer","KOMReviewDetailNoSpacingsText":"Toutes les cartes pour aujourd\'hui ont t rvises.","KOMReviewDetailTodayHeadingText":"Aujourd\'hui","KOMReviewDetailGeneralHeadingText":"Historique","KOMReviewDetailDeckHeadingText":"Lot de cartes","KOMReviewDetailRenameButtonText":"Renommer","KOMReviewDetailRenameButtonPromptText":"Nom","KOMReviewDetailDiscardButtonText":"Supprimer le lot de cartes et toutes les cartes dedans","KOMReviewDetailDiscardPromptText":"tes-vous sr.e? Veuillez entrer le nom du lot de cartes pour confirmer et supprimer.","KOMReviewDetailLanguageCodeFieldLabelText":"Code de la langue","KOMReviewDetailLanguageCodeFieldOptionUnspecifiedText":"Non specifi","KOMReviewGeneralCardStatesHeadingText":"Les tats des cartes","KOMReviewMasterToolbarTitleText":"Lots de cartes","KOMReviewMasterCreateButtonText":"Crer lot de cartes","KOMReviewMasterCreateButtonPromptText":"Nom","KOMReviewMasterListItemReviewLabelText":"cartes  rviser","KOMReviewMasterListItemUnseenLabelText":"cartes nouvelles","KOMReviewTodayTotalCardsLabelText":"Total des cartes","KOMReviewTodayTimeMinutesLabelText":"Temps (minutes)","KOMReviewTodayReviewAccuracyLabelText":"Exactitude de la rvision %","KOMBrowseInfoToolbarBackButtonText":"Back","KOMBrowseInfoToolbarDiscardButtonText":"Jeter","KOMBrowseInfoDiscardConfirmText":"tes-vous sr.e?","KOMBrowseInfoToolbarTemplateButtonText":"Copier des tags  une nouvelle carte","KOMBrowseInfoFormFrontTextFieldText":"Texte du recto","KOMBrowseInfoFormFrontReadButtonText":"Lire","KOMBrowseInfoFormRearTextFieldText":"Texte du verso","KOMBrowseInfoFormRearReadButtonText":"Lire","KOMBrowseInfoFormNotesFieldText":"Notes","KOMBrowseInfoAudioRecordButtonText":"Enregistrer","KOMBrowseInfoAudioRecordingAlertText":"Enregistrement en cours","KOMBrowseInfoAudioPlaybackButtonText":"Lecture","KOMBrowseInfoAudioClearButtonText":"Effacer","KOMBrowseInfoAudioNotAvailableAlertText":"Enregistrement audio non pris en charge dans ce navigateur","KOMBrowseInfoTagsInputFieldText":"Nom du tag nouveau","KOMBrowseInfoTagsCreateButtonText":"Crer le tag","KOMBrowseInfoTagsRemoveButtonTextFormat":"Enlever \'%@\'","KOMBrowseInfoTagsSuggestButtonTextFormat":"Ajouter \'%@\'","KOMBrowseListToolbarCloseButtonText":"Fermer","KOMBrowseListToolbarCreateButtonText":"Crer","KOMBrowseListItemUntitledText":"Sans titre","KOMReviewLauncherItemDebugCardText":"Debug Card","KOMPlayToolbarUndoButtonText":"Annuler","KOMPlayToolbarDoneButtonText":"OK","KOMPlayHearQuestionButtonText":"couter la question","KOMPlayHearAnswerButtonText":"couter la rponse","KOMPlayFlipButtonText":"Retourner","KOMPlayResponseButtonAgainText":"Encore","KOMPlayResponseButtonHardText":"Plus tt","KOMPlayResponseButtonGoodText":"Normale","KOMPlayResponseButtonEasyText":"Plus tard"}}')[window.OLSKPublicConstants("OLSKSharedPageCurrentLanguage")])},p={_ValueLanguages:"speechSynthesis"in window?speechSynthesis.getVoices().map((function(e){return e.lang})).filter((function(e,t,n){return n.indexOf(e)===t})).sort():[],DataRecipes(){const e=[];return r.$KOMDeckSpacings.length&&r.$KOMDeckTodayReviewCount&&e.push({LCHRecipeSignature:"KOMReviewDetailLauncherItemPlayReviewing",LCHRecipeName:h("KOMReviewDetailPlayButtonReviewingText"),LCHRecipeCallback(){p.ContolPlay(Ve.KOMReviewSchemeReviewing())}}),r.$KOMDeckSpacings.length&&r.$KOMDeckTodayUnseenCount&&e.push({LCHRecipeSignature:"KOMReviewDetailLauncherItemPlayUnseen",LCHRecipeName:h("KOMReviewDetailPlayButtonUnseenText"),LCHRecipeCallback(){p.ContolPlay(Ve.KOMReviewSchemeUnseen())}}),ie()&&e.push({LCHRecipeName:"KOMReviewDetailLauncherFakeItemProxy",LCHRecipeCallback:function(){}}),e},InterfaceFormDidUpdate(){window.setTimeout((function(){s(r)}))},InterfaceForwardOnlyDidInput(){p.InterfaceFormDidUpdate(),l()},InterfaceReviewingButtonDidClick(){p.ContolPlay(Ve.KOMReviewSchemeReviewing())},InterfaceUnseenButtonDidClick(){p.ContolPlay(Ve.KOMReviewSchemeUnseen())},InterfaceMixedButtonDidClick(){p.ContolPlay(Ve.KOMReviewSchemeMixed())},InterfaceRenameButtonDidClick(){p.ControlRename()},InterfaceWindowDidKeydown(e){if(document.querySelector(".LCHLauncher"))return;const t={Escape(){a()}};t[e.key]&&t[e.key]()},ControlRename(){let e=window.prompt(h("KOMReviewDetailRenameButtonPromptText"),r.KOMDeckName);e&&e!==r.KOMDeckName&&s(Object.assign(r,{KOMDeckName:e}))},ContolPlay(e){const t={KOMReviewScheme:e};e!==Ve.KOMReviewSchemeReviewing()&&(t.KOMReviewMaxUnseenCards=10),u(t)},_OLSKAppToolbarDispatchLauncher(){window.Launchlet.LCHSingletonCreate({LCHOptionRecipes:p.DataRecipes()})}};return e.$set=e=>{"KOMReviewDetailDeck"in e&&n(0,r=e.KOMReviewDetailDeck),"KOMReviewDetailPlaySingle"in e&&n(1,o=e.KOMReviewDetailPlaySingle),"KOMReviewDetailDispatchBack"in e&&n(2,a=e.KOMReviewDetailDispatchBack),"KOMReviewDetailDispatchBrowse"in e&&n(3,i=e.KOMReviewDetailDispatchBrowse),"KOMReviewDetailDispatchUpdate"in e&&n(8,s=e.KOMReviewDetailDispatchUpdate),"KOMReviewDetailDispatchRecount"in e&&n(9,l=e.KOMReviewDetailDispatchRecount),"KOMReviewDetailDispatchPlay"in e&&n(10,u=e.KOMReviewDetailDispatchPlay),"KOMReviewDetailDispatchDiscard"in e&&n(4,c=e.KOMReviewDetailDispatchDiscard),"KOMReviewDetail_DebugShowLauncherButton"in e&&n(5,d=e.KOMReviewDetail_DebugShowLauncherButton)},[r,o,a,i,c,d,h,p,s,l,u,f,function(){r.KOMDeckAudioIsEnabled=this.checked,n(0,r)},function(){r.KOMDeckFrontSpeechIsEnabled=this.checked,n(0,r)},function(){r.KOMDeckRearSpeechIsEnabled=this.checked,n(0,r)},function(){r.KOMDeckIsForwardOnly=this.checked,n(0,r)},()=>window.prompt(h("KOMReviewDetailDiscardPromptText"))===r.KOMDeckName&&c(r)]}class Ft extends X{constructor(e){super(),Q(this,e,kt,_t,a,{KOMReviewDetailDeck:0,KOMReviewDetailPlaySingle:1,KOMReviewDetailDispatchBack:2,KOMReviewDetailDispatchBrowse:3,KOMReviewDetailDispatchUpdate:8,KOMReviewDetailDispatchRecount:9,KOMReviewDetailDispatchPlay:10,KOMReviewDetailDispatchDiscard:4,KOMReviewDetail_DebugShowLauncherButton:5,modPublic:11})}get modPublic(){return this.$$.ctx[11]}}const At=re||oe,Pt={KOMBrowseSort:(e,t)=>e.KOMCardModificationDate&&t.KOMCardModificationDate?t.KOMCardModificationDate-e.KOMCardModificationDate:t.KOMCardCreationDate-e.KOMCardCreationDate,KOMBrowseFilterFunction(e){if("string"!=typeof e)throw new Error("KOMErrorInputNotValid");return function(t){return[t.KOMCardFrontText,t.KOMCardRearText,t.KOMCardNotes].filter((function(e){return!!e})).concat(t.KOMCardTags||[]).filter((function(t){return At.OLSKStringMatch(e,t)})).length}},KOMBrowseExactMatchFirst(e,t){if("string"!=typeof e)throw new Error("KOMErrorInputNotValid");if(!Array.isArray(t))throw new Error("KOMErrorInputNotValid");return t.slice().sort((function(t,n){const r=function(t){return[t.KOMCardFrontText,t.KOMCardRearText].filter((function(t){if(t)return At.OLSKStringMatch(t,e)})).length};return r(t)>r(n)?-1:1}))}};var Et=ee((function(e,t){const n={KOMBrowseListItemAccessibilitySummary(e,t){if("object"!=typeof e||null===e)throw new Error("KOMErrorInputNotValid");return[e.KOMCardFrontText||t("KOMBrowseListItemUntitledText")].join("\n")}};Object.assign(t,n)}));function Nt(e){let t,n,a,i,s;return{c(){t=h("button"),n=h("div"),K(n,"class","OLSKInputWrapperClearButtonImage"),K(t,"class","OLSKInputWrapperClearButton OLSKLayoutElementTappable OLSKLayoutButtonNoStyle OLSKToolbarButton svelte-1clh3fc"),K(t,"title",a=e[2]("OLSKInputWrapperClearButtonText"))},m(r,a){c(r,t,a),u(t,n),n.innerHTML='<?xml version="1.0" encoding="UTF-8"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16" viewBox="0 0 16 16"  xml:space="preserve" id="_OLSKInputClear">\n    \x3c!-- Generated by PaintCode (www.paintcodeapp.com) --\x3e\n    <circle id="_OLSKInputClear-oval2" stroke="rgb(170, 170, 170)" stroke-width="1.5" fill="rgb(170, 170, 170)" cx="8" cy="8" r="5.5" />\n    <path id="_OLSKInputClear-bezier" stroke="rgb(255, 255, 255)" stroke-width="1.5" stroke-linecap="round" stroke-miterlimit="10" fill="none" d="M 6,6 L 10,10" />\n    <path id="_OLSKInputClear-bezier2" stroke="rgb(255, 255, 255)" stroke-width="1.5" stroke-linecap="round" stroke-miterlimit="10" fill="none" d="M 6,10 L 10,6" />\n</svg>\n',i||(s=[M(t,"mousedown",Vt),M(t,"click",(function(){o(e[1])&&e[1].apply(this,arguments)}))],i=!0)},p(t,n){e=t},d(e){e&&d(t),i=!1,r(s)}}}function Ut(e){let t,n,r;const o=e[4].default,a=i(o,e,e[3],null);let s=e[0]&&Nt(e);return{c(){t=h("div"),a&&a.c(),n=g(),s&&s.c(),K(t,"class","OLSKInputWrapper OLSKToolbarFlexible svelte-1clh3fc")},m(e,o){c(e,t,o),a&&a.m(t,null),u(t,n),s&&s.m(t,null),r=!0},p(e,[n]){a&&a.p&&8&n&&l(a,o,e,e[3],n,null,null),e[0]?s?s.p(e,n):(s=Nt(e),s.c(),s.m(t,null)):s&&(s.d(1),s=null)},i(e){r||(G(a,e),r=!0)},o(e){$(a,e),r=!1},d(e){e&&d(t),a&&a.d(e),s&&s.d()}}}const Vt=e=>e.preventDefault();function Ht(e,t,n){let{OLSKInputWrapperValue:r}=t,{OLSKInputWrapperDispatchClear:o}=t;let{$$slots:a={},$$scope:i}=t;return e.$set=e=>{"OLSKInputWrapperValue"in e&&n(0,r=e.OLSKInputWrapperValue),"OLSKInputWrapperDispatchClear"in e&&n(1,o=e.OLSKInputWrapperDispatchClear),"$$scope"in e&&n(3,i=e.$$scope)},[r,o,function(e){return te.OLSKInternationalLocalizedString(e,JSON.parse('{"en":{"OLSKAppToolbarGuideLinkText":"Guide","OLSKAppToolbarDonateLinkText":"Donate","OLSKAppToolbarLauncherButtonText":"Launcher","OLSKAppToolbarStorageButtonText":"Storage","OLSKDetailPlaceholderText":"No item selected","OLSKInputWrapperClearButtonText":"Clear text","OLSKLanguageSwitcherVersionFormat":"Version in %@","OLSKLanguageSwitcherVersionName":{"en":"English","fr":"French","es":"Spanish"},"OLSKMasterListFilterFieldText":"Filter","OLSKReloadButtonText":"Reload","OLSKRemoteStorageStatusOnline":"Online","OLSKRemoteStorageStatusNetworkOffline":"Offline","OLSKRemoteStorageStatusError":"Error","OLSKServiceWorkerUpdateAlertLabelText":"Update available","OLSKServiceWorkerUpdateAlertReloadButtonText":"Reload","KOMReviewLauncherItemSelectDeckTextFormat":"Select deck \'%@\'","KOMReviewLauncherItemSendLoginLinkText":"Send login link","KOMReviewLauncherItemSendLoginLinkSubject":"Kommit Login Link","KOMReviewLauncherItemDebugFlushDataText":"Flush data","KOMReviewLauncherItemDebugFlushDataConfirmText":"Are you sure?","KOMReviewChartCompositionStatesTotalCardsLabelText":"Total cards","KOMReviewChartCompositionStatesUnseenCardsLabelText":"Unseen","KOMReviewChartCompositionStatesDevelopingCardsLabelText":"Developing","KOMReviewChartCompositionStatesMatureCardsLabelText":"Mature","KOMReviewChartCompositionStatesSuspendedCardsLabelText":"Suspended","KOMReviewDetailToolbarBackButtonText":"Back","KOMReviewDetailToolbarCardsButtonText":"Cards","KOMReviewDetailGameOptionsHeadingText":"Game options","KOMReviewDetailNoCardsText":"There are no cards in this deck.","KOMReviewDetailFormAudioIsEnabledFieldLabelText":"Play audio","KOMReviewDetailFormFrontSpeechIsEnabledFieldLabelText":"Read front","KOMReviewDetailFormRearSpeechIsEnabledFieldLabelText":"Read back","KOMReviewDetailFormIsForwardOnlyFieldLabelText":"Skip reversed cards","KOMReviewDetailPlayButtonReviewingText":"Study review cards","KOMReviewDetailPlayButtonUnseenText":"Study new cards","KOMReviewDetailPlayButtonMixedText":"Study all cards","KOMReviewDetailPlayButtonSingleText":"Play","KOMReviewDetailNoSpacingsText":"All cards for today have been reviewed.","KOMReviewDetailTodayHeadingText":"Today","KOMReviewDetailGeneralHeadingText":"Historical","KOMReviewDetailDeckHeadingText":"Deck","KOMReviewDetailRenameButtonText":"Rename","KOMReviewDetailRenameButtonPromptText":"Name","KOMReviewDetailDiscardButtonText":"Delete deck and all cards inside","KOMReviewDetailDiscardPromptText":"Are you sure? Please type the name of the deck to confirm and delete.","KOMReviewDetailLanguageCodeFieldLabelText":"Language code","KOMReviewDetailLanguageCodeFieldOptionUnspecifiedText":"Unspecified","KOMReviewGeneralCardStatesHeadingText":"Cards","KOMReviewMasterToolbarTitleText":"Decks","KOMReviewMasterCreateButtonText":"Create deck","KOMReviewMasterCreateButtonPromptText":"Name","KOMReviewMasterListItemReviewLabelText":"review cards","KOMReviewMasterListItemUnseenLabelText":"new cards","KOMReviewTodayTotalCardsLabelText":"Total cards","KOMReviewTodayTimeMinutesLabelText":"Time (minutes)","KOMReviewTodayReviewAccuracyLabelText":"Review accuracy %","KOMBrowseInfoToolbarBackButtonText":"Back","KOMBrowseInfoToolbarDiscardButtonText":"Discard","KOMBrowseInfoDiscardConfirmText":"Are you sure?","KOMBrowseInfoToolbarTemplateButtonText":"Copy tags to new card","KOMBrowseInfoFormFrontTextFieldText":"Front text","KOMBrowseInfoFormFrontReadButtonText":"Read","KOMBrowseInfoFormRearTextFieldText":"Back text","KOMBrowseInfoFormRearReadButtonText":"Read","KOMBrowseInfoFormNotesFieldText":"Notes","KOMBrowseInfoAudioRecordButtonText":"Record","KOMBrowseInfoAudioRecordingAlertText":"Recording","KOMBrowseInfoAudioPlaybackButtonText":"Playback","KOMBrowseInfoAudioClearButtonText":"Clear","KOMBrowseInfoAudioNotAvailableAlertText":"Audio recording unsupported in this browser","KOMBrowseInfoTagsInputFieldText":"New tag name","KOMBrowseInfoTagsCreateButtonText":"Create tag","KOMBrowseInfoTagsRemoveButtonTextFormat":"Remove \'%@\'","KOMBrowseInfoTagsSuggestButtonTextFormat":"Add \'%@\'","KOMBrowseListToolbarCloseButtonText":"Close","KOMBrowseListToolbarCreateButtonText":"Create","KOMBrowseListItemUntitledText":"Untitled","KOMReviewLauncherItemDebugCardText":"Debug Card","KOMPlayToolbarUndoButtonText":"Undo","KOMPlayToolbarDoneButtonText":"Done","KOMPlayHearQuestionButtonText":"Hear question","KOMPlayHearAnswerButtonText":"Hear answer","KOMPlayFlipButtonText":"Flip","KOMPlayResponseButtonAgainText":"Again","KOMPlayResponseButtonHardText":"Sooner","KOMPlayResponseButtonGoodText":"Normal","KOMPlayResponseButtonEasyText":"Later"},"es":{"OLSKAppToolbarGuideLinkText":"Gua","OLSKAppToolbarDonateLinkText":"Donar","OLSKAppToolbarLauncherButtonText":"Lanzador","OLSKAppToolbarStorageButtonText":"Almacenamiento","OLSKDetailPlaceholderText":"Ningn artculo seleccionado","OLSKInputWrapperClearButtonText":"Despejar el texto","OLSKLanguageSwitcherVersionFormat":"Versin en %@","OLSKLanguageSwitcherVersionName":{"en":"ingls","fr":"francs","es":"espaol"},"OLSKMasterListFilterFieldText":"Filtrar","OLSKReloadButtonText":"Recargar","OLSKRemoteStorageStatusOnline":"En lneo","OLSKRemoteStorageStatusNetworkOffline":"Sin conexin","OLSKRemoteStorageStatusError":"Error","OLSKServiceWorkerUpdateAlertLabelText":"Actualizacin disponible","OLSKServiceWorkerUpdateAlertReloadButtonText":"Recargar"},"fr":{"OLSKAppToolbarGuideLinkText":"Guide","OLSKAppToolbarDonateLinkText":"Faire un don","OLSKAppToolbarLauncherButtonText":"Lanceur","OLSKAppToolbarStorageButtonText":"Stockage","OLSKDetailPlaceholderText":"Aucun article selection","OLSKInputWrapperClearButtonText":"Effacer le texte","OLSKLanguageSwitcherVersionFormat":"Version en %@","OLSKLanguageSwitcherVersionName":{"en":"anglais","fr":"franais","es":"espagnol"},"OLSKMasterListFilterFieldText":"Filtrer","OLSKReloadButtonText":"Recharger","OLSKRemoteStorageStatusOnline":"En ligne","OLSKRemoteStorageStatusNetworkOffline":"Hors connexion","OLSKRemoteStorageStatusError":"Erreur","OLSKServiceWorkerUpdateAlertLabelText":"Mise  jour disponible","OLSKServiceWorkerUpdateAlertReloadButtonText":"Recharger","KOMReviewLauncherItemSelectDeckTextFormat":"Choisir lot de cartes \'%@\'","KOMReviewLauncherItemSendLoginLinkText":"Envoyer lien d\'accs","KOMReviewLauncherItemSendLoginLinkSubject":"Kommit lien d\'accs","KOMReviewLauncherItemDebugFlushDataText":"Recharche les donnes","KOMReviewLauncherItemDebugFlushDataConfirmText":"tes-vous sr.e?","KOMReviewChartCompositionStatesTotalCardsLabelText":"Total des cartes","KOMReviewChartCompositionStatesUnseenCardsLabelText":"Non-vues","KOMReviewChartCompositionStatesDevelopingCardsLabelText":"En apprentisage","KOMReviewChartCompositionStatesMatureCardsLabelText":"Mature","KOMReviewChartCompositionStatesSuspendedCardsLabelText":"Suspendu","KOMReviewDetailToolbarBackButtonText":"Back","KOMReviewDetailToolbarCardsButtonText":"Cartes","KOMReviewDetailGameOptionsHeadingText":"Options du jeu","KOMReviewDetailNoCardsText":"Il n\'y a pas de cartes dans ce lot de cartes.","KOMReviewDetailFormAudioIsEnabledFieldLabelText":"Faire entendre la version audio enregistre","KOMReviewDetailFormFrontSpeechIsEnabledFieldLabelText":"Lire le recto","KOMReviewDetailFormRearSpeechIsEnabledFieldLabelText":"Lire le verso","KOMReviewDetailFormIsForwardOnlyFieldLabelText":"Ne pas activer la lecture des cartes inverses","KOMReviewDetailPlayButtonReviewingText":"tudier des cartes  rviser","KOMReviewDetailPlayButtonUnseenText":"tudier des nouvelles cartes","KOMReviewDetailPlayButtonMixedText":"tudier toutes les cartes","KOMReviewDetailPlayButtonSingleText":"Jouer","KOMReviewDetailNoSpacingsText":"Toutes les cartes pour aujourd\'hui ont t rvises.","KOMReviewDetailTodayHeadingText":"Aujourd\'hui","KOMReviewDetailGeneralHeadingText":"Historique","KOMReviewDetailDeckHeadingText":"Lot de cartes","KOMReviewDetailRenameButtonText":"Renommer","KOMReviewDetailRenameButtonPromptText":"Nom","KOMReviewDetailDiscardButtonText":"Supprimer le lot de cartes et toutes les cartes dedans","KOMReviewDetailDiscardPromptText":"tes-vous sr.e? Veuillez entrer le nom du lot de cartes pour confirmer et supprimer.","KOMReviewDetailLanguageCodeFieldLabelText":"Code de la langue","KOMReviewDetailLanguageCodeFieldOptionUnspecifiedText":"Non specifi","KOMReviewGeneralCardStatesHeadingText":"Les tats des cartes","KOMReviewMasterToolbarTitleText":"Lots de cartes","KOMReviewMasterCreateButtonText":"Crer lot de cartes","KOMReviewMasterCreateButtonPromptText":"Nom","KOMReviewMasterListItemReviewLabelText":"cartes  rviser","KOMReviewMasterListItemUnseenLabelText":"cartes nouvelles","KOMReviewTodayTotalCardsLabelText":"Total des cartes","KOMReviewTodayTimeMinutesLabelText":"Temps (minutes)","KOMReviewTodayReviewAccuracyLabelText":"Exactitude de la rvision %","KOMBrowseInfoToolbarBackButtonText":"Back","KOMBrowseInfoToolbarDiscardButtonText":"Jeter","KOMBrowseInfoDiscardConfirmText":"tes-vous sr.e?","KOMBrowseInfoToolbarTemplateButtonText":"Copier des tags  une nouvelle carte","KOMBrowseInfoFormFrontTextFieldText":"Texte du recto","KOMBrowseInfoFormFrontReadButtonText":"Lire","KOMBrowseInfoFormRearTextFieldText":"Texte du verso","KOMBrowseInfoFormRearReadButtonText":"Lire","KOMBrowseInfoFormNotesFieldText":"Notes","KOMBrowseInfoAudioRecordButtonText":"Enregistrer","KOMBrowseInfoAudioRecordingAlertText":"Enregistrement en cours","KOMBrowseInfoAudioPlaybackButtonText":"Lecture","KOMBrowseInfoAudioClearButtonText":"Effacer","KOMBrowseInfoAudioNotAvailableAlertText":"Enregistrement audio non pris en charge dans ce navigateur","KOMBrowseInfoTagsInputFieldText":"Nom du tag nouveau","KOMBrowseInfoTagsCreateButtonText":"Crer le tag","KOMBrowseInfoTagsRemoveButtonTextFormat":"Enlever \'%@\'","KOMBrowseInfoTagsSuggestButtonTextFormat":"Ajouter \'%@\'","KOMBrowseListToolbarCloseButtonText":"Fermer","KOMBrowseListToolbarCreateButtonText":"Crer","KOMBrowseListItemUntitledText":"Sans titre","KOMReviewLauncherItemDebugCardText":"Debug Card","KOMPlayToolbarUndoButtonText":"Annuler","KOMPlayToolbarDoneButtonText":"OK","KOMPlayHearQuestionButtonText":"couter la question","KOMPlayHearAnswerButtonText":"couter la rponse","KOMPlayFlipButtonText":"Retourner","KOMPlayResponseButtonAgainText":"Encore","KOMPlayResponseButtonHardText":"Plus tt","KOMPlayResponseButtonGoodText":"Normale","KOMPlayResponseButtonEasyText":"Plus tard"}}')[window.OLSKPublicConstants("OLSKSharedPageCurrentLanguage")])},i,a]}class jt extends X{constructor(e){super(),Q(this,e,Ht,Ut,a,{OLSKInputWrapperValue:0,OLSKInputWrapperDispatchClear:1})}}var Gt=ee((function(e,t){const n={OLSKResultsConstrainIndex(e,t){if(!Array.isArray(e))throw new Error("OLSKErrorInputNotValid");if("number"!=typeof t)throw new Error("OLSKErrorInputNotValid");return t<0?e.length-1:t>=e.length?0:t}};Object.assign(t,n)}));const $t=e=>({OLSKResultsListItem:1&e}),zt=e=>({OLSKResultsListItem:e[10]}),Wt=e=>({OLSKResultsListItem:1&e}),qt=e=>({OLSKResultsListItem:e[10]});function Jt(e,t,n){const r=e.slice();return r[10]=t[n],r}function Yt(e){let t,n;const r=e[8].OLSKResultsEmpty,o=i(r,e,e[7],zt);return{c(){t=h("div"),o&&o.c(),K(t,"class","OLSKResultsEmpty")},m(e,r){c(e,t,r),o&&o.m(t,null),n=!0},p(e,t){o&&o.p&&129&t&&l(o,r,e,e[7],t,$t,zt)},i(e){n||(G(o,e),n=!0)},o(e){$(o,e),n=!1},d(e){e&&d(t),o&&o.d(e)}}}function Qt(e){let t,n,r=e[0],o=[];for(let t=0;t<r.length;t+=1)o[t]=Xt(Jt(e,r,t));const a=e=>$(o[e],1,1,()=>{o[e]=null});return{c(){t=h("div");for(let e=0;e<o.length;e+=1)o[e].c();K(t,"class","OLSKResultsList")},m(e,r){c(e,t,r);for(let e=0;e<o.length;e+=1)o[e].m(t,null);n=!0},p(e,n){if(135&n){let i;for(r=e[0],i=0;i<r.length;i+=1){const a=Jt(e,r,i);o[i]?(o[i].p(a,n),G(o[i],1)):(o[i]=Xt(a),o[i].c(),G(o[i],1),o[i].m(t,null))}for(H(),i=r.length;i<o.length;i+=1)a(i);j()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)G(o[e]);n=!0}},o(e){o=o.filter(Boolean);for(let e=0;e<o.length;e+=1)$(o[e]);n=!1},d(e){e&&d(t),f(o,e)}}}function Xt(e){let t,n,r,o,a;const s=e[8].default,f=i(s,e,e[7],qt);function p(...t){return e[9](e[10],...t)}return{c(){t=h("div"),f&&f.c(),n=g(),K(t,"class","OLSKResultsListItem svelte-617v38"),x(t,"OLSKResultsListItemSelected",e[10]===e[1])},m(e,i){c(e,t,i),f&&f.m(t,null),u(t,n),r=!0,o||(a=M(t,"click",p),o=!0)},p(n,r){e=n,f&&f.p&&129&r&&l(f,s,e,e[7],r,Wt,qt),3&r&&x(t,"OLSKResultsListItemSelected",e[10]===e[1])},i(e){r||(G(f,e),r=!0)},o(e){$(f,e),r=!1},d(e){e&&d(t),f&&f.d(e),o=!1,a()}}}function Zt(e){let t,n,r,o,a,i;const s=[Qt,Yt],l=[];function u(e,t){return e[0].length?0:1}return n=u(e),r=l[n]=s[n](e),{c(){t=h("div"),r.c(),K(t,"class","OLSKResults")},m(r,s){c(r,t,s),l[n].m(t,null),o=!0,a||(i=M(window,"keydown",e[3].InterfaceWindowDidKeydown),a=!0)},p(e,[o]){let a=n;n=u(e),n===a?l[n].p(e,o):(H(),$(l[a],1,1,()=>{l[a]=null}),j(),r=l[n],r||(r=l[n]=s[n](e),r.c()),G(r,1),r.m(t,null))},i(e){o||(G(r),o=!0)},o(e){$(r),o=!1},d(e){e&&d(t),l[n].d(),a=!1,i()}}}function en(e,t,n){let{OLSKResultsListItems:r}=t,{OLSKResultsListItemSelected:o}=t,{OLSKResultsDispatchArrow:a}=t,{OLSKResultsDispatchClick:i}=t,{OLSKResultsEnableLooping:s=!1}=t,{OLSKResultsIgnoreKeyboard:l=!1}=t;const u={InterfaceWindowDidKeydown(e){if(l)return;if(!r.length)return;const t={ArrowUp:()=>((s||r[0]!==o)&&u.ControlArrowIncrement(-1),e.preventDefault()),ArrowDown:()=>((s||r.slice(-1).pop()!==o)&&u.ControlArrowIncrement(1),e.preventDefault())};t[e.code]&&t[e.code]()},ControlArrowIncrement(e){a(r[Gt.OLSKResultsConstrainIndex(r,r.indexOf(o)+e)])}};let{$$slots:c={},$$scope:d}=t;return e.$set=e=>{"OLSKResultsListItems"in e&&n(0,r=e.OLSKResultsListItems),"OLSKResultsListItemSelected"in e&&n(1,o=e.OLSKResultsListItemSelected),"OLSKResultsDispatchArrow"in e&&n(4,a=e.OLSKResultsDispatchArrow),"OLSKResultsDispatchClick"in e&&n(2,i=e.OLSKResultsDispatchClick),"OLSKResultsEnableLooping"in e&&n(5,s=e.OLSKResultsEnableLooping),"OLSKResultsIgnoreKeyboard"in e&&n(6,l=e.OLSKResultsIgnoreKeyboard),"$$scope"in e&&n(7,d=e.$$scope)},[r,o,i,u,a,s,l,d,c,e=>i(e)]}class tn extends X{constructor(e){super(),Q(this,e,en,Zt,a,{OLSKResultsListItems:0,OLSKResultsListItemSelected:1,OLSKResultsDispatchArrow:4,OLSKResultsDispatchClick:2,OLSKResultsEnableLooping:5,OLSKResultsIgnoreKeyboard:6})}}const nn=e=>({}),rn=e=>({OLSKResultsListItem:e[22]}),on=e=>({OLSKResultsListItem:4194304&e}),an=e=>({OLSKResultsListItem:e[22]}),sn=e=>({}),ln=e=>({OLSKResultsListItem:e[22]}),un=e=>({}),cn=e=>({OLSKResultsListItem:e[22]}),dn=e=>({}),fn=e=>({OLSKResultsListItem:e[22]});function hn(t){let n,a,i,s,l;return{c(){n=h("input"),K(n,"class",a="OLSKMasterListFilterField OLSKMobileSafariRemoveDefaultInputStyle "+t[8]),K(n,"placeholder",i=t[9]||t[15]("OLSKMasterListFilterFieldText")),n.autofocus=t[11]},m(e,r){c(e,n,r),T(n,t[0]),s||(l=[M(n,"input",t[19]),M(n,"input",(function(){o(t[14].InterfaceFilterFieldDidInput)&&t[14].InterfaceFilterFieldDidInput.apply(this,arguments)}))],s=!0)},p(e,r){t=e,256&r&&a!==(a="OLSKMasterListFilterField OLSKMobileSafariRemoveDefaultInputStyle "+t[8])&&K(n,"class",a),512&r&&i!==(i=t[9]||t[15]("OLSKMasterListFilterFieldText"))&&K(n,"placeholder",i),2048&r&&(n.autofocus=t[11]),1&r&&n.value!==t[0]&&T(n,t[0])},i:e,o:e,d(e){e&&d(n),s=!1,r(l)}}}function pn(e){let t,n;return t=new jt({props:{OLSKInputWrapperValue:e[10]?e[0]:"",OLSKInputWrapperDispatchClear:e[14].OLSKInputWrapperDispatchClear,$$slots:{default:[On]},$$scope:{ctx:e}}}),{c(){W(t.$$.fragment)},m(e,r){q(t,e,r),n=!0},p(e,n){const r={};1025&n&&(r.OLSKInputWrapperValue=e[10]?e[0]:""),16384&n&&(r.OLSKInputWrapperDispatchClear=e[14].OLSKInputWrapperDispatchClear),2116353&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(G(t.$$.fragment,e),n=!0)},o(e){$(t.$$.fragment,e),n=!1},d(e){J(t,e)}}}function On(e){let t,n,a,i,s;return{c(){t=h("input"),K(t,"class",n="OLSKMasterListFilterField OLSKMobileSafariRemoveDefaultInputStyle "+e[8]),K(t,"placeholder",a=e[9]||e[15]("OLSKMasterListFilterFieldText")),t.autofocus=e[11]},m(n,r){c(n,t,r),T(t,e[0]),i||(s=[M(t,"input",e[18]),M(t,"input",(function(){o(e[14].InterfaceFilterFieldDidInput)&&e[14].InterfaceFilterFieldDidInput.apply(this,arguments)}))],i=!0)},p(r,o){e=r,256&o&&n!==(n="OLSKMasterListFilterField OLSKMobileSafariRemoveDefaultInputStyle "+e[8])&&K(t,"class",n),512&o&&a!==(a=e[9]||e[15]("OLSKMasterListFilterFieldText"))&&K(t,"placeholder",a),2048&o&&(t.autofocus=e[11]),1&o&&t.value!==e[0]&&T(t,e[0])},d(e){e&&d(t),i=!1,r(s)}}}function gn(e){let t,n,r,o;const a=e[17].default,s=i(a,e,e[21],an);return{c(){t=h("div"),s&&s.c(),K(t,"class",n="OLSKMasterListItem "+e[12]),K(t,"aria-label",r=e[3](e[22])),K(t,"role","button")},m(e,n){c(e,t,n),s&&s.m(t,null),o=!0},p(e,i){s&&s.p&&6291456&i&&l(s,a,e,e[21],i,on,an),(!o||4096&i&&n!==(n="OLSKMasterListItem "+e[12]))&&K(t,"class",n),(!o||4194312&i&&r!==(r=e[3](e[22])))&&K(t,"aria-label",r)},i(e){o||(G(s,e),o=!0)},o(e){$(s,e),o=!1},d(e){e&&d(t),s&&s.d(e)}}}function mn(e){let t,n,r,o,a,s,f,p,O,m,M,v,T,w;const S=e[17].OLSKMasterListToolbarHead,y=i(S,e,e[21],fn),b=[pn,hn],L=[];function R(e,t){return e[10]?0:1}o=R(e),a=L[o]=b[o](e);const C=e[17].OLSKMasterListToolbarTail,D=i(C,e,e[21],cn),B=e[17].OLSKMasterListBodyHead,I=i(B,e,e[21],ln);m=new tn({props:{OLSKResultsListItems:e[1],OLSKResultsListItemSelected:e[2],OLSKResultsDispatchClick:e[4],OLSKResultsDispatchArrow:e[20],OLSKResultsIgnoreKeyboard:e[13],$$slots:{default:[gn,({OLSKResultsListItem:e})=>({22:e}),({OLSKResultsListItem:e})=>e?4194304:0]},$$scope:{ctx:e}}});const _=e[17].OLSKMasterListBodyTail,k=i(_,e,e[21],rn);return{c(){t=h("div"),n=h("header"),y&&y.c(),r=g(),a.c(),s=g(),D&&D.c(),f=g(),p=h("section"),I&&I.c(),O=g(),W(m.$$.fragment),M=g(),k&&k.c(),K(n,"class","OLSKMasterListToolbar OLSKMobileViewHeader OLSKToolbar"),K(p,"class","OLSKMasterListBody OLSKMobileViewBody"),K(t,"class",v="OLSKMasterList OLSKViewportMaster "+e[7]),K(t,"aria-hidden",T=!!e[6]||null),x(t,"OLSKMobileViewInactive",e[6]),x(t,"OLSKMasterListFocused",e[14]._ValueFilterFieldFocused)},m(e,a){c(e,t,a),u(t,n),y&&y.m(n,null),u(n,r),L[o].m(n,null),u(n,s),D&&D.m(n,null),u(t,f),u(t,p),I&&I.m(p,null),u(p,O),q(m,p,null),u(p,M),k&&k.m(p,null),w=!0},p(e,[r]){y&&y.p&&2097152&r&&l(y,S,e,e[21],r,dn,fn);let i=o;o=R(e),o===i?L[o].p(e,r):(H(),$(L[i],1,1,()=>{L[i]=null}),j(),a=L[o],a||(a=L[o]=b[o](e),a.c()),G(a,1),a.m(n,s)),D&&D.p&&2097152&r&&l(D,C,e,e[21],r,un,cn),I&&I.p&&2097152&r&&l(I,B,e,e[21],r,sn,ln);const u={};2&r&&(u.OLSKResultsListItems=e[1]),4&r&&(u.OLSKResultsListItemSelected=e[2]),16&r&&(u.OLSKResultsDispatchClick=e[4]),16416&r&&(u.OLSKResultsDispatchArrow=e[20]),8192&r&&(u.OLSKResultsIgnoreKeyboard=e[13]),6295560&r&&(u.$$scope={dirty:r,ctx:e}),m.$set(u),k&&k.p&&2097152&r&&l(k,_,e,e[21],r,nn,rn),(!w||128&r&&v!==(v="OLSKMasterList OLSKViewportMaster "+e[7]))&&K(t,"class",v),(!w||64&r&&T!==(T=!!e[6]||null))&&K(t,"aria-hidden",T),192&r&&x(t,"OLSKMobileViewInactive",e[6]),16512&r&&x(t,"OLSKMasterListFocused",e[14]._ValueFilterFieldFocused)},i(e){w||(G(y,e),G(a),G(D,e),G(I,e),G(m.$$.fragment,e),G(k,e),w=!0)},o(e){$(y,e),$(a),$(D,e),$(I,e),$(m.$$.fragment,e),$(k,e),w=!1},d(e){e&&d(t),y&&y.d(e),L[o].d(),D&&D.d(e),I&&I.d(e),J(m),k&&k.d(e)}}}function Mn(e,t,n){let{OLSKMasterListFilterText:r}=t,{OLSKMasterListItems:o}=t,{OLSKMasterListItemSelected:a=null}=t,{OLSKMasterListItemAccessibilitySummaryFor:i}=t,{OLSKMasterListDispatchClick:s}=t,{OLSKMasterListDispatchArrow:l}=t,{OLSKMasterListDispatchFilter:u}=t,{OLSKMobileViewInactive:c=!1}=t,{OLSKMasterListClass:d=""}=t,{OLSKMasterListFilterFieldClass:f=""}=t,{OLSKMasterListFilterFieldPlaceholderText:h=""}=t,{OLSKMasterListFilterFieldClearButton:p=!0}=t,{OLSKMasterListFilterFieldAutofocus:O=!1}=t,{OLSKMasterItemClass:g=""}=t,{OLSKResultsIgnoreKeyboard:m=!1}=t;const M={_ValueFilterFieldFocused:!1,DataIsFocused:()=>document.activeElement===document.querySelector(".OLSKMasterListFilterField"),DataIsMobile:()=>window.innerWidth<=760,InterfaceFilterFieldDidInput(e){u(this.value)},OLSKInputWrapperDispatchClear(){u("")},SetupEverything(){M.SetupFilterFieldEventListeners()},SetupFilterFieldEventListeners(){document.querySelector(".OLSKMasterListFilterField").addEventListener("focus",(function(){n(14,M._ValueFilterFieldFocused=!0,M)})),document.querySelector(".OLSKMasterListFilterField").addEventListener("blur",(function(){n(14,M._ValueFilterFieldFocused=!1,M)}))},LifecycleComponentDidMount(){M.SetupEverything()},LifecycleComponentDidUpdate(){if(ie())return;if(M.DataIsMobile())return;const e=document.querySelector(".OLSKResultsListItemSelected");e&&e.scrollIntoView({block:"nearest",inline:"nearest"})}};var K;R(M.LifecycleComponentDidMount),K=M.LifecycleComponentDidUpdate,L().$$.after_update.push(K);let{$$slots:v={},$$scope:T}=t;return e.$set=e=>{"OLSKMasterListFilterText"in e&&n(0,r=e.OLSKMasterListFilterText),"OLSKMasterListItems"in e&&n(1,o=e.OLSKMasterListItems),"OLSKMasterListItemSelected"in e&&n(2,a=e.OLSKMasterListItemSelected),"OLSKMasterListItemAccessibilitySummaryFor"in e&&n(3,i=e.OLSKMasterListItemAccessibilitySummaryFor),"OLSKMasterListDispatchClick"in e&&n(4,s=e.OLSKMasterListDispatchClick),"OLSKMasterListDispatchArrow"in e&&n(5,l=e.OLSKMasterListDispatchArrow),"OLSKMasterListDispatchFilter"in e&&n(16,u=e.OLSKMasterListDispatchFilter),"OLSKMobileViewInactive"in e&&n(6,c=e.OLSKMobileViewInactive),"OLSKMasterListClass"in e&&n(7,d=e.OLSKMasterListClass),"OLSKMasterListFilterFieldClass"in e&&n(8,f=e.OLSKMasterListFilterFieldClass),"OLSKMasterListFilterFieldPlaceholderText"in e&&n(9,h=e.OLSKMasterListFilterFieldPlaceholderText),"OLSKMasterListFilterFieldClearButton"in e&&n(10,p=e.OLSKMasterListFilterFieldClearButton),"OLSKMasterListFilterFieldAutofocus"in e&&n(11,O=e.OLSKMasterListFilterFieldAutofocus),"OLSKMasterItemClass"in e&&n(12,g=e.OLSKMasterItemClass),"OLSKResultsIgnoreKeyboard"in e&&n(13,m=e.OLSKResultsIgnoreKeyboard),"$$scope"in e&&n(21,T=e.$$scope)},[r,o,a,i,s,l,c,d,f,h,p,O,g,m,M,function(e){return te.OLSKInternationalLocalizedString(e,JSON.parse('{"en":{"OLSKAppToolbarGuideLinkText":"Guide","OLSKAppToolbarDonateLinkText":"Donate","OLSKAppToolbarLauncherButtonText":"Launcher","OLSKAppToolbarStorageButtonText":"Storage","OLSKDetailPlaceholderText":"No item selected","OLSKInputWrapperClearButtonText":"Clear text","OLSKLanguageSwitcherVersionFormat":"Version in %@","OLSKLanguageSwitcherVersionName":{"en":"English","fr":"French","es":"Spanish"},"OLSKMasterListFilterFieldText":"Filter","OLSKReloadButtonText":"Reload","OLSKRemoteStorageStatusOnline":"Online","OLSKRemoteStorageStatusNetworkOffline":"Offline","OLSKRemoteStorageStatusError":"Error","OLSKServiceWorkerUpdateAlertLabelText":"Update available","OLSKServiceWorkerUpdateAlertReloadButtonText":"Reload","KOMReviewLauncherItemSelectDeckTextFormat":"Select deck \'%@\'","KOMReviewLauncherItemSendLoginLinkText":"Send login link","KOMReviewLauncherItemSendLoginLinkSubject":"Kommit Login Link","KOMReviewLauncherItemDebugFlushDataText":"Flush data","KOMReviewLauncherItemDebugFlushDataConfirmText":"Are you sure?","KOMReviewChartCompositionStatesTotalCardsLabelText":"Total cards","KOMReviewChartCompositionStatesUnseenCardsLabelText":"Unseen","KOMReviewChartCompositionStatesDevelopingCardsLabelText":"Developing","KOMReviewChartCompositionStatesMatureCardsLabelText":"Mature","KOMReviewChartCompositionStatesSuspendedCardsLabelText":"Suspended","KOMReviewDetailToolbarBackButtonText":"Back","KOMReviewDetailToolbarCardsButtonText":"Cards","KOMReviewDetailGameOptionsHeadingText":"Game options","KOMReviewDetailNoCardsText":"There are no cards in this deck.","KOMReviewDetailFormAudioIsEnabledFieldLabelText":"Play audio","KOMReviewDetailFormFrontSpeechIsEnabledFieldLabelText":"Read front","KOMReviewDetailFormRearSpeechIsEnabledFieldLabelText":"Read back","KOMReviewDetailFormIsForwardOnlyFieldLabelText":"Skip reversed cards","KOMReviewDetailPlayButtonReviewingText":"Study review cards","KOMReviewDetailPlayButtonUnseenText":"Study new cards","KOMReviewDetailPlayButtonMixedText":"Study all cards","KOMReviewDetailPlayButtonSingleText":"Play","KOMReviewDetailNoSpacingsText":"All cards for today have been reviewed.","KOMReviewDetailTodayHeadingText":"Today","KOMReviewDetailGeneralHeadingText":"Historical","KOMReviewDetailDeckHeadingText":"Deck","KOMReviewDetailRenameButtonText":"Rename","KOMReviewDetailRenameButtonPromptText":"Name","KOMReviewDetailDiscardButtonText":"Delete deck and all cards inside","KOMReviewDetailDiscardPromptText":"Are you sure? Please type the name of the deck to confirm and delete.","KOMReviewDetailLanguageCodeFieldLabelText":"Language code","KOMReviewDetailLanguageCodeFieldOptionUnspecifiedText":"Unspecified","KOMReviewGeneralCardStatesHeadingText":"Cards","KOMReviewMasterToolbarTitleText":"Decks","KOMReviewMasterCreateButtonText":"Create deck","KOMReviewMasterCreateButtonPromptText":"Name","KOMReviewMasterListItemReviewLabelText":"review cards","KOMReviewMasterListItemUnseenLabelText":"new cards","KOMReviewTodayTotalCardsLabelText":"Total cards","KOMReviewTodayTimeMinutesLabelText":"Time (minutes)","KOMReviewTodayReviewAccuracyLabelText":"Review accuracy %","KOMBrowseInfoToolbarBackButtonText":"Back","KOMBrowseInfoToolbarDiscardButtonText":"Discard","KOMBrowseInfoDiscardConfirmText":"Are you sure?","KOMBrowseInfoToolbarTemplateButtonText":"Copy tags to new card","KOMBrowseInfoFormFrontTextFieldText":"Front text","KOMBrowseInfoFormFrontReadButtonText":"Read","KOMBrowseInfoFormRearTextFieldText":"Back text","KOMBrowseInfoFormRearReadButtonText":"Read","KOMBrowseInfoFormNotesFieldText":"Notes","KOMBrowseInfoAudioRecordButtonText":"Record","KOMBrowseInfoAudioRecordingAlertText":"Recording","KOMBrowseInfoAudioPlaybackButtonText":"Playback","KOMBrowseInfoAudioClearButtonText":"Clear","KOMBrowseInfoAudioNotAvailableAlertText":"Audio recording unsupported in this browser","KOMBrowseInfoTagsInputFieldText":"New tag name","KOMBrowseInfoTagsCreateButtonText":"Create tag","KOMBrowseInfoTagsRemoveButtonTextFormat":"Remove \'%@\'","KOMBrowseInfoTagsSuggestButtonTextFormat":"Add \'%@\'","KOMBrowseListToolbarCloseButtonText":"Close","KOMBrowseListToolbarCreateButtonText":"Create","KOMBrowseListItemUntitledText":"Untitled","KOMReviewLauncherItemDebugCardText":"Debug Card","KOMPlayToolbarUndoButtonText":"Undo","KOMPlayToolbarDoneButtonText":"Done","KOMPlayHearQuestionButtonText":"Hear question","KOMPlayHearAnswerButtonText":"Hear answer","KOMPlayFlipButtonText":"Flip","KOMPlayResponseButtonAgainText":"Again","KOMPlayResponseButtonHardText":"Sooner","KOMPlayResponseButtonGoodText":"Normal","KOMPlayResponseButtonEasyText":"Later"},"es":{"OLSKAppToolbarGuideLinkText":"Gua","OLSKAppToolbarDonateLinkText":"Donar","OLSKAppToolbarLauncherButtonText":"Lanzador","OLSKAppToolbarStorageButtonText":"Almacenamiento","OLSKDetailPlaceholderText":"Ningn artculo seleccionado","OLSKInputWrapperClearButtonText":"Despejar el texto","OLSKLanguageSwitcherVersionFormat":"Versin en %@","OLSKLanguageSwitcherVersionName":{"en":"ingls","fr":"francs","es":"espaol"},"OLSKMasterListFilterFieldText":"Filtrar","OLSKReloadButtonText":"Recargar","OLSKRemoteStorageStatusOnline":"En lneo","OLSKRemoteStorageStatusNetworkOffline":"Sin conexin","OLSKRemoteStorageStatusError":"Error","OLSKServiceWorkerUpdateAlertLabelText":"Actualizacin disponible","OLSKServiceWorkerUpdateAlertReloadButtonText":"Recargar"},"fr":{"OLSKAppToolbarGuideLinkText":"Guide","OLSKAppToolbarDonateLinkText":"Faire un don","OLSKAppToolbarLauncherButtonText":"Lanceur","OLSKAppToolbarStorageButtonText":"Stockage","OLSKDetailPlaceholderText":"Aucun article selection","OLSKInputWrapperClearButtonText":"Effacer le texte","OLSKLanguageSwitcherVersionFormat":"Version en %@","OLSKLanguageSwitcherVersionName":{"en":"anglais","fr":"franais","es":"espagnol"},"OLSKMasterListFilterFieldText":"Filtrer","OLSKReloadButtonText":"Recharger","OLSKRemoteStorageStatusOnline":"En ligne","OLSKRemoteStorageStatusNetworkOffline":"Hors connexion","OLSKRemoteStorageStatusError":"Erreur","OLSKServiceWorkerUpdateAlertLabelText":"Mise  jour disponible","OLSKServiceWorkerUpdateAlertReloadButtonText":"Recharger","KOMReviewLauncherItemSelectDeckTextFormat":"Choisir lot de cartes \'%@\'","KOMReviewLauncherItemSendLoginLinkText":"Envoyer lien d\'accs","KOMReviewLauncherItemSendLoginLinkSubject":"Kommit lien d\'accs","KOMReviewLauncherItemDebugFlushDataText":"Recharche les donnes","KOMReviewLauncherItemDebugFlushDataConfirmText":"tes-vous sr.e?","KOMReviewChartCompositionStatesTotalCardsLabelText":"Total des cartes","KOMReviewChartCompositionStatesUnseenCardsLabelText":"Non-vues","KOMReviewChartCompositionStatesDevelopingCardsLabelText":"En apprentisage","KOMReviewChartCompositionStatesMatureCardsLabelText":"Mature","KOMReviewChartCompositionStatesSuspendedCardsLabelText":"Suspendu","KOMReviewDetailToolbarBackButtonText":"Back","KOMReviewDetailToolbarCardsButtonText":"Cartes","KOMReviewDetailGameOptionsHeadingText":"Options du jeu","KOMReviewDetailNoCardsText":"Il n\'y a pas de cartes dans ce lot de cartes.","KOMReviewDetailFormAudioIsEnabledFieldLabelText":"Faire entendre la version audio enregistre","KOMReviewDetailFormFrontSpeechIsEnabledFieldLabelText":"Lire le recto","KOMReviewDetailFormRearSpeechIsEnabledFieldLabelText":"Lire le verso","KOMReviewDetailFormIsForwardOnlyFieldLabelText":"Ne pas activer la lecture des cartes inverses","KOMReviewDetailPlayButtonReviewingText":"tudier des cartes  rviser","KOMReviewDetailPlayButtonUnseenText":"tudier des nouvelles cartes","KOMReviewDetailPlayButtonMixedText":"tudier toutes les cartes","KOMReviewDetailPlayButtonSingleText":"Jouer","KOMReviewDetailNoSpacingsText":"Toutes les cartes pour aujourd\'hui ont t rvises.","KOMReviewDetailTodayHeadingText":"Aujourd\'hui","KOMReviewDetailGeneralHeadingText":"Historique","KOMReviewDetailDeckHeadingText":"Lot de cartes","KOMReviewDetailRenameButtonText":"Renommer","KOMReviewDetailRenameButtonPromptText":"Nom","KOMReviewDetailDiscardButtonText":"Supprimer le lot de cartes et toutes les cartes dedans","KOMReviewDetailDiscardPromptText":"tes-vous sr.e? Veuillez entrer le nom du lot de cartes pour confirmer et supprimer.","KOMReviewDetailLanguageCodeFieldLabelText":"Code de la langue","KOMReviewDetailLanguageCodeFieldOptionUnspecifiedText":"Non specifi","KOMReviewGeneralCardStatesHeadingText":"Les tats des cartes","KOMReviewMasterToolbarTitleText":"Lots de cartes","KOMReviewMasterCreateButtonText":"Crer lot de cartes","KOMReviewMasterCreateButtonPromptText":"Nom","KOMReviewMasterListItemReviewLabelText":"cartes  rviser","KOMReviewMasterListItemUnseenLabelText":"cartes nouvelles","KOMReviewTodayTotalCardsLabelText":"Total des cartes","KOMReviewTodayTimeMinutesLabelText":"Temps (minutes)","KOMReviewTodayReviewAccuracyLabelText":"Exactitude de la rvision %","KOMBrowseInfoToolbarBackButtonText":"Back","KOMBrowseInfoToolbarDiscardButtonText":"Jeter","KOMBrowseInfoDiscardConfirmText":"tes-vous sr.e?","KOMBrowseInfoToolbarTemplateButtonText":"Copier des tags  une nouvelle carte","KOMBrowseInfoFormFrontTextFieldText":"Texte du recto","KOMBrowseInfoFormFrontReadButtonText":"Lire","KOMBrowseInfoFormRearTextFieldText":"Texte du verso","KOMBrowseInfoFormRearReadButtonText":"Lire","KOMBrowseInfoFormNotesFieldText":"Notes","KOMBrowseInfoAudioRecordButtonText":"Enregistrer","KOMBrowseInfoAudioRecordingAlertText":"Enregistrement en cours","KOMBrowseInfoAudioPlaybackButtonText":"Lecture","KOMBrowseInfoAudioClearButtonText":"Effacer","KOMBrowseInfoAudioNotAvailableAlertText":"Enregistrement audio non pris en charge dans ce navigateur","KOMBrowseInfoTagsInputFieldText":"Nom du tag nouveau","KOMBrowseInfoTagsCreateButtonText":"Crer le tag","KOMBrowseInfoTagsRemoveButtonTextFormat":"Enlever \'%@\'","KOMBrowseInfoTagsSuggestButtonTextFormat":"Ajouter \'%@\'","KOMBrowseListToolbarCloseButtonText":"Fermer","KOMBrowseListToolbarCreateButtonText":"Crer","KOMBrowseListItemUntitledText":"Sans titre","KOMReviewLauncherItemDebugCardText":"Debug Card","KOMPlayToolbarUndoButtonText":"Annuler","KOMPlayToolbarDoneButtonText":"OK","KOMPlayHearQuestionButtonText":"couter la question","KOMPlayHearAnswerButtonText":"couter la rponse","KOMPlayFlipButtonText":"Retourner","KOMPlayResponseButtonAgainText":"Encore","KOMPlayResponseButtonHardText":"Plus tt","KOMPlayResponseButtonGoodText":"Normale","KOMPlayResponseButtonEasyText":"Plus tard"}}')[window.OLSKPublicConstants("OLSKSharedPageCurrentLanguage")])},u,v,function(){r=this.value,n(0,r)},function(){r=this.value,n(0,r)},e=>M.DataIsFocused()&&l(e),T]}class Kn extends X{constructor(e){super(),Q(this,e,Mn,mn,a,{OLSKMasterListFilterText:0,OLSKMasterListItems:1,OLSKMasterListItemSelected:2,OLSKMasterListItemAccessibilitySummaryFor:3,OLSKMasterListDispatchClick:4,OLSKMasterListDispatchArrow:5,OLSKMasterListDispatchFilter:16,OLSKMobileViewInactive:6,OLSKMasterListClass:7,OLSKMasterListFilterFieldClass:8,OLSKMasterListFilterFieldPlaceholderText:9,OLSKMasterListFilterFieldClearButton:10,OLSKMasterListFilterFieldAutofocus:11,OLSKMasterItemClass:12,OLSKResultsIgnoreKeyboard:13})}}function vn(t){let n,r,o,a,i,s,l,f,p,m,M,T=t[0].KOMCardFrontText+"",w=t[0].KOMCardRearText+"",S=(t[0].KOMCardTags||[]).join(", ")+"";return{c(){n=h("div"),r=h("strong"),o=O(T),a=h("br"),i=g(),s=h("span"),l=O(w),f=h("br"),p=g(),m=h("span"),M=O(S),K(r,"class","KOMBrowseListItemFront svelte-r440d8"),K(r,"aria-hidden","true"),K(s,"class","KOMBrowseListItemRear"),K(s,"aria-hidden","true"),K(m,"class","KOMBrowseListItemTags svelte-r440d8"),K(m,"aria-hidden","true"),K(n,"class","KOMBrowseListItem svelte-r440d8")},m(e,t){c(e,n,t),u(n,r),u(r,o),u(n,a),u(n,i),u(n,s),u(s,l),u(n,f),u(n,p),u(n,m),u(m,M)},p(e,[t]){1&t&&T!==(T=e[0].KOMCardFrontText+"")&&v(o,T),1&t&&w!==(w=e[0].KOMCardRearText+"")&&v(l,w),1&t&&S!==(S=(e[0].KOMCardTags||[]).join(", ")+"")&&v(M,S)},i:e,o:e,d(e){e&&d(n)}}}function Tn(e,t,n){let{KOMBrowseListItemObject:r}=t;return e.$set=e=>{"KOMBrowseListItemObject"in e&&n(0,r=e.KOMBrowseListItemObject)},[r]}class wn extends X{constructor(e){super(),Q(this,e,Tn,vn,a,{KOMBrowseListItemObject:0})}}function Sn(e){let t,n,r,a,i,s,l;return{c(){t=h("div"),n=h("div"),r=h("button"),a=h("div"),K(a,"class","KOMBrowseListToolbarCloseButtonImage"),K(r,"class","KOMBrowseListToolbarCloseButton OLSKLayoutButtonNoStyle OLSKLayoutElementTappable OLSKToolbarButton"),K(r,"title",i=e[8]("KOMBrowseListToolbarCloseButtonText")),K(n,"class","OLSKToolbarElementGroup"),K(t,"slot","OLSKMasterListToolbarHead")},m(i,d){c(i,t,d),u(t,n),u(n,r),u(r,a),a.innerHTML=Qe,s||(l=M(r,"click",(function(){o(e[3])&&e[3].apply(this,arguments)})),s=!0)},p(t,n){e=t},d(e){e&&d(t),s=!1,l()}}}function xn(t){let n,r,o,a,i,s,l;return{c(){n=h("div"),r=h("div"),o=h("button"),a=h("div"),K(a,"class","KOMBrowseListToolbarCreateButtonImage"),K(o,"class","KOMBrowseListToolbarCreateButton OLSKLayoutButtonNoStyle OLSKLayoutElementTappable OLSKToolbarButton svelte-17fl2gu"),K(o,"title",i=t[8]("KOMBrowseListToolbarCreateButtonText")),K(o,"accesskey","n"),K(r,"class","OLSKToolbarElementGroup"),K(n,"slot","OLSKMasterListToolbarTail")},m(e,i){c(e,n,i),u(n,r),u(r,o),u(o,a),a.innerHTML='<?xml version="1.0" encoding="UTF-8"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16" viewBox="0 0 16 16"  xml:space="preserve" id="_OLSKSharedCreate">\n    \x3c!-- Generated by PaintCode (www.paintcodeapp.com) --\x3e\n    <path id="_OLSKSharedCreate-bezier" stroke="rgb(0, 0, 0)" stroke-width="1.5" stroke-linecap="round" stroke-miterlimit="10" fill="none" d="M 8,1 L 8,15" />\n    <path id="_OLSKSharedCreate-bezier2" stroke="rgb(0, 0, 0)" stroke-width="1.5" stroke-linecap="round" stroke-miterlimit="10" fill="none" d="M 1,8 L 15,8" />\n</svg>\n',s||(l=M(o,"click",t[9].InterfaceCreateButtonDidClick),s=!0)},p:e,d(e){e&&d(n),s=!1,l()}}}function yn(e){let t,n,r,o;return r=new wn({props:{KOMBrowseListItemObject:e[12]}}),{c(){t=g(),n=g(),W(r.$$.fragment)},m(e,a){c(e,t,a),c(e,n,a),q(r,e,a),o=!0},p(e,t){const n={};4096&t&&(n.KOMBrowseListItemObject=e[12]),r.$set(n)},i(e){o||(G(r.$$.fragment,e),o=!0)},o(e){$(r.$$.fragment,e),o=!1},d(e){e&&d(t),e&&d(n),J(r,e)}}}function bn(e){let t,n;return t=new Kn({props:{OLSKMasterListItems:e[1],OLSKMasterListItemSelected:e[2],OLSKMasterListFilterText:e[0],OLSKMasterListDispatchClick:e[4],OLSKMasterListDispatchArrow:e[5],OLSKMasterListDispatchFilter:e[6],OLSKMasterListItemAccessibilitySummaryFor:e[11],OLSKMasterListClass:"KOMBrowseList",OLSKMobileViewInactive:e[7],$$slots:{default:[yn,({OLSKResultsListItem:e})=>({12:e}),({OLSKResultsListItem:e})=>e?4096:0],OLSKMasterListToolbarTail:[xn,({OLSKResultsListItem:e})=>({12:e}),({OLSKResultsListItem:e})=>e?4096:0],OLSKMasterListToolbarHead:[Sn,({OLSKResultsListItem:e})=>({12:e}),({OLSKResultsListItem:e})=>e?4096:0]},$$scope:{ctx:e}}}),{c(){W(t.$$.fragment)},m(e,r){q(t,e,r),n=!0},p(e,[n]){const r={};2&n&&(r.OLSKMasterListItems=e[1]),4&n&&(r.OLSKMasterListItemSelected=e[2]),1&n&&(r.OLSKMasterListFilterText=e[0]),16&n&&(r.OLSKMasterListDispatchClick=e[4]),32&n&&(r.OLSKMasterListDispatchArrow=e[5]),64&n&&(r.OLSKMasterListDispatchFilter=e[6]),128&n&&(r.OLSKMobileViewInactive=e[7]),12296&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(G(t.$$.fragment,e),n=!0)},o(e){$(t.$$.fragment,e),n=!1},d(e){J(t,e)}}}function Ln(e,t,n){let{KOMBrowseListFilterText:r}=t,{KOMBrowseListItems:o}=t,{KOMBrowseListItemSelected:a=null}=t,{KOMBrowseListDispatchClose:i}=t,{KOMBrowseListDispatchCreate:s}=t,{KOMBrowseListDispatchClick:l}=t,{KOMBrowseListDispatchArrow:u}=t,{KOMBrowseListDispatchFilter:c}=t,{OLSKMobileViewInactive:d=!1}=t;const f=function(e){return te.OLSKInternationalLocalizedString(e,JSON.parse('{"en":{"OLSKAppToolbarGuideLinkText":"Guide","OLSKAppToolbarDonateLinkText":"Donate","OLSKAppToolbarLauncherButtonText":"Launcher","OLSKAppToolbarStorageButtonText":"Storage","OLSKDetailPlaceholderText":"No item selected","OLSKInputWrapperClearButtonText":"Clear text","OLSKLanguageSwitcherVersionFormat":"Version in %@","OLSKLanguageSwitcherVersionName":{"en":"English","fr":"French","es":"Spanish"},"OLSKMasterListFilterFieldText":"Filter","OLSKReloadButtonText":"Reload","OLSKRemoteStorageStatusOnline":"Online","OLSKRemoteStorageStatusNetworkOffline":"Offline","OLSKRemoteStorageStatusError":"Error","OLSKServiceWorkerUpdateAlertLabelText":"Update available","OLSKServiceWorkerUpdateAlertReloadButtonText":"Reload","KOMReviewLauncherItemSelectDeckTextFormat":"Select deck \'%@\'","KOMReviewLauncherItemSendLoginLinkText":"Send login link","KOMReviewLauncherItemSendLoginLinkSubject":"Kommit Login Link","KOMReviewLauncherItemDebugFlushDataText":"Flush data","KOMReviewLauncherItemDebugFlushDataConfirmText":"Are you sure?","KOMReviewChartCompositionStatesTotalCardsLabelText":"Total cards","KOMReviewChartCompositionStatesUnseenCardsLabelText":"Unseen","KOMReviewChartCompositionStatesDevelopingCardsLabelText":"Developing","KOMReviewChartCompositionStatesMatureCardsLabelText":"Mature","KOMReviewChartCompositionStatesSuspendedCardsLabelText":"Suspended","KOMReviewDetailToolbarBackButtonText":"Back","KOMReviewDetailToolbarCardsButtonText":"Cards","KOMReviewDetailGameOptionsHeadingText":"Game options","KOMReviewDetailNoCardsText":"There are no cards in this deck.","KOMReviewDetailFormAudioIsEnabledFieldLabelText":"Play audio","KOMReviewDetailFormFrontSpeechIsEnabledFieldLabelText":"Read front","KOMReviewDetailFormRearSpeechIsEnabledFieldLabelText":"Read back","KOMReviewDetailFormIsForwardOnlyFieldLabelText":"Skip reversed cards","KOMReviewDetailPlayButtonReviewingText":"Study review cards","KOMReviewDetailPlayButtonUnseenText":"Study new cards","KOMReviewDetailPlayButtonMixedText":"Study all cards","KOMReviewDetailPlayButtonSingleText":"Play","KOMReviewDetailNoSpacingsText":"All cards for today have been reviewed.","KOMReviewDetailTodayHeadingText":"Today","KOMReviewDetailGeneralHeadingText":"Historical","KOMReviewDetailDeckHeadingText":"Deck","KOMReviewDetailRenameButtonText":"Rename","KOMReviewDetailRenameButtonPromptText":"Name","KOMReviewDetailDiscardButtonText":"Delete deck and all cards inside","KOMReviewDetailDiscardPromptText":"Are you sure? Please type the name of the deck to confirm and delete.","KOMReviewDetailLanguageCodeFieldLabelText":"Language code","KOMReviewDetailLanguageCodeFieldOptionUnspecifiedText":"Unspecified","KOMReviewGeneralCardStatesHeadingText":"Cards","KOMReviewMasterToolbarTitleText":"Decks","KOMReviewMasterCreateButtonText":"Create deck","KOMReviewMasterCreateButtonPromptText":"Name","KOMReviewMasterListItemReviewLabelText":"review cards","KOMReviewMasterListItemUnseenLabelText":"new cards","KOMReviewTodayTotalCardsLabelText":"Total cards","KOMReviewTodayTimeMinutesLabelText":"Time (minutes)","KOMReviewTodayReviewAccuracyLabelText":"Review accuracy %","KOMBrowseInfoToolbarBackButtonText":"Back","KOMBrowseInfoToolbarDiscardButtonText":"Discard","KOMBrowseInfoDiscardConfirmText":"Are you sure?","KOMBrowseInfoToolbarTemplateButtonText":"Copy tags to new card","KOMBrowseInfoFormFrontTextFieldText":"Front text","KOMBrowseInfoFormFrontReadButtonText":"Read","KOMBrowseInfoFormRearTextFieldText":"Back text","KOMBrowseInfoFormRearReadButtonText":"Read","KOMBrowseInfoFormNotesFieldText":"Notes","KOMBrowseInfoAudioRecordButtonText":"Record","KOMBrowseInfoAudioRecordingAlertText":"Recording","KOMBrowseInfoAudioPlaybackButtonText":"Playback","KOMBrowseInfoAudioClearButtonText":"Clear","KOMBrowseInfoAudioNotAvailableAlertText":"Audio recording unsupported in this browser","KOMBrowseInfoTagsInputFieldText":"New tag name","KOMBrowseInfoTagsCreateButtonText":"Create tag","KOMBrowseInfoTagsRemoveButtonTextFormat":"Remove \'%@\'","KOMBrowseInfoTagsSuggestButtonTextFormat":"Add \'%@\'","KOMBrowseListToolbarCloseButtonText":"Close","KOMBrowseListToolbarCreateButtonText":"Create","KOMBrowseListItemUntitledText":"Untitled","KOMReviewLauncherItemDebugCardText":"Debug Card","KOMPlayToolbarUndoButtonText":"Undo","KOMPlayToolbarDoneButtonText":"Done","KOMPlayHearQuestionButtonText":"Hear question","KOMPlayHearAnswerButtonText":"Hear answer","KOMPlayFlipButtonText":"Flip","KOMPlayResponseButtonAgainText":"Again","KOMPlayResponseButtonHardText":"Sooner","KOMPlayResponseButtonGoodText":"Normal","KOMPlayResponseButtonEasyText":"Later"},"es":{"OLSKAppToolbarGuideLinkText":"Gua","OLSKAppToolbarDonateLinkText":"Donar","OLSKAppToolbarLauncherButtonText":"Lanzador","OLSKAppToolbarStorageButtonText":"Almacenamiento","OLSKDetailPlaceholderText":"Ningn artculo seleccionado","OLSKInputWrapperClearButtonText":"Despejar el texto","OLSKLanguageSwitcherVersionFormat":"Versin en %@","OLSKLanguageSwitcherVersionName":{"en":"ingls","fr":"francs","es":"espaol"},"OLSKMasterListFilterFieldText":"Filtrar","OLSKReloadButtonText":"Recargar","OLSKRemoteStorageStatusOnline":"En lneo","OLSKRemoteStorageStatusNetworkOffline":"Sin conexin","OLSKRemoteStorageStatusError":"Error","OLSKServiceWorkerUpdateAlertLabelText":"Actualizacin disponible","OLSKServiceWorkerUpdateAlertReloadButtonText":"Recargar"},"fr":{"OLSKAppToolbarGuideLinkText":"Guide","OLSKAppToolbarDonateLinkText":"Faire un don","OLSKAppToolbarLauncherButtonText":"Lanceur","OLSKAppToolbarStorageButtonText":"Stockage","OLSKDetailPlaceholderText":"Aucun article selection","OLSKInputWrapperClearButtonText":"Effacer le texte","OLSKLanguageSwitcherVersionFormat":"Version en %@","OLSKLanguageSwitcherVersionName":{"en":"anglais","fr":"franais","es":"espagnol"},"OLSKMasterListFilterFieldText":"Filtrer","OLSKReloadButtonText":"Recharger","OLSKRemoteStorageStatusOnline":"En ligne","OLSKRemoteStorageStatusNetworkOffline":"Hors connexion","OLSKRemoteStorageStatusError":"Erreur","OLSKServiceWorkerUpdateAlertLabelText":"Mise  jour disponible","OLSKServiceWorkerUpdateAlertReloadButtonText":"Recharger","KOMReviewLauncherItemSelectDeckTextFormat":"Choisir lot de cartes \'%@\'","KOMReviewLauncherItemSendLoginLinkText":"Envoyer lien d\'accs","KOMReviewLauncherItemSendLoginLinkSubject":"Kommit lien d\'accs","KOMReviewLauncherItemDebugFlushDataText":"Recharche les donnes","KOMReviewLauncherItemDebugFlushDataConfirmText":"tes-vous sr.e?","KOMReviewChartCompositionStatesTotalCardsLabelText":"Total des cartes","KOMReviewChartCompositionStatesUnseenCardsLabelText":"Non-vues","KOMReviewChartCompositionStatesDevelopingCardsLabelText":"En apprentisage","KOMReviewChartCompositionStatesMatureCardsLabelText":"Mature","KOMReviewChartCompositionStatesSuspendedCardsLabelText":"Suspendu","KOMReviewDetailToolbarBackButtonText":"Back","KOMReviewDetailToolbarCardsButtonText":"Cartes","KOMReviewDetailGameOptionsHeadingText":"Options du jeu","KOMReviewDetailNoCardsText":"Il n\'y a pas de cartes dans ce lot de cartes.","KOMReviewDetailFormAudioIsEnabledFieldLabelText":"Faire entendre la version audio enregistre","KOMReviewDetailFormFrontSpeechIsEnabledFieldLabelText":"Lire le recto","KOMReviewDetailFormRearSpeechIsEnabledFieldLabelText":"Lire le verso","KOMReviewDetailFormIsForwardOnlyFieldLabelText":"Ne pas activer la lecture des cartes inverses","KOMReviewDetailPlayButtonReviewingText":"tudier des cartes  rviser","KOMReviewDetailPlayButtonUnseenText":"tudier des nouvelles cartes","KOMReviewDetailPlayButtonMixedText":"tudier toutes les cartes","KOMReviewDetailPlayButtonSingleText":"Jouer","KOMReviewDetailNoSpacingsText":"Toutes les cartes pour aujourd\'hui ont t rvises.","KOMReviewDetailTodayHeadingText":"Aujourd\'hui","KOMReviewDetailGeneralHeadingText":"Historique","KOMReviewDetailDeckHeadingText":"Lot de cartes","KOMReviewDetailRenameButtonText":"Renommer","KOMReviewDetailRenameButtonPromptText":"Nom","KOMReviewDetailDiscardButtonText":"Supprimer le lot de cartes et toutes les cartes dedans","KOMReviewDetailDiscardPromptText":"tes-vous sr.e? Veuillez entrer le nom du lot de cartes pour confirmer et supprimer.","KOMReviewDetailLanguageCodeFieldLabelText":"Code de la langue","KOMReviewDetailLanguageCodeFieldOptionUnspecifiedText":"Non specifi","KOMReviewGeneralCardStatesHeadingText":"Les tats des cartes","KOMReviewMasterToolbarTitleText":"Lots de cartes","KOMReviewMasterCreateButtonText":"Crer lot de cartes","KOMReviewMasterCreateButtonPromptText":"Nom","KOMReviewMasterListItemReviewLabelText":"cartes  rviser","KOMReviewMasterListItemUnseenLabelText":"cartes nouvelles","KOMReviewTodayTotalCardsLabelText":"Total des cartes","KOMReviewTodayTimeMinutesLabelText":"Temps (minutes)","KOMReviewTodayReviewAccuracyLabelText":"Exactitude de la rvision %","KOMBrowseInfoToolbarBackButtonText":"Back","KOMBrowseInfoToolbarDiscardButtonText":"Jeter","KOMBrowseInfoDiscardConfirmText":"tes-vous sr.e?","KOMBrowseInfoToolbarTemplateButtonText":"Copier des tags  une nouvelle carte","KOMBrowseInfoFormFrontTextFieldText":"Texte du recto","KOMBrowseInfoFormFrontReadButtonText":"Lire","KOMBrowseInfoFormRearTextFieldText":"Texte du verso","KOMBrowseInfoFormRearReadButtonText":"Lire","KOMBrowseInfoFormNotesFieldText":"Notes","KOMBrowseInfoAudioRecordButtonText":"Enregistrer","KOMBrowseInfoAudioRecordingAlertText":"Enregistrement en cours","KOMBrowseInfoAudioPlaybackButtonText":"Lecture","KOMBrowseInfoAudioClearButtonText":"Effacer","KOMBrowseInfoAudioNotAvailableAlertText":"Enregistrement audio non pris en charge dans ce navigateur","KOMBrowseInfoTagsInputFieldText":"Nom du tag nouveau","KOMBrowseInfoTagsCreateButtonText":"Crer le tag","KOMBrowseInfoTagsRemoveButtonTextFormat":"Enlever \'%@\'","KOMBrowseInfoTagsSuggestButtonTextFormat":"Ajouter \'%@\'","KOMBrowseListToolbarCloseButtonText":"Fermer","KOMBrowseListToolbarCreateButtonText":"Crer","KOMBrowseListItemUntitledText":"Sans titre","KOMReviewLauncherItemDebugCardText":"Debug Card","KOMPlayToolbarUndoButtonText":"Annuler","KOMPlayToolbarDoneButtonText":"OK","KOMPlayHearQuestionButtonText":"couter la question","KOMPlayHearAnswerButtonText":"couter la rponse","KOMPlayFlipButtonText":"Retourner","KOMPlayResponseButtonAgainText":"Encore","KOMPlayResponseButtonHardText":"Plus tt","KOMPlayResponseButtonGoodText":"Normale","KOMPlayResponseButtonEasyText":"Plus tard"}}')[window.OLSKPublicConstants("OLSKSharedPageCurrentLanguage")])},h={InterfaceCreateButtonDidClick(){s()}};return e.$set=e=>{"KOMBrowseListFilterText"in e&&n(0,r=e.KOMBrowseListFilterText),"KOMBrowseListItems"in e&&n(1,o=e.KOMBrowseListItems),"KOMBrowseListItemSelected"in e&&n(2,a=e.KOMBrowseListItemSelected),"KOMBrowseListDispatchClose"in e&&n(3,i=e.KOMBrowseListDispatchClose),"KOMBrowseListDispatchCreate"in e&&n(10,s=e.KOMBrowseListDispatchCreate),"KOMBrowseListDispatchClick"in e&&n(4,l=e.KOMBrowseListDispatchClick),"KOMBrowseListDispatchArrow"in e&&n(5,u=e.KOMBrowseListDispatchArrow),"KOMBrowseListDispatchFilter"in e&&n(6,c=e.KOMBrowseListDispatchFilter),"OLSKMobileViewInactive"in e&&n(7,d=e.OLSKMobileViewInactive)},[r,o,a,i,l,u,c,d,f,h,s,e=>Et.KOMBrowseListItemAccessibilitySummary(e,f)]}class Rn extends X{constructor(e){super(),Q(this,e,Ln,bn,a,{KOMBrowseListFilterText:0,KOMBrowseListItems:1,KOMBrowseListItemSelected:2,KOMBrowseListDispatchClose:3,KOMBrowseListDispatchCreate:10,KOMBrowseListDispatchClick:4,KOMBrowseListDispatchArrow:5,KOMBrowseListDispatchFilter:6,OLSKMobileViewInactive:7})}}function Cn(t){let n;return{c(){n=h("div"),n.textContent=""+t[0]("OLSKDetailPlaceholderText"),K(n,"class","OLSKDetailPlaceholder OLSKLayoutElementTextVisual svelte-h32ubj")},m(e,t){c(e,n,t)},p:e,i:e,o:e,d(e){e&&d(n)}}}function Dn(e){return[function(e){return te.OLSKInternationalLocalizedString(e,JSON.parse('{"en":{"OLSKAppToolbarGuideLinkText":"Guide","OLSKAppToolbarDonateLinkText":"Donate","OLSKAppToolbarLauncherButtonText":"Launcher","OLSKAppToolbarStorageButtonText":"Storage","OLSKDetailPlaceholderText":"No item selected","OLSKInputWrapperClearButtonText":"Clear text","OLSKLanguageSwitcherVersionFormat":"Version in %@","OLSKLanguageSwitcherVersionName":{"en":"English","fr":"French","es":"Spanish"},"OLSKMasterListFilterFieldText":"Filter","OLSKReloadButtonText":"Reload","OLSKRemoteStorageStatusOnline":"Online","OLSKRemoteStorageStatusNetworkOffline":"Offline","OLSKRemoteStorageStatusError":"Error","OLSKServiceWorkerUpdateAlertLabelText":"Update available","OLSKServiceWorkerUpdateAlertReloadButtonText":"Reload","KOMReviewLauncherItemSelectDeckTextFormat":"Select deck \'%@\'","KOMReviewLauncherItemSendLoginLinkText":"Send login link","KOMReviewLauncherItemSendLoginLinkSubject":"Kommit Login Link","KOMReviewLauncherItemDebugFlushDataText":"Flush data","KOMReviewLauncherItemDebugFlushDataConfirmText":"Are you sure?","KOMReviewChartCompositionStatesTotalCardsLabelText":"Total cards","KOMReviewChartCompositionStatesUnseenCardsLabelText":"Unseen","KOMReviewChartCompositionStatesDevelopingCardsLabelText":"Developing","KOMReviewChartCompositionStatesMatureCardsLabelText":"Mature","KOMReviewChartCompositionStatesSuspendedCardsLabelText":"Suspended","KOMReviewDetailToolbarBackButtonText":"Back","KOMReviewDetailToolbarCardsButtonText":"Cards","KOMReviewDetailGameOptionsHeadingText":"Game options","KOMReviewDetailNoCardsText":"There are no cards in this deck.","KOMReviewDetailFormAudioIsEnabledFieldLabelText":"Play audio","KOMReviewDetailFormFrontSpeechIsEnabledFieldLabelText":"Read front","KOMReviewDetailFormRearSpeechIsEnabledFieldLabelText":"Read back","KOMReviewDetailFormIsForwardOnlyFieldLabelText":"Skip reversed cards","KOMReviewDetailPlayButtonReviewingText":"Study review cards","KOMReviewDetailPlayButtonUnseenText":"Study new cards","KOMReviewDetailPlayButtonMixedText":"Study all cards","KOMReviewDetailPlayButtonSingleText":"Play","KOMReviewDetailNoSpacingsText":"All cards for today have been reviewed.","KOMReviewDetailTodayHeadingText":"Today","KOMReviewDetailGeneralHeadingText":"Historical","KOMReviewDetailDeckHeadingText":"Deck","KOMReviewDetailRenameButtonText":"Rename","KOMReviewDetailRenameButtonPromptText":"Name","KOMReviewDetailDiscardButtonText":"Delete deck and all cards inside","KOMReviewDetailDiscardPromptText":"Are you sure? Please type the name of the deck to confirm and delete.","KOMReviewDetailLanguageCodeFieldLabelText":"Language code","KOMReviewDetailLanguageCodeFieldOptionUnspecifiedText":"Unspecified","KOMReviewGeneralCardStatesHeadingText":"Cards","KOMReviewMasterToolbarTitleText":"Decks","KOMReviewMasterCreateButtonText":"Create deck","KOMReviewMasterCreateButtonPromptText":"Name","KOMReviewMasterListItemReviewLabelText":"review cards","KOMReviewMasterListItemUnseenLabelText":"new cards","KOMReviewTodayTotalCardsLabelText":"Total cards","KOMReviewTodayTimeMinutesLabelText":"Time (minutes)","KOMReviewTodayReviewAccuracyLabelText":"Review accuracy %","KOMBrowseInfoToolbarBackButtonText":"Back","KOMBrowseInfoToolbarDiscardButtonText":"Discard","KOMBrowseInfoDiscardConfirmText":"Are you sure?","KOMBrowseInfoToolbarTemplateButtonText":"Copy tags to new card","KOMBrowseInfoFormFrontTextFieldText":"Front text","KOMBrowseInfoFormFrontReadButtonText":"Read","KOMBrowseInfoFormRearTextFieldText":"Back text","KOMBrowseInfoFormRearReadButtonText":"Read","KOMBrowseInfoFormNotesFieldText":"Notes","KOMBrowseInfoAudioRecordButtonText":"Record","KOMBrowseInfoAudioRecordingAlertText":"Recording","KOMBrowseInfoAudioPlaybackButtonText":"Playback","KOMBrowseInfoAudioClearButtonText":"Clear","KOMBrowseInfoAudioNotAvailableAlertText":"Audio recording unsupported in this browser","KOMBrowseInfoTagsInputFieldText":"New tag name","KOMBrowseInfoTagsCreateButtonText":"Create tag","KOMBrowseInfoTagsRemoveButtonTextFormat":"Remove \'%@\'","KOMBrowseInfoTagsSuggestButtonTextFormat":"Add \'%@\'","KOMBrowseListToolbarCloseButtonText":"Close","KOMBrowseListToolbarCreateButtonText":"Create","KOMBrowseListItemUntitledText":"Untitled","KOMReviewLauncherItemDebugCardText":"Debug Card","KOMPlayToolbarUndoButtonText":"Undo","KOMPlayToolbarDoneButtonText":"Done","KOMPlayHearQuestionButtonText":"Hear question","KOMPlayHearAnswerButtonText":"Hear answer","KOMPlayFlipButtonText":"Flip","KOMPlayResponseButtonAgainText":"Again","KOMPlayResponseButtonHardText":"Sooner","KOMPlayResponseButtonGoodText":"Normal","KOMPlayResponseButtonEasyText":"Later"},"es":{"OLSKAppToolbarGuideLinkText":"Gua","OLSKAppToolbarDonateLinkText":"Donar","OLSKAppToolbarLauncherButtonText":"Lanzador","OLSKAppToolbarStorageButtonText":"Almacenamiento","OLSKDetailPlaceholderText":"Ningn artculo seleccionado","OLSKInputWrapperClearButtonText":"Despejar el texto","OLSKLanguageSwitcherVersionFormat":"Versin en %@","OLSKLanguageSwitcherVersionName":{"en":"ingls","fr":"francs","es":"espaol"},"OLSKMasterListFilterFieldText":"Filtrar","OLSKReloadButtonText":"Recargar","OLSKRemoteStorageStatusOnline":"En lneo","OLSKRemoteStorageStatusNetworkOffline":"Sin conexin","OLSKRemoteStorageStatusError":"Error","OLSKServiceWorkerUpdateAlertLabelText":"Actualizacin disponible","OLSKServiceWorkerUpdateAlertReloadButtonText":"Recargar"},"fr":{"OLSKAppToolbarGuideLinkText":"Guide","OLSKAppToolbarDonateLinkText":"Faire un don","OLSKAppToolbarLauncherButtonText":"Lanceur","OLSKAppToolbarStorageButtonText":"Stockage","OLSKDetailPlaceholderText":"Aucun article selection","OLSKInputWrapperClearButtonText":"Effacer le texte","OLSKLanguageSwitcherVersionFormat":"Version en %@","OLSKLanguageSwitcherVersionName":{"en":"anglais","fr":"franais","es":"espagnol"},"OLSKMasterListFilterFieldText":"Filtrer","OLSKReloadButtonText":"Recharger","OLSKRemoteStorageStatusOnline":"En ligne","OLSKRemoteStorageStatusNetworkOffline":"Hors connexion","OLSKRemoteStorageStatusError":"Erreur","OLSKServiceWorkerUpdateAlertLabelText":"Mise  jour disponible","OLSKServiceWorkerUpdateAlertReloadButtonText":"Recharger","KOMReviewLauncherItemSelectDeckTextFormat":"Choisir lot de cartes \'%@\'","KOMReviewLauncherItemSendLoginLinkText":"Envoyer lien d\'accs","KOMReviewLauncherItemSendLoginLinkSubject":"Kommit lien d\'accs","KOMReviewLauncherItemDebugFlushDataText":"Recharche les donnes","KOMReviewLauncherItemDebugFlushDataConfirmText":"tes-vous sr.e?","KOMReviewChartCompositionStatesTotalCardsLabelText":"Total des cartes","KOMReviewChartCompositionStatesUnseenCardsLabelText":"Non-vues","KOMReviewChartCompositionStatesDevelopingCardsLabelText":"En apprentisage","KOMReviewChartCompositionStatesMatureCardsLabelText":"Mature","KOMReviewChartCompositionStatesSuspendedCardsLabelText":"Suspendu","KOMReviewDetailToolbarBackButtonText":"Back","KOMReviewDetailToolbarCardsButtonText":"Cartes","KOMReviewDetailGameOptionsHeadingText":"Options du jeu","KOMReviewDetailNoCardsText":"Il n\'y a pas de cartes dans ce lot de cartes.","KOMReviewDetailFormAudioIsEnabledFieldLabelText":"Faire entendre la version audio enregistre","KOMReviewDetailFormFrontSpeechIsEnabledFieldLabelText":"Lire le recto","KOMReviewDetailFormRearSpeechIsEnabledFieldLabelText":"Lire le verso","KOMReviewDetailFormIsForwardOnlyFieldLabelText":"Ne pas activer la lecture des cartes inverses","KOMReviewDetailPlayButtonReviewingText":"tudier des cartes  rviser","KOMReviewDetailPlayButtonUnseenText":"tudier des nouvelles cartes","KOMReviewDetailPlayButtonMixedText":"tudier toutes les cartes","KOMReviewDetailPlayButtonSingleText":"Jouer","KOMReviewDetailNoSpacingsText":"Toutes les cartes pour aujourd\'hui ont t rvises.","KOMReviewDetailTodayHeadingText":"Aujourd\'hui","KOMReviewDetailGeneralHeadingText":"Historique","KOMReviewDetailDeckHeadingText":"Lot de cartes","KOMReviewDetailRenameButtonText":"Renommer","KOMReviewDetailRenameButtonPromptText":"Nom","KOMReviewDetailDiscardButtonText":"Supprimer le lot de cartes et toutes les cartes dedans","KOMReviewDetailDiscardPromptText":"tes-vous sr.e? Veuillez entrer le nom du lot de cartes pour confirmer et supprimer.","KOMReviewDetailLanguageCodeFieldLabelText":"Code de la langue","KOMReviewDetailLanguageCodeFieldOptionUnspecifiedText":"Non specifi","KOMReviewGeneralCardStatesHeadingText":"Les tats des cartes","KOMReviewMasterToolbarTitleText":"Lots de cartes","KOMReviewMasterCreateButtonText":"Crer lot de cartes","KOMReviewMasterCreateButtonPromptText":"Nom","KOMReviewMasterListItemReviewLabelText":"cartes  rviser","KOMReviewMasterListItemUnseenLabelText":"cartes nouvelles","KOMReviewTodayTotalCardsLabelText":"Total des cartes","KOMReviewTodayTimeMinutesLabelText":"Temps (minutes)","KOMReviewTodayReviewAccuracyLabelText":"Exactitude de la rvision %","KOMBrowseInfoToolbarBackButtonText":"Back","KOMBrowseInfoToolbarDiscardButtonText":"Jeter","KOMBrowseInfoDiscardConfirmText":"tes-vous sr.e?","KOMBrowseInfoToolbarTemplateButtonText":"Copier des tags  une nouvelle carte","KOMBrowseInfoFormFrontTextFieldText":"Texte du recto","KOMBrowseInfoFormFrontReadButtonText":"Lire","KOMBrowseInfoFormRearTextFieldText":"Texte du verso","KOMBrowseInfoFormRearReadButtonText":"Lire","KOMBrowseInfoFormNotesFieldText":"Notes","KOMBrowseInfoAudioRecordButtonText":"Enregistrer","KOMBrowseInfoAudioRecordingAlertText":"Enregistrement en cours","KOMBrowseInfoAudioPlaybackButtonText":"Lecture","KOMBrowseInfoAudioClearButtonText":"Effacer","KOMBrowseInfoAudioNotAvailableAlertText":"Enregistrement audio non pris en charge dans ce navigateur","KOMBrowseInfoTagsInputFieldText":"Nom du tag nouveau","KOMBrowseInfoTagsCreateButtonText":"Crer le tag","KOMBrowseInfoTagsRemoveButtonTextFormat":"Enlever \'%@\'","KOMBrowseInfoTagsSuggestButtonTextFormat":"Ajouter \'%@\'","KOMBrowseListToolbarCloseButtonText":"Fermer","KOMBrowseListToolbarCreateButtonText":"Crer","KOMBrowseListItemUntitledText":"Sans titre","KOMReviewLauncherItemDebugCardText":"Debug Card","KOMPlayToolbarUndoButtonText":"Annuler","KOMPlayToolbarDoneButtonText":"OK","KOMPlayHearQuestionButtonText":"couter la question","KOMPlayHearAnswerButtonText":"couter la rponse","KOMPlayFlipButtonText":"Retourner","KOMPlayResponseButtonAgainText":"Encore","KOMPlayResponseButtonHardText":"Plus tt","KOMPlayResponseButtonGoodText":"Normale","KOMPlayResponseButtonEasyText":"Plus tard"}}')[window.OLSKPublicConstants("OLSKSharedPageCurrentLanguage")])}]}class Bn extends X{constructor(e){super(),Q(this,e,Dn,Cn,a,{})}}function In(){function e(e,t){return new Promise((n,r)=>{const o=new XMLHttpRequest;o.open("GET",e),o.responseType="arraybuffer",o.onload=()=>{n(WebAssembly.instantiate(o.response,t))},o.onerror=r,o.send()})}let t=null,n=5242880;function r(e){const t=n;return n+=e,t}function o(e){postMessage({type:"internal-error",data:e})}let a=null,i=null,s=null;onmessage=n=>{const l=n.data;switch(l.type){case"init":const{wasmURL:n,shimURL:c}=l.data;Promise.resolve().then(()=>(self.WebAssembly&&!function(){const e=new Uint8Array([0,97,115,109,1,0,0,0,1,6,1,96,1,127,1,127,3,2,1,0,5,3,1,0,1,7,8,1,4,116,101,115,116,0,0,10,16,1,14,0,32,0,65,1,54,2,0,32,0,40,2,0,11]),t=new WebAssembly.Module(e);return 0!==new WebAssembly.Instance(t,{}).exports.test(4)}()&&delete self.WebAssembly,self.WebAssembly||importScripts(c),t=new WebAssembly.Memory({initial:256,maximum:256}),{memory:t,pow:Math.pow,exit:o,powf:Math.pow,exp:Math.exp,sqrtf:Math.sqrt,cos:Math.cos,log:Math.log,sin:Math.sin,sbrk:r})).then(t=>function(t,n){if(!WebAssembly.instantiateStreaming)return e(t,n);const r=fetch(t,{credentials:"same-origin"});return WebAssembly.instantiateStreaming(r,n).catch(r=>{if(r.message&&r.message.indexOf("Argument 0 must be provided and must be a Response")>0)return e(t,n);throw r})}(n,{env:t})).then(e=>{a=e.instance.exports,postMessage({type:"init",data:null})}).catch(e=>{postMessage({type:"init-error",data:e.toString()})});break;case"start":if(!function(e){if(i=a.vmsg_init(e),!i)return!1;const n=new Uint32Array(t.buffer,i,1)[0];return s=new Float32Array(t.buffer,n),!0}(l.data))return postMessage({type:"error",data:"vmsg_init"});break;case"data":if(u=l.data,s.set(u),!(a.vmsg_encode(i,u.length)>=0))return postMessage({type:"error",data:"vmsg_encode"});break;case"stop":const d=function(){if(a.vmsg_flush(i)<0)return null;const e=new Uint32Array(t.buffer,i+4,1)[0],n=new Uint32Array(t.buffer,i+8,1)[0],r=new Uint8Array(t.buffer,e,n),o=new Blob([r],{type:"audio/mpeg"});return a.vmsg_free(i),i=null,s=null,o}();if(!d)return postMessage({type:"error",data:"vmsg_flush"});postMessage({type:"stop",data:d})}var u}}class _n{constructor(e={},t=null){this.wasmURL=new URL(e.wasmURL||"/static/js/vmsg.wasm",location).href,this.shimURL=new URL(e.shimURL||"/static/js/wasm-polyfill.js",location).href,this.onStop=t,this.pitch=e.pitch||0,this.stream=null,this.audioCtx=null,this.gainNode=null,this.pitchFX=null,this.encNode=null,this.worker=null,this.workerURL=null,this.blob=null,this.blobURL=null,this.resolve=null,this.reject=null,Object.seal(this)}close(){this.encNode&&this.encNode.disconnect(),this.encNode&&(this.encNode.onaudioprocess=null),this.stream&&this.stopTracks(),this.audioCtx&&this.audioCtx.close(),this.worker&&this.worker.terminate(),this.workerURL&&URL.revokeObjectURL(this.workerURL),this.blobURL&&URL.revokeObjectURL(this.blobURL)}initAudio(){return(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?function(e){return navigator.mediaDevices.getUserMedia(e)}:function(e){const t=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return t?new Promise((function(n,r){t.call(navigator,e,n,r)})):Promise.reject(new Error("getUserMedia is not implemented in this browser"))})({audio:!0}).then(e=>{this.stream=e;const t=this.audioCtx=new(window.AudioContext||window.webkitAudioContext),n=t.createMediaStreamSource(e),r=this.gainNode=(t.createGain||t.createGainNode).call(t);r.gain.value=1,n.connect(r);const o=this.pitchFX=new An(t);o.setPitchOffset(this.pitch);const a=this.encNode=(t.createScriptProcessor||t.createJavaScriptNode).call(t,0,1,1);o.output.connect(a),r.connect(0===this.pitch?a:o.input)})}initWorker(){if(!this.stream)throw new Error("missing audio initialization");const e=new Blob(["(",In.toString(),")()"],{type:"application/javascript"}),t=this.workerURL=URL.createObjectURL(e),n=this.worker=new Worker(t),{wasmURL:r,shimURL:o}=this;return n.postMessage({type:"init",data:{wasmURL:r,shimURL:o}}),new Promise((e,t)=>{n.onmessage=n=>{const r=n.data;switch(r.type){case"init":e();break;case"init-error":t(new Error(r.data));break;case"error":case"internal-error":console.error("Worker error:",r.data),this.reject&&this.reject(r.data);break;case"stop":this.blob=r.data,this.blobURL=URL.createObjectURL(r.data),this.onStop&&this.onStop(),this.resolve&&this.resolve(this.blob)}}})}init(){return this.initAudio().then(this.initWorker.bind(this))}startRecording(){if(!this.stream)throw new Error("missing audio initialization");if(!this.worker)throw new Error("missing worker initialization");this.blob=null,this.blobURL&&URL.revokeObjectURL(this.blobURL),this.blobURL=null,this.resolve=null,this.reject=null,this.worker.postMessage({type:"start",data:this.audioCtx.sampleRate}),this.encNode.onaudioprocess=e=>{const t=e.inputBuffer.getChannelData(0);this.worker.postMessage({type:"data",data:t})},this.encNode.connect(this.audioCtx.destination)}stopRecording(){if(!this.stream)throw new Error("missing audio initialization");if(!this.worker)throw new Error("missing worker initialization");return this.encNode.disconnect(),this.encNode.onaudioprocess=null,this.stopTracks(),this.worker.postMessage({type:"stop",data:null}),new Promise((e,t)=>{this.resolve=e,this.reject=t})}stopTracks(){this.stream.getTracks&&this.stream.getTracks().forEach(e=>e.stop())}}var kn=_n;function Fn(e,t,n,r){for(var o=t*e.sampleRate,a=o+(t-2*n)*e.sampleRate,i=e.createBuffer(1,a,e.sampleRate),s=i.getChannelData(0),l=0;l<o;++l)s[l]=r?(o-l)/a:l/o;for(l=o;l<a;++l)s[l]=0;return i}function An(e){this.context=e;var t=(e.createGain||e.createGainNode).call(e),n=(e.createGain||e.createGainNode).call(e);this.input=t,this.output=n;var r=e.createBufferSource(),o=e.createBufferSource(),a=e.createBufferSource(),i=e.createBufferSource();this.shiftDownBuffer=Fn(e,.1,.05,!1),this.shiftUpBuffer=Fn(e,.1,.05,!0),r.buffer=this.shiftDownBuffer,o.buffer=this.shiftDownBuffer,a.buffer=this.shiftUpBuffer,i.buffer=this.shiftUpBuffer,r.loop=!0,o.loop=!0,a.loop=!0,i.loop=!0;var s=(e.createGain||e.createGainNode).call(e),l=(e.createGain||e.createGainNode).call(e),u=(e.createGain||e.createGainNode).call(e);u.gain.value=0;var c=(e.createGain||e.createGainNode).call(e);c.gain.value=0,r.connect(s),o.connect(l),a.connect(u),i.connect(c);var d=(e.createGain||e.createGainNode).call(e),f=(e.createGain||e.createGainNode).call(e),h=(e.createDelay||e.createDelayNode).call(e),p=(e.createDelay||e.createDelayNode).call(e);s.connect(d),l.connect(f),u.connect(d),c.connect(f),d.connect(h.delayTime),f.connect(p.delayTime);var O=e.createBufferSource(),g=e.createBufferSource(),m=function(e,t,n){for(var r=t*e.sampleRate,o=r+(t-2*n)*e.sampleRate,a=e.createBuffer(1,o,e.sampleRate),i=a.getChannelData(0),s=n*e.sampleRate,l=s,u=r-s,c=0;c<r;++c){var d;d=c<l?Math.sqrt(c/s):c>=u?Math.sqrt(1-(c-u)/s):1,i[c]=d}for(c=r;c<o;++c)i[c]=0;return a}(e,.1,.05);O.buffer=m,g.buffer=m,O.loop=!0,g.loop=!0;var M=(e.createGain||e.createGainNode).call(e),K=(e.createGain||e.createGainNode).call(e);M.gain.value=0,K.gain.value=0,O.connect(M.gain),g.connect(K.gain),t.connect(h),t.connect(p),h.connect(M),p.connect(K),M.connect(n),K.connect(n);var v=e.currentTime+.05,T=v+.1-.05;r.start(v),o.start(T),a.start(v),i.start(T),O.start(v),g.start(T),this.mod1=r,this.mod2=o,this.mod1Gain=s,this.mod2Gain=l,this.mod3Gain=u,this.mod4Gain=c,this.modGain1=d,this.modGain2=f,this.fade1=O,this.fade2=g,this.mix1=M,this.mix2=K,this.delay1=h,this.delay2=p,this.setDelay(.1)}function Pn(e){let t,n,r,o=!e[0][e[2]]&&En(e),a=e[3]._ValueIsRecording&&Nn(e),i=e[0][e[2]]&&Un(e);return{c(){o&&o.c(),t=g(),a&&a.c(),n=g(),i&&i.c(),r=m()},m(e,s){o&&o.m(e,s),c(e,t,s),a&&a.m(e,s),c(e,n,s),i&&i.m(e,s),c(e,r,s)},p(e,s){e[0][e[2]]?o&&(o.d(1),o=null):o?o.p(e,s):(o=En(e),o.c(),o.m(t.parentNode,t)),e[3]._ValueIsRecording?a?a.p(e,s):(a=Nn(e),a.c(),a.m(n.parentNode,n)):a&&(a.d(1),a=null),e[0][e[2]]?i?i.p(e,s):(i=Un(e),i.c(),i.m(r.parentNode,r)):i&&(i.d(1),i=null)},d(e){o&&o.d(e),e&&d(t),a&&a.d(e),e&&d(n),i&&i.d(e),e&&d(r)}}}function En(e){let t,n,r;return{c(){t=h("button"),t.textContent=""+e[4]("KOMBrowseInfoAudioRecordButtonText"),K(t,"class","KOMBrowseInfoAudioRecordButton")},m(a,i){c(a,t,i),n||(r=M(t,"click",(function(){o(e[3].InterfaceRecordButtonDidClick)&&e[3].InterfaceRecordButtonDidClick.apply(this,arguments)})),n=!0)},p(t,n){e=t},d(e){e&&d(t),n=!1,r()}}}function Nn(t){let n;return{c(){n=h("span"),n.textContent=""+t[4]("KOMBrowseInfoAudioRecordingAlertText"),K(n,"class","KOMBrowseInfoAudioRecordingAlert")},m(e,t){c(e,n,t)},p:e,d(e){e&&d(n)}}}function Un(e){let t,n,a,i,s;return{c(){t=h("button"),t.textContent=""+e[4]("KOMBrowseInfoAudioPlaybackButtonText"),n=g(),a=h("button"),a.textContent=""+e[4]("KOMBrowseInfoAudioClearButtonText"),K(t,"class","KOMBrowseInfoAudioPlaybackButton"),K(a,"class","KOMBrowseInfoAudioClearButton")},m(r,l){c(r,t,l),c(r,n,l),c(r,a,l),i||(s=[M(t,"click",(function(){o(e[3].InterfacePlaybackButtonDidClick)&&e[3].InterfacePlaybackButtonDidClick.apply(this,arguments)})),M(a,"click",(function(){o(e[3].InterfaceClearButtonDidClick)&&e[3].InterfaceClearButtonDidClick.apply(this,arguments)}))],i=!0)},p(t,n){e=t},d(e){e&&d(t),e&&d(n),e&&d(a),i=!1,r(s)}}}function Vn(t){let n;return{c(){n=h("span"),n.textContent=""+t[4]("KOMBrowseInfoAudioNotAvailableAlertText"),K(n,"class","KOMBrowseInfoAudioNotAvailableAlert")},m(e,t){c(e,n,t)},p:e,d(e){e&&d(n)}}}function Hn(t){let n,r,o,a=ie(),i=t[1]&&Pn(t),s=!t[1]&&Vn(t),l=a&&function(e){let t;return{c(){t=h("p"),t.innerHTML='<strong>TestKOMBrowseInfoAudioLog</strong> \n\t\t<span id="TestKOMBrowseInfoAudioLog"></span>'},m(e,n){c(e,t,n)},d(e){e&&d(t)}}}();return{c(){n=h("div"),i&&i.c(),r=g(),s&&s.c(),o=g(),l&&l.c(),K(n,"class","KOMBrowseInfoAudio")},m(e,t){c(e,n,t),i&&i.m(n,null),u(n,r),s&&s.m(n,null),u(n,o),l&&l.m(n,null)},p(e,[t]){e[1]?i?i.p(e,t):(i=Pn(e),i.c(),i.m(n,r)):i&&(i.d(1),i=null),e[1]?s&&(s.d(1),s=null):s?s.p(e,t):(s=Vn(e),s.c(),s.m(n,o))},i:e,o:e,d(e){e&&d(n),i&&i.d(),s&&s.d(),l&&l.d()}}}An.prototype.setDelay=function(e){this.modGain1.gain.setTargetAtTime(.5*e,0,.01),this.modGain2.gain.setTargetAtTime(.5*e,0,.01)},An.prototype.setPitchOffset=function(e){e>0?(this.mod1Gain.gain.value=0,this.mod2Gain.gain.value=0,this.mod3Gain.gain.value=1,this.mod4Gain.gain.value=1):(this.mod1Gain.gain.value=1,this.mod2Gain.gain.value=1,this.mod3Gain.gain.value=0,this.mod4Gain.gain.value=0),this.setDelay(.1*Math.abs(e))};function jn(e,t,n){let{KOMBrowseInfoAudioAvailable:r}=t,{KOMBrowseInfoAudioItem:o}=t,{KOMBrowseInfoAudioItemProperty:a}=t,{KOMBrowseInfoAudioDispatchCapture:i}=t,{KOMBrowseInfoAudioDispatchFetch:s}=t,{KOMBrowseInfoAudioDispatchClear:l}=t,{DebugFakeChangeObject:u=null}=t;const c={_ValueIsRecording:!1,_ValueAudioID:void 0,_ValueAudio:void 0,_ValueAudioIsPlaying:!1,DataFakeRecorder:()=>({initAudio(){},initWorker(){},startRecording(){},stopRecording(){}}),DataFakeAudio:e=>({play(){},pause(){},src:e}),InterfaceRecordButtonDidClick(){c._ValueIsRecording?c.ControlRecordStop():c.ControlRecordStart()},InterfacePlaybackButtonDidClick(){ie()&&u&&c._ValueAudioIsPlaying&&n(0,o=u),c.ControlSetAudio(),c._ValueAudioIsPlaying?c.ControlPlaybackStop():c.ControlPlaybackStart()},InterfaceClearButtonDidClick(){c.ControlAudioClear(),l(a)},async ControlRecordStart(){c._ValueIsRecording&&await c.ControlRecordStop();try{await c._ValueRecorder.initAudio(),await c._ValueRecorder.initWorker(),ie()&&c.DebugLog("record"),await c._ValueRecorder.startRecording(),n(3,c._ValueIsRecording=!0,c),setTimeout((function(){c._ValueIsRecording&&c.ControlRecordStop()}),1e4)}catch(e){console.error(e)}},async ControlRecordStop(){c._ValueIsRecording&&(ie()&&c.DebugLog("stop"),i(a,await c._ValueRecorder.stopRecording()),n(3,c._ValueIsRecording=!1,c))},async ControlSetAudio(){c._ValueAudioID!==o.KOMCardID&&(c._ValueAudioID&&c.ControlAudioClear(),n(3,c._ValueAudioID=o.KOMCardID,c))},async ControlAudioClear(){c._ValueAudioIsPlaying&&c.ControlPlaybackStop(),delete c._ValueAudio,delete c._ValueAudioID,ie()&&c.DebugLog("clear")},async ControlPlaybackStart(){!c._ValueAudio&&ie()&&n(3,c._ValueAudio=c.DataFakeAudio(await s(a)||o[a]),c),c._ValueAudio||n(3,c._ValueAudio=Object.assign(new Audio,{src:URL.createObjectURL(await s(a)),onended(){n(3,c._ValueAudioIsPlaying=!1,c)}}),c),ie()&&c.DebugLog("play:"+c._ValueAudio.src),n(3,c._ValueAudio.currentTime=0,c),c._ValueAudio.play(),n(3,c._ValueAudioIsPlaying=!0,c)},ControlPlaybackStop(){ie()&&c.DebugLog("stop"),c._ValueAudio.pause(),n(3,c._ValueAudioIsPlaying=!1,c)},SetupEverything(){c.SetupRecorder()},SetupRecorder(){n(3,c._ValueRecorder=ie()?c.DataFakeRecorder():new kn({wasmURL:"/_shared/__external/vmsg/vmsg.wasm"}),c)},DebugLog(e){window.TestKOMBrowseInfoAudioLog.innerHTML=window.TestKOMBrowseInfoAudioLog.innerHTML?window.TestKOMBrowseInfoAudioLog.innerHTML.split(",").concat(e).join(","):e}};return c.SetupEverything(),e.$set=e=>{"KOMBrowseInfoAudioAvailable"in e&&n(1,r=e.KOMBrowseInfoAudioAvailable),"KOMBrowseInfoAudioItem"in e&&n(0,o=e.KOMBrowseInfoAudioItem),"KOMBrowseInfoAudioItemProperty"in e&&n(2,a=e.KOMBrowseInfoAudioItemProperty),"KOMBrowseInfoAudioDispatchCapture"in e&&n(5,i=e.KOMBrowseInfoAudioDispatchCapture),"KOMBrowseInfoAudioDispatchFetch"in e&&n(6,s=e.KOMBrowseInfoAudioDispatchFetch),"KOMBrowseInfoAudioDispatchClear"in e&&n(7,l=e.KOMBrowseInfoAudioDispatchClear),"DebugFakeChangeObject"in e&&n(8,u=e.DebugFakeChangeObject)},[o,r,a,c,function(e){return te.OLSKInternationalLocalizedString(e,JSON.parse('{"en":{"OLSKAppToolbarGuideLinkText":"Guide","OLSKAppToolbarDonateLinkText":"Donate","OLSKAppToolbarLauncherButtonText":"Launcher","OLSKAppToolbarStorageButtonText":"Storage","OLSKDetailPlaceholderText":"No item selected","OLSKInputWrapperClearButtonText":"Clear text","OLSKLanguageSwitcherVersionFormat":"Version in %@","OLSKLanguageSwitcherVersionName":{"en":"English","fr":"French","es":"Spanish"},"OLSKMasterListFilterFieldText":"Filter","OLSKReloadButtonText":"Reload","OLSKRemoteStorageStatusOnline":"Online","OLSKRemoteStorageStatusNetworkOffline":"Offline","OLSKRemoteStorageStatusError":"Error","OLSKServiceWorkerUpdateAlertLabelText":"Update available","OLSKServiceWorkerUpdateAlertReloadButtonText":"Reload","KOMReviewLauncherItemSelectDeckTextFormat":"Select deck \'%@\'","KOMReviewLauncherItemSendLoginLinkText":"Send login link","KOMReviewLauncherItemSendLoginLinkSubject":"Kommit Login Link","KOMReviewLauncherItemDebugFlushDataText":"Flush data","KOMReviewLauncherItemDebugFlushDataConfirmText":"Are you sure?","KOMReviewChartCompositionStatesTotalCardsLabelText":"Total cards","KOMReviewChartCompositionStatesUnseenCardsLabelText":"Unseen","KOMReviewChartCompositionStatesDevelopingCardsLabelText":"Developing","KOMReviewChartCompositionStatesMatureCardsLabelText":"Mature","KOMReviewChartCompositionStatesSuspendedCardsLabelText":"Suspended","KOMReviewDetailToolbarBackButtonText":"Back","KOMReviewDetailToolbarCardsButtonText":"Cards","KOMReviewDetailGameOptionsHeadingText":"Game options","KOMReviewDetailNoCardsText":"There are no cards in this deck.","KOMReviewDetailFormAudioIsEnabledFieldLabelText":"Play audio","KOMReviewDetailFormFrontSpeechIsEnabledFieldLabelText":"Read front","KOMReviewDetailFormRearSpeechIsEnabledFieldLabelText":"Read back","KOMReviewDetailFormIsForwardOnlyFieldLabelText":"Skip reversed cards","KOMReviewDetailPlayButtonReviewingText":"Study review cards","KOMReviewDetailPlayButtonUnseenText":"Study new cards","KOMReviewDetailPlayButtonMixedText":"Study all cards","KOMReviewDetailPlayButtonSingleText":"Play","KOMReviewDetailNoSpacingsText":"All cards for today have been reviewed.","KOMReviewDetailTodayHeadingText":"Today","KOMReviewDetailGeneralHeadingText":"Historical","KOMReviewDetailDeckHeadingText":"Deck","KOMReviewDetailRenameButtonText":"Rename","KOMReviewDetailRenameButtonPromptText":"Name","KOMReviewDetailDiscardButtonText":"Delete deck and all cards inside","KOMReviewDetailDiscardPromptText":"Are you sure? Please type the name of the deck to confirm and delete.","KOMReviewDetailLanguageCodeFieldLabelText":"Language code","KOMReviewDetailLanguageCodeFieldOptionUnspecifiedText":"Unspecified","KOMReviewGeneralCardStatesHeadingText":"Cards","KOMReviewMasterToolbarTitleText":"Decks","KOMReviewMasterCreateButtonText":"Create deck","KOMReviewMasterCreateButtonPromptText":"Name","KOMReviewMasterListItemReviewLabelText":"review cards","KOMReviewMasterListItemUnseenLabelText":"new cards","KOMReviewTodayTotalCardsLabelText":"Total cards","KOMReviewTodayTimeMinutesLabelText":"Time (minutes)","KOMReviewTodayReviewAccuracyLabelText":"Review accuracy %","KOMBrowseInfoToolbarBackButtonText":"Back","KOMBrowseInfoToolbarDiscardButtonText":"Discard","KOMBrowseInfoDiscardConfirmText":"Are you sure?","KOMBrowseInfoToolbarTemplateButtonText":"Copy tags to new card","KOMBrowseInfoFormFrontTextFieldText":"Front text","KOMBrowseInfoFormFrontReadButtonText":"Read","KOMBrowseInfoFormRearTextFieldText":"Back text","KOMBrowseInfoFormRearReadButtonText":"Read","KOMBrowseInfoFormNotesFieldText":"Notes","KOMBrowseInfoAudioRecordButtonText":"Record","KOMBrowseInfoAudioRecordingAlertText":"Recording","KOMBrowseInfoAudioPlaybackButtonText":"Playback","KOMBrowseInfoAudioClearButtonText":"Clear","KOMBrowseInfoAudioNotAvailableAlertText":"Audio recording unsupported in this browser","KOMBrowseInfoTagsInputFieldText":"New tag name","KOMBrowseInfoTagsCreateButtonText":"Create tag","KOMBrowseInfoTagsRemoveButtonTextFormat":"Remove \'%@\'","KOMBrowseInfoTagsSuggestButtonTextFormat":"Add \'%@\'","KOMBrowseListToolbarCloseButtonText":"Close","KOMBrowseListToolbarCreateButtonText":"Create","KOMBrowseListItemUntitledText":"Untitled","KOMReviewLauncherItemDebugCardText":"Debug Card","KOMPlayToolbarUndoButtonText":"Undo","KOMPlayToolbarDoneButtonText":"Done","KOMPlayHearQuestionButtonText":"Hear question","KOMPlayHearAnswerButtonText":"Hear answer","KOMPlayFlipButtonText":"Flip","KOMPlayResponseButtonAgainText":"Again","KOMPlayResponseButtonHardText":"Sooner","KOMPlayResponseButtonGoodText":"Normal","KOMPlayResponseButtonEasyText":"Later"},"es":{"OLSKAppToolbarGuideLinkText":"Gua","OLSKAppToolbarDonateLinkText":"Donar","OLSKAppToolbarLauncherButtonText":"Lanzador","OLSKAppToolbarStorageButtonText":"Almacenamiento","OLSKDetailPlaceholderText":"Ningn artculo seleccionado","OLSKInputWrapperClearButtonText":"Despejar el texto","OLSKLanguageSwitcherVersionFormat":"Versin en %@","OLSKLanguageSwitcherVersionName":{"en":"ingls","fr":"francs","es":"espaol"},"OLSKMasterListFilterFieldText":"Filtrar","OLSKReloadButtonText":"Recargar","OLSKRemoteStorageStatusOnline":"En lneo","OLSKRemoteStorageStatusNetworkOffline":"Sin conexin","OLSKRemoteStorageStatusError":"Error","OLSKServiceWorkerUpdateAlertLabelText":"Actualizacin disponible","OLSKServiceWorkerUpdateAlertReloadButtonText":"Recargar"},"fr":{"OLSKAppToolbarGuideLinkText":"Guide","OLSKAppToolbarDonateLinkText":"Faire un don","OLSKAppToolbarLauncherButtonText":"Lanceur","OLSKAppToolbarStorageButtonText":"Stockage","OLSKDetailPlaceholderText":"Aucun article selection","OLSKInputWrapperClearButtonText":"Effacer le texte","OLSKLanguageSwitcherVersionFormat":"Version en %@","OLSKLanguageSwitcherVersionName":{"en":"anglais","fr":"franais","es":"espagnol"},"OLSKMasterListFilterFieldText":"Filtrer","OLSKReloadButtonText":"Recharger","OLSKRemoteStorageStatusOnline":"En ligne","OLSKRemoteStorageStatusNetworkOffline":"Hors connexion","OLSKRemoteStorageStatusError":"Erreur","OLSKServiceWorkerUpdateAlertLabelText":"Mise  jour disponible","OLSKServiceWorkerUpdateAlertReloadButtonText":"Recharger","KOMReviewLauncherItemSelectDeckTextFormat":"Choisir lot de cartes \'%@\'","KOMReviewLauncherItemSendLoginLinkText":"Envoyer lien d\'accs","KOMReviewLauncherItemSendLoginLinkSubject":"Kommit lien d\'accs","KOMReviewLauncherItemDebugFlushDataText":"Recharche les donnes","KOMReviewLauncherItemDebugFlushDataConfirmText":"tes-vous sr.e?","KOMReviewChartCompositionStatesTotalCardsLabelText":"Total des cartes","KOMReviewChartCompositionStatesUnseenCardsLabelText":"Non-vues","KOMReviewChartCompositionStatesDevelopingCardsLabelText":"En apprentisage","KOMReviewChartCompositionStatesMatureCardsLabelText":"Mature","KOMReviewChartCompositionStatesSuspendedCardsLabelText":"Suspendu","KOMReviewDetailToolbarBackButtonText":"Back","KOMReviewDetailToolbarCardsButtonText":"Cartes","KOMReviewDetailGameOptionsHeadingText":"Options du jeu","KOMReviewDetailNoCardsText":"Il n\'y a pas de cartes dans ce lot de cartes.","KOMReviewDetailFormAudioIsEnabledFieldLabelText":"Faire entendre la version audio enregistre","KOMReviewDetailFormFrontSpeechIsEnabledFieldLabelText":"Lire le recto","KOMReviewDetailFormRearSpeechIsEnabledFieldLabelText":"Lire le verso","KOMReviewDetailFormIsForwardOnlyFieldLabelText":"Ne pas activer la lecture des cartes inverses","KOMReviewDetailPlayButtonReviewingText":"tudier des cartes  rviser","KOMReviewDetailPlayButtonUnseenText":"tudier des nouvelles cartes","KOMReviewDetailPlayButtonMixedText":"tudier toutes les cartes","KOMReviewDetailPlayButtonSingleText":"Jouer","KOMReviewDetailNoSpacingsText":"Toutes les cartes pour aujourd\'hui ont t rvises.","KOMReviewDetailTodayHeadingText":"Aujourd\'hui","KOMReviewDetailGeneralHeadingText":"Historique","KOMReviewDetailDeckHeadingText":"Lot de cartes","KOMReviewDetailRenameButtonText":"Renommer","KOMReviewDetailRenameButtonPromptText":"Nom","KOMReviewDetailDiscardButtonText":"Supprimer le lot de cartes et toutes les cartes dedans","KOMReviewDetailDiscardPromptText":"tes-vous sr.e? Veuillez entrer le nom du lot de cartes pour confirmer et supprimer.","KOMReviewDetailLanguageCodeFieldLabelText":"Code de la langue","KOMReviewDetailLanguageCodeFieldOptionUnspecifiedText":"Non specifi","KOMReviewGeneralCardStatesHeadingText":"Les tats des cartes","KOMReviewMasterToolbarTitleText":"Lots de cartes","KOMReviewMasterCreateButtonText":"Crer lot de cartes","KOMReviewMasterCreateButtonPromptText":"Nom","KOMReviewMasterListItemReviewLabelText":"cartes  rviser","KOMReviewMasterListItemUnseenLabelText":"cartes nouvelles","KOMReviewTodayTotalCardsLabelText":"Total des cartes","KOMReviewTodayTimeMinutesLabelText":"Temps (minutes)","KOMReviewTodayReviewAccuracyLabelText":"Exactitude de la rvision %","KOMBrowseInfoToolbarBackButtonText":"Back","KOMBrowseInfoToolbarDiscardButtonText":"Jeter","KOMBrowseInfoDiscardConfirmText":"tes-vous sr.e?","KOMBrowseInfoToolbarTemplateButtonText":"Copier des tags  une nouvelle carte","KOMBrowseInfoFormFrontTextFieldText":"Texte du recto","KOMBrowseInfoFormFrontReadButtonText":"Lire","KOMBrowseInfoFormRearTextFieldText":"Texte du verso","KOMBrowseInfoFormRearReadButtonText":"Lire","KOMBrowseInfoFormNotesFieldText":"Notes","KOMBrowseInfoAudioRecordButtonText":"Enregistrer","KOMBrowseInfoAudioRecordingAlertText":"Enregistrement en cours","KOMBrowseInfoAudioPlaybackButtonText":"Lecture","KOMBrowseInfoAudioClearButtonText":"Effacer","KOMBrowseInfoAudioNotAvailableAlertText":"Enregistrement audio non pris en charge dans ce navigateur","KOMBrowseInfoTagsInputFieldText":"Nom du tag nouveau","KOMBrowseInfoTagsCreateButtonText":"Crer le tag","KOMBrowseInfoTagsRemoveButtonTextFormat":"Enlever \'%@\'","KOMBrowseInfoTagsSuggestButtonTextFormat":"Ajouter \'%@\'","KOMBrowseListToolbarCloseButtonText":"Fermer","KOMBrowseListToolbarCreateButtonText":"Crer","KOMBrowseListItemUntitledText":"Sans titre","KOMReviewLauncherItemDebugCardText":"Debug Card","KOMPlayToolbarUndoButtonText":"Annuler","KOMPlayToolbarDoneButtonText":"OK","KOMPlayHearQuestionButtonText":"couter la question","KOMPlayHearAnswerButtonText":"couter la rponse","KOMPlayFlipButtonText":"Retourner","KOMPlayResponseButtonAgainText":"Encore","KOMPlayResponseButtonHardText":"Plus tt","KOMPlayResponseButtonGoodText":"Normale","KOMPlayResponseButtonEasyText":"Plus tard"}}')[window.OLSKPublicConstants("OLSKSharedPageCurrentLanguage")])},i,s,l,u]}class Gn extends X{constructor(e){super(),Q(this,e,jn,Hn,a,{KOMBrowseInfoAudioAvailable:1,KOMBrowseInfoAudioItem:0,KOMBrowseInfoAudioItemProperty:2,KOMBrowseInfoAudioDispatchCapture:5,KOMBrowseInfoAudioDispatchFetch:6,KOMBrowseInfoAudioDispatchClear:7,DebugFakeChangeObject:8})}}function $n(e,t,n){const r=e.slice();return r[9]=t[n],r}function zn(e,t,n){const r=e.slice();return r[9]=t[n],r}function Wn(e){let t,n,r,o,a=re.OLSKStringWithFormat(e[5]("KOMBrowseInfoTagsRemoveButtonTextFormat"),e[9])+"";function i(...t){return e[6](e[9],...t)}return{c(){t=h("button"),n=O(a),K(t,"class","KOMBrowseInfoTagsRemoveButton")},m(e,a){c(e,t,a),u(t,n),r||(o=M(t,"click",i),r=!0)},p(t,r){e=t,1&r&&a!==(a=re.OLSKStringWithFormat(e[5]("KOMBrowseInfoTagsRemoveButtonTextFormat"),e[9])+"")&&v(n,a)},d(e){e&&d(t),r=!1,o()}}}function qn(e){let t,n,r,o,a=re.OLSKStringWithFormat(e[5]("KOMBrowseInfoTagsSuggestButtonTextFormat"),e[9])+"";function i(...t){return e[8](e[9],...t)}return{c(){t=h("button"),n=O(a),K(t,"class","KOMBrowseInfoTagsSuggestButton")},m(e,a){c(e,t,a),u(t,n),r||(o=M(t,"click",i),r=!0)},p(t,r){e=t,2&r&&a!==(a=re.OLSKStringWithFormat(e[5]("KOMBrowseInfoTagsSuggestButtonTextFormat"),e[9])+"")&&v(n,a)},d(e){e&&d(t),r=!1,o()}}}function Jn(t){let n,a,i,s,l,p,m,v,w,S,x,y,b,L,R,C=t[5]("KOMBrowseInfoTagsCreateButtonText")+"",D=t[0],B=[];for(let e=0;e<D.length;e+=1)B[e]=Wn(zn(t,D,e));let I=t[1],_=[];for(let e=0;e<I.length;e+=1)_[e]=qn($n(t,I,e));return{c(){n=h("div"),a=h("p");for(let e=0;e<B.length;e+=1)B[e].c();i=g(),s=h("form"),l=h("p"),p=h("input"),v=g(),w=h("button"),S=O(C),y=g(),b=h("p");for(let e=0;e<_.length;e+=1)_[e].c();K(p,"class","KOMBrowseInfoTagsInputField OLSKMobileSafariRemoveDefaultInputStyle"),K(p,"type","text"),K(p,"placeholder",m=t[5]("KOMBrowseInfoTagsInputFieldText")),K(w,"class","KOMBrowseInfoTagsCreateButton"),K(w,"type","submit"),w.disabled=x=!t[4]._ValueNewTagName,K(s,"class","KOMBrowseInfoTagsForm"),K(n,"class","KOMBrowseInfoTags")},m(e,r){c(e,n,r),u(n,a);for(let e=0;e<B.length;e+=1)B[e].m(a,null);u(n,i),u(n,s),u(s,l),u(l,p),T(p,t[4]._ValueNewTagName),u(l,v),u(l,w),u(w,S),u(n,y),u(n,b);for(let e=0;e<_.length;e+=1)_[e].m(b,null);L||(R=[M(p,"input",t[7]),M(s,"submit",(function(){o(t[4].InterfaceFormDidSubmit)&&t[4].InterfaceFormDidSubmit.apply(this,arguments)}))],L=!0)},p(e,[n]){if(t=e,41&n){let e;for(D=t[0],e=0;e<D.length;e+=1){const r=zn(t,D,e);B[e]?B[e].p(r,n):(B[e]=Wn(r),B[e].c(),B[e].m(a,null))}for(;e<B.length;e+=1)B[e].d(1);B.length=D.length}if(16&n&&p.value!==t[4]._ValueNewTagName&&T(p,t[4]._ValueNewTagName),16&n&&x!==(x=!t[4]._ValueNewTagName)&&(w.disabled=x),38&n){let e;for(I=t[1],e=0;e<I.length;e+=1){const r=$n(t,I,e);_[e]?_[e].p(r,n):(_[e]=qn(r),_[e].c(),_[e].m(b,null))}for(;e<_.length;e+=1)_[e].d(1);_.length=I.length}},i:e,o:e,d(e){e&&d(n),f(B,e),f(_,e),L=!1,r(R)}}}function Yn(e,t,n){let{KOMBrowseInfoTagsItems:r}=t,{KOMBrowseInfoTagsSuggestions:o=[]}=t,{KOMBrowseInfoTagsDispatchAdd:a}=t,{KOMBrowseInfoTagsDispatchRemove:i}=t;const s={_ValueNewTagName:"",InterfaceFormDidSubmit(){a(s._ValueNewTagName),n(4,s._ValueNewTagName="",s),event.preventDefault()}};return e.$set=e=>{"KOMBrowseInfoTagsItems"in e&&n(0,r=e.KOMBrowseInfoTagsItems),"KOMBrowseInfoTagsSuggestions"in e&&n(1,o=e.KOMBrowseInfoTagsSuggestions),"KOMBrowseInfoTagsDispatchAdd"in e&&n(2,a=e.KOMBrowseInfoTagsDispatchAdd),"KOMBrowseInfoTagsDispatchRemove"in e&&n(3,i=e.KOMBrowseInfoTagsDispatchRemove)},[r,o,a,i,s,function(e){return te.OLSKInternationalLocalizedString(e,JSON.parse('{"en":{"OLSKAppToolbarGuideLinkText":"Guide","OLSKAppToolbarDonateLinkText":"Donate","OLSKAppToolbarLauncherButtonText":"Launcher","OLSKAppToolbarStorageButtonText":"Storage","OLSKDetailPlaceholderText":"No item selected","OLSKInputWrapperClearButtonText":"Clear text","OLSKLanguageSwitcherVersionFormat":"Version in %@","OLSKLanguageSwitcherVersionName":{"en":"English","fr":"French","es":"Spanish"},"OLSKMasterListFilterFieldText":"Filter","OLSKReloadButtonText":"Reload","OLSKRemoteStorageStatusOnline":"Online","OLSKRemoteStorageStatusNetworkOffline":"Offline","OLSKRemoteStorageStatusError":"Error","OLSKServiceWorkerUpdateAlertLabelText":"Update available","OLSKServiceWorkerUpdateAlertReloadButtonText":"Reload","KOMReviewLauncherItemSelectDeckTextFormat":"Select deck \'%@\'","KOMReviewLauncherItemSendLoginLinkText":"Send login link","KOMReviewLauncherItemSendLoginLinkSubject":"Kommit Login Link","KOMReviewLauncherItemDebugFlushDataText":"Flush data","KOMReviewLauncherItemDebugFlushDataConfirmText":"Are you sure?","KOMReviewChartCompositionStatesTotalCardsLabelText":"Total cards","KOMReviewChartCompositionStatesUnseenCardsLabelText":"Unseen","KOMReviewChartCompositionStatesDevelopingCardsLabelText":"Developing","KOMReviewChartCompositionStatesMatureCardsLabelText":"Mature","KOMReviewChartCompositionStatesSuspendedCardsLabelText":"Suspended","KOMReviewDetailToolbarBackButtonText":"Back","KOMReviewDetailToolbarCardsButtonText":"Cards","KOMReviewDetailGameOptionsHeadingText":"Game options","KOMReviewDetailNoCardsText":"There are no cards in this deck.","KOMReviewDetailFormAudioIsEnabledFieldLabelText":"Play audio","KOMReviewDetailFormFrontSpeechIsEnabledFieldLabelText":"Read front","KOMReviewDetailFormRearSpeechIsEnabledFieldLabelText":"Read back","KOMReviewDetailFormIsForwardOnlyFieldLabelText":"Skip reversed cards","KOMReviewDetailPlayButtonReviewingText":"Study review cards","KOMReviewDetailPlayButtonUnseenText":"Study new cards","KOMReviewDetailPlayButtonMixedText":"Study all cards","KOMReviewDetailPlayButtonSingleText":"Play","KOMReviewDetailNoSpacingsText":"All cards for today have been reviewed.","KOMReviewDetailTodayHeadingText":"Today","KOMReviewDetailGeneralHeadingText":"Historical","KOMReviewDetailDeckHeadingText":"Deck","KOMReviewDetailRenameButtonText":"Rename","KOMReviewDetailRenameButtonPromptText":"Name","KOMReviewDetailDiscardButtonText":"Delete deck and all cards inside","KOMReviewDetailDiscardPromptText":"Are you sure? Please type the name of the deck to confirm and delete.","KOMReviewDetailLanguageCodeFieldLabelText":"Language code","KOMReviewDetailLanguageCodeFieldOptionUnspecifiedText":"Unspecified","KOMReviewGeneralCardStatesHeadingText":"Cards","KOMReviewMasterToolbarTitleText":"Decks","KOMReviewMasterCreateButtonText":"Create deck","KOMReviewMasterCreateButtonPromptText":"Name","KOMReviewMasterListItemReviewLabelText":"review cards","KOMReviewMasterListItemUnseenLabelText":"new cards","KOMReviewTodayTotalCardsLabelText":"Total cards","KOMReviewTodayTimeMinutesLabelText":"Time (minutes)","KOMReviewTodayReviewAccuracyLabelText":"Review accuracy %","KOMBrowseInfoToolbarBackButtonText":"Back","KOMBrowseInfoToolbarDiscardButtonText":"Discard","KOMBrowseInfoDiscardConfirmText":"Are you sure?","KOMBrowseInfoToolbarTemplateButtonText":"Copy tags to new card","KOMBrowseInfoFormFrontTextFieldText":"Front text","KOMBrowseInfoFormFrontReadButtonText":"Read","KOMBrowseInfoFormRearTextFieldText":"Back text","KOMBrowseInfoFormRearReadButtonText":"Read","KOMBrowseInfoFormNotesFieldText":"Notes","KOMBrowseInfoAudioRecordButtonText":"Record","KOMBrowseInfoAudioRecordingAlertText":"Recording","KOMBrowseInfoAudioPlaybackButtonText":"Playback","KOMBrowseInfoAudioClearButtonText":"Clear","KOMBrowseInfoAudioNotAvailableAlertText":"Audio recording unsupported in this browser","KOMBrowseInfoTagsInputFieldText":"New tag name","KOMBrowseInfoTagsCreateButtonText":"Create tag","KOMBrowseInfoTagsRemoveButtonTextFormat":"Remove \'%@\'","KOMBrowseInfoTagsSuggestButtonTextFormat":"Add \'%@\'","KOMBrowseListToolbarCloseButtonText":"Close","KOMBrowseListToolbarCreateButtonText":"Create","KOMBrowseListItemUntitledText":"Untitled","KOMReviewLauncherItemDebugCardText":"Debug Card","KOMPlayToolbarUndoButtonText":"Undo","KOMPlayToolbarDoneButtonText":"Done","KOMPlayHearQuestionButtonText":"Hear question","KOMPlayHearAnswerButtonText":"Hear answer","KOMPlayFlipButtonText":"Flip","KOMPlayResponseButtonAgainText":"Again","KOMPlayResponseButtonHardText":"Sooner","KOMPlayResponseButtonGoodText":"Normal","KOMPlayResponseButtonEasyText":"Later"},"es":{"OLSKAppToolbarGuideLinkText":"Gua","OLSKAppToolbarDonateLinkText":"Donar","OLSKAppToolbarLauncherButtonText":"Lanzador","OLSKAppToolbarStorageButtonText":"Almacenamiento","OLSKDetailPlaceholderText":"Ningn artculo seleccionado","OLSKInputWrapperClearButtonText":"Despejar el texto","OLSKLanguageSwitcherVersionFormat":"Versin en %@","OLSKLanguageSwitcherVersionName":{"en":"ingls","fr":"francs","es":"espaol"},"OLSKMasterListFilterFieldText":"Filtrar","OLSKReloadButtonText":"Recargar","OLSKRemoteStorageStatusOnline":"En lneo","OLSKRemoteStorageStatusNetworkOffline":"Sin conexin","OLSKRemoteStorageStatusError":"Error","OLSKServiceWorkerUpdateAlertLabelText":"Actualizacin disponible","OLSKServiceWorkerUpdateAlertReloadButtonText":"Recargar"},"fr":{"OLSKAppToolbarGuideLinkText":"Guide","OLSKAppToolbarDonateLinkText":"Faire un don","OLSKAppToolbarLauncherButtonText":"Lanceur","OLSKAppToolbarStorageButtonText":"Stockage","OLSKDetailPlaceholderText":"Aucun article selection","OLSKInputWrapperClearButtonText":"Effacer le texte","OLSKLanguageSwitcherVersionFormat":"Version en %@","OLSKLanguageSwitcherVersionName":{"en":"anglais","fr":"franais","es":"espagnol"},"OLSKMasterListFilterFieldText":"Filtrer","OLSKReloadButtonText":"Recharger","OLSKRemoteStorageStatusOnline":"En ligne","OLSKRemoteStorageStatusNetworkOffline":"Hors connexion","OLSKRemoteStorageStatusError":"Erreur","OLSKServiceWorkerUpdateAlertLabelText":"Mise  jour disponible","OLSKServiceWorkerUpdateAlertReloadButtonText":"Recharger","KOMReviewLauncherItemSelectDeckTextFormat":"Choisir lot de cartes \'%@\'","KOMReviewLauncherItemSendLoginLinkText":"Envoyer lien d\'accs","KOMReviewLauncherItemSendLoginLinkSubject":"Kommit lien d\'accs","KOMReviewLauncherItemDebugFlushDataText":"Recharche les donnes","KOMReviewLauncherItemDebugFlushDataConfirmText":"tes-vous sr.e?","KOMReviewChartCompositionStatesTotalCardsLabelText":"Total des cartes","KOMReviewChartCompositionStatesUnseenCardsLabelText":"Non-vues","KOMReviewChartCompositionStatesDevelopingCardsLabelText":"En apprentisage","KOMReviewChartCompositionStatesMatureCardsLabelText":"Mature","KOMReviewChartCompositionStatesSuspendedCardsLabelText":"Suspendu","KOMReviewDetailToolbarBackButtonText":"Back","KOMReviewDetailToolbarCardsButtonText":"Cartes","KOMReviewDetailGameOptionsHeadingText":"Options du jeu","KOMReviewDetailNoCardsText":"Il n\'y a pas de cartes dans ce lot de cartes.","KOMReviewDetailFormAudioIsEnabledFieldLabelText":"Faire entendre la version audio enregistre","KOMReviewDetailFormFrontSpeechIsEnabledFieldLabelText":"Lire le recto","KOMReviewDetailFormRearSpeechIsEnabledFieldLabelText":"Lire le verso","KOMReviewDetailFormIsForwardOnlyFieldLabelText":"Ne pas activer la lecture des cartes inverses","KOMReviewDetailPlayButtonReviewingText":"tudier des cartes  rviser","KOMReviewDetailPlayButtonUnseenText":"tudier des nouvelles cartes","KOMReviewDetailPlayButtonMixedText":"tudier toutes les cartes","KOMReviewDetailPlayButtonSingleText":"Jouer","KOMReviewDetailNoSpacingsText":"Toutes les cartes pour aujourd\'hui ont t rvises.","KOMReviewDetailTodayHeadingText":"Aujourd\'hui","KOMReviewDetailGeneralHeadingText":"Historique","KOMReviewDetailDeckHeadingText":"Lot de cartes","KOMReviewDetailRenameButtonText":"Renommer","KOMReviewDetailRenameButtonPromptText":"Nom","KOMReviewDetailDiscardButtonText":"Supprimer le lot de cartes et toutes les cartes dedans","KOMReviewDetailDiscardPromptText":"tes-vous sr.e? Veuillez entrer le nom du lot de cartes pour confirmer et supprimer.","KOMReviewDetailLanguageCodeFieldLabelText":"Code de la langue","KOMReviewDetailLanguageCodeFieldOptionUnspecifiedText":"Non specifi","KOMReviewGeneralCardStatesHeadingText":"Les tats des cartes","KOMReviewMasterToolbarTitleText":"Lots de cartes","KOMReviewMasterCreateButtonText":"Crer lot de cartes","KOMReviewMasterCreateButtonPromptText":"Nom","KOMReviewMasterListItemReviewLabelText":"cartes  rviser","KOMReviewMasterListItemUnseenLabelText":"cartes nouvelles","KOMReviewTodayTotalCardsLabelText":"Total des cartes","KOMReviewTodayTimeMinutesLabelText":"Temps (minutes)","KOMReviewTodayReviewAccuracyLabelText":"Exactitude de la rvision %","KOMBrowseInfoToolbarBackButtonText":"Back","KOMBrowseInfoToolbarDiscardButtonText":"Jeter","KOMBrowseInfoDiscardConfirmText":"tes-vous sr.e?","KOMBrowseInfoToolbarTemplateButtonText":"Copier des tags  une nouvelle carte","KOMBrowseInfoFormFrontTextFieldText":"Texte du recto","KOMBrowseInfoFormFrontReadButtonText":"Lire","KOMBrowseInfoFormRearTextFieldText":"Texte du verso","KOMBrowseInfoFormRearReadButtonText":"Lire","KOMBrowseInfoFormNotesFieldText":"Notes","KOMBrowseInfoAudioRecordButtonText":"Enregistrer","KOMBrowseInfoAudioRecordingAlertText":"Enregistrement en cours","KOMBrowseInfoAudioPlaybackButtonText":"Lecture","KOMBrowseInfoAudioClearButtonText":"Effacer","KOMBrowseInfoAudioNotAvailableAlertText":"Enregistrement audio non pris en charge dans ce navigateur","KOMBrowseInfoTagsInputFieldText":"Nom du tag nouveau","KOMBrowseInfoTagsCreateButtonText":"Crer le tag","KOMBrowseInfoTagsRemoveButtonTextFormat":"Enlever \'%@\'","KOMBrowseInfoTagsSuggestButtonTextFormat":"Ajouter \'%@\'","KOMBrowseListToolbarCloseButtonText":"Fermer","KOMBrowseListToolbarCreateButtonText":"Crer","KOMBrowseListItemUntitledText":"Sans titre","KOMReviewLauncherItemDebugCardText":"Debug Card","KOMPlayToolbarUndoButtonText":"Annuler","KOMPlayToolbarDoneButtonText":"OK","KOMPlayHearQuestionButtonText":"couter la question","KOMPlayHearAnswerButtonText":"couter la rponse","KOMPlayFlipButtonText":"Retourner","KOMPlayResponseButtonAgainText":"Encore","KOMPlayResponseButtonHardText":"Plus tt","KOMPlayResponseButtonGoodText":"Normale","KOMPlayResponseButtonEasyText":"Plus tard"}}')[window.OLSKPublicConstants("OLSKSharedPageCurrentLanguage")])},e=>i(e),function(){s._ValueNewTagName=this.value,n(4,s)},e=>a(e)]}class Qn extends X{constructor(e){super(),Q(this,e,Yn,Jn,a,{KOMBrowseInfoTagsItems:0,KOMBrowseInfoTagsSuggestions:1,KOMBrowseInfoTagsDispatchAdd:2,KOMBrowseInfoTagsDispatchRemove:3})}}function Xn(e){let t,n;return t=new Bn({}),{c(){W(t.$$.fragment)},m(e,r){q(t,e,r),n=!0},i(e){n||(G(t.$$.fragment,e),n=!0)},o(e){$(t.$$.fragment,e),n=!1},d(e){J(t,e)}}}function Zn(e){let t,n,a,i,s,l,f,p,m,v,w,S,x,y,b,L,R,C,D,B,I,_,k,F,A,P,E,N,U,V,H,j,z,Y,Q,X,Z,ee,te,ne,re,oe,ae,ie,se,le,ue,ce,de,fe=e[13]("KOMBrowseInfoFormFrontReadButtonText")+"",he=e[13]("KOMBrowseInfoFormRearReadButtonText")+"";return P=new Gn({props:{KOMBrowseInfoAudioItem:e[0],KOMBrowseInfoAudioItemProperty:"KOMCardFrontAudio",KOMBrowseInfoAudioAvailable:"WebAssembly"in window,KOMBrowseInfoAudioDispatchCapture:e[9],KOMBrowseInfoAudioDispatchFetch:e[10],KOMBrowseInfoAudioDispatchClear:e[11]}}),Z=new Gn({props:{KOMBrowseInfoAudioItem:e[0],KOMBrowseInfoAudioItemProperty:"KOMCardRearAudio",KOMBrowseInfoAudioAvailable:"WebAssembly"in window,KOMBrowseInfoAudioDispatchCapture:e[9],KOMBrowseInfoAudioDispatchFetch:e[10],KOMBrowseInfoAudioDispatchClear:e[11]}}),le=new Qn({props:{KOMBrowseInfoTagsItems:e[0].KOMCardTags||[],KOMBrowseInfoTagsSuggestions:e[2],KOMBrowseInfoTagsDispatchAdd:e[14].KOMBrowseInfoTagsDispatchAdd,KOMBrowseInfoTagsDispatchRemove:e[14].KOMBrowseInfoTagsDispatchRemove}}),{c(){t=h("header"),n=h("div"),a=h("button"),i=h("div"),l=g(),f=h("div"),p=h("button"),m=h("div"),w=g(),S=h("button"),x=h("div"),b=g(),L=h("div"),R=h("p"),C=h("input"),B=g(),I=h("p"),_=h("button"),k=O(fe),A=g(),W(P.$$.fragment),E=g(),N=h("p"),U=h("input"),H=g(),j=h("p"),z=h("button"),Y=O(he),X=g(),W(Z.$$.fragment),ee=g(),te=h("p"),ne=h("input"),oe=g(),ae=h("hr"),ie=g(),se=h("p"),W(le.$$.fragment),K(i,"class","KOMBrowseInfoToolbarBackButtonImage"),K(a,"class","KOMBrowseInfoToolbarBackButton OLSKLayoutButtonNoStyle OLSKLayoutElementTappable OLSKToolbarButton OLSKVisibilityMobile"),K(a,"title",s=e[13]("KOMBrowseInfoToolbarBackButtonText")),K(n,"class","OLSKToolbarElementGroup"),K(m,"class","KOMBrowseInfoToolbarDiscardButtonImage"),K(p,"class","KOMBrowseInfoToolbarDiscardButton OLSKLayoutButtonNoStyle OLSKLayoutElementTappable OLSKToolbarButton"),K(p,"title",v=e[13]("KOMBrowseInfoToolbarDiscardButtonText")),K(x,"class","KOMBrowseInfoToolbarTemplateButtonImage"),K(S,"class","KOMBrowseInfoToolbarTemplateButton OLSKLayoutButtonNoStyle OLSKLayoutElementTappable OLSKToolbarButton"),K(S,"title",y=e[13]("KOMBrowseInfoToolbarTemplateButtonText")),K(S,"accesskey","t"),K(f,"class","OLSKToolbarElementGroup"),K(t,"class","KOMBrowseInfoToolbar OLSKMobileViewHeader OLSKToolbar OLSKToolbarJustify svelte-1wy5vxs"),K(C,"class","KOMBrowseInfoFormFrontTextField OLSKMobileSafariRemoveDefaultInputStyle"),K(C,"placeholder",D=e[13]("KOMBrowseInfoFormFrontTextFieldText")),K(C,"type","text"),K(R,"class","svelte-1wy5vxs"),K(_,"class","KOMBrowseInfoFormFrontReadButton"),_.disabled=F=!e[3]||!e[1].KOMDeckFrontLanguageCode,K(I,"class","KOMBrowseInfoFormFrontAudio svelte-1wy5vxs"),K(U,"class","KOMBrowseInfoFormRearTextField OLSKMobileSafariRemoveDefaultInputStyle"),K(U,"placeholder",V=e[13]("KOMBrowseInfoFormRearTextFieldText")),K(U,"type","text"),K(N,"class","svelte-1wy5vxs"),K(z,"class","KOMBrowseInfoFormRearReadButton"),z.disabled=Q=!e[3]||!e[1].KOMDeckRearLanguageCode,K(j,"class","KOMBrowseInfoFormRearAudio svelte-1wy5vxs"),K(ne,"class","KOMBrowseInfoFormNotesField OLSKMobileSafariRemoveDefaultInputStyle"),K(ne,"placeholder",re=e[13]("KOMBrowseInfoFormNotesFieldText")),K(ne,"type","text"),K(te,"class","svelte-1wy5vxs"),K(ae,"class","svelte-1wy5vxs"),K(se,"class","KOMBrowseInfoFormTags svelte-1wy5vxs"),K(L,"class","KOMBrowseInfoForm svelte-1wy5vxs")},m(r,s){c(r,t,s),u(t,n),u(n,a),u(a,i),i.innerHTML=Qe,u(t,l),u(t,f),u(f,p),u(p,m),m.innerHTML='<?xml version="1.0" encoding="UTF-8"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16" viewBox="0 0 16 16"  xml:space="preserve" id="_OLSKSharedDiscard">\n    \x3c!-- Generated by PaintCode (www.paintcodeapp.com) --\x3e\n    <path id="_OLSKSharedDiscard-rectangle" stroke="rgb(0, 0, 0)" stroke-width="1.3" fill="none" d="M 4.53,6 L 13,6 13,13.47 C 13,13.91 13,14.13 12.93,14.33 L 12.93,14.37 C 12.83,14.63 12.63,14.83 12.37,14.93 12.13,15 11.91,15 11.47,15 L 4.53,15 C 4.09,15 3.87,15 3.67,14.93 L 3.63,14.93 C 3.37,14.83 3.17,14.63 3.07,14.37 3,14.13 3,13.91 3,13.47 L 3,6 Z M 4.53,6" />\n    <path id="_OLSKSharedDiscard-bezier" stroke="rgb(0, 0, 0)" stroke-width="1.3" stroke-linecap="round" stroke-miterlimit="10" fill="none" d="M 1,3.5 L 15,3.5" />\n    <path id="_OLSKSharedDiscard-rectangle2" stroke="rgb(0, 0, 0)" stroke-width="1.3" fill="none" d="M 8,1 L 8,1 C 9.75,1 9.75,1 9.75,1 L 9.75,1 C 10.44,1 11,1.56 11,2.25 11,2.25 11,2.25 11,2.25 11,2.25 11,2.25 11,2.25 L 11,2.25 C 11,2.25 11,2.25 11,2.25 L 11,3.5 5,3.5 5,2.25 C 5,1.56 5.56,1 6.25,1 6.25,1 6.25,1 6.25,1 L 8,1 Z M 8,1" />\n    <path id="_OLSKSharedDiscard-bezier2" stroke="rgb(0, 0, 0)" stroke-width="1.3" stroke-miterlimit="10" fill="none" d="M 5.5,5.5 L 5.5,15" />\n    <path id="_OLSKSharedDiscard-bezier3" stroke="rgb(0, 0, 0)" stroke-width="1.3" stroke-miterlimit="10" fill="none" d="M 8,6 L 8,15" />\n    <path id="_OLSKSharedDiscard-bezier4" stroke="rgb(0, 0, 0)" stroke-width="1.3" stroke-miterlimit="10" fill="none" d="M 10.5,5.5 L 10.5,15" />\n</svg>\n',u(f,w),u(f,S),u(S,x),x.innerHTML='<?xml version="1.0" encoding="UTF-8"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16" viewBox="0 0 16 16"  xml:space="preserve" id="_OLSKSharedClone">\n    \x3c!-- Generated by PaintCode (www.paintcodeapp.com) --\x3e\n    <rect id="_OLSKSharedClone-rectangle" stroke="rgb(0, 0, 0)" stroke-width="1.3" fill="none" x="1" y="1" width="11.5" height="11.5" rx="1" />\n    <rect id="_OLSKSharedClone-rectangle2" stroke="rgb(0, 0, 0)" stroke-width="1.3" fill="rgb(255, 255, 255)" x="3.5" y="3.5" width="11.5" height="11.5" rx="1" />\n    <g id="_OLSKSharedClone-group">\n        <path id="_OLSKSharedClone-bezier" stroke="rgb(0, 0, 0)" stroke-width="1.5" stroke-linecap="round" stroke-miterlimit="10" fill="none" d="M 9.5,6.5 L 9.5,12.5" />\n        <path id="_OLSKSharedClone-bezier2" stroke="rgb(0, 0, 0)" stroke-width="1.5" stroke-linecap="round" stroke-miterlimit="10" fill="none" d="M 6.5,9.5 L 12.5,9.5" />\n    </g>\n</svg>\n',c(r,b,s),c(r,L,s),u(L,R),u(R,C),T(C,e[0].KOMCardFrontText),u(L,B),u(L,I),u(I,_),u(_,k),u(I,A),q(P,I,null),u(L,E),u(L,N),u(N,U),T(U,e[0].KOMCardRearText),u(L,H),u(L,j),u(j,z),u(z,Y),u(j,X),q(Z,j,null),u(L,ee),u(L,te),u(te,ne),T(ne,e[0].KOMCardNotes),u(L,oe),u(L,ae),u(L,ie),u(L,se),q(le,se,null),ue=!0,ce||(de=[M(a,"click",(function(){o(e[4])&&e[4].apply(this,arguments)})),M(p,"click",e[15]),M(S,"click",e[16]),M(C,"input",e[17]),M(C,"input",(function(){o(e[5])&&e[5].apply(this,arguments)})),M(_,"click",e[18]),M(U,"input",e[19]),M(U,"input",(function(){o(e[5])&&e[5].apply(this,arguments)})),M(z,"click",e[20]),M(ne,"input",e[21]),M(ne,"input",(function(){o(e[5])&&e[5].apply(this,arguments)}))],ce=!0)},p(t,n){e=t,1&n&&C.value!==e[0].KOMCardFrontText&&T(C,e[0].KOMCardFrontText),(!ue||10&n&&F!==(F=!e[3]||!e[1].KOMDeckFrontLanguageCode))&&(_.disabled=F);const r={};1&n&&(r.KOMBrowseInfoAudioItem=e[0]),512&n&&(r.KOMBrowseInfoAudioDispatchCapture=e[9]),1024&n&&(r.KOMBrowseInfoAudioDispatchFetch=e[10]),2048&n&&(r.KOMBrowseInfoAudioDispatchClear=e[11]),P.$set(r),1&n&&U.value!==e[0].KOMCardRearText&&T(U,e[0].KOMCardRearText),(!ue||10&n&&Q!==(Q=!e[3]||!e[1].KOMDeckRearLanguageCode))&&(z.disabled=Q);const o={};1&n&&(o.KOMBrowseInfoAudioItem=e[0]),512&n&&(o.KOMBrowseInfoAudioDispatchCapture=e[9]),1024&n&&(o.KOMBrowseInfoAudioDispatchFetch=e[10]),2048&n&&(o.KOMBrowseInfoAudioDispatchClear=e[11]),Z.$set(o),1&n&&ne.value!==e[0].KOMCardNotes&&T(ne,e[0].KOMCardNotes);const a={};1&n&&(a.KOMBrowseInfoTagsItems=e[0].KOMCardTags||[]),4&n&&(a.KOMBrowseInfoTagsSuggestions=e[2]),le.$set(a)},i(e){ue||(G(P.$$.fragment,e),G(Z.$$.fragment,e),G(le.$$.fragment,e),ue=!0)},o(e){$(P.$$.fragment,e),$(Z.$$.fragment,e),$(le.$$.fragment,e),ue=!1},d(e){e&&d(t),e&&d(b),e&&d(L),J(P),J(Z),J(le),ce=!1,r(de)}}}function er(e){let t,n,r,o,a=!e[0]&&Xn(),i=e[0]&&Zn(e);return{c(){t=h("div"),a&&a.c(),n=g(),i&&i.c(),K(t,"class","KOMBrowseInfo OLSKViewportDetail svelte-1wy5vxs"),K(t,"aria-hidden",r=!!e[12]||null),x(t,"OLSKMobileViewInactive",e[12])},m(e,r){c(e,t,r),a&&a.m(t,null),u(t,n),i&&i.m(t,null),o=!0},p(e,[s]){e[0]?a&&(H(),$(a,1,1,()=>{a=null}),j()):a?1&s&&G(a,1):(a=Xn(),a.c(),G(a,1),a.m(t,n)),e[0]?i?(i.p(e,s),1&s&&G(i,1)):(i=Zn(e),i.c(),G(i,1),i.m(t,null)):i&&(H(),$(i,1,1,()=>{i=null}),j()),(!o||4096&s&&r!==(r=!!e[12]||null))&&K(t,"aria-hidden",r),4096&s&&x(t,"OLSKMobileViewInactive",e[12])},i(e){o||(G(a),G(i),o=!0)},o(e){$(a),$(i),o=!1},d(e){e&&d(t),a&&a.d(),i&&i.d()}}}function tr(e,t,n){let{KOMBrowseInfoItem:r}=t,{KOMBrowseInfoDeck:o}=t,{KOMBrowseInfoTagsSuggestions:a}=t,{KOMBrowseInfoSpeechAvailable:i}=t,{KOMBrowseInfoDispatchBack:s}=t,{KOMBrowseInfoDispatchUpdate:l}=t,{KOMBrowseInfoDispatchDiscard:u}=t,{KOMBrowseInfoDispatchTemplate:c}=t,{KOMBrowseInfoDispatchRead:d}=t,{KOMBrowseInfoAudioDispatchCapture:f}=t,{KOMBrowseInfoAudioDispatchFetch:h}=t,{KOMBrowseInfoAudioDispatchClear:p}=t,{OLSKMobileViewInactive:O=!1}=t;const g=function(e){return te.OLSKInternationalLocalizedString(e,JSON.parse('{"en":{"OLSKAppToolbarGuideLinkText":"Guide","OLSKAppToolbarDonateLinkText":"Donate","OLSKAppToolbarLauncherButtonText":"Launcher","OLSKAppToolbarStorageButtonText":"Storage","OLSKDetailPlaceholderText":"No item selected","OLSKInputWrapperClearButtonText":"Clear text","OLSKLanguageSwitcherVersionFormat":"Version in %@","OLSKLanguageSwitcherVersionName":{"en":"English","fr":"French","es":"Spanish"},"OLSKMasterListFilterFieldText":"Filter","OLSKReloadButtonText":"Reload","OLSKRemoteStorageStatusOnline":"Online","OLSKRemoteStorageStatusNetworkOffline":"Offline","OLSKRemoteStorageStatusError":"Error","OLSKServiceWorkerUpdateAlertLabelText":"Update available","OLSKServiceWorkerUpdateAlertReloadButtonText":"Reload","KOMReviewLauncherItemSelectDeckTextFormat":"Select deck \'%@\'","KOMReviewLauncherItemSendLoginLinkText":"Send login link","KOMReviewLauncherItemSendLoginLinkSubject":"Kommit Login Link","KOMReviewLauncherItemDebugFlushDataText":"Flush data","KOMReviewLauncherItemDebugFlushDataConfirmText":"Are you sure?","KOMReviewChartCompositionStatesTotalCardsLabelText":"Total cards","KOMReviewChartCompositionStatesUnseenCardsLabelText":"Unseen","KOMReviewChartCompositionStatesDevelopingCardsLabelText":"Developing","KOMReviewChartCompositionStatesMatureCardsLabelText":"Mature","KOMReviewChartCompositionStatesSuspendedCardsLabelText":"Suspended","KOMReviewDetailToolbarBackButtonText":"Back","KOMReviewDetailToolbarCardsButtonText":"Cards","KOMReviewDetailGameOptionsHeadingText":"Game options","KOMReviewDetailNoCardsText":"There are no cards in this deck.","KOMReviewDetailFormAudioIsEnabledFieldLabelText":"Play audio","KOMReviewDetailFormFrontSpeechIsEnabledFieldLabelText":"Read front","KOMReviewDetailFormRearSpeechIsEnabledFieldLabelText":"Read back","KOMReviewDetailFormIsForwardOnlyFieldLabelText":"Skip reversed cards","KOMReviewDetailPlayButtonReviewingText":"Study review cards","KOMReviewDetailPlayButtonUnseenText":"Study new cards","KOMReviewDetailPlayButtonMixedText":"Study all cards","KOMReviewDetailPlayButtonSingleText":"Play","KOMReviewDetailNoSpacingsText":"All cards for today have been reviewed.","KOMReviewDetailTodayHeadingText":"Today","KOMReviewDetailGeneralHeadingText":"Historical","KOMReviewDetailDeckHeadingText":"Deck","KOMReviewDetailRenameButtonText":"Rename","KOMReviewDetailRenameButtonPromptText":"Name","KOMReviewDetailDiscardButtonText":"Delete deck and all cards inside","KOMReviewDetailDiscardPromptText":"Are you sure? Please type the name of the deck to confirm and delete.","KOMReviewDetailLanguageCodeFieldLabelText":"Language code","KOMReviewDetailLanguageCodeFieldOptionUnspecifiedText":"Unspecified","KOMReviewGeneralCardStatesHeadingText":"Cards","KOMReviewMasterToolbarTitleText":"Decks","KOMReviewMasterCreateButtonText":"Create deck","KOMReviewMasterCreateButtonPromptText":"Name","KOMReviewMasterListItemReviewLabelText":"review cards","KOMReviewMasterListItemUnseenLabelText":"new cards","KOMReviewTodayTotalCardsLabelText":"Total cards","KOMReviewTodayTimeMinutesLabelText":"Time (minutes)","KOMReviewTodayReviewAccuracyLabelText":"Review accuracy %","KOMBrowseInfoToolbarBackButtonText":"Back","KOMBrowseInfoToolbarDiscardButtonText":"Discard","KOMBrowseInfoDiscardConfirmText":"Are you sure?","KOMBrowseInfoToolbarTemplateButtonText":"Copy tags to new card","KOMBrowseInfoFormFrontTextFieldText":"Front text","KOMBrowseInfoFormFrontReadButtonText":"Read","KOMBrowseInfoFormRearTextFieldText":"Back text","KOMBrowseInfoFormRearReadButtonText":"Read","KOMBrowseInfoFormNotesFieldText":"Notes","KOMBrowseInfoAudioRecordButtonText":"Record","KOMBrowseInfoAudioRecordingAlertText":"Recording","KOMBrowseInfoAudioPlaybackButtonText":"Playback","KOMBrowseInfoAudioClearButtonText":"Clear","KOMBrowseInfoAudioNotAvailableAlertText":"Audio recording unsupported in this browser","KOMBrowseInfoTagsInputFieldText":"New tag name","KOMBrowseInfoTagsCreateButtonText":"Create tag","KOMBrowseInfoTagsRemoveButtonTextFormat":"Remove \'%@\'","KOMBrowseInfoTagsSuggestButtonTextFormat":"Add \'%@\'","KOMBrowseListToolbarCloseButtonText":"Close","KOMBrowseListToolbarCreateButtonText":"Create","KOMBrowseListItemUntitledText":"Untitled","KOMReviewLauncherItemDebugCardText":"Debug Card","KOMPlayToolbarUndoButtonText":"Undo","KOMPlayToolbarDoneButtonText":"Done","KOMPlayHearQuestionButtonText":"Hear question","KOMPlayHearAnswerButtonText":"Hear answer","KOMPlayFlipButtonText":"Flip","KOMPlayResponseButtonAgainText":"Again","KOMPlayResponseButtonHardText":"Sooner","KOMPlayResponseButtonGoodText":"Normal","KOMPlayResponseButtonEasyText":"Later"},"es":{"OLSKAppToolbarGuideLinkText":"Gua","OLSKAppToolbarDonateLinkText":"Donar","OLSKAppToolbarLauncherButtonText":"Lanzador","OLSKAppToolbarStorageButtonText":"Almacenamiento","OLSKDetailPlaceholderText":"Ningn artculo seleccionado","OLSKInputWrapperClearButtonText":"Despejar el texto","OLSKLanguageSwitcherVersionFormat":"Versin en %@","OLSKLanguageSwitcherVersionName":{"en":"ingls","fr":"francs","es":"espaol"},"OLSKMasterListFilterFieldText":"Filtrar","OLSKReloadButtonText":"Recargar","OLSKRemoteStorageStatusOnline":"En lneo","OLSKRemoteStorageStatusNetworkOffline":"Sin conexin","OLSKRemoteStorageStatusError":"Error","OLSKServiceWorkerUpdateAlertLabelText":"Actualizacin disponible","OLSKServiceWorkerUpdateAlertReloadButtonText":"Recargar"},"fr":{"OLSKAppToolbarGuideLinkText":"Guide","OLSKAppToolbarDonateLinkText":"Faire un don","OLSKAppToolbarLauncherButtonText":"Lanceur","OLSKAppToolbarStorageButtonText":"Stockage","OLSKDetailPlaceholderText":"Aucun article selection","OLSKInputWrapperClearButtonText":"Effacer le texte","OLSKLanguageSwitcherVersionFormat":"Version en %@","OLSKLanguageSwitcherVersionName":{"en":"anglais","fr":"franais","es":"espagnol"},"OLSKMasterListFilterFieldText":"Filtrer","OLSKReloadButtonText":"Recharger","OLSKRemoteStorageStatusOnline":"En ligne","OLSKRemoteStorageStatusNetworkOffline":"Hors connexion","OLSKRemoteStorageStatusError":"Erreur","OLSKServiceWorkerUpdateAlertLabelText":"Mise  jour disponible","OLSKServiceWorkerUpdateAlertReloadButtonText":"Recharger","KOMReviewLauncherItemSelectDeckTextFormat":"Choisir lot de cartes \'%@\'","KOMReviewLauncherItemSendLoginLinkText":"Envoyer lien d\'accs","KOMReviewLauncherItemSendLoginLinkSubject":"Kommit lien d\'accs","KOMReviewLauncherItemDebugFlushDataText":"Recharche les donnes","KOMReviewLauncherItemDebugFlushDataConfirmText":"tes-vous sr.e?","KOMReviewChartCompositionStatesTotalCardsLabelText":"Total des cartes","KOMReviewChartCompositionStatesUnseenCardsLabelText":"Non-vues","KOMReviewChartCompositionStatesDevelopingCardsLabelText":"En apprentisage","KOMReviewChartCompositionStatesMatureCardsLabelText":"Mature","KOMReviewChartCompositionStatesSuspendedCardsLabelText":"Suspendu","KOMReviewDetailToolbarBackButtonText":"Back","KOMReviewDetailToolbarCardsButtonText":"Cartes","KOMReviewDetailGameOptionsHeadingText":"Options du jeu","KOMReviewDetailNoCardsText":"Il n\'y a pas de cartes dans ce lot de cartes.","KOMReviewDetailFormAudioIsEnabledFieldLabelText":"Faire entendre la version audio enregistre","KOMReviewDetailFormFrontSpeechIsEnabledFieldLabelText":"Lire le recto","KOMReviewDetailFormRearSpeechIsEnabledFieldLabelText":"Lire le verso","KOMReviewDetailFormIsForwardOnlyFieldLabelText":"Ne pas activer la lecture des cartes inverses","KOMReviewDetailPlayButtonReviewingText":"tudier des cartes  rviser","KOMReviewDetailPlayButtonUnseenText":"tudier des nouvelles cartes","KOMReviewDetailPlayButtonMixedText":"tudier toutes les cartes","KOMReviewDetailPlayButtonSingleText":"Jouer","KOMReviewDetailNoSpacingsText":"Toutes les cartes pour aujourd\'hui ont t rvises.","KOMReviewDetailTodayHeadingText":"Aujourd\'hui","KOMReviewDetailGeneralHeadingText":"Historique","KOMReviewDetailDeckHeadingText":"Lot de cartes","KOMReviewDetailRenameButtonText":"Renommer","KOMReviewDetailRenameButtonPromptText":"Nom","KOMReviewDetailDiscardButtonText":"Supprimer le lot de cartes et toutes les cartes dedans","KOMReviewDetailDiscardPromptText":"tes-vous sr.e? Veuillez entrer le nom du lot de cartes pour confirmer et supprimer.","KOMReviewDetailLanguageCodeFieldLabelText":"Code de la langue","KOMReviewDetailLanguageCodeFieldOptionUnspecifiedText":"Non specifi","KOMReviewGeneralCardStatesHeadingText":"Les tats des cartes","KOMReviewMasterToolbarTitleText":"Lots de cartes","KOMReviewMasterCreateButtonText":"Crer lot de cartes","KOMReviewMasterCreateButtonPromptText":"Nom","KOMReviewMasterListItemReviewLabelText":"cartes  rviser","KOMReviewMasterListItemUnseenLabelText":"cartes nouvelles","KOMReviewTodayTotalCardsLabelText":"Total des cartes","KOMReviewTodayTimeMinutesLabelText":"Temps (minutes)","KOMReviewTodayReviewAccuracyLabelText":"Exactitude de la rvision %","KOMBrowseInfoToolbarBackButtonText":"Back","KOMBrowseInfoToolbarDiscardButtonText":"Jeter","KOMBrowseInfoDiscardConfirmText":"tes-vous sr.e?","KOMBrowseInfoToolbarTemplateButtonText":"Copier des tags  une nouvelle carte","KOMBrowseInfoFormFrontTextFieldText":"Texte du recto","KOMBrowseInfoFormFrontReadButtonText":"Lire","KOMBrowseInfoFormRearTextFieldText":"Texte du verso","KOMBrowseInfoFormRearReadButtonText":"Lire","KOMBrowseInfoFormNotesFieldText":"Notes","KOMBrowseInfoAudioRecordButtonText":"Enregistrer","KOMBrowseInfoAudioRecordingAlertText":"Enregistrement en cours","KOMBrowseInfoAudioPlaybackButtonText":"Lecture","KOMBrowseInfoAudioClearButtonText":"Effacer","KOMBrowseInfoAudioNotAvailableAlertText":"Enregistrement audio non pris en charge dans ce navigateur","KOMBrowseInfoTagsInputFieldText":"Nom du tag nouveau","KOMBrowseInfoTagsCreateButtonText":"Crer le tag","KOMBrowseInfoTagsRemoveButtonTextFormat":"Enlever \'%@\'","KOMBrowseInfoTagsSuggestButtonTextFormat":"Ajouter \'%@\'","KOMBrowseListToolbarCloseButtonText":"Fermer","KOMBrowseListToolbarCreateButtonText":"Crer","KOMBrowseListItemUntitledText":"Sans titre","KOMReviewLauncherItemDebugCardText":"Debug Card","KOMPlayToolbarUndoButtonText":"Annuler","KOMPlayToolbarDoneButtonText":"OK","KOMPlayHearQuestionButtonText":"couter la question","KOMPlayHearAnswerButtonText":"couter la rponse","KOMPlayFlipButtonText":"Retourner","KOMPlayResponseButtonAgainText":"Encore","KOMPlayResponseButtonHardText":"Plus tt","KOMPlayResponseButtonGoodText":"Normale","KOMPlayResponseButtonEasyText":"Plus tard"}}')[window.OLSKPublicConstants("OLSKSharedPageCurrentLanguage")])},m={KOMBrowseInfoTagsDispatchAdd(e){e.trim()&&((r.KOMCardTags||[]).includes(e)||(n(0,r.KOMCardTags=(r.KOMCardTags||[]).concat(e),r),l()))},KOMBrowseInfoTagsDispatchRemove(e){n(0,r.KOMCardTags=r.KOMCardTags.filter((function(t){return t!==e})),r),l()}};return e.$set=e=>{"KOMBrowseInfoItem"in e&&n(0,r=e.KOMBrowseInfoItem),"KOMBrowseInfoDeck"in e&&n(1,o=e.KOMBrowseInfoDeck),"KOMBrowseInfoTagsSuggestions"in e&&n(2,a=e.KOMBrowseInfoTagsSuggestions),"KOMBrowseInfoSpeechAvailable"in e&&n(3,i=e.KOMBrowseInfoSpeechAvailable),"KOMBrowseInfoDispatchBack"in e&&n(4,s=e.KOMBrowseInfoDispatchBack),"KOMBrowseInfoDispatchUpdate"in e&&n(5,l=e.KOMBrowseInfoDispatchUpdate),"KOMBrowseInfoDispatchDiscard"in e&&n(6,u=e.KOMBrowseInfoDispatchDiscard),"KOMBrowseInfoDispatchTemplate"in e&&n(7,c=e.KOMBrowseInfoDispatchTemplate),"KOMBrowseInfoDispatchRead"in e&&n(8,d=e.KOMBrowseInfoDispatchRead),"KOMBrowseInfoAudioDispatchCapture"in e&&n(9,f=e.KOMBrowseInfoAudioDispatchCapture),"KOMBrowseInfoAudioDispatchFetch"in e&&n(10,h=e.KOMBrowseInfoAudioDispatchFetch),"KOMBrowseInfoAudioDispatchClear"in e&&n(11,p=e.KOMBrowseInfoAudioDispatchClear),"OLSKMobileViewInactive"in e&&n(12,O=e.OLSKMobileViewInactive)},[r,o,a,i,s,l,u,c,d,f,h,p,O,g,m,()=>window.confirm(g("KOMBrowseInfoDiscardConfirmText"))&&u(r),()=>c(Object.fromEntries(Object.entries(r).filter((function(e){return"KOMCardTags"===e[0]})))),function(){r.KOMCardFrontText=this.value,n(0,r)},()=>d(r.KOMCardFrontText,o.KOMDeckFrontLanguageCode),function(){r.KOMCardRearText=this.value,n(0,r)},()=>d(r.KOMCardRearText,o.KOMDeckRearLanguageCode),function(){r.KOMCardNotes=this.value,n(0,r)}]}class nr extends X{constructor(e){super(),Q(this,e,tr,er,a,{KOMBrowseInfoItem:0,KOMBrowseInfoDeck:1,KOMBrowseInfoTagsSuggestions:2,KOMBrowseInfoSpeechAvailable:3,KOMBrowseInfoDispatchBack:4,KOMBrowseInfoDispatchUpdate:5,KOMBrowseInfoDispatchDiscard:6,KOMBrowseInfoDispatchTemplate:7,KOMBrowseInfoDispatchRead:8,KOMBrowseInfoAudioDispatchCapture:9,KOMBrowseInfoAudioDispatchFetch:10,KOMBrowseInfoAudioDispatchClear:11,OLSKMobileViewInactive:12})}}const{window:rr}=z;function or(e){let t,n,r;return{c(){t=h("button"),K(t,"class","OLSKAppToolbarLauncherButton")},m(a,i){c(a,t,i),n||(r=M(t,"click",(function(){o(e[5]._OLSKAppToolbarDispatchLauncher)&&e[5]._OLSKAppToolbarDispatchLauncher.apply(this,arguments)})),n=!0)},p(t,n){e=t},d(e){e&&d(t),n=!1,r()}}}function ar(e){let t,n,r,a,i,s,l,u,f=ie()&&e[0].FakeStorageClient;t=new Rn({props:{KOMBrowseListItems:e[5]._ValueCardsVisible,KOMBrowseListItemSelected:e[5]._ValueCardSelected,KOMBrowseListFilterText:e[5]._ValueFilterText,KOMBrowseListDispatchClose:e[2],KOMBrowseListDispatchCreate:e[5].KOMBrowseListDispatchCreate,KOMBrowseListDispatchClick:e[5].KOMBrowseListDispatchClick,KOMBrowseListDispatchArrow:e[5].KOMBrowseListDispatchArrow,KOMBrowseListDispatchFilter:e[5].KOMBrowseListDispatchFilter,OLSKMobileViewInactive:!!e[5].OLSKMobileViewInactive}}),r=new nr({props:{KOMBrowseInfoItem:e[5]._ValueCardSelected,KOMBrowseInfoDeck:e[1],KOMBrowseInfoTagsSuggestions:e[5]._ValueTagsAll,KOMBrowseInfoSpeechAvailable:e[3],KOMBrowseInfoDispatchBack:e[5].KOMBrowseInfoDispatchBack,KOMBrowseInfoDispatchDiscard:e[5].KOMBrowseInfoDispatchDiscard,KOMBrowseInfoDispatchUpdate:e[5].KOMBrowseInfoDispatchUpdate,KOMBrowseInfoDispatchTemplate:e[5].KOMBrowseInfoDispatchTemplate,KOMBrowseInfoDispatchRead:e[4],KOMBrowseInfoAudioDispatchCapture:e[5].KOMBrowseInfoAudioDispatchCapture,KOMBrowseInfoAudioDispatchFetch:e[5].KOMBrowseInfoAudioDispatchFetch,KOMBrowseInfoAudioDispatchClear:e[5].KOMBrowseInfoAudioDispatchClear,OLSKMobileViewInactive:!e[5].OLSKMobileViewInactive}});let h=f&&or(e);return{c(){W(t.$$.fragment),n=g(),W(r.$$.fragment),a=g(),h&&h.c(),i=m()},m(d,f){q(t,d,f),c(d,n,f),q(r,d,f),c(d,a,f),h&&h.m(d,f),c(d,i,f),s=!0,l||(u=M(rr,"keydown",(function(){o(e[5].InterfaceWindowDidKeydown)&&e[5].InterfaceWindowDidKeydown.apply(this,arguments)})),l=!0)},p(n,[o]){e=n;const a={};32&o&&(a.KOMBrowseListItems=e[5]._ValueCardsVisible),32&o&&(a.KOMBrowseListItemSelected=e[5]._ValueCardSelected),32&o&&(a.KOMBrowseListFilterText=e[5]._ValueFilterText),4&o&&(a.KOMBrowseListDispatchClose=e[2]),32&o&&(a.KOMBrowseListDispatchCreate=e[5].KOMBrowseListDispatchCreate),32&o&&(a.KOMBrowseListDispatchClick=e[5].KOMBrowseListDispatchClick),32&o&&(a.KOMBrowseListDispatchArrow=e[5].KOMBrowseListDispatchArrow),32&o&&(a.KOMBrowseListDispatchFilter=e[5].KOMBrowseListDispatchFilter),32&o&&(a.OLSKMobileViewInactive=!!e[5].OLSKMobileViewInactive),t.$set(a);const s={};32&o&&(s.KOMBrowseInfoItem=e[5]._ValueCardSelected),2&o&&(s.KOMBrowseInfoDeck=e[1]),32&o&&(s.KOMBrowseInfoTagsSuggestions=e[5]._ValueTagsAll),8&o&&(s.KOMBrowseInfoSpeechAvailable=e[3]),32&o&&(s.KOMBrowseInfoDispatchBack=e[5].KOMBrowseInfoDispatchBack),32&o&&(s.KOMBrowseInfoDispatchDiscard=e[5].KOMBrowseInfoDispatchDiscard),32&o&&(s.KOMBrowseInfoDispatchUpdate=e[5].KOMBrowseInfoDispatchUpdate),32&o&&(s.KOMBrowseInfoDispatchTemplate=e[5].KOMBrowseInfoDispatchTemplate),16&o&&(s.KOMBrowseInfoDispatchRead=e[4]),32&o&&(s.KOMBrowseInfoAudioDispatchCapture=e[5].KOMBrowseInfoAudioDispatchCapture),32&o&&(s.KOMBrowseInfoAudioDispatchFetch=e[5].KOMBrowseInfoAudioDispatchFetch),32&o&&(s.KOMBrowseInfoAudioDispatchClear=e[5].KOMBrowseInfoAudioDispatchClear),32&o&&(s.OLSKMobileViewInactive=!e[5].OLSKMobileViewInactive),r.$set(s),1&o&&(f=ie()&&e[0].FakeStorageClient),f?h?h.p(e,o):(h=or(e),h.c(),h.m(i.parentNode,i)):h&&(h.d(1),h=null)},i(e){s||(G(t.$$.fragment,e),G(r.$$.fragment,e),s=!0)},o(e){$(t.$$.fragment,e),$(r.$$.fragment,e),s=!1},d(e){J(t,e),e&&d(n),J(r,e),e&&d(a),h&&h.d(e),e&&d(i),l=!1,u()}}}function ir(e,t,n){let{KOMBrowseStorageClient:r}=t,{KOMBrowseDeckSelected:o}=t,{KOMBrowseDispatchCreate:a}=t,{KOMBrowseListDispatchClose:i}=t,{KOMBrowseInfoSpeechAvailable:s}=t,{KOMBrowseInfoDispatchRead:l}=t;const u={KOMBrowseChangeDelegateCreateCard(){c.ChangeDelegateCreateCard(...arguments)},KOMBrowseChangeDelegateUpdateCard(){c.ChangeDelegateUpdateCard(...arguments)},KOMBrowseChangeDelegateDeleteCard(){c.ChangeDelegateDeleteCard(...arguments)},KOMBrowseRecipes:()=>c.DataRecipes()},c={_ValueTagsAll:[],_ValueCardsAll:o.$KOMDeckCards,ValueCardsAll(e,t=!0){c.ValueCardsVisible(n(5,c._ValueCardsAll=e,c),t),c.ReactTags()},_ValueCardsVisible:[],ValueCardsVisible(e,t=!0){const r=c._ValueFilterText?e.filter(Pt.KOMBrowseFilterFunction(c._ValueFilterText)):e;n(5,c._ValueCardsVisible=t?r.sort(Pt.KOMBrowseSort):r,c)},_ValueCardSelected:void 0,ValueCardSelected(e){n(5,c._ValueCardSelected=e,c),e||n(5,c.OLSKMobileViewInactive=!1,c)},_ValueFilterText:"",_ValueCardUpdateThrottleMap:{},OLSKMobileViewInactive:!1,DataIsMobile:()=>window.innerWidth<=760,DataCardObjectTemplate:(e="")=>({KOMCardFrontText:e,KOMCardRearText:"",KOMCardNotes:""}),DataRecipes(){const e=[];var t;return c._ValueCardSelected&&e.push({LCHRecipeSignature:"KOMReviewLauncherItemDebugCard",LCHRecipeName:(t="KOMReviewLauncherItemDebugCardText",te.OLSKInternationalLocalizedString(t,JSON.parse('{"en":{"OLSKAppToolbarGuideLinkText":"Guide","OLSKAppToolbarDonateLinkText":"Donate","OLSKAppToolbarLauncherButtonText":"Launcher","OLSKAppToolbarStorageButtonText":"Storage","OLSKDetailPlaceholderText":"No item selected","OLSKInputWrapperClearButtonText":"Clear text","OLSKLanguageSwitcherVersionFormat":"Version in %@","OLSKLanguageSwitcherVersionName":{"en":"English","fr":"French","es":"Spanish"},"OLSKMasterListFilterFieldText":"Filter","OLSKReloadButtonText":"Reload","OLSKRemoteStorageStatusOnline":"Online","OLSKRemoteStorageStatusNetworkOffline":"Offline","OLSKRemoteStorageStatusError":"Error","OLSKServiceWorkerUpdateAlertLabelText":"Update available","OLSKServiceWorkerUpdateAlertReloadButtonText":"Reload","KOMReviewLauncherItemSelectDeckTextFormat":"Select deck \'%@\'","KOMReviewLauncherItemSendLoginLinkText":"Send login link","KOMReviewLauncherItemSendLoginLinkSubject":"Kommit Login Link","KOMReviewLauncherItemDebugFlushDataText":"Flush data","KOMReviewLauncherItemDebugFlushDataConfirmText":"Are you sure?","KOMReviewChartCompositionStatesTotalCardsLabelText":"Total cards","KOMReviewChartCompositionStatesUnseenCardsLabelText":"Unseen","KOMReviewChartCompositionStatesDevelopingCardsLabelText":"Developing","KOMReviewChartCompositionStatesMatureCardsLabelText":"Mature","KOMReviewChartCompositionStatesSuspendedCardsLabelText":"Suspended","KOMReviewDetailToolbarBackButtonText":"Back","KOMReviewDetailToolbarCardsButtonText":"Cards","KOMReviewDetailGameOptionsHeadingText":"Game options","KOMReviewDetailNoCardsText":"There are no cards in this deck.","KOMReviewDetailFormAudioIsEnabledFieldLabelText":"Play audio","KOMReviewDetailFormFrontSpeechIsEnabledFieldLabelText":"Read front","KOMReviewDetailFormRearSpeechIsEnabledFieldLabelText":"Read back","KOMReviewDetailFormIsForwardOnlyFieldLabelText":"Skip reversed cards","KOMReviewDetailPlayButtonReviewingText":"Study review cards","KOMReviewDetailPlayButtonUnseenText":"Study new cards","KOMReviewDetailPlayButtonMixedText":"Study all cards","KOMReviewDetailPlayButtonSingleText":"Play","KOMReviewDetailNoSpacingsText":"All cards for today have been reviewed.","KOMReviewDetailTodayHeadingText":"Today","KOMReviewDetailGeneralHeadingText":"Historical","KOMReviewDetailDeckHeadingText":"Deck","KOMReviewDetailRenameButtonText":"Rename","KOMReviewDetailRenameButtonPromptText":"Name","KOMReviewDetailDiscardButtonText":"Delete deck and all cards inside","KOMReviewDetailDiscardPromptText":"Are you sure? Please type the name of the deck to confirm and delete.","KOMReviewDetailLanguageCodeFieldLabelText":"Language code","KOMReviewDetailLanguageCodeFieldOptionUnspecifiedText":"Unspecified","KOMReviewGeneralCardStatesHeadingText":"Cards","KOMReviewMasterToolbarTitleText":"Decks","KOMReviewMasterCreateButtonText":"Create deck","KOMReviewMasterCreateButtonPromptText":"Name","KOMReviewMasterListItemReviewLabelText":"review cards","KOMReviewMasterListItemUnseenLabelText":"new cards","KOMReviewTodayTotalCardsLabelText":"Total cards","KOMReviewTodayTimeMinutesLabelText":"Time (minutes)","KOMReviewTodayReviewAccuracyLabelText":"Review accuracy %","KOMBrowseInfoToolbarBackButtonText":"Back","KOMBrowseInfoToolbarDiscardButtonText":"Discard","KOMBrowseInfoDiscardConfirmText":"Are you sure?","KOMBrowseInfoToolbarTemplateButtonText":"Copy tags to new card","KOMBrowseInfoFormFrontTextFieldText":"Front text","KOMBrowseInfoFormFrontReadButtonText":"Read","KOMBrowseInfoFormRearTextFieldText":"Back text","KOMBrowseInfoFormRearReadButtonText":"Read","KOMBrowseInfoFormNotesFieldText":"Notes","KOMBrowseInfoAudioRecordButtonText":"Record","KOMBrowseInfoAudioRecordingAlertText":"Recording","KOMBrowseInfoAudioPlaybackButtonText":"Playback","KOMBrowseInfoAudioClearButtonText":"Clear","KOMBrowseInfoAudioNotAvailableAlertText":"Audio recording unsupported in this browser","KOMBrowseInfoTagsInputFieldText":"New tag name","KOMBrowseInfoTagsCreateButtonText":"Create tag","KOMBrowseInfoTagsRemoveButtonTextFormat":"Remove \'%@\'","KOMBrowseInfoTagsSuggestButtonTextFormat":"Add \'%@\'","KOMBrowseListToolbarCloseButtonText":"Close","KOMBrowseListToolbarCreateButtonText":"Create","KOMBrowseListItemUntitledText":"Untitled","KOMReviewLauncherItemDebugCardText":"Debug Card","KOMPlayToolbarUndoButtonText":"Undo","KOMPlayToolbarDoneButtonText":"Done","KOMPlayHearQuestionButtonText":"Hear question","KOMPlayHearAnswerButtonText":"Hear answer","KOMPlayFlipButtonText":"Flip","KOMPlayResponseButtonAgainText":"Again","KOMPlayResponseButtonHardText":"Sooner","KOMPlayResponseButtonGoodText":"Normal","KOMPlayResponseButtonEasyText":"Later"},"es":{"OLSKAppToolbarGuideLinkText":"Gua","OLSKAppToolbarDonateLinkText":"Donar","OLSKAppToolbarLauncherButtonText":"Lanzador","OLSKAppToolbarStorageButtonText":"Almacenamiento","OLSKDetailPlaceholderText":"Ningn artculo seleccionado","OLSKInputWrapperClearButtonText":"Despejar el texto","OLSKLanguageSwitcherVersionFormat":"Versin en %@","OLSKLanguageSwitcherVersionName":{"en":"ingls","fr":"francs","es":"espaol"},"OLSKMasterListFilterFieldText":"Filtrar","OLSKReloadButtonText":"Recargar","OLSKRemoteStorageStatusOnline":"En lneo","OLSKRemoteStorageStatusNetworkOffline":"Sin conexin","OLSKRemoteStorageStatusError":"Error","OLSKServiceWorkerUpdateAlertLabelText":"Actualizacin disponible","OLSKServiceWorkerUpdateAlertReloadButtonText":"Recargar"},"fr":{"OLSKAppToolbarGuideLinkText":"Guide","OLSKAppToolbarDonateLinkText":"Faire un don","OLSKAppToolbarLauncherButtonText":"Lanceur","OLSKAppToolbarStorageButtonText":"Stockage","OLSKDetailPlaceholderText":"Aucun article selection","OLSKInputWrapperClearButtonText":"Effacer le texte","OLSKLanguageSwitcherVersionFormat":"Version en %@","OLSKLanguageSwitcherVersionName":{"en":"anglais","fr":"franais","es":"espagnol"},"OLSKMasterListFilterFieldText":"Filtrer","OLSKReloadButtonText":"Recharger","OLSKRemoteStorageStatusOnline":"En ligne","OLSKRemoteStorageStatusNetworkOffline":"Hors connexion","OLSKRemoteStorageStatusError":"Erreur","OLSKServiceWorkerUpdateAlertLabelText":"Mise  jour disponible","OLSKServiceWorkerUpdateAlertReloadButtonText":"Recharger","KOMReviewLauncherItemSelectDeckTextFormat":"Choisir lot de cartes \'%@\'","KOMReviewLauncherItemSendLoginLinkText":"Envoyer lien d\'accs","KOMReviewLauncherItemSendLoginLinkSubject":"Kommit lien d\'accs","KOMReviewLauncherItemDebugFlushDataText":"Recharche les donnes","KOMReviewLauncherItemDebugFlushDataConfirmText":"tes-vous sr.e?","KOMReviewChartCompositionStatesTotalCardsLabelText":"Total des cartes","KOMReviewChartCompositionStatesUnseenCardsLabelText":"Non-vues","KOMReviewChartCompositionStatesDevelopingCardsLabelText":"En apprentisage","KOMReviewChartCompositionStatesMatureCardsLabelText":"Mature","KOMReviewChartCompositionStatesSuspendedCardsLabelText":"Suspendu","KOMReviewDetailToolbarBackButtonText":"Back","KOMReviewDetailToolbarCardsButtonText":"Cartes","KOMReviewDetailGameOptionsHeadingText":"Options du jeu","KOMReviewDetailNoCardsText":"Il n\'y a pas de cartes dans ce lot de cartes.","KOMReviewDetailFormAudioIsEnabledFieldLabelText":"Faire entendre la version audio enregistre","KOMReviewDetailFormFrontSpeechIsEnabledFieldLabelText":"Lire le recto","KOMReviewDetailFormRearSpeechIsEnabledFieldLabelText":"Lire le verso","KOMReviewDetailFormIsForwardOnlyFieldLabelText":"Ne pas activer la lecture des cartes inverses","KOMReviewDetailPlayButtonReviewingText":"tudier des cartes  rviser","KOMReviewDetailPlayButtonUnseenText":"tudier des nouvelles cartes","KOMReviewDetailPlayButtonMixedText":"tudier toutes les cartes","KOMReviewDetailPlayButtonSingleText":"Jouer","KOMReviewDetailNoSpacingsText":"Toutes les cartes pour aujourd\'hui ont t rvises.","KOMReviewDetailTodayHeadingText":"Aujourd\'hui","KOMReviewDetailGeneralHeadingText":"Historique","KOMReviewDetailDeckHeadingText":"Lot de cartes","KOMReviewDetailRenameButtonText":"Renommer","KOMReviewDetailRenameButtonPromptText":"Nom","KOMReviewDetailDiscardButtonText":"Supprimer le lot de cartes et toutes les cartes dedans","KOMReviewDetailDiscardPromptText":"tes-vous sr.e? Veuillez entrer le nom du lot de cartes pour confirmer et supprimer.","KOMReviewDetailLanguageCodeFieldLabelText":"Code de la langue","KOMReviewDetailLanguageCodeFieldOptionUnspecifiedText":"Non specifi","KOMReviewGeneralCardStatesHeadingText":"Les tats des cartes","KOMReviewMasterToolbarTitleText":"Lots de cartes","KOMReviewMasterCreateButtonText":"Crer lot de cartes","KOMReviewMasterCreateButtonPromptText":"Nom","KOMReviewMasterListItemReviewLabelText":"cartes  rviser","KOMReviewMasterListItemUnseenLabelText":"cartes nouvelles","KOMReviewTodayTotalCardsLabelText":"Total des cartes","KOMReviewTodayTimeMinutesLabelText":"Temps (minutes)","KOMReviewTodayReviewAccuracyLabelText":"Exactitude de la rvision %","KOMBrowseInfoToolbarBackButtonText":"Back","KOMBrowseInfoToolbarDiscardButtonText":"Jeter","KOMBrowseInfoDiscardConfirmText":"tes-vous sr.e?","KOMBrowseInfoToolbarTemplateButtonText":"Copier des tags  une nouvelle carte","KOMBrowseInfoFormFrontTextFieldText":"Texte du recto","KOMBrowseInfoFormFrontReadButtonText":"Lire","KOMBrowseInfoFormRearTextFieldText":"Texte du verso","KOMBrowseInfoFormRearReadButtonText":"Lire","KOMBrowseInfoFormNotesFieldText":"Notes","KOMBrowseInfoAudioRecordButtonText":"Enregistrer","KOMBrowseInfoAudioRecordingAlertText":"Enregistrement en cours","KOMBrowseInfoAudioPlaybackButtonText":"Lecture","KOMBrowseInfoAudioClearButtonText":"Effacer","KOMBrowseInfoAudioNotAvailableAlertText":"Enregistrement audio non pris en charge dans ce navigateur","KOMBrowseInfoTagsInputFieldText":"Nom du tag nouveau","KOMBrowseInfoTagsCreateButtonText":"Crer le tag","KOMBrowseInfoTagsRemoveButtonTextFormat":"Enlever \'%@\'","KOMBrowseInfoTagsSuggestButtonTextFormat":"Ajouter \'%@\'","KOMBrowseListToolbarCloseButtonText":"Fermer","KOMBrowseListToolbarCreateButtonText":"Crer","KOMBrowseListItemUntitledText":"Sans titre","KOMReviewLauncherItemDebugCardText":"Debug Card","KOMPlayToolbarUndoButtonText":"Annuler","KOMPlayToolbarDoneButtonText":"OK","KOMPlayHearQuestionButtonText":"couter la question","KOMPlayHearAnswerButtonText":"couter la rponse","KOMPlayFlipButtonText":"Retourner","KOMPlayResponseButtonAgainText":"Encore","KOMPlayResponseButtonHardText":"Plus tt","KOMPlayResponseButtonGoodText":"Normale","KOMPlayResponseButtonEasyText":"Plus tard"}}')[window.OLSKPublicConstants("OLSKSharedPageCurrentLanguage")])),LCHRecipeCallback(){const e="https://inspektor.5apps.com/?path=kommit%2F"+encodeURIComponent(Me.KOMCardStorageFolderPath(c._ValueCardSelected,o));ie()?window.FakeWindowOpen=e:window.open(e)}}),ie()&&e.push({LCHRecipeName:"FakeChangeDelegateCreateCard",LCHRecipeCallback:async function(){return c.ChangeDelegateCreateCard(await Ae.KOMCardActionCreate(r,c.DataCardObjectTemplate("FakeChangeDelegateCreateCard"),o))}},{LCHRecipeName:"FakeChangeDelegateUpdateCard",LCHRecipeCallback:async function(){return c.ChangeDelegateUpdateCard(await Ae.KOMCardActionUpdate(r,Object.assign(c._ValueCardsAll.filter((function(e){return e.KOMCardFrontText.match("FakeChangeDelegate")})).pop(),{KOMCardFrontText:"FakeChangeDelegateUpdateCard"}),o))}},{LCHRecipeName:"FakeChangeDelegateDeleteCard",LCHRecipeCallback:async function(){const e=c._ValueCardsAll.filter((function(e){return e.KOMCardFrontText.match("FakeChangeDelegate")})).pop();return await Ae.KOMCardActionDelete(r,e,o),c.ChangeDelegateDeleteCard(e)}},{LCHRecipeName:"FakeEscapeWithoutSort",LCHRecipeCallback:function(){c.ControlCardSelect(null)}}),e},InterfaceWindowDidKeydown(e){if(document.querySelector(".LCHLauncher"))return;const t={Escape(){if(document.activeElement===document.querySelector(".OLSKMasterListFilterField")&&!c._ValueFilterText)return i();c.ControlFilter(""),ie()||document.querySelector(".OLSKMasterListBody").scrollTo(0,0)},Tab:()=>document.activeElement===document.querySelector(".OLSKMasterListFilterField")&&c._ValueCardSelected?(c.ControlFocusDetail(),e.preventDefault()):document.activeElement===document.querySelector(".KOMBrowseInfoFormFrontTextField")&&e.shiftKey?(c.ControlFocusMaster(),e.preventDefault()):void 0};t[e.key]&&t[e.key]()},async ControlCardCreate(e,t={}){const n=await Ae.KOMCardActionCreate(r,Object.assign(c.DataCardObjectTemplate(),t),e);c.ValueCardsAll(c._ValueCardsAll.concat(n)),c.ControlCardSelect(n),a(n)},ControlCardUpdate(e,t){He.OLSKThrottleMappedTimeout(c._ValueCardUpdateThrottleMap,e.KOMCardID,{OLSKThrottleDuration:ie()?0:500,OLSKThrottleCallback:()=>Ae.KOMCardActionUpdate(r,e,t)})},async ControlCardAudioCapture(e,t,n,o){await Ae.KOMCardActionAudioCapture(...[r].concat(Object.values(arguments))),await c.ControlCardUpdate(n,o)},async ControlCardAudioClear(e,t,n){await Ae.KOMCardActionAudioClear(...[r].concat(Object.values(arguments))),await c.ControlCardUpdate(t,n)},async ControlCardDiscard(e,t){c.ValueCardsAll(c._ValueCardsAll.filter((function(t){return t!==e})),!1),await Ae.KOMCardActionDelete(r,e,t),c.ControlCardSelect(null)},ControlFocusMaster(){document.querySelector(".OLSKMasterListFilterField").focus()},ControlFocusDetail(){document.querySelector(".KOMBrowseInfoFormFrontTextField").focus()},ControlCardSelect(e){if(c.ValueCardSelected(e),!e)return!c.DataIsMobile()&&c.ControlFocusMaster();n(5,c.OLSKMobileViewInactive=!0,c),setTimeout(c.ControlFocusDetail)},ControlFilter:e=>(n(5,c._ValueFilterText=e,c),c.ValueCardsVisible(c._ValueCardsAll),e&&c._ValueCardsVisible.length?void c.ValueCardSelected(Pt.KOMBrowseExactMatchFirst(e,c._ValueCardsVisible).shift()):c.ControlCardSelect(null)),KOMBrowseListDispatchCreate(){c.ControlCardCreate(o)},KOMBrowseListDispatchClick(e){c.ControlCardSelect(e)},KOMBrowseListDispatchArrow(e){c.ValueCardSelected(e)},KOMBrowseListDispatchFilter(e){c.ControlFilter(e)},KOMBrowseInfoDispatchBack(){n(5,c.OLSKMobileViewInactive=!1,c)},KOMBrowseInfoDispatchDiscard(){c.ControlCardDiscard(c._ValueCardSelected,o)},KOMBrowseInfoDispatchTemplate(e){c.ControlCardCreate(o,e)},KOMBrowseInfoDispatchUpdate(){n(5,c),c.ControlCardUpdate(c._ValueCardSelected,o),c.ReactTags()},async KOMBrowseInfoAudioDispatchCapture(e,t){await c.ControlCardAudioCapture(e,t,c._ValueCardSelected,o),n(5,c)},async KOMBrowseInfoAudioDispatchClear(e){await c.ControlCardAudioClear(e,c._ValueCardSelected,o),n(5,c)},KOMBrowseInfoAudioDispatchFetch:async e=>await Ae.KOMCardActionAudioFetch(r,e,c._ValueCardSelected,o),_OLSKAppToolbarDispatchLauncher(){window.Launchlet.LCHSingletonCreate({LCHOptionRecipes:c.DataRecipes()})},ChangeDelegateCreateCard(e){c.ValueCardsAll([e].concat(c._ValueCardsAll),!c._ValueCardSelected)},ChangeDelegateUpdateCard(e){c._ValueCardSelected&&c._ValueCardSelected.KOMCardID===e.KOMCardID&&c.ControlCardSelect(e),c.ValueCardsAll(c._ValueCardsAll.map((function(t){return t.KOMCardID===e.KOMCardID?e:t})),!c._ValueCardSelected)},ChangeDelegateDeleteCard(e){c._ValueCardSelected&&c._ValueCardSelected.KOMCardID===e.KOMCardID&&c.ControlCardSelect(null),c.ValueCardsAll(c._ValueCardsAll.filter((function(t){return t.KOMCardID!==e.KOMCardID})),!1)},ReactCardSelected(){c._ValueCardSelected&&n(5,c._ValueCardSelected=c._ValueCardsVisible.filter((function(e){return e.KOMCardID===c._ValueCardSelected.KOMCardID})).pop(),c)},ReactTags(){n(5,c._ValueTagsAll=c._ValueCardsAll.reduce((function(e,t){return e.concat((t.KOMCardTags||[]).filter((function(t){return!e.includes(t)})))}),[]),c)},SetupEverything(){c.SetupValueCardsAll(),c.SetupFocus()},async SetupValueCardsAll(){c.ValueCardsAll(c._ValueCardsAll)},SetupFocus(){setTimeout((function(){c.ControlFocusMaster()}))},LifecycleModuleWillMount(){c.SetupEverything()}};return R(c.LifecycleModuleWillMount),e.$set=e=>{"KOMBrowseStorageClient"in e&&n(0,r=e.KOMBrowseStorageClient),"KOMBrowseDeckSelected"in e&&n(1,o=e.KOMBrowseDeckSelected),"KOMBrowseDispatchCreate"in e&&n(6,a=e.KOMBrowseDispatchCreate),"KOMBrowseListDispatchClose"in e&&n(2,i=e.KOMBrowseListDispatchClose),"KOMBrowseInfoSpeechAvailable"in e&&n(3,s=e.KOMBrowseInfoSpeechAvailable),"KOMBrowseInfoDispatchRead"in e&&n(4,l=e.KOMBrowseInfoDispatchRead)},[r,o,i,s,l,c,a,u]}class sr extends X{constructor(e){super(),Q(this,e,ir,ar,a,{KOMBrowseStorageClient:0,KOMBrowseDeckSelected:1,KOMBrowseDispatchCreate:6,KOMBrowseListDispatchClose:2,KOMBrowseInfoSpeechAvailable:3,KOMBrowseInfoDispatchRead:4,modPublic:7})}get modPublic(){return this.$$.ctx[7]}}const{window:lr}=z;function ur(e){let t,n,r,a,i,s,l,f,p,T,w,S,x=e[1].DataQuestion()+"",y=e[1].DataQuestionShouldSound()||e[1]._ValueIsFlipped&&e[1].DataAnswerShouldSound(),b=ie(),L=e[1]._ValueIsFlipped&&cr(e),R=e[1]._ValueIsFlipped&&dr(e),C=y&&fr(e),D=!e[1]._ValueIsFlipped&&Or(e),B=e[1]._ValueIsFlipped&&gr(e),I=b&&function(e){let t,n,r,o,a,i,s,l,f,p,m,M,T,w,S,x,y,b=e[1]._ValueState.KOMPlayStateQueue.length+"",L=e[1]._ValueState.KOMPlayStateWait.length+"",R=(e[1]._ValueState.KOMPlayStateCurrent.KOMSpacingDrawDate?Ue.KOMPlayDayGrouping(e[1]._ValueState.KOMPlayStateCurrent.KOMSpacingDrawDate):"undefined")+"",C=JSON.stringify(e[1]._ValueChronicle.KOMChronicleDidDrawMultipleTimes)+"",D=(e[1]._ValueState.KOMPlayStateCurrent.KOMSpacingFlipDate?Ue.KOMPlayDayGrouping(e[1]._ValueState.KOMPlayStateCurrent.KOMSpacingFlipDate):"undefined")+"",B=JSON.stringify(e[1]._ValueChronicle.KOMChronicleDidFlipMultipleTimes)+"";return{c(){t=h("div"),n=O(b),r=g(),o=h("div"),a=O(L),i=g(),s=h("div"),l=O(R),f=g(),p=h("div"),m=O(C),M=g(),T=h("div"),w=O(D),S=g(),x=h("div"),y=O(B),K(t,"id","TestKOMPlayStateQueueCount"),K(o,"id","TestKOMPlayStateWaitCount"),K(s,"id","TestKOMSpacingDrawDate"),K(p,"id","TestKOMChronicleDidDrawMultipleTimes"),K(T,"id","TestKOMSpacingFlipDate"),K(x,"id","TestKOMChronicleDidFlipMultipleTimes")},m(e,d){c(e,t,d),u(t,n),c(e,r,d),c(e,o,d),u(o,a),c(e,i,d),c(e,s,d),u(s,l),c(e,f,d),c(e,p,d),u(p,m),c(e,M,d),c(e,T,d),u(T,w),c(e,S,d),c(e,x,d),u(x,y)},p(e,t){2&t&&b!==(b=e[1]._ValueState.KOMPlayStateQueue.length+"")&&v(n,b),2&t&&L!==(L=e[1]._ValueState.KOMPlayStateWait.length+"")&&v(a,L),2&t&&R!==(R=(e[1]._ValueState.KOMPlayStateCurrent.KOMSpacingDrawDate?Ue.KOMPlayDayGrouping(e[1]._ValueState.KOMPlayStateCurrent.KOMSpacingDrawDate):"undefined")+"")&&v(l,R),2&t&&C!==(C=JSON.stringify(e[1]._ValueChronicle.KOMChronicleDidDrawMultipleTimes)+"")&&v(m,C),2&t&&D!==(D=(e[1]._ValueState.KOMPlayStateCurrent.KOMSpacingFlipDate?Ue.KOMPlayDayGrouping(e[1]._ValueState.KOMPlayStateCurrent.KOMSpacingFlipDate):"undefined")+"")&&v(w,D),2&t&&B!==(B=JSON.stringify(e[1]._ValueChronicle.KOMChronicleDidFlipMultipleTimes)+"")&&v(y,B)},d(e){e&&d(t),e&&d(r),e&&d(o),e&&d(i),e&&d(s),e&&d(f),e&&d(p),e&&d(M),e&&d(T),e&&d(S),e&&d(x)}}}(e);return{c(){t=h("div"),n=h("div"),r=O(x),a=g(),L&&L.c(),i=g(),R&&R.c(),s=g(),C&&C.c(),l=g(),D&&D.c(),f=g(),B&&B.c(),p=g(),I&&I.c(),T=m(),K(n,"class","KOMPlayCardQuestion svelte-1cbzlrk"),K(t,"class","KOMPlayCard OLSKLayoutElementTappable svelte-1cbzlrk")},m(d,h){c(d,t,h),u(t,n),u(n,r),u(t,a),L&&L.m(t,null),u(t,i),R&&R.m(t,null),c(d,s,h),C&&C.m(d,h),c(d,l,h),D&&D.m(d,h),c(d,f,h),B&&B.m(d,h),c(d,p,h),I&&I.m(d,h),c(d,T,h),w||(S=M(t,"click",(function(){o(e[1].InterfaceCardDidClick)&&e[1].InterfaceCardDidClick.apply(this,arguments)})),w=!0)},p(n,o){e=n,2&o&&x!==(x=e[1].DataQuestion()+"")&&v(r,x),e[1]._ValueIsFlipped?L?L.p(e,o):(L=cr(e),L.c(),L.m(t,i)):L&&(L.d(1),L=null),e[1]._ValueIsFlipped?R?R.p(e,o):(R=dr(e),R.c(),R.m(t,null)):R&&(R.d(1),R=null),2&o&&(y=e[1].DataQuestionShouldSound()||e[1]._ValueIsFlipped&&e[1].DataAnswerShouldSound()),y?C?C.p(e,o):(C=fr(e),C.c(),C.m(l.parentNode,l)):C&&(C.d(1),C=null),e[1]._ValueIsFlipped?D&&(D.d(1),D=null):D?D.p(e,o):(D=Or(e),D.c(),D.m(f.parentNode,f)),e[1]._ValueIsFlipped?B?B.p(e,o):(B=gr(e),B.c(),B.m(p.parentNode,p)):B&&(B.d(1),B=null),b&&I.p(e,o)},d(e){e&&d(t),L&&L.d(),R&&R.d(),e&&d(s),C&&C.d(e),e&&d(l),D&&D.d(e),e&&d(f),B&&B.d(e),e&&d(p),I&&I.d(e),e&&d(T),w=!1,S()}}}function cr(e){let t,n,r=e[1].DataAnswer()+"";return{c(){t=h("div"),n=O(r),K(t,"class","KOMPlayCardAnswer svelte-1cbzlrk")},m(e,r){c(e,t,r),u(t,n)},p(e,t){2&t&&r!==(r=e[1].DataAnswer()+"")&&v(n,r)},d(e){e&&d(t)}}}function dr(e){let t,n,r=e[1]._ValueState.KOMPlayStateCurrent.$KOMSpacingCard.KOMCardNotes+"";return{c(){t=h("div"),n=O(r),K(t,"class","KOMPlayCardNotes svelte-1cbzlrk")},m(e,r){c(e,t,r),u(t,n)},p(e,t){2&t&&r!==(r=e[1]._ValueState.KOMPlayStateCurrent.$KOMSpacingCard.KOMCardNotes+"")&&v(n,r)},d(e){e&&d(t)}}}function fr(e){let t,n,r=e[1].DataQuestionShouldSound(),o=e[1]._ValueIsFlipped&&e[1].DataAnswerShouldSound(),a=r&&hr(e),i=o&&pr(e);return{c(){t=h("div"),a&&a.c(),n=g(),i&&i.c(),K(t,"class","KOMPlayHear svelte-1cbzlrk")},m(e,r){c(e,t,r),a&&a.m(t,null),u(t,n),i&&i.m(t,null)},p(e,s){2&s&&(r=e[1].DataQuestionShouldSound()),r?a?a.p(e,s):(a=hr(e),a.c(),a.m(t,n)):a&&(a.d(1),a=null),2&s&&(o=e[1]._ValueIsFlipped&&e[1].DataAnswerShouldSound()),o?i?i.p(e,s):(i=pr(e),i.c(),i.m(t,null)):i&&(i.d(1),i=null)},d(e){e&&d(t),a&&a.d(),i&&i.d()}}}function hr(e){let t,n,r;return{c(){t=h("button"),t.textContent=""+e[2]("KOMPlayHearQuestionButtonText"),K(t,"class","KOMPlayHearQuestionButton OLSKLayoutButtonNoStyle OLSKLayoutElementTappable svelte-1cbzlrk")},m(a,i){c(a,t,i),n||(r=M(t,"click",(function(){o(e[1].InterfaceHearQuestionButtonDidClick)&&e[1].InterfaceHearQuestionButtonDidClick.apply(this,arguments)})),n=!0)},p(t,n){e=t},d(e){e&&d(t),n=!1,r()}}}function pr(e){let t,n,r;return{c(){t=h("button"),t.textContent=""+e[2]("KOMPlayHearAnswerButtonText"),K(t,"class","KOMPlayHearAnswerButton OLSKLayoutButtonNoStyle OLSKLayoutElementTappable svelte-1cbzlrk")},m(a,i){c(a,t,i),n||(r=M(t,"click",(function(){o(e[1].InterfaceHearAnswerButtonDidClick)&&e[1].InterfaceHearAnswerButtonDidClick.apply(this,arguments)})),n=!0)},p(t,n){e=t},d(e){e&&d(t),n=!1,r()}}}function Or(e){let t,n,r;return{c(){t=h("button"),t.textContent=""+e[2]("KOMPlayFlipButtonText"),K(t,"class","KOMPlayFlipButton OLSKLayoutButtonNoStyle OLSKLayoutElementTappable svelte-1cbzlrk")},m(a,i){c(a,t,i),n||(r=M(t,"click",(function(){o(e[1].InterfaceFlipButtonDidClick)&&e[1].InterfaceFlipButtonDidClick.apply(this,arguments)})),n=!0)},p(t,n){e=t},d(e){e&&d(t),n=!1,r()}}}function gr(e){let t,n,a,i,s,l,f,p,O,m;return{c(){t=h("button"),t.textContent=""+e[2]("KOMPlayResponseButtonAgainText"),n=g(),a=h("div"),i=h("button"),i.textContent=""+e[2]("KOMPlayResponseButtonHardText"),s=g(),l=h("button"),l.textContent=""+e[2]("KOMPlayResponseButtonGoodText"),f=g(),p=h("button"),p.textContent=""+e[2]("KOMPlayResponseButtonEasyText"),K(t,"class","KOMPlayResponseButtonAgain OLSKLayoutButtonNoStyle OLSKLayoutElementTappable svelte-1cbzlrk"),K(i,"class","KOMPlayResponseButtonHard OLSKLayoutButtonNoStyle OLSKLayoutElementTappable svelte-1cbzlrk"),K(l,"class","KOMPlayResponseButtonGood OLSKLayoutButtonNoStyle OLSKLayoutElementTappable svelte-1cbzlrk"),K(p,"class","KOMPlayResponseButtonEasy OLSKLayoutButtonNoStyle OLSKLayoutElementTappable svelte-1cbzlrk"),K(a,"class","KOMPlayResponseCorrect svelte-1cbzlrk")},m(r,d){c(r,t,d),c(r,n,d),c(r,a,d),u(a,i),u(a,s),u(a,l),u(a,f),u(a,p),O||(m=[M(t,"click",(function(){o(e[1].InterfaceResponseButtonDidClickAgain)&&e[1].InterfaceResponseButtonDidClickAgain.apply(this,arguments)})),M(i,"click",(function(){o(e[1].InterfaceResponseButtonDidClickHard)&&e[1].InterfaceResponseButtonDidClickHard.apply(this,arguments)})),M(l,"click",(function(){o(e[1].InterfaceResponseButtonDidClickGood)&&e[1].InterfaceResponseButtonDidClickGood.apply(this,arguments)})),M(p,"click",(function(){o(e[1].InterfaceResponseButtonDidClickEasy)&&e[1].InterfaceResponseButtonDidClickEasy.apply(this,arguments)}))],O=!0)},p(t,n){e=t},d(e){e&&d(t),e&&d(n),e&&d(a),O=!1,r(m)}}}function mr(t){let n,a,i,s,l,f,p,m,v,T,w,S,x,y,b=t[2]("KOMPlayToolbarUndoButtonText")+"",L=t[1]._ValueState.KOMPlayStateCurrent&&ur(t);return{c(){n=h("div"),a=h("header"),i=h("div"),s=g(),l=h("div"),f=h("button"),p=O(b),v=g(),T=h("button"),T.textContent=""+t[2]("KOMPlayToolbarDoneButtonText"),w=g(),S=h("div"),L&&L.c(),K(i,"class","OLSKToolbarElementGroup"),K(f,"class","KOMPlayToolbarUndoButton OLSKLayoutButtonNoStyle OLSKLayoutElementTappable"),f.disabled=m=!t[1]._ValueHistory.length||null,K(T,"class","KOMPlayToolbarDoneButton OLSKLayoutButtonNoStyle OLSKLayoutElementTappable"),K(l,"class","OLSKToolbarElementGroup"),K(a,"class","KOMPlayToolbar OLSKToolbar OLSKToolbarJustify svelte-1cbzlrk"),K(S,"class","KOMPlayBody svelte-1cbzlrk"),K(n,"class","KOMPlay svelte-1cbzlrk")},m(e,r){c(e,n,r),u(n,a),u(a,i),u(a,s),u(a,l),u(l,f),u(f,p),u(l,v),u(l,T),u(n,w),u(n,S),L&&L.m(S,null),x||(y=[M(lr,"keydown",(function(){o(t[1].InterfaceWindowDidKeydown)&&t[1].InterfaceWindowDidKeydown.apply(this,arguments)})),M(f,"click",(function(){o(t[1].InterfaceUndoButtonDidClick)&&t[1].InterfaceUndoButtonDidClick.apply(this,arguments)})),M(T,"click",(function(){o(t[0])&&t[0].apply(this,arguments)}))],x=!0)},p(e,[n]){t=e,2&n&&m!==(m=!t[1]._ValueHistory.length||null)&&(f.disabled=m),t[1]._ValueState.KOMPlayStateCurrent?L?L.p(t,n):(L=ur(t),L.c(),L.m(S,null)):L&&(L.d(1),L=null)},i:e,o:e,d(e){e&&d(n),L&&L.d(),x=!1,r(y)}}}function Mr(e,t,n){let{KOMPlaySpacings:r}=t,{KOMPlayDeck:o}=t,{KOMPlayDispatchDone:a}=t,{KOMPlayDispatchUpdate:i}=t,{KOMPlayDispatchFetch:s}=t;const l={_ValueIsFlipped:!1,_ValueState:{KOMPlayStateCurrent:r[0],KOMPlayStateQueue:r.slice(1),KOMPlayStateWait:[],KOMPlayStateShouldRandomize:!0},_ValueHistory:[],_ValueSpeechAvailable:"speechSynthesis"in window,_ValueAudioCache:{},_ValueAudioPlaying:void 0,DataQuestion:()=>l._ValueState.KOMPlayStateCurrent.$KOMSpacingCard[Ke.KOMSpacingModelIsBackward(l._ValueState.KOMPlayStateCurrent)?"KOMCardRearText":"KOMCardFrontText"],DataAnswer:()=>l._ValueState.KOMPlayStateCurrent.$KOMSpacingCard[Ke.KOMSpacingModelIsBackward(l._ValueState.KOMPlayStateCurrent)?"KOMCardFrontText":"KOMCardRearText"],DataQuestionShouldSound:()=>l._DataQuestionFrontShouldSound()||l._DataQuestionRearShouldSound(),_DataQuestionFrontShouldSound:()=>!Ke.KOMSpacingModelIsBackward(l._ValueState.KOMPlayStateCurrent)&&(!!l.DataFrontHasAudio()||o.KOMDeckFrontSpeechIsEnabled),_DataQuestionRearShouldSound:()=>!!Ke.KOMSpacingModelIsBackward(l._ValueState.KOMPlayStateCurrent)&&(!!l.DataRearHasAudio()||o.KOMDeckRearSpeechIsEnabled),DataAnswerShouldSound:()=>l._DataAnswerFrontShouldSound()||l._DataAnswerRearShouldSound(),_DataAnswerFrontShouldSound:()=>!!Ke.KOMSpacingModelIsBackward(l._ValueState.KOMPlayStateCurrent)&&(!!l.DataFrontHasAudio()||o.KOMDeckFrontSpeechIsEnabled),_DataAnswerRearShouldSound:()=>!Ke.KOMSpacingModelIsBackward(l._ValueState.KOMPlayStateCurrent)&&(!!l.DataRearHasAudio()||o.KOMDeckRearSpeechIsEnabled),DataFrontHasAudio:()=>o.KOMDeckAudioIsEnabled&&l._ValueState.KOMPlayStateCurrent.$KOMSpacingCard.KOMCardFrontAudio,DataRearHasAudio:()=>o.KOMDeckAudioIsEnabled&&l._ValueState.KOMPlayStateCurrent.$KOMSpacingCard.KOMCardRearAudio,DataFakeAudio:e=>({play(){},pause(){},src:e}),InterfaceUndoButtonDidClick(){l.ControlUndo()},InterfaceHearQuestionButtonDidClick(){l.ControlQuestionRead()},InterfaceHearAnswerButtonDidClick(){l.ControlAnswerRead()},InterfaceWindowDidKeydown(e){if(document.querySelector(".LCHLauncher"))return;const t={Escape(){a()},Space(){l.ControlProgress()},Digit1(){l._ValueIsFlipped&&l.ControlRespond(Ue.KOMPlayResponseTypeAgain())},Digit2(){l._ValueIsFlipped&&l.ControlRespond(Ue.KOMPlayResponseTypeHard())},Digit3(){l._ValueIsFlipped&&l.ControlRespond(Ue.KOMPlayResponseTypeGood())},Digit4(){l._ValueIsFlipped&&l.ControlRespond(Ue.KOMPlayResponseTypeEasy())}};t[e.code]&&t[e.code]()},InterfaceCardDidClick(){l.ControlProgress()},InterfaceFlipButtonDidClick(){l.ControlFlip()},InterfaceResponseButtonDidClickAgain(){l.ControlRespond(Ue.KOMPlayResponseTypeAgain())},InterfaceResponseButtonDidClickHard(){l.ControlRespond(Ue.KOMPlayResponseTypeHard())},InterfaceResponseButtonDidClickGood(){l.ControlRespond(Ue.KOMPlayResponseTypeGood())},InterfaceResponseButtonDidClickEasy(){l.ControlRespond(Ue.KOMPlayResponseTypeEasy())},ControlDraw(){n(1,l),n(1,l._ValueIsFlipped=!1,l),l.SetupChronicle(),l.DataQuestionShouldSound()&&l.ControlQuestionRead()},ControlQuestionRead:()=>l.DataFrontHasAudio()&&!Ke.KOMSpacingModelIsBackward(l._ValueState.KOMPlayStateCurrent)?l.ControlAudioStart("KOMCardFrontAudio"):l.DataRearHasAudio()&&Ke.KOMSpacingModelIsBackward(l._ValueState.KOMPlayStateCurrent)?l.ControlAudioStart("KOMCardRearAudio"):void l.ControlReadStart(l.DataQuestion(),Ke.KOMSpacingModelIsBackward(l._ValueState.KOMPlayStateCurrent)?o.KOMDeckRearLanguageCode:o.KOMDeckFrontLanguageCode),ControlAnswerRead:()=>l.DataFrontHasAudio()&&Ke.KOMSpacingModelIsBackward(l._ValueState.KOMPlayStateCurrent)?l.ControlAudioStart("KOMCardFrontAudio"):l.DataRearHasAudio()&&!Ke.KOMSpacingModelIsBackward(l._ValueState.KOMPlayStateCurrent)?l.ControlAudioStart("KOMCardRearAudio"):void l.ControlReadStart(l.DataAnswer(),Ke.KOMSpacingModelIsBackward(l._ValueState.KOMPlayStateCurrent)?o.KOMDeckFrontLanguageCode:o.KOMDeckRearLanguageCode),ControlReadStart(e,t){if(ie()&&l.DebugAudioLog(`read:${t}:${e}`),!l._ValueSpeechAvailable)return;speechSynthesis.speaking&&speechSynthesis.cancel();const n=new SpeechSynthesisUtterance(e);n.lang=t,n.voice=speechSynthesis.getVoices().filter((function(e){return e.lang==n.lang})).pop(),speechSynthesis.speak(n)},ControlReadStop(){if(ie()&&l.DebugAudioLog(l._ValueAudioPlaying?"stop:audio":"stop"),l._ValueAudioIsPlaying){for(let e in l._ValueAudioCache)l._ValueAudioCache[e].pause();delete l._ValueAudioPlaying}l._ValueSpeechAvailable&&speechSynthesis.speaking&&speechSynthesis.cancel()},async ControlAudioStart(e){!l._ValueAudioCache[e]&&ie()&&(l.DebugAudioLog("fetch"),n(1,l._ValueAudioCache[e]=l.DataFakeAudio(await s(e,l._ValueState.KOMPlayStateCurrent.$KOMSpacingCard)),l)),l._ValueAudioCache[e]||(n(1,l._ValueAudioCache[e]=new Audio,l).src=URL.createObjectURL(await s(e,l._ValueState.KOMPlayStateCurrent.$KOMSpacingCard))),ie()&&l.DebugAudioLog("play:"+e),n(1,l._ValueAudioCache[e].currentTime=0,l),l._ValueAudioCache[e].play(),n(1,l._ValueAudioPlaying=!0,l)},ControlFlush(){ie()&&l.DebugAudioLog("flush"),n(1,l._ValueAudioCache={},l)},ControlProgress(){if(l._ValueIsFlipped)return l.ControlRespond(Ue.KOMPlayResponseTypeGood());l.ControlFlip()},ControlUndo(){l._ValueState.KOMPlayStateQueue.unshift(l._ValueState.KOMPlayStateCurrent),n(1,l._ValueState.KOMPlayStateCurrent=Ue.KOMPlayUndo(l._ValueHistory.pop()),l),(l.DataFrontHasAudio()||l.DataRearHasAudio())&&l.ControlFlush(),l.ControlDraw()},ControlFlip(){n(1,l._ValueIsFlipped=!0,l),Object.assign(l._ValueChronicle,Ue.KOMChronicleGenerateFlip(new Date,l._ValueState.KOMPlayStateCurrent)),n(1,l._ValueState.KOMPlayStateCurrent.KOMSpacingFlipDate=l._ValueChronicle.KOMChronicleFlipDate,l),i(l._ValueState.KOMPlayStateCurrent),l.DataQuestionShouldSound()&&l.ControlReadStop(),l.DataAnswerShouldSound()&&l.ControlAnswerRead()},ControlRespond(e){l.DataAnswerShouldSound()&&l.ControlReadStop(),(l.DataFrontHasAudio()||l.DataRearHasAudio())&&l.ControlFlush();const t=l._ValueState.KOMPlayStateCurrent;if(Ue.KOMPlayRespond(l._ValueState,Object.assign(l._ValueChronicle,{KOMChronicleResponseDate:new Date,KOMChronicleResponseType:e})),i(t),l._ValueHistory.push(t),!l._ValueState.KOMPlayStateCurrent)return a();l.ControlDraw()},DebugAudioLog(e){window.TestKOMPlayAudioLog.innerHTML=window.TestKOMPlayAudioLog.innerHTML?window.TestKOMPlayAudioLog.innerHTML.split(",").concat(e).join(","):e},SetupEverything(){l.ControlDraw()},SetupChronicle(){n(1,l._ValueChronicle=Ue.KOMChronicleGenerateDraw(new Date,l._ValueState.KOMPlayStateCurrent),l),n(1,l._ValueState.KOMPlayStateCurrent.KOMSpacingDrawDate=l._ValueChronicle.KOMChronicleDrawDate,l),i(l._ValueState.KOMPlayStateCurrent)},LifecycleModuleWillMount(){l.SetupEverything()}};return ie()?l.LifecycleModuleWillMount():R(l.LifecycleModuleWillMount),e.$set=e=>{"KOMPlaySpacings"in e&&n(3,r=e.KOMPlaySpacings),"KOMPlayDeck"in e&&n(4,o=e.KOMPlayDeck),"KOMPlayDispatchDone"in e&&n(0,a=e.KOMPlayDispatchDone),"KOMPlayDispatchUpdate"in e&&n(5,i=e.KOMPlayDispatchUpdate),"KOMPlayDispatchFetch"in e&&n(6,s=e.KOMPlayDispatchFetch)},[a,l,function(e){return te.OLSKInternationalLocalizedString(e,JSON.parse('{"en":{"OLSKAppToolbarGuideLinkText":"Guide","OLSKAppToolbarDonateLinkText":"Donate","OLSKAppToolbarLauncherButtonText":"Launcher","OLSKAppToolbarStorageButtonText":"Storage","OLSKDetailPlaceholderText":"No item selected","OLSKInputWrapperClearButtonText":"Clear text","OLSKLanguageSwitcherVersionFormat":"Version in %@","OLSKLanguageSwitcherVersionName":{"en":"English","fr":"French","es":"Spanish"},"OLSKMasterListFilterFieldText":"Filter","OLSKReloadButtonText":"Reload","OLSKRemoteStorageStatusOnline":"Online","OLSKRemoteStorageStatusNetworkOffline":"Offline","OLSKRemoteStorageStatusError":"Error","OLSKServiceWorkerUpdateAlertLabelText":"Update available","OLSKServiceWorkerUpdateAlertReloadButtonText":"Reload","KOMReviewLauncherItemSelectDeckTextFormat":"Select deck \'%@\'","KOMReviewLauncherItemSendLoginLinkText":"Send login link","KOMReviewLauncherItemSendLoginLinkSubject":"Kommit Login Link","KOMReviewLauncherItemDebugFlushDataText":"Flush data","KOMReviewLauncherItemDebugFlushDataConfirmText":"Are you sure?","KOMReviewChartCompositionStatesTotalCardsLabelText":"Total cards","KOMReviewChartCompositionStatesUnseenCardsLabelText":"Unseen","KOMReviewChartCompositionStatesDevelopingCardsLabelText":"Developing","KOMReviewChartCompositionStatesMatureCardsLabelText":"Mature","KOMReviewChartCompositionStatesSuspendedCardsLabelText":"Suspended","KOMReviewDetailToolbarBackButtonText":"Back","KOMReviewDetailToolbarCardsButtonText":"Cards","KOMReviewDetailGameOptionsHeadingText":"Game options","KOMReviewDetailNoCardsText":"There are no cards in this deck.","KOMReviewDetailFormAudioIsEnabledFieldLabelText":"Play audio","KOMReviewDetailFormFrontSpeechIsEnabledFieldLabelText":"Read front","KOMReviewDetailFormRearSpeechIsEnabledFieldLabelText":"Read back","KOMReviewDetailFormIsForwardOnlyFieldLabelText":"Skip reversed cards","KOMReviewDetailPlayButtonReviewingText":"Study review cards","KOMReviewDetailPlayButtonUnseenText":"Study new cards","KOMReviewDetailPlayButtonMixedText":"Study all cards","KOMReviewDetailPlayButtonSingleText":"Play","KOMReviewDetailNoSpacingsText":"All cards for today have been reviewed.","KOMReviewDetailTodayHeadingText":"Today","KOMReviewDetailGeneralHeadingText":"Historical","KOMReviewDetailDeckHeadingText":"Deck","KOMReviewDetailRenameButtonText":"Rename","KOMReviewDetailRenameButtonPromptText":"Name","KOMReviewDetailDiscardButtonText":"Delete deck and all cards inside","KOMReviewDetailDiscardPromptText":"Are you sure? Please type the name of the deck to confirm and delete.","KOMReviewDetailLanguageCodeFieldLabelText":"Language code","KOMReviewDetailLanguageCodeFieldOptionUnspecifiedText":"Unspecified","KOMReviewGeneralCardStatesHeadingText":"Cards","KOMReviewMasterToolbarTitleText":"Decks","KOMReviewMasterCreateButtonText":"Create deck","KOMReviewMasterCreateButtonPromptText":"Name","KOMReviewMasterListItemReviewLabelText":"review cards","KOMReviewMasterListItemUnseenLabelText":"new cards","KOMReviewTodayTotalCardsLabelText":"Total cards","KOMReviewTodayTimeMinutesLabelText":"Time (minutes)","KOMReviewTodayReviewAccuracyLabelText":"Review accuracy %","KOMBrowseInfoToolbarBackButtonText":"Back","KOMBrowseInfoToolbarDiscardButtonText":"Discard","KOMBrowseInfoDiscardConfirmText":"Are you sure?","KOMBrowseInfoToolbarTemplateButtonText":"Copy tags to new card","KOMBrowseInfoFormFrontTextFieldText":"Front text","KOMBrowseInfoFormFrontReadButtonText":"Read","KOMBrowseInfoFormRearTextFieldText":"Back text","KOMBrowseInfoFormRearReadButtonText":"Read","KOMBrowseInfoFormNotesFieldText":"Notes","KOMBrowseInfoAudioRecordButtonText":"Record","KOMBrowseInfoAudioRecordingAlertText":"Recording","KOMBrowseInfoAudioPlaybackButtonText":"Playback","KOMBrowseInfoAudioClearButtonText":"Clear","KOMBrowseInfoAudioNotAvailableAlertText":"Audio recording unsupported in this browser","KOMBrowseInfoTagsInputFieldText":"New tag name","KOMBrowseInfoTagsCreateButtonText":"Create tag","KOMBrowseInfoTagsRemoveButtonTextFormat":"Remove \'%@\'","KOMBrowseInfoTagsSuggestButtonTextFormat":"Add \'%@\'","KOMBrowseListToolbarCloseButtonText":"Close","KOMBrowseListToolbarCreateButtonText":"Create","KOMBrowseListItemUntitledText":"Untitled","KOMReviewLauncherItemDebugCardText":"Debug Card","KOMPlayToolbarUndoButtonText":"Undo","KOMPlayToolbarDoneButtonText":"Done","KOMPlayHearQuestionButtonText":"Hear question","KOMPlayHearAnswerButtonText":"Hear answer","KOMPlayFlipButtonText":"Flip","KOMPlayResponseButtonAgainText":"Again","KOMPlayResponseButtonHardText":"Sooner","KOMPlayResponseButtonGoodText":"Normal","KOMPlayResponseButtonEasyText":"Later"},"es":{"OLSKAppToolbarGuideLinkText":"Gua","OLSKAppToolbarDonateLinkText":"Donar","OLSKAppToolbarLauncherButtonText":"Lanzador","OLSKAppToolbarStorageButtonText":"Almacenamiento","OLSKDetailPlaceholderText":"Ningn artculo seleccionado","OLSKInputWrapperClearButtonText":"Despejar el texto","OLSKLanguageSwitcherVersionFormat":"Versin en %@","OLSKLanguageSwitcherVersionName":{"en":"ingls","fr":"francs","es":"espaol"},"OLSKMasterListFilterFieldText":"Filtrar","OLSKReloadButtonText":"Recargar","OLSKRemoteStorageStatusOnline":"En lneo","OLSKRemoteStorageStatusNetworkOffline":"Sin conexin","OLSKRemoteStorageStatusError":"Error","OLSKServiceWorkerUpdateAlertLabelText":"Actualizacin disponible","OLSKServiceWorkerUpdateAlertReloadButtonText":"Recargar"},"fr":{"OLSKAppToolbarGuideLinkText":"Guide","OLSKAppToolbarDonateLinkText":"Faire un don","OLSKAppToolbarLauncherButtonText":"Lanceur","OLSKAppToolbarStorageButtonText":"Stockage","OLSKDetailPlaceholderText":"Aucun article selection","OLSKInputWrapperClearButtonText":"Effacer le texte","OLSKLanguageSwitcherVersionFormat":"Version en %@","OLSKLanguageSwitcherVersionName":{"en":"anglais","fr":"franais","es":"espagnol"},"OLSKMasterListFilterFieldText":"Filtrer","OLSKReloadButtonText":"Recharger","OLSKRemoteStorageStatusOnline":"En ligne","OLSKRemoteStorageStatusNetworkOffline":"Hors connexion","OLSKRemoteStorageStatusError":"Erreur","OLSKServiceWorkerUpdateAlertLabelText":"Mise  jour disponible","OLSKServiceWorkerUpdateAlertReloadButtonText":"Recharger","KOMReviewLauncherItemSelectDeckTextFormat":"Choisir lot de cartes \'%@\'","KOMReviewLauncherItemSendLoginLinkText":"Envoyer lien d\'accs","KOMReviewLauncherItemSendLoginLinkSubject":"Kommit lien d\'accs","KOMReviewLauncherItemDebugFlushDataText":"Recharche les donnes","KOMReviewLauncherItemDebugFlushDataConfirmText":"tes-vous sr.e?","KOMReviewChartCompositionStatesTotalCardsLabelText":"Total des cartes","KOMReviewChartCompositionStatesUnseenCardsLabelText":"Non-vues","KOMReviewChartCompositionStatesDevelopingCardsLabelText":"En apprentisage","KOMReviewChartCompositionStatesMatureCardsLabelText":"Mature","KOMReviewChartCompositionStatesSuspendedCardsLabelText":"Suspendu","KOMReviewDetailToolbarBackButtonText":"Back","KOMReviewDetailToolbarCardsButtonText":"Cartes","KOMReviewDetailGameOptionsHeadingText":"Options du jeu","KOMReviewDetailNoCardsText":"Il n\'y a pas de cartes dans ce lot de cartes.","KOMReviewDetailFormAudioIsEnabledFieldLabelText":"Faire entendre la version audio enregistre","KOMReviewDetailFormFrontSpeechIsEnabledFieldLabelText":"Lire le recto","KOMReviewDetailFormRearSpeechIsEnabledFieldLabelText":"Lire le verso","KOMReviewDetailFormIsForwardOnlyFieldLabelText":"Ne pas activer la lecture des cartes inverses","KOMReviewDetailPlayButtonReviewingText":"tudier des cartes  rviser","KOMReviewDetailPlayButtonUnseenText":"tudier des nouvelles cartes","KOMReviewDetailPlayButtonMixedText":"tudier toutes les cartes","KOMReviewDetailPlayButtonSingleText":"Jouer","KOMReviewDetailNoSpacingsText":"Toutes les cartes pour aujourd\'hui ont t rvises.","KOMReviewDetailTodayHeadingText":"Aujourd\'hui","KOMReviewDetailGeneralHeadingText":"Historique","KOMReviewDetailDeckHeadingText":"Lot de cartes","KOMReviewDetailRenameButtonText":"Renommer","KOMReviewDetailRenameButtonPromptText":"Nom","KOMReviewDetailDiscardButtonText":"Supprimer le lot de cartes et toutes les cartes dedans","KOMReviewDetailDiscardPromptText":"tes-vous sr.e? Veuillez entrer le nom du lot de cartes pour confirmer et supprimer.","KOMReviewDetailLanguageCodeFieldLabelText":"Code de la langue","KOMReviewDetailLanguageCodeFieldOptionUnspecifiedText":"Non specifi","KOMReviewGeneralCardStatesHeadingText":"Les tats des cartes","KOMReviewMasterToolbarTitleText":"Lots de cartes","KOMReviewMasterCreateButtonText":"Crer lot de cartes","KOMReviewMasterCreateButtonPromptText":"Nom","KOMReviewMasterListItemReviewLabelText":"cartes  rviser","KOMReviewMasterListItemUnseenLabelText":"cartes nouvelles","KOMReviewTodayTotalCardsLabelText":"Total des cartes","KOMReviewTodayTimeMinutesLabelText":"Temps (minutes)","KOMReviewTodayReviewAccuracyLabelText":"Exactitude de la rvision %","KOMBrowseInfoToolbarBackButtonText":"Back","KOMBrowseInfoToolbarDiscardButtonText":"Jeter","KOMBrowseInfoDiscardConfirmText":"tes-vous sr.e?","KOMBrowseInfoToolbarTemplateButtonText":"Copier des tags  une nouvelle carte","KOMBrowseInfoFormFrontTextFieldText":"Texte du recto","KOMBrowseInfoFormFrontReadButtonText":"Lire","KOMBrowseInfoFormRearTextFieldText":"Texte du verso","KOMBrowseInfoFormRearReadButtonText":"Lire","KOMBrowseInfoFormNotesFieldText":"Notes","KOMBrowseInfoAudioRecordButtonText":"Enregistrer","KOMBrowseInfoAudioRecordingAlertText":"Enregistrement en cours","KOMBrowseInfoAudioPlaybackButtonText":"Lecture","KOMBrowseInfoAudioClearButtonText":"Effacer","KOMBrowseInfoAudioNotAvailableAlertText":"Enregistrement audio non pris en charge dans ce navigateur","KOMBrowseInfoTagsInputFieldText":"Nom du tag nouveau","KOMBrowseInfoTagsCreateButtonText":"Crer le tag","KOMBrowseInfoTagsRemoveButtonTextFormat":"Enlever \'%@\'","KOMBrowseInfoTagsSuggestButtonTextFormat":"Ajouter \'%@\'","KOMBrowseListToolbarCloseButtonText":"Fermer","KOMBrowseListToolbarCreateButtonText":"Crer","KOMBrowseListItemUntitledText":"Sans titre","KOMReviewLauncherItemDebugCardText":"Debug Card","KOMPlayToolbarUndoButtonText":"Annuler","KOMPlayToolbarDoneButtonText":"OK","KOMPlayHearQuestionButtonText":"couter la question","KOMPlayHearAnswerButtonText":"couter la rponse","KOMPlayFlipButtonText":"Retourner","KOMPlayResponseButtonAgainText":"Encore","KOMPlayResponseButtonHardText":"Plus tt","KOMPlayResponseButtonGoodText":"Normale","KOMPlayResponseButtonEasyText":"Plus tard"}}')[window.OLSKPublicConstants("OLSKSharedPageCurrentLanguage")])},r,o,i,s]}class Kr extends X{constructor(e){super(),Q(this,e,Mr,mr,a,{KOMPlaySpacings:3,KOMPlayDeck:4,KOMPlayDispatchDone:0,KOMPlayDispatchUpdate:5,KOMPlayDispatchFetch:6})}}function vr(t){let n,r,o,a,i;return{c(){n=h("button"),r=h("div"),K(r,"class","OLSKReloadButtonImage"),K(n,"class","OLSKReloadButton OLSKToolbarButton OLSKLayoutElementTappable OLSKLayoutButtonNoStyle"),K(n,"title",o=t[0]("OLSKReloadButtonText"))},m(e,o){c(e,n,o),u(n,r),r.innerHTML='<?xml version="1.0" encoding="UTF-8"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16" viewBox="0 0 16 16"  xml:space="preserve" id="_OLSKSharedReload">\n    \x3c!-- Generated by PaintCode (www.paintcodeapp.com) --\x3e\n    <path id="_OLSKSharedReload-oval2" stroke="rgb(0, 0, 0)" stroke-width="1.5" stroke-linecap="round" stroke-miterlimit="10" fill="none" d="M 13,9 C 13,11.76 10.76,14 8,14 5.24,14 3,11.76 3,9 3,6.24 5.24,4 8,4" />\n    <path id="_OLSKSharedReload-bezier8" stroke="rgb(0, 0, 0)" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" fill="rgb(0, 0, 0)" d="M 8,2 L 8,6 11,4 8,2" />\n</svg>\n',a||(i=M(n,"click",t[1]),a=!0)},p:e,i:e,o:e,d(e){e&&d(n),a=!1,i()}}}function Tr(e){return[function(e){return te.OLSKInternationalLocalizedString(e,JSON.parse('{"en":{"OLSKAppToolbarGuideLinkText":"Guide","OLSKAppToolbarDonateLinkText":"Donate","OLSKAppToolbarLauncherButtonText":"Launcher","OLSKAppToolbarStorageButtonText":"Storage","OLSKDetailPlaceholderText":"No item selected","OLSKInputWrapperClearButtonText":"Clear text","OLSKLanguageSwitcherVersionFormat":"Version in %@","OLSKLanguageSwitcherVersionName":{"en":"English","fr":"French","es":"Spanish"},"OLSKMasterListFilterFieldText":"Filter","OLSKReloadButtonText":"Reload","OLSKRemoteStorageStatusOnline":"Online","OLSKRemoteStorageStatusNetworkOffline":"Offline","OLSKRemoteStorageStatusError":"Error","OLSKServiceWorkerUpdateAlertLabelText":"Update available","OLSKServiceWorkerUpdateAlertReloadButtonText":"Reload","KOMReviewLauncherItemSelectDeckTextFormat":"Select deck \'%@\'","KOMReviewLauncherItemSendLoginLinkText":"Send login link","KOMReviewLauncherItemSendLoginLinkSubject":"Kommit Login Link","KOMReviewLauncherItemDebugFlushDataText":"Flush data","KOMReviewLauncherItemDebugFlushDataConfirmText":"Are you sure?","KOMReviewChartCompositionStatesTotalCardsLabelText":"Total cards","KOMReviewChartCompositionStatesUnseenCardsLabelText":"Unseen","KOMReviewChartCompositionStatesDevelopingCardsLabelText":"Developing","KOMReviewChartCompositionStatesMatureCardsLabelText":"Mature","KOMReviewChartCompositionStatesSuspendedCardsLabelText":"Suspended","KOMReviewDetailToolbarBackButtonText":"Back","KOMReviewDetailToolbarCardsButtonText":"Cards","KOMReviewDetailGameOptionsHeadingText":"Game options","KOMReviewDetailNoCardsText":"There are no cards in this deck.","KOMReviewDetailFormAudioIsEnabledFieldLabelText":"Play audio","KOMReviewDetailFormFrontSpeechIsEnabledFieldLabelText":"Read front","KOMReviewDetailFormRearSpeechIsEnabledFieldLabelText":"Read back","KOMReviewDetailFormIsForwardOnlyFieldLabelText":"Skip reversed cards","KOMReviewDetailPlayButtonReviewingText":"Study review cards","KOMReviewDetailPlayButtonUnseenText":"Study new cards","KOMReviewDetailPlayButtonMixedText":"Study all cards","KOMReviewDetailPlayButtonSingleText":"Play","KOMReviewDetailNoSpacingsText":"All cards for today have been reviewed.","KOMReviewDetailTodayHeadingText":"Today","KOMReviewDetailGeneralHeadingText":"Historical","KOMReviewDetailDeckHeadingText":"Deck","KOMReviewDetailRenameButtonText":"Rename","KOMReviewDetailRenameButtonPromptText":"Name","KOMReviewDetailDiscardButtonText":"Delete deck and all cards inside","KOMReviewDetailDiscardPromptText":"Are you sure? Please type the name of the deck to confirm and delete.","KOMReviewDetailLanguageCodeFieldLabelText":"Language code","KOMReviewDetailLanguageCodeFieldOptionUnspecifiedText":"Unspecified","KOMReviewGeneralCardStatesHeadingText":"Cards","KOMReviewMasterToolbarTitleText":"Decks","KOMReviewMasterCreateButtonText":"Create deck","KOMReviewMasterCreateButtonPromptText":"Name","KOMReviewMasterListItemReviewLabelText":"review cards","KOMReviewMasterListItemUnseenLabelText":"new cards","KOMReviewTodayTotalCardsLabelText":"Total cards","KOMReviewTodayTimeMinutesLabelText":"Time (minutes)","KOMReviewTodayReviewAccuracyLabelText":"Review accuracy %","KOMBrowseInfoToolbarBackButtonText":"Back","KOMBrowseInfoToolbarDiscardButtonText":"Discard","KOMBrowseInfoDiscardConfirmText":"Are you sure?","KOMBrowseInfoToolbarTemplateButtonText":"Copy tags to new card","KOMBrowseInfoFormFrontTextFieldText":"Front text","KOMBrowseInfoFormFrontReadButtonText":"Read","KOMBrowseInfoFormRearTextFieldText":"Back text","KOMBrowseInfoFormRearReadButtonText":"Read","KOMBrowseInfoFormNotesFieldText":"Notes","KOMBrowseInfoAudioRecordButtonText":"Record","KOMBrowseInfoAudioRecordingAlertText":"Recording","KOMBrowseInfoAudioPlaybackButtonText":"Playback","KOMBrowseInfoAudioClearButtonText":"Clear","KOMBrowseInfoAudioNotAvailableAlertText":"Audio recording unsupported in this browser","KOMBrowseInfoTagsInputFieldText":"New tag name","KOMBrowseInfoTagsCreateButtonText":"Create tag","KOMBrowseInfoTagsRemoveButtonTextFormat":"Remove \'%@\'","KOMBrowseInfoTagsSuggestButtonTextFormat":"Add \'%@\'","KOMBrowseListToolbarCloseButtonText":"Close","KOMBrowseListToolbarCreateButtonText":"Create","KOMBrowseListItemUntitledText":"Untitled","KOMReviewLauncherItemDebugCardText":"Debug Card","KOMPlayToolbarUndoButtonText":"Undo","KOMPlayToolbarDoneButtonText":"Done","KOMPlayHearQuestionButtonText":"Hear question","KOMPlayHearAnswerButtonText":"Hear answer","KOMPlayFlipButtonText":"Flip","KOMPlayResponseButtonAgainText":"Again","KOMPlayResponseButtonHardText":"Sooner","KOMPlayResponseButtonGoodText":"Normal","KOMPlayResponseButtonEasyText":"Later"},"es":{"OLSKAppToolbarGuideLinkText":"Gua","OLSKAppToolbarDonateLinkText":"Donar","OLSKAppToolbarLauncherButtonText":"Lanzador","OLSKAppToolbarStorageButtonText":"Almacenamiento","OLSKDetailPlaceholderText":"Ningn artculo seleccionado","OLSKInputWrapperClearButtonText":"Despejar el texto","OLSKLanguageSwitcherVersionFormat":"Versin en %@","OLSKLanguageSwitcherVersionName":{"en":"ingls","fr":"francs","es":"espaol"},"OLSKMasterListFilterFieldText":"Filtrar","OLSKReloadButtonText":"Recargar","OLSKRemoteStorageStatusOnline":"En lneo","OLSKRemoteStorageStatusNetworkOffline":"Sin conexin","OLSKRemoteStorageStatusError":"Error","OLSKServiceWorkerUpdateAlertLabelText":"Actualizacin disponible","OLSKServiceWorkerUpdateAlertReloadButtonText":"Recargar"},"fr":{"OLSKAppToolbarGuideLinkText":"Guide","OLSKAppToolbarDonateLinkText":"Faire un don","OLSKAppToolbarLauncherButtonText":"Lanceur","OLSKAppToolbarStorageButtonText":"Stockage","OLSKDetailPlaceholderText":"Aucun article selection","OLSKInputWrapperClearButtonText":"Effacer le texte","OLSKLanguageSwitcherVersionFormat":"Version en %@","OLSKLanguageSwitcherVersionName":{"en":"anglais","fr":"franais","es":"espagnol"},"OLSKMasterListFilterFieldText":"Filtrer","OLSKReloadButtonText":"Recharger","OLSKRemoteStorageStatusOnline":"En ligne","OLSKRemoteStorageStatusNetworkOffline":"Hors connexion","OLSKRemoteStorageStatusError":"Erreur","OLSKServiceWorkerUpdateAlertLabelText":"Mise  jour disponible","OLSKServiceWorkerUpdateAlertReloadButtonText":"Recharger","KOMReviewLauncherItemSelectDeckTextFormat":"Choisir lot de cartes \'%@\'","KOMReviewLauncherItemSendLoginLinkText":"Envoyer lien d\'accs","KOMReviewLauncherItemSendLoginLinkSubject":"Kommit lien d\'accs","KOMReviewLauncherItemDebugFlushDataText":"Recharche les donnes","KOMReviewLauncherItemDebugFlushDataConfirmText":"tes-vous sr.e?","KOMReviewChartCompositionStatesTotalCardsLabelText":"Total des cartes","KOMReviewChartCompositionStatesUnseenCardsLabelText":"Non-vues","KOMReviewChartCompositionStatesDevelopingCardsLabelText":"En apprentisage","KOMReviewChartCompositionStatesMatureCardsLabelText":"Mature","KOMReviewChartCompositionStatesSuspendedCardsLabelText":"Suspendu","KOMReviewDetailToolbarBackButtonText":"Back","KOMReviewDetailToolbarCardsButtonText":"Cartes","KOMReviewDetailGameOptionsHeadingText":"Options du jeu","KOMReviewDetailNoCardsText":"Il n\'y a pas de cartes dans ce lot de cartes.","KOMReviewDetailFormAudioIsEnabledFieldLabelText":"Faire entendre la version audio enregistre","KOMReviewDetailFormFrontSpeechIsEnabledFieldLabelText":"Lire le recto","KOMReviewDetailFormRearSpeechIsEnabledFieldLabelText":"Lire le verso","KOMReviewDetailFormIsForwardOnlyFieldLabelText":"Ne pas activer la lecture des cartes inverses","KOMReviewDetailPlayButtonReviewingText":"tudier des cartes  rviser","KOMReviewDetailPlayButtonUnseenText":"tudier des nouvelles cartes","KOMReviewDetailPlayButtonMixedText":"tudier toutes les cartes","KOMReviewDetailPlayButtonSingleText":"Jouer","KOMReviewDetailNoSpacingsText":"Toutes les cartes pour aujourd\'hui ont t rvises.","KOMReviewDetailTodayHeadingText":"Aujourd\'hui","KOMReviewDetailGeneralHeadingText":"Historique","KOMReviewDetailDeckHeadingText":"Lot de cartes","KOMReviewDetailRenameButtonText":"Renommer","KOMReviewDetailRenameButtonPromptText":"Nom","KOMReviewDetailDiscardButtonText":"Supprimer le lot de cartes et toutes les cartes dedans","KOMReviewDetailDiscardPromptText":"tes-vous sr.e? Veuillez entrer le nom du lot de cartes pour confirmer et supprimer.","KOMReviewDetailLanguageCodeFieldLabelText":"Code de la langue","KOMReviewDetailLanguageCodeFieldOptionUnspecifiedText":"Non specifi","KOMReviewGeneralCardStatesHeadingText":"Les tats des cartes","KOMReviewMasterToolbarTitleText":"Lots de cartes","KOMReviewMasterCreateButtonText":"Crer lot de cartes","KOMReviewMasterCreateButtonPromptText":"Nom","KOMReviewMasterListItemReviewLabelText":"cartes  rviser","KOMReviewMasterListItemUnseenLabelText":"cartes nouvelles","KOMReviewTodayTotalCardsLabelText":"Total des cartes","KOMReviewTodayTimeMinutesLabelText":"Temps (minutes)","KOMReviewTodayReviewAccuracyLabelText":"Exactitude de la rvision %","KOMBrowseInfoToolbarBackButtonText":"Back","KOMBrowseInfoToolbarDiscardButtonText":"Jeter","KOMBrowseInfoDiscardConfirmText":"tes-vous sr.e?","KOMBrowseInfoToolbarTemplateButtonText":"Copier des tags  une nouvelle carte","KOMBrowseInfoFormFrontTextFieldText":"Texte du recto","KOMBrowseInfoFormFrontReadButtonText":"Lire","KOMBrowseInfoFormRearTextFieldText":"Texte du verso","KOMBrowseInfoFormRearReadButtonText":"Lire","KOMBrowseInfoFormNotesFieldText":"Notes","KOMBrowseInfoAudioRecordButtonText":"Enregistrer","KOMBrowseInfoAudioRecordingAlertText":"Enregistrement en cours","KOMBrowseInfoAudioPlaybackButtonText":"Lecture","KOMBrowseInfoAudioClearButtonText":"Effacer","KOMBrowseInfoAudioNotAvailableAlertText":"Enregistrement audio non pris en charge dans ce navigateur","KOMBrowseInfoTagsInputFieldText":"Nom du tag nouveau","KOMBrowseInfoTagsCreateButtonText":"Crer le tag","KOMBrowseInfoTagsRemoveButtonTextFormat":"Enlever \'%@\'","KOMBrowseInfoTagsSuggestButtonTextFormat":"Ajouter \'%@\'","KOMBrowseListToolbarCloseButtonText":"Fermer","KOMBrowseListToolbarCreateButtonText":"Crer","KOMBrowseListItemUntitledText":"Sans titre","KOMReviewLauncherItemDebugCardText":"Debug Card","KOMPlayToolbarUndoButtonText":"Annuler","KOMPlayToolbarDoneButtonText":"OK","KOMPlayHearQuestionButtonText":"couter la question","KOMPlayHearAnswerButtonText":"couter la rponse","KOMPlayFlipButtonText":"Retourner","KOMPlayResponseButtonAgainText":"Encore","KOMPlayResponseButtonHardText":"Plus tt","KOMPlayResponseButtonGoodText":"Normale","KOMPlayResponseButtonEasyText":"Plus tard"}}')[window.OLSKPublicConstants("OLSKSharedPageCurrentLanguage")])},()=>window.location.reload()]}class wr extends X{constructor(e){super(),Q(this,e,Tr,vr,a,{})}}function Sr(e,t,n){const r=e.slice();return r[5]=t[n],r}function xr(e){let t,n,r=e[5].toUpperCase()+"";return{c(){t=h("span"),n=O(r),K(t,"class","OLSKLanguageSwitcherSelected")},m(e,r){c(e,t,r),u(t,n)},p(e,t){1&t&&r!==(r=e[5].toUpperCase()+"")&&v(n,r)},d(e){e&&d(t)}}}function yr(e){let t,n,r,o,a,i=e[5].toUpperCase()+"";return{c(){t=h("a"),n=O(i),K(t,"class","OLSKLanguageSwitcherVersion"),K(t,"aria-label",r=e[3].DataLinkTitle(e[5])),K(t,"title",o=e[3].DataLinkTitle(e[5])),K(t,"href",a=window.OLSKCanonicalFor(e[2],{OLSKRoutingLanguage:e[5]}))},m(e,r){c(e,t,r),u(t,n)},p(e,s){1&s&&i!==(i=e[5].toUpperCase()+"")&&v(n,i),1&s&&r!==(r=e[3].DataLinkTitle(e[5]))&&K(t,"aria-label",r),1&s&&o!==(o=e[3].DataLinkTitle(e[5]))&&K(t,"title",o),5&s&&a!==(a=window.OLSKCanonicalFor(e[2],{OLSKRoutingLanguage:e[5]}))&&K(t,"href",a)},d(e){e&&d(t)}}}function br(e){let t,n,r=e[5]===e[1]&&xr(e),o=e[5]!==e[1]&&yr(e);return{c(){r&&r.c(),t=g(),o&&o.c(),n=m()},m(e,a){r&&r.m(e,a),c(e,t,a),o&&o.m(e,a),c(e,n,a)},p(e,a){e[5]===e[1]?r?r.p(e,a):(r=xr(e),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null),e[5]!==e[1]?o?o.p(e,a):(o=yr(e),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(e){r&&r.d(e),e&&d(t),o&&o.d(e),e&&d(n)}}}function Lr(t){let n,r=t[0],o=[];for(let e=0;e<r.length;e+=1)o[e]=br(Sr(t,r,e));return{c(){n=h("div");for(let e=0;e<o.length;e+=1)o[e].c();K(n,"class","OLSKLanguageSwitcher")},m(e,t){c(e,n,t);for(let e=0;e<o.length;e+=1)o[e].m(n,null)},p(e,[t]){if(15&t){let a;for(r=e[0],a=0;a<r.length;a+=1){const i=Sr(e,r,a);o[a]?o[a].p(i,t):(o[a]=br(i),o[a].c(),o[a].m(n,null))}for(;a<o.length;a+=1)o[a].d(1);o.length=r.length}},i:e,o:e,d(e){e&&d(n),f(o,e)}}}function Rr(e,t,n){let{OLSKSharedPageLanguagesAvailable:r}=t,{OLSKSharedPageCurrentLanguage:o}=t,{OLSKSharedActiveRouteConstant:a}=t;const i=function(e){return te.OLSKInternationalLocalizedString(e,JSON.parse('{"en":{"OLSKAppToolbarGuideLinkText":"Guide","OLSKAppToolbarDonateLinkText":"Donate","OLSKAppToolbarLauncherButtonText":"Launcher","OLSKAppToolbarStorageButtonText":"Storage","OLSKDetailPlaceholderText":"No item selected","OLSKInputWrapperClearButtonText":"Clear text","OLSKLanguageSwitcherVersionFormat":"Version in %@","OLSKLanguageSwitcherVersionName":{"en":"English","fr":"French","es":"Spanish"},"OLSKMasterListFilterFieldText":"Filter","OLSKReloadButtonText":"Reload","OLSKRemoteStorageStatusOnline":"Online","OLSKRemoteStorageStatusNetworkOffline":"Offline","OLSKRemoteStorageStatusError":"Error","OLSKServiceWorkerUpdateAlertLabelText":"Update available","OLSKServiceWorkerUpdateAlertReloadButtonText":"Reload","KOMReviewLauncherItemSelectDeckTextFormat":"Select deck \'%@\'","KOMReviewLauncherItemSendLoginLinkText":"Send login link","KOMReviewLauncherItemSendLoginLinkSubject":"Kommit Login Link","KOMReviewLauncherItemDebugFlushDataText":"Flush data","KOMReviewLauncherItemDebugFlushDataConfirmText":"Are you sure?","KOMReviewChartCompositionStatesTotalCardsLabelText":"Total cards","KOMReviewChartCompositionStatesUnseenCardsLabelText":"Unseen","KOMReviewChartCompositionStatesDevelopingCardsLabelText":"Developing","KOMReviewChartCompositionStatesMatureCardsLabelText":"Mature","KOMReviewChartCompositionStatesSuspendedCardsLabelText":"Suspended","KOMReviewDetailToolbarBackButtonText":"Back","KOMReviewDetailToolbarCardsButtonText":"Cards","KOMReviewDetailGameOptionsHeadingText":"Game options","KOMReviewDetailNoCardsText":"There are no cards in this deck.","KOMReviewDetailFormAudioIsEnabledFieldLabelText":"Play audio","KOMReviewDetailFormFrontSpeechIsEnabledFieldLabelText":"Read front","KOMReviewDetailFormRearSpeechIsEnabledFieldLabelText":"Read back","KOMReviewDetailFormIsForwardOnlyFieldLabelText":"Skip reversed cards","KOMReviewDetailPlayButtonReviewingText":"Study review cards","KOMReviewDetailPlayButtonUnseenText":"Study new cards","KOMReviewDetailPlayButtonMixedText":"Study all cards","KOMReviewDetailPlayButtonSingleText":"Play","KOMReviewDetailNoSpacingsText":"All cards for today have been reviewed.","KOMReviewDetailTodayHeadingText":"Today","KOMReviewDetailGeneralHeadingText":"Historical","KOMReviewDetailDeckHeadingText":"Deck","KOMReviewDetailRenameButtonText":"Rename","KOMReviewDetailRenameButtonPromptText":"Name","KOMReviewDetailDiscardButtonText":"Delete deck and all cards inside","KOMReviewDetailDiscardPromptText":"Are you sure? Please type the name of the deck to confirm and delete.","KOMReviewDetailLanguageCodeFieldLabelText":"Language code","KOMReviewDetailLanguageCodeFieldOptionUnspecifiedText":"Unspecified","KOMReviewGeneralCardStatesHeadingText":"Cards","KOMReviewMasterToolbarTitleText":"Decks","KOMReviewMasterCreateButtonText":"Create deck","KOMReviewMasterCreateButtonPromptText":"Name","KOMReviewMasterListItemReviewLabelText":"review cards","KOMReviewMasterListItemUnseenLabelText":"new cards","KOMReviewTodayTotalCardsLabelText":"Total cards","KOMReviewTodayTimeMinutesLabelText":"Time (minutes)","KOMReviewTodayReviewAccuracyLabelText":"Review accuracy %","KOMBrowseInfoToolbarBackButtonText":"Back","KOMBrowseInfoToolbarDiscardButtonText":"Discard","KOMBrowseInfoDiscardConfirmText":"Are you sure?","KOMBrowseInfoToolbarTemplateButtonText":"Copy tags to new card","KOMBrowseInfoFormFrontTextFieldText":"Front text","KOMBrowseInfoFormFrontReadButtonText":"Read","KOMBrowseInfoFormRearTextFieldText":"Back text","KOMBrowseInfoFormRearReadButtonText":"Read","KOMBrowseInfoFormNotesFieldText":"Notes","KOMBrowseInfoAudioRecordButtonText":"Record","KOMBrowseInfoAudioRecordingAlertText":"Recording","KOMBrowseInfoAudioPlaybackButtonText":"Playback","KOMBrowseInfoAudioClearButtonText":"Clear","KOMBrowseInfoAudioNotAvailableAlertText":"Audio recording unsupported in this browser","KOMBrowseInfoTagsInputFieldText":"New tag name","KOMBrowseInfoTagsCreateButtonText":"Create tag","KOMBrowseInfoTagsRemoveButtonTextFormat":"Remove \'%@\'","KOMBrowseInfoTagsSuggestButtonTextFormat":"Add \'%@\'","KOMBrowseListToolbarCloseButtonText":"Close","KOMBrowseListToolbarCreateButtonText":"Create","KOMBrowseListItemUntitledText":"Untitled","KOMReviewLauncherItemDebugCardText":"Debug Card","KOMPlayToolbarUndoButtonText":"Undo","KOMPlayToolbarDoneButtonText":"Done","KOMPlayHearQuestionButtonText":"Hear question","KOMPlayHearAnswerButtonText":"Hear answer","KOMPlayFlipButtonText":"Flip","KOMPlayResponseButtonAgainText":"Again","KOMPlayResponseButtonHardText":"Sooner","KOMPlayResponseButtonGoodText":"Normal","KOMPlayResponseButtonEasyText":"Later"},"es":{"OLSKAppToolbarGuideLinkText":"Gua","OLSKAppToolbarDonateLinkText":"Donar","OLSKAppToolbarLauncherButtonText":"Lanzador","OLSKAppToolbarStorageButtonText":"Almacenamiento","OLSKDetailPlaceholderText":"Ningn artculo seleccionado","OLSKInputWrapperClearButtonText":"Despejar el texto","OLSKLanguageSwitcherVersionFormat":"Versin en %@","OLSKLanguageSwitcherVersionName":{"en":"ingls","fr":"francs","es":"espaol"},"OLSKMasterListFilterFieldText":"Filtrar","OLSKReloadButtonText":"Recargar","OLSKRemoteStorageStatusOnline":"En lneo","OLSKRemoteStorageStatusNetworkOffline":"Sin conexin","OLSKRemoteStorageStatusError":"Error","OLSKServiceWorkerUpdateAlertLabelText":"Actualizacin disponible","OLSKServiceWorkerUpdateAlertReloadButtonText":"Recargar"},"fr":{"OLSKAppToolbarGuideLinkText":"Guide","OLSKAppToolbarDonateLinkText":"Faire un don","OLSKAppToolbarLauncherButtonText":"Lanceur","OLSKAppToolbarStorageButtonText":"Stockage","OLSKDetailPlaceholderText":"Aucun article selection","OLSKInputWrapperClearButtonText":"Effacer le texte","OLSKLanguageSwitcherVersionFormat":"Version en %@","OLSKLanguageSwitcherVersionName":{"en":"anglais","fr":"franais","es":"espagnol"},"OLSKMasterListFilterFieldText":"Filtrer","OLSKReloadButtonText":"Recharger","OLSKRemoteStorageStatusOnline":"En ligne","OLSKRemoteStorageStatusNetworkOffline":"Hors connexion","OLSKRemoteStorageStatusError":"Erreur","OLSKServiceWorkerUpdateAlertLabelText":"Mise  jour disponible","OLSKServiceWorkerUpdateAlertReloadButtonText":"Recharger","KOMReviewLauncherItemSelectDeckTextFormat":"Choisir lot de cartes \'%@\'","KOMReviewLauncherItemSendLoginLinkText":"Envoyer lien d\'accs","KOMReviewLauncherItemSendLoginLinkSubject":"Kommit lien d\'accs","KOMReviewLauncherItemDebugFlushDataText":"Recharche les donnes","KOMReviewLauncherItemDebugFlushDataConfirmText":"tes-vous sr.e?","KOMReviewChartCompositionStatesTotalCardsLabelText":"Total des cartes","KOMReviewChartCompositionStatesUnseenCardsLabelText":"Non-vues","KOMReviewChartCompositionStatesDevelopingCardsLabelText":"En apprentisage","KOMReviewChartCompositionStatesMatureCardsLabelText":"Mature","KOMReviewChartCompositionStatesSuspendedCardsLabelText":"Suspendu","KOMReviewDetailToolbarBackButtonText":"Back","KOMReviewDetailToolbarCardsButtonText":"Cartes","KOMReviewDetailGameOptionsHeadingText":"Options du jeu","KOMReviewDetailNoCardsText":"Il n\'y a pas de cartes dans ce lot de cartes.","KOMReviewDetailFormAudioIsEnabledFieldLabelText":"Faire entendre la version audio enregistre","KOMReviewDetailFormFrontSpeechIsEnabledFieldLabelText":"Lire le recto","KOMReviewDetailFormRearSpeechIsEnabledFieldLabelText":"Lire le verso","KOMReviewDetailFormIsForwardOnlyFieldLabelText":"Ne pas activer la lecture des cartes inverses","KOMReviewDetailPlayButtonReviewingText":"tudier des cartes  rviser","KOMReviewDetailPlayButtonUnseenText":"tudier des nouvelles cartes","KOMReviewDetailPlayButtonMixedText":"tudier toutes les cartes","KOMReviewDetailPlayButtonSingleText":"Jouer","KOMReviewDetailNoSpacingsText":"Toutes les cartes pour aujourd\'hui ont t rvises.","KOMReviewDetailTodayHeadingText":"Aujourd\'hui","KOMReviewDetailGeneralHeadingText":"Historique","KOMReviewDetailDeckHeadingText":"Lot de cartes","KOMReviewDetailRenameButtonText":"Renommer","KOMReviewDetailRenameButtonPromptText":"Nom","KOMReviewDetailDiscardButtonText":"Supprimer le lot de cartes et toutes les cartes dedans","KOMReviewDetailDiscardPromptText":"tes-vous sr.e? Veuillez entrer le nom du lot de cartes pour confirmer et supprimer.","KOMReviewDetailLanguageCodeFieldLabelText":"Code de la langue","KOMReviewDetailLanguageCodeFieldOptionUnspecifiedText":"Non specifi","KOMReviewGeneralCardStatesHeadingText":"Les tats des cartes","KOMReviewMasterToolbarTitleText":"Lots de cartes","KOMReviewMasterCreateButtonText":"Crer lot de cartes","KOMReviewMasterCreateButtonPromptText":"Nom","KOMReviewMasterListItemReviewLabelText":"cartes  rviser","KOMReviewMasterListItemUnseenLabelText":"cartes nouvelles","KOMReviewTodayTotalCardsLabelText":"Total des cartes","KOMReviewTodayTimeMinutesLabelText":"Temps (minutes)","KOMReviewTodayReviewAccuracyLabelText":"Exactitude de la rvision %","KOMBrowseInfoToolbarBackButtonText":"Back","KOMBrowseInfoToolbarDiscardButtonText":"Jeter","KOMBrowseInfoDiscardConfirmText":"tes-vous sr.e?","KOMBrowseInfoToolbarTemplateButtonText":"Copier des tags  une nouvelle carte","KOMBrowseInfoFormFrontTextFieldText":"Texte du recto","KOMBrowseInfoFormFrontReadButtonText":"Lire","KOMBrowseInfoFormRearTextFieldText":"Texte du verso","KOMBrowseInfoFormRearReadButtonText":"Lire","KOMBrowseInfoFormNotesFieldText":"Notes","KOMBrowseInfoAudioRecordButtonText":"Enregistrer","KOMBrowseInfoAudioRecordingAlertText":"Enregistrement en cours","KOMBrowseInfoAudioPlaybackButtonText":"Lecture","KOMBrowseInfoAudioClearButtonText":"Effacer","KOMBrowseInfoAudioNotAvailableAlertText":"Enregistrement audio non pris en charge dans ce navigateur","KOMBrowseInfoTagsInputFieldText":"Nom du tag nouveau","KOMBrowseInfoTagsCreateButtonText":"Crer le tag","KOMBrowseInfoTagsRemoveButtonTextFormat":"Enlever \'%@\'","KOMBrowseInfoTagsSuggestButtonTextFormat":"Ajouter \'%@\'","KOMBrowseListToolbarCloseButtonText":"Fermer","KOMBrowseListToolbarCreateButtonText":"Crer","KOMBrowseListItemUntitledText":"Sans titre","KOMReviewLauncherItemDebugCardText":"Debug Card","KOMPlayToolbarUndoButtonText":"Annuler","KOMPlayToolbarDoneButtonText":"OK","KOMPlayHearQuestionButtonText":"couter la question","KOMPlayHearAnswerButtonText":"couter la rponse","KOMPlayFlipButtonText":"Retourner","KOMPlayResponseButtonAgainText":"Encore","KOMPlayResponseButtonHardText":"Plus tt","KOMPlayResponseButtonGoodText":"Normale","KOMPlayResponseButtonEasyText":"Plus tard"}}')[window.OLSKPublicConstants("OLSKSharedPageCurrentLanguage")])},s={DataLinkTitle:e=>re.OLSKStringWithFormat(i("OLSKLanguageSwitcherVersionFormat"),i("OLSKLanguageSwitcherVersionName")[e])};return e.$set=e=>{"OLSKSharedPageLanguagesAvailable"in e&&n(0,r=e.OLSKSharedPageLanguagesAvailable),"OLSKSharedPageCurrentLanguage"in e&&n(1,o=e.OLSKSharedPageCurrentLanguage),"OLSKSharedActiveRouteConstant"in e&&n(2,a=e.OLSKSharedActiveRouteConstant)},[r,o,a,s]}class Cr extends X{constructor(e){super(),Q(this,e,Rr,Lr,a,{OLSKSharedPageLanguagesAvailable:0,OLSKSharedPageCurrentLanguage:1,OLSKSharedActiveRouteConstant:2})}}const{window:Dr}=z;function Br(e){let t,n,r=e[5]("OLSKAppToolbarGuideLinkText")+"";return{c(){t=h("a"),n=O(r),K(t,"class","OLSKAppToolbarGuideLink svelte-1n4xwbs"),K(t,"href",e[0]),K(t,"target","_blank")},m(e,r){c(e,t,r),u(t,n)},p(e,n){1&n&&K(t,"href",e[0])},d(e){e&&d(t)}}}function Ir(e){let t,n,r=e[5]("OLSKAppToolbarDonateLinkText")+"";return{c(){t=h("a"),n=O(r),K(t,"class","OLSKAppToolbarDonateLink svelte-1n4xwbs"),K(t,"href",e[1]),K(t,"target","_blank")},m(e,r){c(e,t,r),u(t,n)},p(e,n){2&n&&K(t,"href",e[1])},d(e){e&&d(t)}}}function _r(e){let t,n,r,a,i;return{c(){t=h("button"),n=h("div"),K(n,"class","OLSKAppToolbarLauncherButtonImage svelte-1n4xwbs"),K(t,"class","OLSKAppToolbarLauncherButton OLSKLayoutButtonNoStyle OLSKLayoutElementTappable OLSKToolbarButton"),K(t,"title",r=e[5]("OLSKAppToolbarLauncherButtonText")),x(t,"OSWIconVisible",!1)},m(r,s){c(r,t,s),u(t,n),n.innerHTML='<?xml version="1.0" encoding="UTF-8"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16" viewBox="0 0 16 16"  xml:space="preserve" id="_OLSKSharedLauncher">\n    \x3c!-- Generated by PaintCode (www.paintcodeapp.com) --\x3e\n    <g id="_OLSKSharedLauncher-group" transform="scale(1.07, 1.07)" >\n        <path id="_OLSKSharedLauncher-prompt" stroke="rgb(0, 0, 0)" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" fill="none" d="M 8.25,2.5 L 13.25,7.5 8.25,12.5" />\n        <g id="_OLSKSharedLauncher-linesSolid">\n            <path id="_OLSKSharedLauncher-bezier5" stroke="rgb(0, 0, 0)" stroke-width="1.2" stroke-linecap="round" stroke-miterlimit="10" fill="none" d="M 2,5.5 L 8,5.5" />\n            <path id="_OLSKSharedLauncher-bezier6" stroke="rgb(0, 0, 0)" stroke-width="1.2" stroke-linecap="round" stroke-miterlimit="10" fill="none" d="M 4.5,7.5 L 10,7.5" />\n            <path id="_OLSKSharedLauncher-bezier7" stroke="rgb(0, 0, 0)" stroke-width="1.2" stroke-linecap="round" stroke-miterlimit="10" fill="none" d="M 2.5,9.5 L 7.5,9.5" />\n        </g>\n    </g>\n</svg>\n',a||(i=M(t,"click",(function(){o(e[3])&&e[3].apply(this,arguments)})),a=!0)},p(t,n){e=t},d(e){e&&d(t),a=!1,i()}}}function kr(e){let t,n,a,i,s,l,f,p,m,T,w,S,y,b,L,R,C,D,B;a=new wr({}),s=new Cr({props:{OLSKSharedActiveRouteConstant:window.OLSKPublicConstants("OLSKSharedActiveRouteConstant"),OLSKSharedPageLanguagesAvailable:window.OLSKPublicConstants("OLSKSharedPageLanguagesAvailable"),OLSKSharedPageCurrentLanguage:window.OLSKPublicConstants("OLSKSharedPageCurrentLanguage")}});let I=e[0]&&Br(e),_=e[1]&&Ir(e),k=e[3]&&_r(e);return{c(){t=h("div"),n=h("div"),W(a.$$.fragment),i=g(),W(s.$$.fragment),l=g(),I&&I.c(),f=g(),_&&_.c(),p=g(),m=h("div"),T=h("div"),w=O(e[2]),S=g(),y=h("button"),b=h("div"),R=g(),k&&k.c(),K(n,"class","OLSKToolbarElementGroup svelte-1n4xwbs"),K(T,"class","OLSKAppToolbarStorageStatus svelte-1n4xwbs"),K(b,"class","OLSKAppToolbarStorageButtonImage svelte-1n4xwbs"),K(y,"class","OLSKAppToolbarStorageButton OLSKLayoutButtonNoStyle OLSKLayoutElementTappable OLSKToolbarButton svelte-1n4xwbs"),K(y,"title",L=e[5]("OLSKAppToolbarStorageButtonText")),x(y,"OSWIconVisible",!1),K(m,"class","OLSKToolbarElementGroup svelte-1n4xwbs"),K(t,"class","OLSKAppToolbar OLSKToolbar OLSKToolbarJustify svelte-1n4xwbs")},m(r,d){c(r,t,d),u(t,n),q(a,n,null),u(n,i),q(s,n,null),u(n,l),I&&I.m(n,null),u(n,f),_&&_.m(n,null),u(t,p),u(t,m),u(m,T),u(T,w),u(m,S),u(m,y),u(y,b),b.innerHTML='<?xml version="1.0" encoding="UTF-8"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16" viewBox="0 0 16 16"  xml:space="preserve" id="_OLSKSharedCloud">\n    \x3c!-- Generated by PaintCode (www.paintcodeapp.com) --\x3e\n    <path id="_OLSKSharedCloud-bezier2" stroke="rgb(0, 0, 0)" stroke-width="1.3" stroke-miterlimit="10" fill="none" d="M 9.44,3.25 C 8.04,3.25 7.01,4.06 6.52,5.03 L 6.53,5.03 C 6.44,5.21 6.22,5.28 6.05,5.19 5.44,4.89 4.72,4.92 4.15,5.26 3.58,5.61 3.15,6.24 3.15,7.21 L 3.15,7.21 C 3.15,7.38 3.03,7.53 2.86,7.56 1.78,7.75 1,8.83 1,9.91 1,11.21 2.02,12.25 3.69,12.25 L 12.49,12.25 C 13.88,12.25 15,11.13 15,9.73 15,8.5 14.13,7.48 12.98,7.25 L 12.97,7.25 C 12.79,7.21 12.66,7.04 12.68,6.86 12.86,5.08 11.46,3.25 9.44,3.25 Z M 9.44,3.25" />\n</svg>\n',u(m,R),k&&k.m(m,null),C=!0,D||(B=[M(Dr,"keydown",e[6].InterfaceWindowDidKeydown),M(y,"click",(function(){o(e[4])&&e[4].apply(this,arguments)}))],D=!0)},p(t,[r]){(e=t)[0]?I?I.p(e,r):(I=Br(e),I.c(),I.m(n,f)):I&&(I.d(1),I=null),e[1]?_?_.p(e,r):(_=Ir(e),_.c(),_.m(n,null)):_&&(_.d(1),_=null),(!C||4&r)&&v(w,e[2]),e[3]?k?k.p(e,r):(k=_r(e),k.c(),k.m(m,null)):k&&(k.d(1),k=null)},i(e){C||(G(a.$$.fragment,e),G(s.$$.fragment,e),C=!0)},o(e){$(a.$$.fragment,e),$(s.$$.fragment,e),C=!1},d(e){e&&d(t),J(a),J(s),I&&I.d(),_&&_.d(),k&&k.d(),D=!1,r(B)}}}function Fr(e,t,n){let{OLSKAppToolbarGuideURL:r=""}=t,{OLSKAppToolbarDonateURL:o=""}=t,{OLSKAppToolbarStorageStatus:a=""}=t,{OLSKAppToolbarDispatchLauncher:i=null}=t,{OLSKAppToolbarDispatchStorage:s}=t,{_OLSKAppToolbarDispatchExport:l}=t,{_OLSKAppToolbarDispatchImport:u}=t;const c={InterfaceWindowDidKeydown(e){const t={Space(){if(e.altKey)return i(),e.preventDefault()}};t[e.code]&&t[e.code]()},InterfaceExportButtonDidClick(){l()},InterfaceImportButtonDidClick(e){const t=e.target,n=new FileReader;n.onload=function(e){u(e.target.result),t.value=null},n.readAsText(e.target.files.item(0))}};return e.$set=e=>{"OLSKAppToolbarGuideURL"in e&&n(0,r=e.OLSKAppToolbarGuideURL),"OLSKAppToolbarDonateURL"in e&&n(1,o=e.OLSKAppToolbarDonateURL),"OLSKAppToolbarStorageStatus"in e&&n(2,a=e.OLSKAppToolbarStorageStatus),"OLSKAppToolbarDispatchLauncher"in e&&n(3,i=e.OLSKAppToolbarDispatchLauncher),"OLSKAppToolbarDispatchStorage"in e&&n(4,s=e.OLSKAppToolbarDispatchStorage),"_OLSKAppToolbarDispatchExport"in e&&n(7,l=e._OLSKAppToolbarDispatchExport),"_OLSKAppToolbarDispatchImport"in e&&n(8,u=e._OLSKAppToolbarDispatchImport)},[r,o,a,i,s,function(e){return te.OLSKInternationalLocalizedString(e,JSON.parse('{"en":{"OLSKAppToolbarGuideLinkText":"Guide","OLSKAppToolbarDonateLinkText":"Donate","OLSKAppToolbarLauncherButtonText":"Launcher","OLSKAppToolbarStorageButtonText":"Storage","OLSKDetailPlaceholderText":"No item selected","OLSKInputWrapperClearButtonText":"Clear text","OLSKLanguageSwitcherVersionFormat":"Version in %@","OLSKLanguageSwitcherVersionName":{"en":"English","fr":"French","es":"Spanish"},"OLSKMasterListFilterFieldText":"Filter","OLSKReloadButtonText":"Reload","OLSKRemoteStorageStatusOnline":"Online","OLSKRemoteStorageStatusNetworkOffline":"Offline","OLSKRemoteStorageStatusError":"Error","OLSKServiceWorkerUpdateAlertLabelText":"Update available","OLSKServiceWorkerUpdateAlertReloadButtonText":"Reload","KOMReviewLauncherItemSelectDeckTextFormat":"Select deck \'%@\'","KOMReviewLauncherItemSendLoginLinkText":"Send login link","KOMReviewLauncherItemSendLoginLinkSubject":"Kommit Login Link","KOMReviewLauncherItemDebugFlushDataText":"Flush data","KOMReviewLauncherItemDebugFlushDataConfirmText":"Are you sure?","KOMReviewChartCompositionStatesTotalCardsLabelText":"Total cards","KOMReviewChartCompositionStatesUnseenCardsLabelText":"Unseen","KOMReviewChartCompositionStatesDevelopingCardsLabelText":"Developing","KOMReviewChartCompositionStatesMatureCardsLabelText":"Mature","KOMReviewChartCompositionStatesSuspendedCardsLabelText":"Suspended","KOMReviewDetailToolbarBackButtonText":"Back","KOMReviewDetailToolbarCardsButtonText":"Cards","KOMReviewDetailGameOptionsHeadingText":"Game options","KOMReviewDetailNoCardsText":"There are no cards in this deck.","KOMReviewDetailFormAudioIsEnabledFieldLabelText":"Play audio","KOMReviewDetailFormFrontSpeechIsEnabledFieldLabelText":"Read front","KOMReviewDetailFormRearSpeechIsEnabledFieldLabelText":"Read back","KOMReviewDetailFormIsForwardOnlyFieldLabelText":"Skip reversed cards","KOMReviewDetailPlayButtonReviewingText":"Study review cards","KOMReviewDetailPlayButtonUnseenText":"Study new cards","KOMReviewDetailPlayButtonMixedText":"Study all cards","KOMReviewDetailPlayButtonSingleText":"Play","KOMReviewDetailNoSpacingsText":"All cards for today have been reviewed.","KOMReviewDetailTodayHeadingText":"Today","KOMReviewDetailGeneralHeadingText":"Historical","KOMReviewDetailDeckHeadingText":"Deck","KOMReviewDetailRenameButtonText":"Rename","KOMReviewDetailRenameButtonPromptText":"Name","KOMReviewDetailDiscardButtonText":"Delete deck and all cards inside","KOMReviewDetailDiscardPromptText":"Are you sure? Please type the name of the deck to confirm and delete.","KOMReviewDetailLanguageCodeFieldLabelText":"Language code","KOMReviewDetailLanguageCodeFieldOptionUnspecifiedText":"Unspecified","KOMReviewGeneralCardStatesHeadingText":"Cards","KOMReviewMasterToolbarTitleText":"Decks","KOMReviewMasterCreateButtonText":"Create deck","KOMReviewMasterCreateButtonPromptText":"Name","KOMReviewMasterListItemReviewLabelText":"review cards","KOMReviewMasterListItemUnseenLabelText":"new cards","KOMReviewTodayTotalCardsLabelText":"Total cards","KOMReviewTodayTimeMinutesLabelText":"Time (minutes)","KOMReviewTodayReviewAccuracyLabelText":"Review accuracy %","KOMBrowseInfoToolbarBackButtonText":"Back","KOMBrowseInfoToolbarDiscardButtonText":"Discard","KOMBrowseInfoDiscardConfirmText":"Are you sure?","KOMBrowseInfoToolbarTemplateButtonText":"Copy tags to new card","KOMBrowseInfoFormFrontTextFieldText":"Front text","KOMBrowseInfoFormFrontReadButtonText":"Read","KOMBrowseInfoFormRearTextFieldText":"Back text","KOMBrowseInfoFormRearReadButtonText":"Read","KOMBrowseInfoFormNotesFieldText":"Notes","KOMBrowseInfoAudioRecordButtonText":"Record","KOMBrowseInfoAudioRecordingAlertText":"Recording","KOMBrowseInfoAudioPlaybackButtonText":"Playback","KOMBrowseInfoAudioClearButtonText":"Clear","KOMBrowseInfoAudioNotAvailableAlertText":"Audio recording unsupported in this browser","KOMBrowseInfoTagsInputFieldText":"New tag name","KOMBrowseInfoTagsCreateButtonText":"Create tag","KOMBrowseInfoTagsRemoveButtonTextFormat":"Remove \'%@\'","KOMBrowseInfoTagsSuggestButtonTextFormat":"Add \'%@\'","KOMBrowseListToolbarCloseButtonText":"Close","KOMBrowseListToolbarCreateButtonText":"Create","KOMBrowseListItemUntitledText":"Untitled","KOMReviewLauncherItemDebugCardText":"Debug Card","KOMPlayToolbarUndoButtonText":"Undo","KOMPlayToolbarDoneButtonText":"Done","KOMPlayHearQuestionButtonText":"Hear question","KOMPlayHearAnswerButtonText":"Hear answer","KOMPlayFlipButtonText":"Flip","KOMPlayResponseButtonAgainText":"Again","KOMPlayResponseButtonHardText":"Sooner","KOMPlayResponseButtonGoodText":"Normal","KOMPlayResponseButtonEasyText":"Later"},"es":{"OLSKAppToolbarGuideLinkText":"Gua","OLSKAppToolbarDonateLinkText":"Donar","OLSKAppToolbarLauncherButtonText":"Lanzador","OLSKAppToolbarStorageButtonText":"Almacenamiento","OLSKDetailPlaceholderText":"Ningn artculo seleccionado","OLSKInputWrapperClearButtonText":"Despejar el texto","OLSKLanguageSwitcherVersionFormat":"Versin en %@","OLSKLanguageSwitcherVersionName":{"en":"ingls","fr":"francs","es":"espaol"},"OLSKMasterListFilterFieldText":"Filtrar","OLSKReloadButtonText":"Recargar","OLSKRemoteStorageStatusOnline":"En lneo","OLSKRemoteStorageStatusNetworkOffline":"Sin conexin","OLSKRemoteStorageStatusError":"Error","OLSKServiceWorkerUpdateAlertLabelText":"Actualizacin disponible","OLSKServiceWorkerUpdateAlertReloadButtonText":"Recargar"},"fr":{"OLSKAppToolbarGuideLinkText":"Guide","OLSKAppToolbarDonateLinkText":"Faire un don","OLSKAppToolbarLauncherButtonText":"Lanceur","OLSKAppToolbarStorageButtonText":"Stockage","OLSKDetailPlaceholderText":"Aucun article selection","OLSKInputWrapperClearButtonText":"Effacer le texte","OLSKLanguageSwitcherVersionFormat":"Version en %@","OLSKLanguageSwitcherVersionName":{"en":"anglais","fr":"franais","es":"espagnol"},"OLSKMasterListFilterFieldText":"Filtrer","OLSKReloadButtonText":"Recharger","OLSKRemoteStorageStatusOnline":"En ligne","OLSKRemoteStorageStatusNetworkOffline":"Hors connexion","OLSKRemoteStorageStatusError":"Erreur","OLSKServiceWorkerUpdateAlertLabelText":"Mise  jour disponible","OLSKServiceWorkerUpdateAlertReloadButtonText":"Recharger","KOMReviewLauncherItemSelectDeckTextFormat":"Choisir lot de cartes \'%@\'","KOMReviewLauncherItemSendLoginLinkText":"Envoyer lien d\'accs","KOMReviewLauncherItemSendLoginLinkSubject":"Kommit lien d\'accs","KOMReviewLauncherItemDebugFlushDataText":"Recharche les donnes","KOMReviewLauncherItemDebugFlushDataConfirmText":"tes-vous sr.e?","KOMReviewChartCompositionStatesTotalCardsLabelText":"Total des cartes","KOMReviewChartCompositionStatesUnseenCardsLabelText":"Non-vues","KOMReviewChartCompositionStatesDevelopingCardsLabelText":"En apprentisage","KOMReviewChartCompositionStatesMatureCardsLabelText":"Mature","KOMReviewChartCompositionStatesSuspendedCardsLabelText":"Suspendu","KOMReviewDetailToolbarBackButtonText":"Back","KOMReviewDetailToolbarCardsButtonText":"Cartes","KOMReviewDetailGameOptionsHeadingText":"Options du jeu","KOMReviewDetailNoCardsText":"Il n\'y a pas de cartes dans ce lot de cartes.","KOMReviewDetailFormAudioIsEnabledFieldLabelText":"Faire entendre la version audio enregistre","KOMReviewDetailFormFrontSpeechIsEnabledFieldLabelText":"Lire le recto","KOMReviewDetailFormRearSpeechIsEnabledFieldLabelText":"Lire le verso","KOMReviewDetailFormIsForwardOnlyFieldLabelText":"Ne pas activer la lecture des cartes inverses","KOMReviewDetailPlayButtonReviewingText":"tudier des cartes  rviser","KOMReviewDetailPlayButtonUnseenText":"tudier des nouvelles cartes","KOMReviewDetailPlayButtonMixedText":"tudier toutes les cartes","KOMReviewDetailPlayButtonSingleText":"Jouer","KOMReviewDetailNoSpacingsText":"Toutes les cartes pour aujourd\'hui ont t rvises.","KOMReviewDetailTodayHeadingText":"Aujourd\'hui","KOMReviewDetailGeneralHeadingText":"Historique","KOMReviewDetailDeckHeadingText":"Lot de cartes","KOMReviewDetailRenameButtonText":"Renommer","KOMReviewDetailRenameButtonPromptText":"Nom","KOMReviewDetailDiscardButtonText":"Supprimer le lot de cartes et toutes les cartes dedans","KOMReviewDetailDiscardPromptText":"tes-vous sr.e? Veuillez entrer le nom du lot de cartes pour confirmer et supprimer.","KOMReviewDetailLanguageCodeFieldLabelText":"Code de la langue","KOMReviewDetailLanguageCodeFieldOptionUnspecifiedText":"Non specifi","KOMReviewGeneralCardStatesHeadingText":"Les tats des cartes","KOMReviewMasterToolbarTitleText":"Lots de cartes","KOMReviewMasterCreateButtonText":"Crer lot de cartes","KOMReviewMasterCreateButtonPromptText":"Nom","KOMReviewMasterListItemReviewLabelText":"cartes  rviser","KOMReviewMasterListItemUnseenLabelText":"cartes nouvelles","KOMReviewTodayTotalCardsLabelText":"Total des cartes","KOMReviewTodayTimeMinutesLabelText":"Temps (minutes)","KOMReviewTodayReviewAccuracyLabelText":"Exactitude de la rvision %","KOMBrowseInfoToolbarBackButtonText":"Back","KOMBrowseInfoToolbarDiscardButtonText":"Jeter","KOMBrowseInfoDiscardConfirmText":"tes-vous sr.e?","KOMBrowseInfoToolbarTemplateButtonText":"Copier des tags  une nouvelle carte","KOMBrowseInfoFormFrontTextFieldText":"Texte du recto","KOMBrowseInfoFormFrontReadButtonText":"Lire","KOMBrowseInfoFormRearTextFieldText":"Texte du verso","KOMBrowseInfoFormRearReadButtonText":"Lire","KOMBrowseInfoFormNotesFieldText":"Notes","KOMBrowseInfoAudioRecordButtonText":"Enregistrer","KOMBrowseInfoAudioRecordingAlertText":"Enregistrement en cours","KOMBrowseInfoAudioPlaybackButtonText":"Lecture","KOMBrowseInfoAudioClearButtonText":"Effacer","KOMBrowseInfoAudioNotAvailableAlertText":"Enregistrement audio non pris en charge dans ce navigateur","KOMBrowseInfoTagsInputFieldText":"Nom du tag nouveau","KOMBrowseInfoTagsCreateButtonText":"Crer le tag","KOMBrowseInfoTagsRemoveButtonTextFormat":"Enlever \'%@\'","KOMBrowseInfoTagsSuggestButtonTextFormat":"Ajouter \'%@\'","KOMBrowseListToolbarCloseButtonText":"Fermer","KOMBrowseListToolbarCreateButtonText":"Crer","KOMBrowseListItemUntitledText":"Sans titre","KOMReviewLauncherItemDebugCardText":"Debug Card","KOMPlayToolbarUndoButtonText":"Annuler","KOMPlayToolbarDoneButtonText":"OK","KOMPlayHearQuestionButtonText":"couter la question","KOMPlayHearAnswerButtonText":"couter la rponse","KOMPlayFlipButtonText":"Retourner","KOMPlayResponseButtonAgainText":"Encore","KOMPlayResponseButtonHardText":"Plus tt","KOMPlayResponseButtonGoodText":"Normale","KOMPlayResponseButtonEasyText":"Plus tard"}}')[window.OLSKPublicConstants("OLSKSharedPageCurrentLanguage")])},c,l,u]}class Ar extends X{constructor(e){super(),Q(this,e,Fr,kr,a,{OLSKAppToolbarGuideURL:0,OLSKAppToolbarDonateURL:1,OLSKAppToolbarStorageStatus:2,OLSKAppToolbarDispatchLauncher:3,OLSKAppToolbarDispatchStorage:4,_OLSKAppToolbarDispatchExport:7,_OLSKAppToolbarDispatchImport:8})}}function Pr(e){let t,n,a,i,s,l;return{c(){t=h("div"),n=h("span"),n.textContent=""+e[1]("OLSKServiceWorkerUpdateAlertLabelText"),a=g(),i=h("button"),i.textContent=""+e[1]("OLSKServiceWorkerUpdateAlertReloadButtonText"),K(n,"class","OLSKServiceWorkerUpdateAlertLabel"),K(i,"class","OLSKServiceWorkerUpdateAlertReloadButton"),K(t,"class","OLSKServiceWorkerUpdateAlert svelte-1h7thcm")},m(r,d){c(r,t,d),u(t,n),u(t,a),u(t,i),s||(l=[M(i,"click",(function(){o(e[0].InterfaceReloadButtonDidClick)&&e[0].InterfaceReloadButtonDidClick.apply(this,arguments)})),M(t,"click",e[6])],s=!0)},p(t,n){e=t},d(e){e&&d(t),s=!1,r(l)}}}function Er(t){let n,r=t[0]._ValueUpdateAlertIsVisible&&Pr(t);return{c(){r&&r.c(),n=m()},m(e,t){r&&r.m(e,t),c(e,n,t)},p(e,[t]){e[0]._ValueUpdateAlertIsVisible?r?r.p(e,t):(r=Pr(e),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},i:e,o:e,d(e){r&&r.d(e),e&&d(n)}}}function Nr(e,t,n){let{OLSKServiceWorkerRegistrationRoute:r}=t,{DebugFakeUpdateAlertVisible:o=!1}=t,{DebugEnableLogging:a=!0}=t,{DebugAllowLocalhost:i=!1}=t;const s={_ValueRegistration:void 0,_ValueNextWorker:void 0,_ValueUpdateAlertIsVisible:o,InterfaceReloadButtonDidClick(){s.ControlSkipWaiting()},ControlSkipWaiting(){s._ValueNextWorker.postMessage({action:"skipWaiting"})},MessageUpdateFound(e){a&&console.log("updatefound",e),n(0,s._ValueNextWorker=s._ValueRegistration.installing,s),s._ValueNextWorker.addEventListener("statechange",s.MessageNextWorkerStateChange)},MessageNextWorkerStateChange(e){a&&console.log("statechange",s._ValueNextWorker.state,e,navigator.serviceWorker.controller),"installed"===s._ValueNextWorker.state&&navigator.serviceWorker.controller&&n(0,s._ValueUpdateAlertIsVisible=!0,s)},MessageControllerChange(e){a&&console.log("controllerchange",e),window.location.reload()},SetupEverything:async()=>navigator.serviceWorker?r?"localhost"!==document.location.hostname||i?(await s.SetupRegistration(),void s.SetupControllerChange()):a&&console.info("OLSKServiceWorker: Skipping on localhost"):a&&console.info("Missing registration route"):a&&console.info("Service worker not available"),async SetupRegistration(){n(0,s._ValueRegistration=await navigator.serviceWorker.register(r),s),a&&console.info("Service Worker Registered"),s._ValueRegistration.addEventListener("updatefound",s.MessageUpdateFound)},SetupControllerChange(){navigator.serviceWorker.addEventListener("controllerchange",s.MessageControllerChange)},LifecycleModuleDidMount(){s.SetupEverything()}};s.LifecycleModuleDidMount();return e.$set=e=>{"OLSKServiceWorkerRegistrationRoute"in e&&n(2,r=e.OLSKServiceWorkerRegistrationRoute),"DebugFakeUpdateAlertVisible"in e&&n(3,o=e.DebugFakeUpdateAlertVisible),"DebugEnableLogging"in e&&n(4,a=e.DebugEnableLogging),"DebugAllowLocalhost"in e&&n(5,i=e.DebugAllowLocalhost)},[s,function(e){return te.OLSKInternationalLocalizedString(e,JSON.parse('{"en":{"OLSKAppToolbarGuideLinkText":"Guide","OLSKAppToolbarDonateLinkText":"Donate","OLSKAppToolbarLauncherButtonText":"Launcher","OLSKAppToolbarStorageButtonText":"Storage","OLSKDetailPlaceholderText":"No item selected","OLSKInputWrapperClearButtonText":"Clear text","OLSKLanguageSwitcherVersionFormat":"Version in %@","OLSKLanguageSwitcherVersionName":{"en":"English","fr":"French","es":"Spanish"},"OLSKMasterListFilterFieldText":"Filter","OLSKReloadButtonText":"Reload","OLSKRemoteStorageStatusOnline":"Online","OLSKRemoteStorageStatusNetworkOffline":"Offline","OLSKRemoteStorageStatusError":"Error","OLSKServiceWorkerUpdateAlertLabelText":"Update available","OLSKServiceWorkerUpdateAlertReloadButtonText":"Reload","KOMReviewLauncherItemSelectDeckTextFormat":"Select deck \'%@\'","KOMReviewLauncherItemSendLoginLinkText":"Send login link","KOMReviewLauncherItemSendLoginLinkSubject":"Kommit Login Link","KOMReviewLauncherItemDebugFlushDataText":"Flush data","KOMReviewLauncherItemDebugFlushDataConfirmText":"Are you sure?","KOMReviewChartCompositionStatesTotalCardsLabelText":"Total cards","KOMReviewChartCompositionStatesUnseenCardsLabelText":"Unseen","KOMReviewChartCompositionStatesDevelopingCardsLabelText":"Developing","KOMReviewChartCompositionStatesMatureCardsLabelText":"Mature","KOMReviewChartCompositionStatesSuspendedCardsLabelText":"Suspended","KOMReviewDetailToolbarBackButtonText":"Back","KOMReviewDetailToolbarCardsButtonText":"Cards","KOMReviewDetailGameOptionsHeadingText":"Game options","KOMReviewDetailNoCardsText":"There are no cards in this deck.","KOMReviewDetailFormAudioIsEnabledFieldLabelText":"Play audio","KOMReviewDetailFormFrontSpeechIsEnabledFieldLabelText":"Read front","KOMReviewDetailFormRearSpeechIsEnabledFieldLabelText":"Read back","KOMReviewDetailFormIsForwardOnlyFieldLabelText":"Skip reversed cards","KOMReviewDetailPlayButtonReviewingText":"Study review cards","KOMReviewDetailPlayButtonUnseenText":"Study new cards","KOMReviewDetailPlayButtonMixedText":"Study all cards","KOMReviewDetailPlayButtonSingleText":"Play","KOMReviewDetailNoSpacingsText":"All cards for today have been reviewed.","KOMReviewDetailTodayHeadingText":"Today","KOMReviewDetailGeneralHeadingText":"Historical","KOMReviewDetailDeckHeadingText":"Deck","KOMReviewDetailRenameButtonText":"Rename","KOMReviewDetailRenameButtonPromptText":"Name","KOMReviewDetailDiscardButtonText":"Delete deck and all cards inside","KOMReviewDetailDiscardPromptText":"Are you sure? Please type the name of the deck to confirm and delete.","KOMReviewDetailLanguageCodeFieldLabelText":"Language code","KOMReviewDetailLanguageCodeFieldOptionUnspecifiedText":"Unspecified","KOMReviewGeneralCardStatesHeadingText":"Cards","KOMReviewMasterToolbarTitleText":"Decks","KOMReviewMasterCreateButtonText":"Create deck","KOMReviewMasterCreateButtonPromptText":"Name","KOMReviewMasterListItemReviewLabelText":"review cards","KOMReviewMasterListItemUnseenLabelText":"new cards","KOMReviewTodayTotalCardsLabelText":"Total cards","KOMReviewTodayTimeMinutesLabelText":"Time (minutes)","KOMReviewTodayReviewAccuracyLabelText":"Review accuracy %","KOMBrowseInfoToolbarBackButtonText":"Back","KOMBrowseInfoToolbarDiscardButtonText":"Discard","KOMBrowseInfoDiscardConfirmText":"Are you sure?","KOMBrowseInfoToolbarTemplateButtonText":"Copy tags to new card","KOMBrowseInfoFormFrontTextFieldText":"Front text","KOMBrowseInfoFormFrontReadButtonText":"Read","KOMBrowseInfoFormRearTextFieldText":"Back text","KOMBrowseInfoFormRearReadButtonText":"Read","KOMBrowseInfoFormNotesFieldText":"Notes","KOMBrowseInfoAudioRecordButtonText":"Record","KOMBrowseInfoAudioRecordingAlertText":"Recording","KOMBrowseInfoAudioPlaybackButtonText":"Playback","KOMBrowseInfoAudioClearButtonText":"Clear","KOMBrowseInfoAudioNotAvailableAlertText":"Audio recording unsupported in this browser","KOMBrowseInfoTagsInputFieldText":"New tag name","KOMBrowseInfoTagsCreateButtonText":"Create tag","KOMBrowseInfoTagsRemoveButtonTextFormat":"Remove \'%@\'","KOMBrowseInfoTagsSuggestButtonTextFormat":"Add \'%@\'","KOMBrowseListToolbarCloseButtonText":"Close","KOMBrowseListToolbarCreateButtonText":"Create","KOMBrowseListItemUntitledText":"Untitled","KOMReviewLauncherItemDebugCardText":"Debug Card","KOMPlayToolbarUndoButtonText":"Undo","KOMPlayToolbarDoneButtonText":"Done","KOMPlayHearQuestionButtonText":"Hear question","KOMPlayHearAnswerButtonText":"Hear answer","KOMPlayFlipButtonText":"Flip","KOMPlayResponseButtonAgainText":"Again","KOMPlayResponseButtonHardText":"Sooner","KOMPlayResponseButtonGoodText":"Normal","KOMPlayResponseButtonEasyText":"Later"},"es":{"OLSKAppToolbarGuideLinkText":"Gua","OLSKAppToolbarDonateLinkText":"Donar","OLSKAppToolbarLauncherButtonText":"Lanzador","OLSKAppToolbarStorageButtonText":"Almacenamiento","OLSKDetailPlaceholderText":"Ningn artculo seleccionado","OLSKInputWrapperClearButtonText":"Despejar el texto","OLSKLanguageSwitcherVersionFormat":"Versin en %@","OLSKLanguageSwitcherVersionName":{"en":"ingls","fr":"francs","es":"espaol"},"OLSKMasterListFilterFieldText":"Filtrar","OLSKReloadButtonText":"Recargar","OLSKRemoteStorageStatusOnline":"En lneo","OLSKRemoteStorageStatusNetworkOffline":"Sin conexin","OLSKRemoteStorageStatusError":"Error","OLSKServiceWorkerUpdateAlertLabelText":"Actualizacin disponible","OLSKServiceWorkerUpdateAlertReloadButtonText":"Recargar"},"fr":{"OLSKAppToolbarGuideLinkText":"Guide","OLSKAppToolbarDonateLinkText":"Faire un don","OLSKAppToolbarLauncherButtonText":"Lanceur","OLSKAppToolbarStorageButtonText":"Stockage","OLSKDetailPlaceholderText":"Aucun article selection","OLSKInputWrapperClearButtonText":"Effacer le texte","OLSKLanguageSwitcherVersionFormat":"Version en %@","OLSKLanguageSwitcherVersionName":{"en":"anglais","fr":"franais","es":"espagnol"},"OLSKMasterListFilterFieldText":"Filtrer","OLSKReloadButtonText":"Recharger","OLSKRemoteStorageStatusOnline":"En ligne","OLSKRemoteStorageStatusNetworkOffline":"Hors connexion","OLSKRemoteStorageStatusError":"Erreur","OLSKServiceWorkerUpdateAlertLabelText":"Mise  jour disponible","OLSKServiceWorkerUpdateAlertReloadButtonText":"Recharger","KOMReviewLauncherItemSelectDeckTextFormat":"Choisir lot de cartes \'%@\'","KOMReviewLauncherItemSendLoginLinkText":"Envoyer lien d\'accs","KOMReviewLauncherItemSendLoginLinkSubject":"Kommit lien d\'accs","KOMReviewLauncherItemDebugFlushDataText":"Recharche les donnes","KOMReviewLauncherItemDebugFlushDataConfirmText":"tes-vous sr.e?","KOMReviewChartCompositionStatesTotalCardsLabelText":"Total des cartes","KOMReviewChartCompositionStatesUnseenCardsLabelText":"Non-vues","KOMReviewChartCompositionStatesDevelopingCardsLabelText":"En apprentisage","KOMReviewChartCompositionStatesMatureCardsLabelText":"Mature","KOMReviewChartCompositionStatesSuspendedCardsLabelText":"Suspendu","KOMReviewDetailToolbarBackButtonText":"Back","KOMReviewDetailToolbarCardsButtonText":"Cartes","KOMReviewDetailGameOptionsHeadingText":"Options du jeu","KOMReviewDetailNoCardsText":"Il n\'y a pas de cartes dans ce lot de cartes.","KOMReviewDetailFormAudioIsEnabledFieldLabelText":"Faire entendre la version audio enregistre","KOMReviewDetailFormFrontSpeechIsEnabledFieldLabelText":"Lire le recto","KOMReviewDetailFormRearSpeechIsEnabledFieldLabelText":"Lire le verso","KOMReviewDetailFormIsForwardOnlyFieldLabelText":"Ne pas activer la lecture des cartes inverses","KOMReviewDetailPlayButtonReviewingText":"tudier des cartes  rviser","KOMReviewDetailPlayButtonUnseenText":"tudier des nouvelles cartes","KOMReviewDetailPlayButtonMixedText":"tudier toutes les cartes","KOMReviewDetailPlayButtonSingleText":"Jouer","KOMReviewDetailNoSpacingsText":"Toutes les cartes pour aujourd\'hui ont t rvises.","KOMReviewDetailTodayHeadingText":"Aujourd\'hui","KOMReviewDetailGeneralHeadingText":"Historique","KOMReviewDetailDeckHeadingText":"Lot de cartes","KOMReviewDetailRenameButtonText":"Renommer","KOMReviewDetailRenameButtonPromptText":"Nom","KOMReviewDetailDiscardButtonText":"Supprimer le lot de cartes et toutes les cartes dedans","KOMReviewDetailDiscardPromptText":"tes-vous sr.e? Veuillez entrer le nom du lot de cartes pour confirmer et supprimer.","KOMReviewDetailLanguageCodeFieldLabelText":"Code de la langue","KOMReviewDetailLanguageCodeFieldOptionUnspecifiedText":"Non specifi","KOMReviewGeneralCardStatesHeadingText":"Les tats des cartes","KOMReviewMasterToolbarTitleText":"Lots de cartes","KOMReviewMasterCreateButtonText":"Crer lot de cartes","KOMReviewMasterCreateButtonPromptText":"Nom","KOMReviewMasterListItemReviewLabelText":"cartes  rviser","KOMReviewMasterListItemUnseenLabelText":"cartes nouvelles","KOMReviewTodayTotalCardsLabelText":"Total des cartes","KOMReviewTodayTimeMinutesLabelText":"Temps (minutes)","KOMReviewTodayReviewAccuracyLabelText":"Exactitude de la rvision %","KOMBrowseInfoToolbarBackButtonText":"Back","KOMBrowseInfoToolbarDiscardButtonText":"Jeter","KOMBrowseInfoDiscardConfirmText":"tes-vous sr.e?","KOMBrowseInfoToolbarTemplateButtonText":"Copier des tags  une nouvelle carte","KOMBrowseInfoFormFrontTextFieldText":"Texte du recto","KOMBrowseInfoFormFrontReadButtonText":"Lire","KOMBrowseInfoFormRearTextFieldText":"Texte du verso","KOMBrowseInfoFormRearReadButtonText":"Lire","KOMBrowseInfoFormNotesFieldText":"Notes","KOMBrowseInfoAudioRecordButtonText":"Enregistrer","KOMBrowseInfoAudioRecordingAlertText":"Enregistrement en cours","KOMBrowseInfoAudioPlaybackButtonText":"Lecture","KOMBrowseInfoAudioClearButtonText":"Effacer","KOMBrowseInfoAudioNotAvailableAlertText":"Enregistrement audio non pris en charge dans ce navigateur","KOMBrowseInfoTagsInputFieldText":"Nom du tag nouveau","KOMBrowseInfoTagsCreateButtonText":"Crer le tag","KOMBrowseInfoTagsRemoveButtonTextFormat":"Enlever \'%@\'","KOMBrowseInfoTagsSuggestButtonTextFormat":"Ajouter \'%@\'","KOMBrowseListToolbarCloseButtonText":"Fermer","KOMBrowseListToolbarCreateButtonText":"Crer","KOMBrowseListItemUntitledText":"Sans titre","KOMReviewLauncherItemDebugCardText":"Debug Card","KOMPlayToolbarUndoButtonText":"Annuler","KOMPlayToolbarDoneButtonText":"OK","KOMPlayHearQuestionButtonText":"couter la question","KOMPlayHearAnswerButtonText":"couter la rponse","KOMPlayFlipButtonText":"Retourner","KOMPlayResponseButtonAgainText":"Encore","KOMPlayResponseButtonHardText":"Plus tt","KOMPlayResponseButtonGoodText":"Normale","KOMPlayResponseButtonEasyText":"Plus tard"}}')[window.OLSKPublicConstants("OLSKSharedPageCurrentLanguage")])},r,o,a,i,()=>n(0,s._ValueUpdateAlertIsVisible=!1,s)]}class Ur extends X{constructor(e){super(),Q(this,e,Nr,Er,a,{OLSKServiceWorkerRegistrationRoute:2,DebugFakeUpdateAlertVisible:3,DebugEnableLogging:4,DebugAllowLocalhost:5})}}function Vr(t){let n,r,a,i;return{c(){n=h("div"),K(n,"class","OLSKStorageWidget")},m(s,l){var u;c(s,n,l),a||(u=r=t[0].call(null,n),i=u&&o(u.destroy)?u.destroy:e,a=!0)},p:e,i:e,o:e,d(e){e&&d(n),a=!1,i()}}}function Hr(e,t,n){let{StorageClient:r}=t;return e.$set=e=>{"StorageClient"in e&&n(1,r=e.StorageClient)},[function(e){new window.OLSKStorageWidget(r).attach(e)},r]}class jr extends X{constructor(e){super(),Q(this,e,Hr,Vr,a,{StorageClient:1})}}function Gr(e){let t,n;return t=new Ye({props:{KOMReviewMasterItems:e[0]._ValueDecksAll,KOMReviewMasterDispatchCreate:e[0].KOMReviewMasterDispatchCreate,KOMReviewMasterDispatchSelect:e[0].KOMReviewMasterDispatchSelect}}),{c(){W(t.$$.fragment)},m(e,r){q(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.KOMReviewMasterItems=e[0]._ValueDecksAll),1&n&&(r.KOMReviewMasterDispatchCreate=e[0].KOMReviewMasterDispatchCreate),1&n&&(r.KOMReviewMasterDispatchSelect=e[0].KOMReviewMasterDispatchSelect),t.$set(r)},i(e){n||(G(t.$$.fragment,e),n=!0)},o(e){$(t.$$.fragment,e),n=!1},d(e){J(t,e)}}}function $r(e){let t,n,r={KOMReviewDetailDeck:e[0]._ValueDeckSelected,KOMReviewDetailDispatchBack:e[0].KOMReviewDetailDispatchBack,KOMReviewDetailDispatchDiscard:e[0].KOMReviewDetailDispatchDiscard,KOMReviewDetailDispatchUpdate:e[0].KOMReviewDetailDispatchUpdate,KOMReviewDetailDispatchRecount:e[0].KOMReviewDetailDispatchRecount,KOMReviewDetailDispatchBrowse:e[0].KOMReviewDetailDispatchBrowse,KOMReviewDetailDispatchPlay:e[0].KOMReviewDetailDispatchPlay,KOMReviewDetailPlaySingle:!0};return t=new Ft({props:r}),e[1](t),{c(){W(t.$$.fragment)},m(e,r){q(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.KOMReviewDetailDeck=e[0]._ValueDeckSelected),1&n&&(r.KOMReviewDetailDispatchBack=e[0].KOMReviewDetailDispatchBack),1&n&&(r.KOMReviewDetailDispatchDiscard=e[0].KOMReviewDetailDispatchDiscard),1&n&&(r.KOMReviewDetailDispatchUpdate=e[0].KOMReviewDetailDispatchUpdate),1&n&&(r.KOMReviewDetailDispatchRecount=e[0].KOMReviewDetailDispatchRecount),1&n&&(r.KOMReviewDetailDispatchBrowse=e[0].KOMReviewDetailDispatchBrowse),1&n&&(r.KOMReviewDetailDispatchPlay=e[0].KOMReviewDetailDispatchPlay),t.$set(r)},i(e){n||(G(t.$$.fragment,e),n=!0)},o(e){$(t.$$.fragment,e),n=!1},d(n){e[1](null),J(t,n)}}}function zr(e){let t,n,r={KOMBrowseStorageClient:e[0]._ValueStorageClient,KOMBrowseDeckSelected:e[0]._ValueDeckSelected,KOMBrowseDispatchCreate:e[0].KOMBrowseDispatchCreate,KOMBrowseListDispatchClose:e[0].KOMBrowseListDispatchClose,KOMBrowseInfoSpeechAvailable:e[0]._ValueSpeechAvailable,KOMBrowseInfoDispatchRead:e[0].KOMBrowseInfoDispatchRead};return t=new sr({props:r}),e[2](t),{c(){W(t.$$.fragment)},m(e,r){q(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.KOMBrowseStorageClient=e[0]._ValueStorageClient),1&n&&(r.KOMBrowseDeckSelected=e[0]._ValueDeckSelected),1&n&&(r.KOMBrowseDispatchCreate=e[0].KOMBrowseDispatchCreate),1&n&&(r.KOMBrowseListDispatchClose=e[0].KOMBrowseListDispatchClose),1&n&&(r.KOMBrowseInfoSpeechAvailable=e[0]._ValueSpeechAvailable),1&n&&(r.KOMBrowseInfoDispatchRead=e[0].KOMBrowseInfoDispatchRead),t.$set(r)},i(e){n||(G(t.$$.fragment,e),n=!0)},o(e){$(t.$$.fragment,e),n=!1},d(n){e[2](null),J(t,n)}}}function Wr(e){let t,n;return t=new Kr({props:{KOMPlaySpacings:e[0]._ValuePlaySpacings,KOMPlayDeck:e[0]._ValueDeckSelected,KOMPlayDispatchDone:e[0].KOMPlayDispatchDone,KOMPlayDispatchUpdate:e[0].KOMPlayDispatchUpdate,KOMPlayDispatchFetch:e[0].KOMPlayDispatchFetch}}),{c(){W(t.$$.fragment)},m(e,r){q(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.KOMPlaySpacings=e[0]._ValuePlaySpacings),1&n&&(r.KOMPlayDeck=e[0]._ValueDeckSelected),1&n&&(r.KOMPlayDispatchDone=e[0].KOMPlayDispatchDone),1&n&&(r.KOMPlayDispatchUpdate=e[0].KOMPlayDispatchUpdate),1&n&&(r.KOMPlayDispatchFetch=e[0].KOMPlayDispatchFetch),t.$set(r)},i(e){n||(G(t.$$.fragment,e),n=!0)},o(e){$(t.$$.fragment,e),n=!1},d(e){J(t,e)}}}function qr(e){let t,n,r,o,a=!e[0]._ValueStorageToolbarHidden&&Jr(e);return r=new Ar({props:{OLSKAppToolbarDonateURL:window.OLSKPublicConstants("KOM_SHARED_DONATE_URL"),OLSKAppToolbarGuideURL:window.OLSKCanonicalFor("KOMGuideRoute"),OLSKAppToolbarStorageStatus:e[0]._ValueFooterStorageStatus,OLSKAppToolbarDispatchStorage:e[0].OLSKAppToolbarDispatchStorage,_OLSKAppToolbarDispatchExport:e[0]._OLSKAppToolbarDispatchExport,_OLSKAppToolbarDispatchImport:e[0]._OLSKAppToolbarDispatchImport,OLSKAppToolbarDispatchLauncher:e[0].OLSKAppToolbarDispatchLauncher}}),{c(){t=h("footer"),a&&a.c(),n=g(),W(r.$$.fragment),K(t,"class","KOMReviewViewportFooter OLSKMobileViewFooter")},m(e,i){c(e,t,i),a&&a.m(t,null),u(t,n),q(r,t,null),o=!0},p(e,o){e[0]._ValueStorageToolbarHidden?a&&(H(),$(a,1,1,()=>{a=null}),j()):a?(a.p(e,o),1&o&&G(a,1)):(a=Jr(e),a.c(),G(a,1),a.m(t,n));const i={};1&o&&(i.OLSKAppToolbarStorageStatus=e[0]._ValueFooterStorageStatus),1&o&&(i.OLSKAppToolbarDispatchStorage=e[0].OLSKAppToolbarDispatchStorage),1&o&&(i._OLSKAppToolbarDispatchExport=e[0]._OLSKAppToolbarDispatchExport),1&o&&(i._OLSKAppToolbarDispatchImport=e[0]._OLSKAppToolbarDispatchImport),1&o&&(i.OLSKAppToolbarDispatchLauncher=e[0].OLSKAppToolbarDispatchLauncher),r.$set(i)},i(e){o||(G(a),G(r.$$.fragment,e),o=!0)},o(e){$(a),$(r.$$.fragment,e),o=!1},d(e){e&&d(t),a&&a.d(),J(r)}}}function Jr(e){let t,n,r,o,a,i;return a=new jr({props:{StorageClient:e[0]._ValueStorageClient}}),{c(){t=h("div"),n=h("div"),n.innerHTML="<div></div>",r=g(),o=h("div"),W(a.$$.fragment),K(n,"class","OLSKToolbarElementGroup"),K(o,"class","OLSKToolbarElementGroup"),K(t,"class","KOMReviewStorageToolbar OLSKToolbar OLSKToolbarJustify OLSKStorageToolbar svelte-1d11o65")},m(e,s){c(e,t,s),u(t,n),u(t,r),u(t,o),q(a,o,null),i=!0},p(e,t){const n={};1&t&&(n.StorageClient=e[0]._ValueStorageClient),a.$set(n)},i(e){i||(G(a.$$.fragment,e),i=!0)},o(e){$(a.$$.fragment,e),i=!1},d(e){e&&d(t),J(a)}}}function Yr(t){let n,r,o,a,i,s,l,f,p,O,M=ie(),v=!ie(),T=!t[0]._ValueDeckSelected&&Gr(t),w=t[0]._ValueDeckSelected&&!t[0]._ValueBrowseVisible&&!t[0]._ValuePlayVisible&&$r(t),S=t[0]._ValueDeckSelected&&t[0]._ValueBrowseVisible&&!t[0]._ValuePlayVisible&&zr(t),y=t[0]._ValuePlayVisible&&Wr(t),b=M&&function(e){let t,n,r,o,a,i,s;return{c(){t=h("p"),t.innerHTML='<strong>TestCardCount</strong> \n\t\t<span id="TestCardCount">0</span>',n=g(),r=h("p"),r.innerHTML='<strong>TestSpacingCount</strong> \n\t\t<span id="TestSpacingCount">0</span>',o=g(),a=h("p"),a.innerHTML='<strong>TestCallReactThrottle</strong> \n\t\t<span id="TestCallReactThrottle">0</span>',i=g(),s=h("p"),s.innerHTML='<strong>TestCallReactSelected</strong> \n\t\t<span id="TestCallReactSelected">0</span>'},m(e,l){c(e,t,l),c(e,n,l),c(e,r,l),c(e,o,l),c(e,a,l),c(e,i,l),c(e,s,l)},d(e){e&&d(t),e&&d(n),e&&d(r),e&&d(o),e&&d(a),e&&d(i),e&&d(s)}}}(),L=!t[0]._ValuePlayVisible&&qr(t),R=v&&function(t){let n,r;return n=new Ur({props:{OLSKServiceWorkerRegistrationRoute:window.OLSKCanonicalFor("KOMServiceWorkerRoute")}}),{c(){W(n.$$.fragment)},m(e,t){q(n,e,t),r=!0},p:e,i(e){r||(G(n.$$.fragment,e),r=!0)},o(e){$(n.$$.fragment,e),r=!1},d(e){J(n,e)}}}();return{c(){n=h("div"),r=h("div"),T&&T.c(),o=g(),w&&w.c(),a=g(),S&&S.c(),i=g(),y&&y.c(),s=g(),b&&b.c(),l=g(),L&&L.c(),f=g(),R&&R.c(),p=m(),K(r,"class","OLSKViewportContent"),K(n,"class","KOMReview OLSKViewport svelte-1d11o65"),x(n,"OLSKIsLoading",t[0]._ValueIsLoading)},m(e,t){c(e,n,t),u(n,r),T&&T.m(r,null),u(r,o),w&&w.m(r,null),u(r,a),S&&S.m(r,null),u(r,i),y&&y.m(r,null),u(n,s),b&&b.m(n,null),u(n,l),L&&L.m(n,null),c(e,f,t),R&&R.m(e,t),c(e,p,t),O=!0},p(e,[t]){e[0]._ValueDeckSelected?T&&(H(),$(T,1,1,()=>{T=null}),j()):T?(T.p(e,t),1&t&&G(T,1)):(T=Gr(e),T.c(),G(T,1),T.m(r,o)),!e[0]._ValueDeckSelected||e[0]._ValueBrowseVisible||e[0]._ValuePlayVisible?w&&(H(),$(w,1,1,()=>{w=null}),j()):w?(w.p(e,t),1&t&&G(w,1)):(w=$r(e),w.c(),G(w,1),w.m(r,a)),e[0]._ValueDeckSelected&&e[0]._ValueBrowseVisible&&!e[0]._ValuePlayVisible?S?(S.p(e,t),1&t&&G(S,1)):(S=zr(e),S.c(),G(S,1),S.m(r,i)):S&&(H(),$(S,1,1,()=>{S=null}),j()),e[0]._ValuePlayVisible?y?(y.p(e,t),1&t&&G(y,1)):(y=Wr(e),y.c(),G(y,1),y.m(r,null)):y&&(H(),$(y,1,1,()=>{y=null}),j()),e[0]._ValuePlayVisible?L&&(H(),$(L,1,1,()=>{L=null}),j()):L?(L.p(e,t),1&t&&G(L,1)):(L=qr(e),L.c(),G(L,1),L.m(n,null)),1&t&&x(n,"OLSKIsLoading",e[0]._ValueIsLoading),v&&R.p(e,t)},i(e){O||(G(T),G(w),G(S),G(y),G(L),G(R),O=!0)},o(e){$(T),$(w),$(S),$(y),$(L),$(R),O=!1},d(e){e&&d(n),T&&T.d(),w&&w.d(),S&&S.d(),y&&y.d(),b&&b.d(),L&&L.d(),e&&d(f),R&&R.d(e),e&&d(p)}}}function Qr(e,t,n){const r=function(e){return te.OLSKInternationalLocalizedString(e,JSON.parse('{"en":{"OLSKAppToolbarGuideLinkText":"Guide","OLSKAppToolbarDonateLinkText":"Donate","OLSKAppToolbarLauncherButtonText":"Launcher","OLSKAppToolbarStorageButtonText":"Storage","OLSKDetailPlaceholderText":"No item selected","OLSKInputWrapperClearButtonText":"Clear text","OLSKLanguageSwitcherVersionFormat":"Version in %@","OLSKLanguageSwitcherVersionName":{"en":"English","fr":"French","es":"Spanish"},"OLSKMasterListFilterFieldText":"Filter","OLSKReloadButtonText":"Reload","OLSKRemoteStorageStatusOnline":"Online","OLSKRemoteStorageStatusNetworkOffline":"Offline","OLSKRemoteStorageStatusError":"Error","OLSKServiceWorkerUpdateAlertLabelText":"Update available","OLSKServiceWorkerUpdateAlertReloadButtonText":"Reload","KOMReviewLauncherItemSelectDeckTextFormat":"Select deck \'%@\'","KOMReviewLauncherItemSendLoginLinkText":"Send login link","KOMReviewLauncherItemSendLoginLinkSubject":"Kommit Login Link","KOMReviewLauncherItemDebugFlushDataText":"Flush data","KOMReviewLauncherItemDebugFlushDataConfirmText":"Are you sure?","KOMReviewChartCompositionStatesTotalCardsLabelText":"Total cards","KOMReviewChartCompositionStatesUnseenCardsLabelText":"Unseen","KOMReviewChartCompositionStatesDevelopingCardsLabelText":"Developing","KOMReviewChartCompositionStatesMatureCardsLabelText":"Mature","KOMReviewChartCompositionStatesSuspendedCardsLabelText":"Suspended","KOMReviewDetailToolbarBackButtonText":"Back","KOMReviewDetailToolbarCardsButtonText":"Cards","KOMReviewDetailGameOptionsHeadingText":"Game options","KOMReviewDetailNoCardsText":"There are no cards in this deck.","KOMReviewDetailFormAudioIsEnabledFieldLabelText":"Play audio","KOMReviewDetailFormFrontSpeechIsEnabledFieldLabelText":"Read front","KOMReviewDetailFormRearSpeechIsEnabledFieldLabelText":"Read back","KOMReviewDetailFormIsForwardOnlyFieldLabelText":"Skip reversed cards","KOMReviewDetailPlayButtonReviewingText":"Study review cards","KOMReviewDetailPlayButtonUnseenText":"Study new cards","KOMReviewDetailPlayButtonMixedText":"Study all cards","KOMReviewDetailPlayButtonSingleText":"Play","KOMReviewDetailNoSpacingsText":"All cards for today have been reviewed.","KOMReviewDetailTodayHeadingText":"Today","KOMReviewDetailGeneralHeadingText":"Historical","KOMReviewDetailDeckHeadingText":"Deck","KOMReviewDetailRenameButtonText":"Rename","KOMReviewDetailRenameButtonPromptText":"Name","KOMReviewDetailDiscardButtonText":"Delete deck and all cards inside","KOMReviewDetailDiscardPromptText":"Are you sure? Please type the name of the deck to confirm and delete.","KOMReviewDetailLanguageCodeFieldLabelText":"Language code","KOMReviewDetailLanguageCodeFieldOptionUnspecifiedText":"Unspecified","KOMReviewGeneralCardStatesHeadingText":"Cards","KOMReviewMasterToolbarTitleText":"Decks","KOMReviewMasterCreateButtonText":"Create deck","KOMReviewMasterCreateButtonPromptText":"Name","KOMReviewMasterListItemReviewLabelText":"review cards","KOMReviewMasterListItemUnseenLabelText":"new cards","KOMReviewTodayTotalCardsLabelText":"Total cards","KOMReviewTodayTimeMinutesLabelText":"Time (minutes)","KOMReviewTodayReviewAccuracyLabelText":"Review accuracy %","KOMBrowseInfoToolbarBackButtonText":"Back","KOMBrowseInfoToolbarDiscardButtonText":"Discard","KOMBrowseInfoDiscardConfirmText":"Are you sure?","KOMBrowseInfoToolbarTemplateButtonText":"Copy tags to new card","KOMBrowseInfoFormFrontTextFieldText":"Front text","KOMBrowseInfoFormFrontReadButtonText":"Read","KOMBrowseInfoFormRearTextFieldText":"Back text","KOMBrowseInfoFormRearReadButtonText":"Read","KOMBrowseInfoFormNotesFieldText":"Notes","KOMBrowseInfoAudioRecordButtonText":"Record","KOMBrowseInfoAudioRecordingAlertText":"Recording","KOMBrowseInfoAudioPlaybackButtonText":"Playback","KOMBrowseInfoAudioClearButtonText":"Clear","KOMBrowseInfoAudioNotAvailableAlertText":"Audio recording unsupported in this browser","KOMBrowseInfoTagsInputFieldText":"New tag name","KOMBrowseInfoTagsCreateButtonText":"Create tag","KOMBrowseInfoTagsRemoveButtonTextFormat":"Remove \'%@\'","KOMBrowseInfoTagsSuggestButtonTextFormat":"Add \'%@\'","KOMBrowseListToolbarCloseButtonText":"Close","KOMBrowseListToolbarCreateButtonText":"Create","KOMBrowseListItemUntitledText":"Untitled","KOMReviewLauncherItemDebugCardText":"Debug Card","KOMPlayToolbarUndoButtonText":"Undo","KOMPlayToolbarDoneButtonText":"Done","KOMPlayHearQuestionButtonText":"Hear question","KOMPlayHearAnswerButtonText":"Hear answer","KOMPlayFlipButtonText":"Flip","KOMPlayResponseButtonAgainText":"Again","KOMPlayResponseButtonHardText":"Sooner","KOMPlayResponseButtonGoodText":"Normal","KOMPlayResponseButtonEasyText":"Later"},"es":{"OLSKAppToolbarGuideLinkText":"Gua","OLSKAppToolbarDonateLinkText":"Donar","OLSKAppToolbarLauncherButtonText":"Lanzador","OLSKAppToolbarStorageButtonText":"Almacenamiento","OLSKDetailPlaceholderText":"Ningn artculo seleccionado","OLSKInputWrapperClearButtonText":"Despejar el texto","OLSKLanguageSwitcherVersionFormat":"Versin en %@","OLSKLanguageSwitcherVersionName":{"en":"ingls","fr":"francs","es":"espaol"},"OLSKMasterListFilterFieldText":"Filtrar","OLSKReloadButtonText":"Recargar","OLSKRemoteStorageStatusOnline":"En lneo","OLSKRemoteStorageStatusNetworkOffline":"Sin conexin","OLSKRemoteStorageStatusError":"Error","OLSKServiceWorkerUpdateAlertLabelText":"Actualizacin disponible","OLSKServiceWorkerUpdateAlertReloadButtonText":"Recargar"},"fr":{"OLSKAppToolbarGuideLinkText":"Guide","OLSKAppToolbarDonateLinkText":"Faire un don","OLSKAppToolbarLauncherButtonText":"Lanceur","OLSKAppToolbarStorageButtonText":"Stockage","OLSKDetailPlaceholderText":"Aucun article selection","OLSKInputWrapperClearButtonText":"Effacer le texte","OLSKLanguageSwitcherVersionFormat":"Version en %@","OLSKLanguageSwitcherVersionName":{"en":"anglais","fr":"franais","es":"espagnol"},"OLSKMasterListFilterFieldText":"Filtrer","OLSKReloadButtonText":"Recharger","OLSKRemoteStorageStatusOnline":"En ligne","OLSKRemoteStorageStatusNetworkOffline":"Hors connexion","OLSKRemoteStorageStatusError":"Erreur","OLSKServiceWorkerUpdateAlertLabelText":"Mise  jour disponible","OLSKServiceWorkerUpdateAlertReloadButtonText":"Recharger","KOMReviewLauncherItemSelectDeckTextFormat":"Choisir lot de cartes \'%@\'","KOMReviewLauncherItemSendLoginLinkText":"Envoyer lien d\'accs","KOMReviewLauncherItemSendLoginLinkSubject":"Kommit lien d\'accs","KOMReviewLauncherItemDebugFlushDataText":"Recharche les donnes","KOMReviewLauncherItemDebugFlushDataConfirmText":"tes-vous sr.e?","KOMReviewChartCompositionStatesTotalCardsLabelText":"Total des cartes","KOMReviewChartCompositionStatesUnseenCardsLabelText":"Non-vues","KOMReviewChartCompositionStatesDevelopingCardsLabelText":"En apprentisage","KOMReviewChartCompositionStatesMatureCardsLabelText":"Mature","KOMReviewChartCompositionStatesSuspendedCardsLabelText":"Suspendu","KOMReviewDetailToolbarBackButtonText":"Back","KOMReviewDetailToolbarCardsButtonText":"Cartes","KOMReviewDetailGameOptionsHeadingText":"Options du jeu","KOMReviewDetailNoCardsText":"Il n\'y a pas de cartes dans ce lot de cartes.","KOMReviewDetailFormAudioIsEnabledFieldLabelText":"Faire entendre la version audio enregistre","KOMReviewDetailFormFrontSpeechIsEnabledFieldLabelText":"Lire le recto","KOMReviewDetailFormRearSpeechIsEnabledFieldLabelText":"Lire le verso","KOMReviewDetailFormIsForwardOnlyFieldLabelText":"Ne pas activer la lecture des cartes inverses","KOMReviewDetailPlayButtonReviewingText":"tudier des cartes  rviser","KOMReviewDetailPlayButtonUnseenText":"tudier des nouvelles cartes","KOMReviewDetailPlayButtonMixedText":"tudier toutes les cartes","KOMReviewDetailPlayButtonSingleText":"Jouer","KOMReviewDetailNoSpacingsText":"Toutes les cartes pour aujourd\'hui ont t rvises.","KOMReviewDetailTodayHeadingText":"Aujourd\'hui","KOMReviewDetailGeneralHeadingText":"Historique","KOMReviewDetailDeckHeadingText":"Lot de cartes","KOMReviewDetailRenameButtonText":"Renommer","KOMReviewDetailRenameButtonPromptText":"Nom","KOMReviewDetailDiscardButtonText":"Supprimer le lot de cartes et toutes les cartes dedans","KOMReviewDetailDiscardPromptText":"tes-vous sr.e? Veuillez entrer le nom du lot de cartes pour confirmer et supprimer.","KOMReviewDetailLanguageCodeFieldLabelText":"Code de la langue","KOMReviewDetailLanguageCodeFieldOptionUnspecifiedText":"Non specifi","KOMReviewGeneralCardStatesHeadingText":"Les tats des cartes","KOMReviewMasterToolbarTitleText":"Lots de cartes","KOMReviewMasterCreateButtonText":"Crer lot de cartes","KOMReviewMasterCreateButtonPromptText":"Nom","KOMReviewMasterListItemReviewLabelText":"cartes  rviser","KOMReviewMasterListItemUnseenLabelText":"cartes nouvelles","KOMReviewTodayTotalCardsLabelText":"Total des cartes","KOMReviewTodayTimeMinutesLabelText":"Temps (minutes)","KOMReviewTodayReviewAccuracyLabelText":"Exactitude de la rvision %","KOMBrowseInfoToolbarBackButtonText":"Back","KOMBrowseInfoToolbarDiscardButtonText":"Jeter","KOMBrowseInfoDiscardConfirmText":"tes-vous sr.e?","KOMBrowseInfoToolbarTemplateButtonText":"Copier des tags  une nouvelle carte","KOMBrowseInfoFormFrontTextFieldText":"Texte du recto","KOMBrowseInfoFormFrontReadButtonText":"Lire","KOMBrowseInfoFormRearTextFieldText":"Texte du verso","KOMBrowseInfoFormRearReadButtonText":"Lire","KOMBrowseInfoFormNotesFieldText":"Notes","KOMBrowseInfoAudioRecordButtonText":"Enregistrer","KOMBrowseInfoAudioRecordingAlertText":"Enregistrement en cours","KOMBrowseInfoAudioPlaybackButtonText":"Lecture","KOMBrowseInfoAudioClearButtonText":"Effacer","KOMBrowseInfoAudioNotAvailableAlertText":"Enregistrement audio non pris en charge dans ce navigateur","KOMBrowseInfoTagsInputFieldText":"Nom du tag nouveau","KOMBrowseInfoTagsCreateButtonText":"Crer le tag","KOMBrowseInfoTagsRemoveButtonTextFormat":"Enlever \'%@\'","KOMBrowseInfoTagsSuggestButtonTextFormat":"Ajouter \'%@\'","KOMBrowseListToolbarCloseButtonText":"Fermer","KOMBrowseListToolbarCreateButtonText":"Crer","KOMBrowseListItemUntitledText":"Sans titre","KOMReviewLauncherItemDebugCardText":"Debug Card","KOMPlayToolbarUndoButtonText":"Annuler","KOMPlayToolbarDoneButtonText":"OK","KOMPlayHearQuestionButtonText":"couter la question","KOMPlayHearAnswerButtonText":"couter la rponse","KOMPlayFlipButtonText":"Retourner","KOMPlayResponseButtonAgainText":"Encore","KOMPlayResponseButtonHardText":"Plus tt","KOMPlayResponseButtonGoodText":"Normale","KOMPlayResponseButtonEasyText":"Plus tard"}}')[window.OLSKPublicConstants("OLSKSharedPageCurrentLanguage")])},o=re.OLSKStringWithFormat,a=se||le,i=ye||Le,s={_ValueIsLoading:!0,_ValueDecksAll:[],ValueDecksAll(e){n(0,s._ValueDecksAll=Ve.KOMReviewDeckSort(e),s)},_ValueDeckSelected:void 0,ValueDeckSelected(e){n(0,s._ValueDeckSelected=e,s)},_ValueBrowseVisible:!1,_ValuePlayVisible:!1,_ValuePlaySpacings:[],_ValueHoldCards:[],_ValueHoldSpacings:[],_ValueStorageToolbarHidden:!0,_ValueFooterStorageStatus:"",_ValueSpacingUpdateThrottleMap:{},_ValueCountThrottleMap:{},_ValueSpeechAvailable:"speechSynthesis"in window,DataRecipes(){const e=s._ValueDecksAll.filter((function(e){return e!==s._ValueDeckSelected})).map((function(e){return{LCHRecipeSignature:"KOMReviewLauncherItemSelectDeck",LCHRecipeName:o(r("KOMReviewLauncherItemSelectDeckTextFormat"),e.KOMDeckName),LCHRecipeCallback:()=>s.ControlDeckSelect(e)}}));return s._ValueStorageClient.connected&&e.push({LCHRecipeSignature:"KOMReviewLauncherItemSendLoginLink",LCHRecipeName:r("KOMReviewLauncherItemSendLoginLinkText"),LCHRecipeCallback:function(){const e=`mailto:?subject=${r("KOMReviewLauncherItemSendLoginLinkSubject")}&body=${encodeURIComponent(`${window.location.href}#remotestorage=${s._ValueStorageClient.remote.userAddress}&access_token=${s._ValueStorageClient.remote.token}`.replace(/#+/g,"#"))}`;ie()&&window.FakeOLSKConnected?window.FakeWindowLocationHref=e:window.location.href=e}},{LCHRecipeSignature:"KOMReviewLauncherItemDebugFlushData",LCHRecipeName:r("KOMReviewLauncherItemDebugFlushDataText"),LCHRecipeCallback:async function(){window.confirm(r("KOMReviewLauncherItemDebugFlushDataConfirmText"))&&(await s._ValueStorageClient.kommit.__HOTFIX.__OLSKRemoteStorageHotfixFlushData(),ie()&&window.FakeOLSKConnected&&(window.FakeWindowLocationHref="reload"))}}),s._KOMReviewDetail&&e.push(...s._KOMReviewDetail.modPublic.KOMReviewDetailRecipes()),s._KOMBrowse&&e.push(...s._KOMBrowse.modPublic.KOMBrowseRecipes()),ie()&&e.push({LCHRecipeName:"FakeOLSKConnected",LCHRecipeCallback(){n(0,s._ValueStorageClient=Object.assign({},s._ValueStorageClient),s),n(0,s._ValueStorageClient.connected=!0,s),n(0,s._ValueStorageClient.remote=Object.assign(s._ValueStorageClient.remote,{userAddress:"alfa",token:"bravo"}),s),window.FakeOLSKConnected=!0}},{LCHRecipeName:"FakeOLSKChangeDelegateCreateDeck",LCHRecipeCallback:async function(){return s.OLSKChangeDelegateCreateDeck(await Ee.KOMDeckActionCreate(s._ValueStorageClient,s.FakeDeckObjectValid("FakeOLSKChangeDelegateCreateDeck")))}},{LCHRecipeName:"FakeOLSKChangeDelegateUpdateDeck",LCHRecipeCallback:async function(){return s.OLSKChangeDelegateUpdateDeck(await Ee.KOMDeckActionUpdate(s._ValueStorageClient,s.FakeDeckObjectValid("FakeOLSKChangeDelegateUpdateDeck")))}},{LCHRecipeName:"FakeOLSKChangeDelegateDeleteDeck",LCHRecipeCallback:async function(){const e=s.FakeDeckObjectValid();return await Ee.KOMDeckActionDelete(s._ValueStorageClient,e),s.OLSKChangeDelegateDeleteDeck(e)}},{LCHRecipeName:"FakeOLSKChangeDelegateCreateCard",LCHRecipeCallback:async function(){return s.OLSKChangeDelegateCreateCard(await Ae.KOMCardActionCreate(s._ValueStorageClient,s.FakeCardObjectValid("FakeOLSKChangeDelegateCreateCard"),s.FakeDeckObjectValid()))}},{LCHRecipeName:"FakeOLSKChangeDelegateUpdateCard",LCHRecipeCallback:async function(){return s.OLSKChangeDelegateUpdateCard(await Ae.KOMCardActionUpdate(s._ValueStorageClient,s.FakeCardObjectValid("FakeOLSKChangeDelegateUpdateCard"),s.FakeDeckObjectValid()))}},{LCHRecipeName:"FakeOLSKChangeDelegateDeleteCard",LCHRecipeCallback:async function(){const e=s.FakeCardObjectValid();return await Ae.KOMCardActionDelete(s._ValueStorageClient,e,s.FakeDeckObjectValid()),s.OLSKChangeDelegateDeleteCard(e)}},{LCHRecipeName:"FakeOLSKChangeDelegateConflictCard",LCHRecipeCallback:async function(){const e=s._ValueDeckSelected.$KOMDeckCards.filter((function(e){return e.KOMCardFrontText.match("FakeOLSKChangeDelegate")})).pop();return s.OLSKChangeDelegateConflictCard({origin:"conflict",oldValue:await Ae.KOMCardActionUpdate(s._ValueStorageClient,Object.assign({},e,{KOMCardFrontText:e.KOMCardFrontText+"-local"})),newValue:Object.assign({},e,{KOMCardFrontText:e.KOMCardFrontText+"-remote"})})}},{LCHRecipeName:"FakeOLSKChangeDelegateCreateSpacing",LCHRecipeCallback:async function(){return s.OLSKChangeDelegateCreateSpacing(await Se.KOMSpacingStorageWrite(s._ValueStorageClient,s.FakeSpacingObjectValid(),s.FakeCardObjectValid(),s.FakeDeckObjectValid()))}},{LCHRecipeName:"FakeOLSKChangeDelegateUpdateSpacing",LCHRecipeCallback:function(){[!1,!0].map((async function(e){const t=await Se.KOMSpacingStorageWrite(s._ValueStorageClient,Object.assign(s.FakeSpacingObjectValid(e),{KOMSpacingIsLearning:!0,KOMSpacingDueDate:new Date}),s.FakeCardObjectValid(),s.FakeDeckObjectValid());e&&s.OLSKChangeDelegateUpdateSpacing(t)}))}},{LCHRecipeName:"FakeOLSKChangeDelegateDeleteSpacing",LCHRecipeCallback:function(){return s.OLSKChangeDelegateDeleteSpacing(s.FakeSpacingObjectValid())}},{LCHRecipeName:"KOMReviewLauncherItemToggleExcludeTripleQuestionMark",LCHRecipeCallback:async function(){const e=await Ne.KOMSettingsActionProperty(s._ValueStorageClient,"KOMSettingExcludeTripleQuestionMark");return Ne.KOMSettingsActionProperty(s._ValueStorageClient,"KOMSettingExcludeTripleQuestionMark","true"===e?"false":"true")}}),e},FakeDeckObjectValid:(e="")=>({KOMDeckID:"FakeDeckID",KOMDeckName:e,KOMDeckCreationDate:new Date,KOMDeckModificationDate:new Date}),FakeCardObjectValid:(e="")=>({KOMCardID:"FakeCardID",KOMCardDeckID:"FakeDeckID",KOMCardFrontText:e,KOMCardRearText:"",KOMCardCreationDate:new Date,KOMCardModificationDate:new Date}),FakeSpacingObjectValid:e=>({KOMSpacingID:"FakeCardID-"+(e?"backward":"forward"),KOMSpacingChronicles:[]}),async ControlDeckCreate(e){const t=await Ee.KOMDeckActionCreate(s._ValueStorageClient,{KOMDeckName:e,$KOMDeckCards:[],$KOMDeckSpacings:[],$KOMDeckTodayReviewCount:0,$KOMDeckTodayUnseenCount:0});s.ValueDecksAll(s._ValueDecksAll.concat(t))},async ControlDeckSave(e){await Ee.KOMDeckActionUpdate(s._ValueStorageClient,e)},async ControlDeckDiscard(e){s.ValueDecksAll(s._ValueDecksAll.filter((function(t){return t!==e}))),await Ee.KOMDeckActionDelete(s._ValueStorageClient,e)},ControlDeckSelect(e){s.ValueDeckSelected(e)},ControlSpacingSave(e){const t=s._ValueDeckSelected;He.OLSKThrottleMappedTimeout(s._ValueSpacingUpdateThrottleMap,e.KOMSpacingID,{OLSKThrottleDuration:ie()?0:500,OLSKThrottleCallback:()=>Se.KOMSpacingStorageWrite(s._ValueStorageClient,e,e.$KOMSpacingCard,t)})},ControlReadStart(e,t){if(ie()&&s.DebugAudioLog(`read:${t}:${e}`),!s._ValueSpeechAvailable)return;speechSynthesis.speaking&&speechSynthesis.cancel();const n=new SpeechSynthesisUtterance(e);n.lang=t,n.voice=speechSynthesis.getVoices().filter((function(e){return e.lang==n.lang})).pop(),speechSynthesis.speak(n)},KOMReviewMasterDispatchCreate(e){s.ControlDeckCreate(e)},KOMReviewMasterDispatchSelect(e){s.ControlDeckSelect(e)},KOMReviewDetailDispatchBack(){s.ControlDeckSelect(null)},KOMReviewDetailDispatchDiscard(e){s.ControlDeckSelect(null),s.ControlDeckDiscard(e)},KOMReviewDetailDispatchUpdate(e){s.ControlDeckSave(s._ValueDeckSelected),n(0,s._ValueDeckSelected=s._ValueDeckSelected,s)},KOMReviewDetailDispatchRecount(){s._ValueDeckSelected.$_KOMDeckUpdateToday()},KOMReviewDetailDispatchBrowse(){n(0,s._ValueBrowseVisible=!0,s)},KOMReviewDetailDispatchPlay(e){n(0,s._ValuePlaySpacings=Ue.KOMPlaySort(Ve.KOMReviewFilter(Ve.KOMReviewSpacingsToday(s._ValueDeckSelected.$KOMDeckSpacings),e,s._ValueDeckSelected)),s),n(0,s._ValuePlayVisible=!0,s)},async KOMBrowseDispatchCreate(e){s._ValueDeckSelected.$KOMDeckSpacings.push(...Object.values(await Se.KOMSpacingStorageList(s._ValueStorageClient,e,s._ValueDeckSelected)).map((function(t){return Object.assign(t,{$KOMSpacingCard:e})})))},KOMBrowseListDispatchClose(){window.location.search.match("DebugHotfixThrottleCount")||s.ReactThrottle(!0),n(0,s._ValueBrowseVisible=!1,s)},KOMBrowseInfoDispatchRead(){s.ControlReadStart(...arguments)},KOMPlayDispatchDone(){n(0,s._ValuePlayVisible=!1,s),s._ValueDeckSelected.$_KOMDeckUpdateToday()},KOMPlayDispatchUpdate(e){s.ControlSpacingSave(e)},KOMPlayDispatchFetch:async(e,t)=>await Ae.KOMCardActionAudioFetch(s._ValueStorageClient,e,t,s._ValueDeckSelected),OLSKAppToolbarDispatchStorage(){n(0,s._ValueStorageToolbarHidden=!s._ValueStorageToolbarHidden,s)},OLSKAppToolbarDispatchLauncher(){if(window.Launchlet.LCHSingletonExists())return window.Launchlet.LCHSingletonDestroy();window.Launchlet.LCHSingletonCreate({LCHOptionRecipes:s.DataRecipes()})},OLSKChangeDelegateCreateDeck(e){s.ReactThrottle()},OLSKChangeDelegateUpdateDeck(e){s.ReactThrottle()},OLSKChangeDelegateDeleteDeck(e){s.ReactThrottle()},OLSKChangeDelegateCreateCard(e){s._KOMBrowse&&s._ValueDeckSelected&&e.KOMCardDeckID===s._ValueDeckSelected.KOMDeckID&&s._KOMBrowse.modPublic.KOMBrowseChangeDelegateCreateCard(e),s.ReactThrottle()},OLSKChangeDelegateUpdateCard(e){s._KOMBrowse&&s._ValueDeckSelected&&e.KOMCardDeckID===s._ValueDeckSelected.KOMDeckID&&s._KOMBrowse.modPublic.KOMBrowseChangeDelegateUpdateCard(e),s.ReactThrottle()},OLSKChangeDelegateDeleteCard(e){s._KOMBrowse&&s._ValueDeckSelected&&e.KOMCardDeckID===s._ValueDeckSelected.KOMDeckID&&s._KOMBrowse.modPublic.KOMBrowseChangeDelegateDeleteCard(e),s.ReactThrottle()},OLSKChangeDelegateConflictCard:async e=>s.OLSKChangeDelegateUpdateCard(await Ae.KOMCardActionUpdate(s._ValueStorageClient,a.OLSKRemoteStorageChangeDelegateConflictSelectRecent(e))),OLSKChangeDelegateCreateSpacing(e){s.ReactThrottle()},OLSKChangeDelegateUpdateSpacing(e){s.ReactThrottle()},OLSKChangeDelegateDeleteSpacing(e){},ReactThrottle(e){He.OLSKThrottleMappedTimeout(s._ValueCountThrottleMap,"mod._ValueDecksAll",{OLSKThrottleDuration:e||ie()?0:500,async OLSKThrottleCallback(){if(await s.SetupValueDecksAll(),ie()){const e=s._ValueDecksAll[0];window.TestCardCount.innerHTML=e?e.$KOMDeckCards.length:0,window.TestSpacingCount.innerHTML=e?e.$KOMDeckSpacings.length:0,window.TestCallReactThrottle.innerHTML=parseInt(window.TestCallReactThrottle.innerHTML)+1}s.ReactSelected()}})},ReactSelected(){s._ValueDeckSelected&&(n(0,s._ValueDeckSelected=s._ValueDecksAll.filter((function(e){return e.KOMDeckID===s._ValueDeckSelected.KOMDeckID})).pop(),s),ie()&&(window.TestCallReactSelected.innerHTML=parseInt(window.TestCallReactSelected.innerHTML)+1))},async SetupEverything(){s.SetupStorageClient(),s.SetupStorageStatus(),await s.SetupStorageNotifications(),await s.SetupValueDecksAll(),n(0,s._ValueIsLoading=!1,s)},SetupStorageClient(){const e=fe.KOM_DataModule([Object.assign(Oe.KOMDeckStorageBuild,{OLSKChangeDelegate:{OLSKChangeDelegateCreate:s.OLSKChangeDelegateCreateDeck,OLSKChangeDelegateUpdate:s.OLSKChangeDelegateUpdateDeck,OLSKChangeDelegateDelete:s.OLSKChangeDelegateDeleteDeck}}),Object.assign(Me.KOMCardStorageBuild,{OLSKChangeDelegate:{OLSKChangeDelegateCreate:s.OLSKChangeDelegateCreateCard,OLSKChangeDelegateUpdate:s.OLSKChangeDelegateUpdateCard,OLSKChangeDelegateDelete:s.OLSKChangeDelegateDeleteCard,OLSKChangeDelegateConflict:s.OLSKChangeDelegateConflictCard}}),Object.assign(Se.KOMSpacingStorageBuild,{OLSKChangeDelegate:{OLSKChangeDelegateCreate:s.OLSKChangeDelegateCreateSpacing,OLSKChangeDelegateUpdate:s.OLSKChangeDelegateUpdateSpacing,OLSKChangeDelegateDelete:s.OLSKChangeDelegateDeleteSpacing}}),Te.KOMSettingStorageBuild],{OLSKOptionIncludeDebug:ie()||window.OLSKPublicConstants("OLSKDebugRemoteStorage")});n(0,s._ValueStorageClient=new i({modules:[e]}),s),s._ValueStorageClient.access.claim(e.name,"rw"),s._ValueStorageClient.caching.enable(`/${e.name}/`),window.OLSKPublicConstants("OLSKDebugRemoteStorage")&&(window.OLSKDebugRemoteStorage=s._ValueStorageClient)},SetupStorageStatus(){a.OLSKRemoteStorageStatus(s._ValueStorageClient,(function(e){n(0,s._ValueFooterStorageStatus=e,s)}),r)},async SetupStorageNotifications(){let e;return s._ValueStorageClient.on("sync-done",()=>{ie()||console.debug("sync-done",arguments)}),s._ValueStorageClient.on("network-offline",()=>{ie()||console.debug("network-offline",arguments),e=!0}),s._ValueStorageClient.on("network-online",()=>{ie()||console.debug("network-online",arguments),e=!1}),s._ValueStorageClient.on("error",t=>{e&&"Sync failed: Network request failed."===inputData.message||ie()||console.debug("error",t)}),new Promise((function(e,t){return s._ValueStorageClient.on("ready",e)}))},async SetupValueDecksAll(){const e="true"===(await Ne.KOMSettingsActionProperty(s._ValueStorageClient,"KOMSettingExcludeTripleQuestionMark")||{}).KOMSettingValue;s.ValueDecksAll(await Promise.all((await Ee.KOMDeckActionList(s._ValueStorageClient)).filter((function(e){return"object"==typeof e})).map((async function(t){const n=await Ae.KOMCardActionList(s._ValueStorageClient,t);t.$KOMDeckSpacings=[].concat(...await Promise.all((e?n.filter((function(e){return![e.KOMCardFrontText,e.KOMCardRearText].join(",").includes("???")})):n).map((async function(e){return Object.values(await Se.KOMSpacingStorageList(s._ValueStorageClient,e,t)).map((function(t){return Object.assign(t,{$KOMSpacingCard:e})}))}))));const r=function(){const e=Ve.KOMReviewSpacingsToday(t.$KOMDeckSpacings).filter((function(e){return!t.KOMDeckIsForwardOnly||!Ke.KOMSpacingModelIsBackward(e)})),n=Ke.KOMSpacingModelFilterUnique(e.filter((function(e){return!Ke.KOMSpacingModelIsUnseen(e)}))),r=Ke.KOMSpacingModelFilterUnique(e.filter(Ke.KOMSpacingModelIsUnseen));t.$KOMDeckTodayStudiedSpacings=t.$KOMDeckSpacings.filter((function(e){return!!e.KOMSpacingChronicles.length&&Ue.KOMPlayDayGrouping(e.KOMSpacingChronicles.slice(-1).pop().KOMChronicleResponseDate)===Ue.KOMPlayDayGrouping(new Date)})),t.$KOMDeckGeneralNotUnseenCount=t.$KOMDeckSpacings.filter((function(e){return e.KOMSpacingChronicles.length})).length,t.$KOMDeckTodayReviewCount=n.length,t.$KOMDeckTodayUnseenCount=r.length,t.$KOMDeckTodayStudiedCount=t.$KOMDeckTodayStudiedSpacings.length};return r(),Object.assign(t,{$KOMDeckCards:n,$_KOMDeckUpdateToday:r})}))))},LifecycleModuleWillMount(){s.SetupEverything()}};return R(s.LifecycleModuleWillMount),[s,function(e){D[e?"unshift":"push"](()=>{s._KOMReviewDetail=e,n(0,s)})},function(e){D[e?"unshift":"push"](()=>{s._KOMBrowse=e,n(0,s)})}]}return new class extends X{constructor(e){super(),Q(this,e,Qr,Yr,a,{})}}({target:document.body})}();
//# sourceMappingURL=ui-behaviour.js.map
