(function (root, factory) {
    if (typeof define === 'function' && define.amd) {
        // AMD. Register as an anonymous module.
        define([], factory);
    } else if (typeof module === 'object' && module.exports) {
        // Node. Does not work with strict CommonJS, but
        // only CommonJS-like environments that support module.exports,
        // like Node.
        module.exports = factory();
    } else {
        // Browser globals (root is window)
        root.webnative = factory();
  }
}(typeof self !== 'undefined' ? self : this, function () {  
var webnative=(()=>{var GF=Object.create;var sd=Object.defineProperty;var WF=Object.getOwnPropertyDescriptor;var YF=Object.getOwnPropertyNames;var VF=Object.getPrototypeOf,JF=Object.prototype.hasOwnProperty;var o2=t=>sd(t,"__esModule",{value:!0});var Vf=t=>{if(typeof require!="undefined")return require(t);throw new Error('Dynamic require of "'+t+'" is not supported')};var xr=(t,e)=>()=>(t&&(e=t(t=0)),e);var G=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),pt=(t,e)=>{o2(t);for(var r in e)sd(t,r,{get:e[r],enumerable:!0})},XF=(t,e,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of YF(e))!JF.call(t,n)&&n!=="default"&&sd(t,n,{get:()=>e[n],enumerable:!(r=WF(e,n))||r.enumerable});return t},Pr=t=>XF(o2(sd(t!=null?GF(VF(t)):{},"default",t&&t.__esModule&&"default"in t?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t);var ad=G((s2,Pm)=>{(function(t){if(typeof s2=="object"&&typeof Pm!="undefined")Pm.exports=t();else if(typeof define=="function"&&define.amd)define([],t);else{var e;typeof window!="undefined"?e=window:typeof global!="undefined"?e=global:typeof self!="undefined"?e=self:e=this,e.localforage=t()}})(function(){var t,e,r;return function n(i,s,u){function c(y,w){if(!s[y]){if(!i[y]){var B=typeof Vf=="function"&&Vf;if(!w&&B)return B(y,!0);if(p)return p(y,!0);var _=new Error("Cannot find module '"+y+"'");throw _.code="MODULE_NOT_FOUND",_}var R=s[y]={exports:{}};i[y][0].call(R.exports,function(W){var we=i[y][1][W];return c(we||W)},R,R.exports,n,i,s,u)}return s[y].exports}for(var p=typeof Vf=="function"&&Vf,l=0;l<u.length;l++)c(u[l]);return c}({1:[function(n,i,s){(function(u){"use strict";var c=u.MutationObserver||u.WebKitMutationObserver,p;if(c){var l=0,y=new c(W),w=u.document.createTextNode("");y.observe(w,{characterData:!0}),p=function(){w.data=l=++l%2}}else if(!u.setImmediate&&typeof u.MessageChannel!="undefined"){var B=new u.MessageChannel;B.port1.onmessage=W,p=function(){B.port2.postMessage(0)}}else"document"in u&&"onreadystatechange"in u.document.createElement("script")?p=function(){var Z=u.document.createElement("script");Z.onreadystatechange=function(){W(),Z.onreadystatechange=null,Z.parentNode.removeChild(Z),Z=null},u.document.documentElement.appendChild(Z)}:p=function(){setTimeout(W,0)};var _,R=[];function W(){_=!0;for(var Z,ne,V=R.length;V;){for(ne=R,R=[],Z=-1;++Z<V;)ne[Z]();V=R.length}_=!1}i.exports=we;function we(Z){R.push(Z)===1&&!_&&p()}}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],2:[function(n,i,s){"use strict";var u=n(1);function c(){}var p={},l=["REJECTED"],y=["FULFILLED"],w=["PENDING"];i.exports=B;function B(X){if(typeof X!="function")throw new TypeError("resolver must be a function");this.state=w,this.queue=[],this.outcome=void 0,X!==c&&we(this,X)}B.prototype.catch=function(X){return this.then(null,X)},B.prototype.then=function(X,ee){if(typeof X!="function"&&this.state===y||typeof ee!="function"&&this.state===l)return this;var Ae=new this.constructor(c);if(this.state!==w){var Ve=this.state===y?X:ee;R(Ae,Ve,this.outcome)}else this.queue.push(new _(Ae,X,ee));return Ae};function _(X,ee,Ae){this.promise=X,typeof ee=="function"&&(this.onFulfilled=ee,this.callFulfilled=this.otherCallFulfilled),typeof Ae=="function"&&(this.onRejected=Ae,this.callRejected=this.otherCallRejected)}_.prototype.callFulfilled=function(X){p.resolve(this.promise,X)},_.prototype.otherCallFulfilled=function(X){R(this.promise,this.onFulfilled,X)},_.prototype.callRejected=function(X){p.reject(this.promise,X)},_.prototype.otherCallRejected=function(X){R(this.promise,this.onRejected,X)};function R(X,ee,Ae){u(function(){var Ve;try{Ve=ee(Ae)}catch(ct){return p.reject(X,ct)}Ve===X?p.reject(X,new TypeError("Cannot resolve promise with itself")):p.resolve(X,Ve)})}p.resolve=function(X,ee){var Ae=Z(W,ee);if(Ae.status==="error")return p.reject(X,Ae.value);var Ve=Ae.value;if(Ve)we(X,Ve);else{X.state=y,X.outcome=ee;for(var ct=-1,_t=X.queue.length;++ct<_t;)X.queue[ct].callFulfilled(ee)}return X},p.reject=function(X,ee){X.state=l,X.outcome=ee;for(var Ae=-1,Ve=X.queue.length;++Ae<Ve;)X.queue[Ae].callRejected(ee);return X};function W(X){var ee=X&&X.then;if(X&&(typeof X=="object"||typeof X=="function")&&typeof ee=="function")return function(){ee.apply(X,arguments)}}function we(X,ee){var Ae=!1;function Ve(qe){Ae||(Ae=!0,p.reject(X,qe))}function ct(qe){Ae||(Ae=!0,p.resolve(X,qe))}function _t(){ee(ct,Ve)}var ht=Z(_t);ht.status==="error"&&Ve(ht.value)}function Z(X,ee){var Ae={};try{Ae.value=X(ee),Ae.status="success"}catch(Ve){Ae.status="error",Ae.value=Ve}return Ae}B.resolve=ne;function ne(X){return X instanceof this?X:p.resolve(new this(c),X)}B.reject=V;function V(X){var ee=new this(c);return p.reject(ee,X)}B.all=ce;function ce(X){var ee=this;if(Object.prototype.toString.call(X)!=="[object Array]")return this.reject(new TypeError("must be an array"));var Ae=X.length,Ve=!1;if(!Ae)return this.resolve([]);for(var ct=new Array(Ae),_t=0,ht=-1,qe=new this(c);++ht<Ae;)Ft(X[ht],ht);return qe;function Ft(Nt,or){ee.resolve(Nt).then(Jr,function(vr){Ve||(Ve=!0,p.reject(qe,vr))});function Jr(vr){ct[or]=vr,++_t===Ae&&!Ve&&(Ve=!0,p.resolve(qe,ct))}}}B.race=xe;function xe(X){var ee=this;if(Object.prototype.toString.call(X)!=="[object Array]")return this.reject(new TypeError("must be an array"));var Ae=X.length,Ve=!1;if(!Ae)return this.resolve([]);for(var ct=-1,_t=new this(c);++ct<Ae;)ht(X[ct]);return _t;function ht(qe){ee.resolve(qe).then(function(Ft){Ve||(Ve=!0,p.resolve(_t,Ft))},function(Ft){Ve||(Ve=!0,p.reject(_t,Ft))})}}},{"1":1}],3:[function(n,i,s){(function(u){"use strict";typeof u.Promise!="function"&&(u.Promise=n(2))}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"2":2}],4:[function(n,i,s){"use strict";var u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E};function c(E,N){if(!(E instanceof N))throw new TypeError("Cannot call a class as a function")}function p(){try{if(typeof indexedDB!="undefined")return indexedDB;if(typeof webkitIndexedDB!="undefined")return webkitIndexedDB;if(typeof mozIndexedDB!="undefined")return mozIndexedDB;if(typeof OIndexedDB!="undefined")return OIndexedDB;if(typeof msIndexedDB!="undefined")return msIndexedDB}catch(E){return}}var l=p();function y(){try{if(!l||!l.open)return!1;var E=typeof openDatabase!="undefined"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),N=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!E||N)&&typeof indexedDB!="undefined"&&typeof IDBKeyRange!="undefined"}catch(C){return!1}}function w(E,N){E=E||[],N=N||{};try{return new Blob(E,N)}catch(M){if(M.name!=="TypeError")throw M;for(var C=typeof BlobBuilder!="undefined"?BlobBuilder:typeof MSBlobBuilder!="undefined"?MSBlobBuilder:typeof MozBlobBuilder!="undefined"?MozBlobBuilder:WebKitBlobBuilder,j=new C,q=0;q<E.length;q+=1)j.append(E[q]);return j.getBlob(N.type)}}typeof Promise=="undefined"&&n(3);var B=Promise;function _(E,N){N&&E.then(function(C){N(null,C)},function(C){N(C)})}function R(E,N,C){typeof N=="function"&&E.then(N),typeof C=="function"&&E.catch(C)}function W(E){return typeof E!="string"&&(console.warn(E+" used as a key, but it is not a string."),E=String(E)),E}function we(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var Z="local-forage-detect-blob-support",ne=void 0,V={},ce=Object.prototype.toString,xe="readonly",X="readwrite";function ee(E){for(var N=E.length,C=new ArrayBuffer(N),j=new Uint8Array(C),q=0;q<N;q++)j[q]=E.charCodeAt(q);return C}function Ae(E){return new B(function(N){var C=E.transaction(Z,X),j=w([""]);C.objectStore(Z).put(j,"key"),C.onabort=function(q){q.preventDefault(),q.stopPropagation(),N(!1)},C.oncomplete=function(){var q=navigator.userAgent.match(/Chrome\/(\d+)/),M=navigator.userAgent.match(/Edge\//);N(M||!q||parseInt(q[1],10)>=43)}}).catch(function(){return!1})}function Ve(E){return typeof ne=="boolean"?B.resolve(ne):Ae(E).then(function(N){return ne=N,ne})}function ct(E){var N=V[E.name],C={};C.promise=new B(function(j,q){C.resolve=j,C.reject=q}),N.deferredOperations.push(C),N.dbReady?N.dbReady=N.dbReady.then(function(){return C.promise}):N.dbReady=C.promise}function _t(E){var N=V[E.name],C=N.deferredOperations.pop();if(C)return C.resolve(),C.promise}function ht(E,N){var C=V[E.name],j=C.deferredOperations.pop();if(j)return j.reject(N),j.promise}function qe(E,N){return new B(function(C,j){if(V[E.name]=V[E.name]||Ut(),E.db)if(N)ct(E),E.db.close();else return C(E.db);var q=[E.name];N&&q.push(E.version);var M=l.open.apply(l,q);N&&(M.onupgradeneeded=function(ae){var ge=M.result;try{ge.createObjectStore(E.storeName),ae.oldVersion<=1&&ge.createObjectStore(Z)}catch(_e){if(_e.name==="ConstraintError")console.warn('The database "'+E.name+'" has been upgraded from version '+ae.oldVersion+" to version "+ae.newVersion+', but the storage "'+E.storeName+'" already exists.');else throw _e}}),M.onerror=function(ae){ae.preventDefault(),j(M.error)},M.onsuccess=function(){C(M.result),_t(E)}})}function Ft(E){return qe(E,!1)}function Nt(E){return qe(E,!0)}function or(E,N){if(!E.db)return!0;var C=!E.db.objectStoreNames.contains(E.storeName),j=E.version<E.db.version,q=E.version>E.db.version;if(j&&(E.version!==N&&console.warn('The database "'+E.name+`" can't be downgraded from version `+E.db.version+" to version "+E.version+"."),E.version=E.db.version),q||C){if(C){var M=E.db.version+1;M>E.version&&(E.version=M)}return!0}return!1}function Jr(E){return new B(function(N,C){var j=new FileReader;j.onerror=C,j.onloadend=function(q){var M=btoa(q.target.result||"");N({__local_forage_encoded_blob:!0,data:M,type:E.type})},j.readAsBinaryString(E)})}function vr(E){var N=ee(atob(E.data));return w([N],{type:E.type})}function lr(E){return E&&E.__local_forage_encoded_blob}function ti(E){var N=this,C=N._initReady().then(function(){var j=V[N._dbInfo.name];if(j&&j.dbReady)return j.dbReady});return R(C,E,E),C}function Wt(E){ct(E);for(var N=V[E.name],C=N.forages,j=0;j<C.length;j++){var q=C[j];q._dbInfo.db&&(q._dbInfo.db.close(),q._dbInfo.db=null)}return E.db=null,Ft(E).then(function(M){return E.db=M,or(E)?Nt(E):M}).then(function(M){E.db=N.db=M;for(var ae=0;ae<C.length;ae++)C[ae]._dbInfo.db=M}).catch(function(M){throw ht(E,M),M})}function dt(E,N,C,j){j===void 0&&(j=1);try{var q=E.db.transaction(E.storeName,N);C(null,q)}catch(M){if(j>0&&(!E.db||M.name==="InvalidStateError"||M.name==="NotFoundError"))return B.resolve().then(function(){if(!E.db||M.name==="NotFoundError"&&!E.db.objectStoreNames.contains(E.storeName)&&E.version<=E.db.version)return E.db&&(E.version=E.db.version+1),Nt(E)}).then(function(){return Wt(E).then(function(){dt(E,N,C,j-1)})}).catch(C);C(M)}}function Ut(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function Bt(E){var N=this,C={db:null};if(E)for(var j in E)C[j]=E[j];var q=V[C.name];q||(q=Ut(),V[C.name]=q),q.forages.push(N),N._initReady||(N._initReady=N.ready,N.ready=ti);var M=[];function ae(){return B.resolve()}for(var ge=0;ge<q.forages.length;ge++){var _e=q.forages[ge];_e!==N&&M.push(_e._initReady().catch(ae))}var Se=q.forages.slice(0);return B.all(M).then(function(){return C.db=q.db,Ft(C)}).then(function(Pe){return C.db=Pe,or(C,N._defaultConfig.version)?Nt(C):Pe}).then(function(Pe){C.db=q.db=Pe,N._dbInfo=C;for(var Ke=0;Ke<Se.length;Ke++){var rt=Se[Ke];rt!==N&&(rt._dbInfo.db=C.db,rt._dbInfo.version=C.version)}})}function A(E,N){var C=this;E=W(E);var j=new B(function(q,M){C.ready().then(function(){dt(C._dbInfo,xe,function(ae,ge){if(ae)return M(ae);try{var _e=ge.objectStore(C._dbInfo.storeName),Se=_e.get(E);Se.onsuccess=function(){var Pe=Se.result;Pe===void 0&&(Pe=null),lr(Pe)&&(Pe=vr(Pe)),q(Pe)},Se.onerror=function(){M(Se.error)}}catch(Pe){M(Pe)}})}).catch(M)});return _(j,N),j}function fe(E,N){var C=this,j=new B(function(q,M){C.ready().then(function(){dt(C._dbInfo,xe,function(ae,ge){if(ae)return M(ae);try{var _e=ge.objectStore(C._dbInfo.storeName),Se=_e.openCursor(),Pe=1;Se.onsuccess=function(){var Ke=Se.result;if(Ke){var rt=Ke.value;lr(rt)&&(rt=vr(rt));var ft=E(rt,Ke.key,Pe++);ft!==void 0?q(ft):Ke.continue()}else q()},Se.onerror=function(){M(Se.error)}}catch(Ke){M(Ke)}})}).catch(M)});return _(j,N),j}function pe(E,N,C){var j=this;E=W(E);var q=new B(function(M,ae){var ge;j.ready().then(function(){return ge=j._dbInfo,ce.call(N)==="[object Blob]"?Ve(ge.db).then(function(_e){return _e?N:Jr(N)}):N}).then(function(_e){dt(j._dbInfo,X,function(Se,Pe){if(Se)return ae(Se);try{var Ke=Pe.objectStore(j._dbInfo.storeName);_e===null&&(_e=void 0);var rt=Ke.put(_e,E);Pe.oncomplete=function(){_e===void 0&&(_e=null),M(_e)},Pe.onabort=Pe.onerror=function(){var ft=rt.error?rt.error:rt.transaction.error;ae(ft)}}catch(ft){ae(ft)}})}).catch(ae)});return _(q,C),q}function Be(E,N){var C=this;E=W(E);var j=new B(function(q,M){C.ready().then(function(){dt(C._dbInfo,X,function(ae,ge){if(ae)return M(ae);try{var _e=ge.objectStore(C._dbInfo.storeName),Se=_e.delete(E);ge.oncomplete=function(){q()},ge.onerror=function(){M(Se.error)},ge.onabort=function(){var Pe=Se.error?Se.error:Se.transaction.error;M(Pe)}}catch(Pe){M(Pe)}})}).catch(M)});return _(j,N),j}function De(E){var N=this,C=new B(function(j,q){N.ready().then(function(){dt(N._dbInfo,X,function(M,ae){if(M)return q(M);try{var ge=ae.objectStore(N._dbInfo.storeName),_e=ge.clear();ae.oncomplete=function(){j()},ae.onabort=ae.onerror=function(){var Se=_e.error?_e.error:_e.transaction.error;q(Se)}}catch(Se){q(Se)}})}).catch(q)});return _(C,E),C}function $e(E){var N=this,C=new B(function(j,q){N.ready().then(function(){dt(N._dbInfo,xe,function(M,ae){if(M)return q(M);try{var ge=ae.objectStore(N._dbInfo.storeName),_e=ge.count();_e.onsuccess=function(){j(_e.result)},_e.onerror=function(){q(_e.error)}}catch(Se){q(Se)}})}).catch(q)});return _(C,E),C}function We(E,N){var C=this,j=new B(function(q,M){if(E<0){q(null);return}C.ready().then(function(){dt(C._dbInfo,xe,function(ae,ge){if(ae)return M(ae);try{var _e=ge.objectStore(C._dbInfo.storeName),Se=!1,Pe=_e.openKeyCursor();Pe.onsuccess=function(){var Ke=Pe.result;if(!Ke){q(null);return}E===0||Se?q(Ke.key):(Se=!0,Ke.advance(E))},Pe.onerror=function(){M(Pe.error)}}catch(Ke){M(Ke)}})}).catch(M)});return _(j,N),j}function Oe(E){var N=this,C=new B(function(j,q){N.ready().then(function(){dt(N._dbInfo,xe,function(M,ae){if(M)return q(M);try{var ge=ae.objectStore(N._dbInfo.storeName),_e=ge.openKeyCursor(),Se=[];_e.onsuccess=function(){var Pe=_e.result;if(!Pe){j(Se);return}Se.push(Pe.key),Pe.continue()},_e.onerror=function(){q(_e.error)}}catch(Pe){q(Pe)}})}).catch(q)});return _(C,E),C}function Lt(E,N){N=we.apply(this,arguments);var C=this.config();E=typeof E!="function"&&E||{},E.name||(E.name=E.name||C.name,E.storeName=E.storeName||C.storeName);var j=this,q;if(!E.name)q=B.reject("Invalid arguments");else{var M=E.name===C.name&&j._dbInfo.db,ae=M?B.resolve(j._dbInfo.db):Ft(E).then(function(ge){var _e=V[E.name],Se=_e.forages;_e.db=ge;for(var Pe=0;Pe<Se.length;Pe++)Se[Pe]._dbInfo.db=ge;return ge});E.storeName?q=ae.then(function(ge){if(!!ge.objectStoreNames.contains(E.storeName)){var _e=ge.version+1;ct(E);var Se=V[E.name],Pe=Se.forages;ge.close();for(var Ke=0;Ke<Pe.length;Ke++){var rt=Pe[Ke];rt._dbInfo.db=null,rt._dbInfo.version=_e}var ft=new B(function(Et,Yt){var Mt=l.open(E.name,_e);Mt.onerror=function(kr){var Ni=Mt.result;Ni.close(),Yt(kr)},Mt.onupgradeneeded=function(){var kr=Mt.result;kr.deleteObjectStore(E.storeName)},Mt.onsuccess=function(){var kr=Mt.result;kr.close(),Et(kr)}});return ft.then(function(Et){Se.db=Et;for(var Yt=0;Yt<Pe.length;Yt++){var Mt=Pe[Yt];Mt._dbInfo.db=Et,_t(Mt._dbInfo)}}).catch(function(Et){throw(ht(E,Et)||B.resolve()).catch(function(){}),Et})}}):q=ae.then(function(ge){ct(E);var _e=V[E.name],Se=_e.forages;ge.close();for(var Pe=0;Pe<Se.length;Pe++){var Ke=Se[Pe];Ke._dbInfo.db=null}var rt=new B(function(ft,Et){var Yt=l.deleteDatabase(E.name);Yt.onerror=Yt.onblocked=function(Mt){var kr=Yt.result;kr&&kr.close(),Et(Mt)},Yt.onsuccess=function(){var Mt=Yt.result;Mt&&Mt.close(),ft(Mt)}});return rt.then(function(ft){_e.db=ft;for(var Et=0;Et<Se.length;Et++){var Yt=Se[Et];_t(Yt._dbInfo)}}).catch(function(ft){throw(ht(E,ft)||B.resolve()).catch(function(){}),ft})})}return _(q,N),q}var Ze={_driver:"asyncStorage",_initStorage:Bt,_support:y(),iterate:fe,getItem:A,setItem:pe,removeItem:Be,clear:De,length:$e,key:We,keys:Oe,dropInstance:Lt};function yt(){return typeof openDatabase=="function"}var Ir="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Pi="~~local_forage_type~",Xr=/^~~local_forage_type~([^~]+)~/,ar="__lfsc__:",zr=ar.length,dr="arbf",le="blob",Kr="si08",Y="ui08",re="uic8",ye="si16",Ie="si32",je="ur16",$t="ui32",Qe="fl32",et="fl64",Ue=zr+dr.length,st=Object.prototype.toString;function at(E){var N=E.length*.75,C=E.length,j,q=0,M,ae,ge,_e;E[E.length-1]==="="&&(N--,E[E.length-2]==="="&&N--);var Se=new ArrayBuffer(N),Pe=new Uint8Array(Se);for(j=0;j<C;j+=4)M=Ir.indexOf(E[j]),ae=Ir.indexOf(E[j+1]),ge=Ir.indexOf(E[j+2]),_e=Ir.indexOf(E[j+3]),Pe[q++]=M<<2|ae>>4,Pe[q++]=(ae&15)<<4|ge>>2,Pe[q++]=(ge&3)<<6|_e&63;return Se}function er(E){var N=new Uint8Array(E),C="",j;for(j=0;j<N.length;j+=3)C+=Ir[N[j]>>2],C+=Ir[(N[j]&3)<<4|N[j+1]>>4],C+=Ir[(N[j+1]&15)<<2|N[j+2]>>6],C+=Ir[N[j+2]&63];return N.length%3==2?C=C.substring(0,C.length-1)+"=":N.length%3==1&&(C=C.substring(0,C.length-2)+"=="),C}function zn(E,N){var C="";if(E&&(C=st.call(E)),E&&(C==="[object ArrayBuffer]"||E.buffer&&st.call(E.buffer)==="[object ArrayBuffer]")){var j,q=ar;E instanceof ArrayBuffer?(j=E,q+=dr):(j=E.buffer,C==="[object Int8Array]"?q+=Kr:C==="[object Uint8Array]"?q+=Y:C==="[object Uint8ClampedArray]"?q+=re:C==="[object Int16Array]"?q+=ye:C==="[object Uint16Array]"?q+=je:C==="[object Int32Array]"?q+=Ie:C==="[object Uint32Array]"?q+=$t:C==="[object Float32Array]"?q+=Qe:C==="[object Float64Array]"?q+=et:N(new Error("Failed to get type for BinaryArray"))),N(q+er(j))}else if(C==="[object Blob]"){var M=new FileReader;M.onload=function(){var ae=Pi+E.type+"~"+er(this.result);N(ar+le+ae)},M.readAsArrayBuffer(E)}else try{N(JSON.stringify(E))}catch(ae){console.error("Couldn't convert value into a JSON string: ",E),N(null,ae)}}function ro(E){if(E.substring(0,zr)!==ar)return JSON.parse(E);var N=E.substring(Ue),C=E.substring(zr,Ue),j;if(C===le&&Xr.test(N)){var q=N.match(Xr);j=q[1],N=N.substring(q[0].length)}var M=at(N);switch(C){case dr:return M;case le:return w([M],{type:j});case Kr:return new Int8Array(M);case Y:return new Uint8Array(M);case re:return new Uint8ClampedArray(M);case ye:return new Int16Array(M);case je:return new Uint16Array(M);case Ie:return new Int32Array(M);case $t:return new Uint32Array(M);case Qe:return new Float32Array(M);case et:return new Float64Array(M);default:throw new Error("Unkown type: "+C)}}var Ci={serialize:zn,deserialize:ro,stringToBuffer:at,bufferToString:er};function Ti(E,N,C,j){E.executeSql("CREATE TABLE IF NOT EXISTS "+N.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],C,j)}function Fi(E){var N=this,C={db:null};if(E)for(var j in E)C[j]=typeof E[j]!="string"?E[j].toString():E[j];var q=new B(function(M,ae){try{C.db=openDatabase(C.name,String(C.version),C.description,C.size)}catch(ge){return ae(ge)}C.db.transaction(function(ge){Ti(ge,C,function(){N._dbInfo=C,M()},function(_e,Se){ae(Se)})},ae)});return C.serializer=Ci,q}function an(E,N,C,j,q,M){E.executeSql(C,j,q,function(ae,ge){ge.code===ge.SYNTAX_ERR?ae.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[N.storeName],function(_e,Se){Se.rows.length?M(_e,ge):Ti(_e,N,function(){_e.executeSql(C,j,q,M)},M)},M):M(ae,ge)},M)}function jo(E,N){var C=this;E=W(E);var j=new B(function(q,M){C.ready().then(function(){var ae=C._dbInfo;ae.db.transaction(function(ge){an(ge,ae,"SELECT * FROM "+ae.storeName+" WHERE key = ? LIMIT 1",[E],function(_e,Se){var Pe=Se.rows.length?Se.rows.item(0).value:null;Pe&&(Pe=ae.serializer.deserialize(Pe)),q(Pe)},function(_e,Se){M(Se)})})}).catch(M)});return _(j,N),j}function zo(E,N){var C=this,j=new B(function(q,M){C.ready().then(function(){var ae=C._dbInfo;ae.db.transaction(function(ge){an(ge,ae,"SELECT * FROM "+ae.storeName,[],function(_e,Se){for(var Pe=Se.rows,Ke=Pe.length,rt=0;rt<Ke;rt++){var ft=Pe.item(rt),Et=ft.value;if(Et&&(Et=ae.serializer.deserialize(Et)),Et=E(Et,ft.key,rt+1),Et!==void 0){q(Et);return}}q()},function(_e,Se){M(Se)})})}).catch(M)});return _(j,N),j}function no(E,N,C,j){var q=this;E=W(E);var M=new B(function(ae,ge){q.ready().then(function(){N===void 0&&(N=null);var _e=N,Se=q._dbInfo;Se.serializer.serialize(N,function(Pe,Ke){Ke?ge(Ke):Se.db.transaction(function(rt){an(rt,Se,"INSERT OR REPLACE INTO "+Se.storeName+" (key, value) VALUES (?, ?)",[E,Pe],function(){ae(_e)},function(ft,Et){ge(Et)})},function(rt){if(rt.code===rt.QUOTA_ERR){if(j>0){ae(no.apply(q,[E,_e,C,j-1]));return}ge(rt)}})})}).catch(ge)});return _(M,C),M}function Bi(E,N,C){return no.apply(this,[E,N,C,1])}function io(E,N){var C=this;E=W(E);var j=new B(function(q,M){C.ready().then(function(){var ae=C._dbInfo;ae.db.transaction(function(ge){an(ge,ae,"DELETE FROM "+ae.storeName+" WHERE key = ?",[E],function(){q()},function(_e,Se){M(Se)})})}).catch(M)});return _(j,N),j}function Ko(E){var N=this,C=new B(function(j,q){N.ready().then(function(){var M=N._dbInfo;M.db.transaction(function(ae){an(ae,M,"DELETE FROM "+M.storeName,[],function(){j()},function(ge,_e){q(_e)})})}).catch(q)});return _(C,E),C}function qo(E){var N=this,C=new B(function(j,q){N.ready().then(function(){var M=N._dbInfo;M.db.transaction(function(ae){an(ae,M,"SELECT COUNT(key) as c FROM "+M.storeName,[],function(ge,_e){var Se=_e.rows.item(0).c;j(Se)},function(ge,_e){q(_e)})})}).catch(q)});return _(C,E),C}function Ii(E,N){var C=this,j=new B(function(q,M){C.ready().then(function(){var ae=C._dbInfo;ae.db.transaction(function(ge){an(ge,ae,"SELECT key FROM "+ae.storeName+" WHERE id = ? LIMIT 1",[E+1],function(_e,Se){var Pe=Se.rows.length?Se.rows.item(0).key:null;q(Pe)},function(_e,Se){M(Se)})})}).catch(M)});return _(j,N),j}function Ho(E){var N=this,C=new B(function(j,q){N.ready().then(function(){var M=N._dbInfo;M.db.transaction(function(ae){an(ae,M,"SELECT key FROM "+M.storeName,[],function(ge,_e){for(var Se=[],Pe=0;Pe<_e.rows.length;Pe++)Se.push(_e.rows.item(Pe).key);j(Se)},function(ge,_e){q(_e)})})}).catch(q)});return _(C,E),C}function Di(E){return new B(function(N,C){E.transaction(function(j){j.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(q,M){for(var ae=[],ge=0;ge<M.rows.length;ge++)ae.push(M.rows.item(ge).name);N({db:E,storeNames:ae})},function(q,M){C(M)})},function(j){C(j)})})}function ur(E,N){N=we.apply(this,arguments);var C=this.config();E=typeof E!="function"&&E||{},E.name||(E.name=E.name||C.name,E.storeName=E.storeName||C.storeName);var j=this,q;return E.name?q=new B(function(M){var ae;E.name===C.name?ae=j._dbInfo.db:ae=openDatabase(E.name,"","",0),E.storeName?M({db:ae,storeNames:[E.storeName]}):M(Di(ae))}).then(function(M){return new B(function(ae,ge){M.db.transaction(function(_e){function Se(ft){return new B(function(Et,Yt){_e.executeSql("DROP TABLE IF EXISTS "+ft,[],function(){Et()},function(Mt,kr){Yt(kr)})})}for(var Pe=[],Ke=0,rt=M.storeNames.length;Ke<rt;Ke++)Pe.push(Se(M.storeNames[Ke]));B.all(Pe).then(function(){ae()}).catch(function(ft){ge(ft)})},function(_e){ge(_e)})})}):q=B.reject("Invalid arguments"),_(q,N),q}var wr={_driver:"webSQLStorage",_initStorage:Fi,_support:yt(),iterate:zo,getItem:jo,setItem:Bi,removeItem:io,clear:Ko,length:qo,key:Ii,keys:Ho,dropInstance:ur};function ri(){try{return typeof localStorage!="undefined"&&"setItem"in localStorage&&!!localStorage.setItem}catch(E){return!1}}function Kn(E,N){var C=E.name+"/";return E.storeName!==N.storeName&&(C+=E.storeName+"/"),C}function oo(){var E="_localforage_support_test";try{return localStorage.setItem(E,!0),localStorage.removeItem(E),!1}catch(N){return!0}}function so(){return!oo()||localStorage.length>0}function ao(E){var N=this,C={};if(E)for(var j in E)C[j]=E[j];return C.keyPrefix=Kn(E,N._defaultConfig),so()?(N._dbInfo=C,C.serializer=Ci,B.resolve()):B.reject()}function $o(E){var N=this,C=N.ready().then(function(){for(var j=N._dbInfo.keyPrefix,q=localStorage.length-1;q>=0;q--){var M=localStorage.key(q);M.indexOf(j)===0&&localStorage.removeItem(M)}});return _(C,E),C}function uo(E,N){var C=this;E=W(E);var j=C.ready().then(function(){var q=C._dbInfo,M=localStorage.getItem(q.keyPrefix+E);return M&&(M=q.serializer.deserialize(M)),M});return _(j,N),j}function Go(E,N){var C=this,j=C.ready().then(function(){for(var q=C._dbInfo,M=q.keyPrefix,ae=M.length,ge=localStorage.length,_e=1,Se=0;Se<ge;Se++){var Pe=localStorage.key(Se);if(Pe.indexOf(M)===0){var Ke=localStorage.getItem(Pe);if(Ke&&(Ke=q.serializer.deserialize(Ke)),Ke=E(Ke,Pe.substring(ae),_e++),Ke!==void 0)return Ke}}});return _(j,N),j}function Wo(E,N){var C=this,j=C.ready().then(function(){var q=C._dbInfo,M;try{M=localStorage.key(E)}catch(ae){M=null}return M&&(M=M.substring(q.keyPrefix.length)),M});return _(j,N),j}function ni(E){var N=this,C=N.ready().then(function(){for(var j=N._dbInfo,q=localStorage.length,M=[],ae=0;ae<q;ae++){var ge=localStorage.key(ae);ge.indexOf(j.keyPrefix)===0&&M.push(ge.substring(j.keyPrefix.length))}return M});return _(C,E),C}function Yo(E){var N=this,C=N.keys().then(function(j){return j.length});return _(C,E),C}function Vo(E,N){var C=this;E=W(E);var j=C.ready().then(function(){var q=C._dbInfo;localStorage.removeItem(q.keyPrefix+E)});return _(j,N),j}function co(E,N,C){var j=this;E=W(E);var q=j.ready().then(function(){N===void 0&&(N=null);var M=N;return new B(function(ae,ge){var _e=j._dbInfo;_e.serializer.serialize(N,function(Se,Pe){if(Pe)ge(Pe);else try{localStorage.setItem(_e.keyPrefix+E,Se),ae(M)}catch(Ke){(Ke.name==="QuotaExceededError"||Ke.name==="NS_ERROR_DOM_QUOTA_REACHED")&&ge(Ke),ge(Ke)}})})});return _(q,C),q}function gn(E,N){if(N=we.apply(this,arguments),E=typeof E!="function"&&E||{},!E.name){var C=this.config();E.name=E.name||C.name,E.storeName=E.storeName||C.storeName}var j=this,q;return E.name?q=new B(function(M){E.storeName?M(Kn(E,j._defaultConfig)):M(E.name+"/")}).then(function(M){for(var ae=localStorage.length-1;ae>=0;ae--){var ge=localStorage.key(ae);ge.indexOf(M)===0&&localStorage.removeItem(ge)}}):q=B.reject("Invalid arguments"),_(q,N),q}var Jo={_driver:"localStorageWrapper",_initStorage:ao,_support:ri(),iterate:Go,getItem:uo,setItem:co,removeItem:Vo,clear:$o,length:Yo,key:Wo,keys:ni,dropInstance:gn},sa=function(N,C){return N===C||typeof N=="number"&&typeof C=="number"&&isNaN(N)&&isNaN(C)},Vu=function(N,C){for(var j=N.length,q=0;q<j;){if(sa(N[q],C))return!0;q++}return!1},Ju=Array.isArray||function(E){return Object.prototype.toString.call(E)==="[object Array]"},fo={},aa={},Sn={INDEXEDDB:Ze,WEBSQL:wr,LOCALSTORAGE:Jo},ua=[Sn.INDEXEDDB._driver,Sn.WEBSQL._driver,Sn.LOCALSTORAGE._driver],Es=["dropInstance"],ca=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Es),Xu={description:"",driver:ua.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Ya(E,N){E[N]=function(){var C=arguments;return E.ready().then(function(){return E[N].apply(E,C)})}}function Xo(){for(var E=1;E<arguments.length;E++){var N=arguments[E];if(N)for(var C in N)N.hasOwnProperty(C)&&(Ju(N[C])?arguments[0][C]=N[C].slice():arguments[0][C]=N[C])}return arguments[0]}var lo=function(){function E(N){c(this,E);for(var C in Sn)if(Sn.hasOwnProperty(C)){var j=Sn[C],q=j._driver;this[C]=q,fo[q]||this.defineDriver(j)}this._defaultConfig=Xo({},Xu),this._config=Xo({},this._defaultConfig,N),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return E.prototype.config=function(C){if((typeof C=="undefined"?"undefined":u(C))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var j in C){if(j==="storeName"&&(C[j]=C[j].replace(/\W/g,"_")),j==="version"&&typeof C[j]!="number")return new Error("Database version must be a number.");this._config[j]=C[j]}return"driver"in C&&C.driver?this.setDriver(this._config.driver):!0}else return typeof C=="string"?this._config[C]:this._config},E.prototype.defineDriver=function(C,j,q){var M=new B(function(ae,ge){try{var _e=C._driver,Se=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!C._driver){ge(Se);return}for(var Pe=ca.concat("_initStorage"),Ke=0,rt=Pe.length;Ke<rt;Ke++){var ft=Pe[Ke],Et=!Vu(Es,ft);if((Et||C[ft])&&typeof C[ft]!="function"){ge(Se);return}}var Yt=function(){for(var Ni=function(Qu){return function(){var Ui=new Error("Method "+Qu+" is not implemented by the current driver"),ec=B.reject(Ui);return _(ec,arguments[arguments.length-1]),ec}},Zo=0,Zu=Es.length;Zo<Zu;Zo++){var Va=Es[Zo];C[Va]||(C[Va]=Ni(Va))}};Yt();var Mt=function(Ni){fo[_e]&&console.info("Redefining LocalForage driver: "+_e),fo[_e]=C,aa[_e]=Ni,ae()};"_support"in C?C._support&&typeof C._support=="function"?C._support().then(Mt,ge):Mt(!!C._support):Mt(!0)}catch(kr){ge(kr)}});return R(M,j,q),M},E.prototype.driver=function(){return this._driver||null},E.prototype.getDriver=function(C,j,q){var M=fo[C]?B.resolve(fo[C]):B.reject(new Error("Driver not found."));return R(M,j,q),M},E.prototype.getSerializer=function(C){var j=B.resolve(Ci);return R(j,C),j},E.prototype.ready=function(C){var j=this,q=j._driverSet.then(function(){return j._ready===null&&(j._ready=j._initDriver()),j._ready});return R(q,C,C),q},E.prototype.setDriver=function(C,j,q){var M=this;Ju(C)||(C=[C]);var ae=this._getSupportedDrivers(C);function ge(){M._config.driver=M.driver()}function _e(Ke){return M._extend(Ke),ge(),M._ready=M._initStorage(M._config),M._ready}function Se(Ke){return function(){var rt=0;function ft(){for(;rt<Ke.length;){var Et=Ke[rt];return rt++,M._dbInfo=null,M._ready=null,M.getDriver(Et).then(_e).catch(ft)}ge();var Yt=new Error("No available storage method found.");return M._driverSet=B.reject(Yt),M._driverSet}return ft()}}var Pe=this._driverSet!==null?this._driverSet.catch(function(){return B.resolve()}):B.resolve();return this._driverSet=Pe.then(function(){var Ke=ae[0];return M._dbInfo=null,M._ready=null,M.getDriver(Ke).then(function(rt){M._driver=rt._driver,ge(),M._wrapLibraryMethodsWithReady(),M._initDriver=Se(ae)})}).catch(function(){ge();var Ke=new Error("No available storage method found.");return M._driverSet=B.reject(Ke),M._driverSet}),R(this._driverSet,j,q),this._driverSet},E.prototype.supports=function(C){return!!aa[C]},E.prototype._extend=function(C){Xo(this,C)},E.prototype._getSupportedDrivers=function(C){for(var j=[],q=0,M=C.length;q<M;q++){var ae=C[q];this.supports(ae)&&j.push(ae)}return j},E.prototype._wrapLibraryMethodsWithReady=function(){for(var C=0,j=ca.length;C<j;C++)Ya(this,ca[C])},E.prototype.createInstance=function(C){return new E(C)},E}(),Ri=new lo;i.exports=Ri},{"3":3}]},{},[4])(4)})});var f2=G((Z9,c2)=>{"use strict";function eB(t,e){for(let r=0;r<t.byteLength;r++){if(t[r]<e[r])return-1;if(t[r]>e[r])return 1}return t.byteLength>e.byteLength?1:t.byteLength<e.byteLength?-1:0}c2.exports=eB});var h2=G((Q9,l2)=>{"use strict";function tB(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));let r=new Uint8Array(e),n=0;for(let i of t)r.set(i,n),n+=i.length;return r}l2.exports=tB});var p2=G((ez,d2)=>{"use strict";function rB(t,e){if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0}d2.exports=rB});function nB(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),u=s.charCodeAt(0);if(r[u]!==255)throw new TypeError(s+" is ambiguous");r[u]=i}var c=t.length,p=t.charAt(0),l=Math.log(c)/Math.log(256),y=Math.log(256)/Math.log(c);function w(R){if(R instanceof Uint8Array||(ArrayBuffer.isView(R)?R=new Uint8Array(R.buffer,R.byteOffset,R.byteLength):Array.isArray(R)&&(R=Uint8Array.from(R))),!(R instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(R.length===0)return"";for(var W=0,we=0,Z=0,ne=R.length;Z!==ne&&R[Z]===0;)Z++,W++;for(var V=(ne-Z)*y+1>>>0,ce=new Uint8Array(V);Z!==ne;){for(var xe=R[Z],X=0,ee=V-1;(xe!==0||X<we)&&ee!==-1;ee--,X++)xe+=256*ce[ee]>>>0,ce[ee]=xe%c>>>0,xe=xe/c>>>0;if(xe!==0)throw new Error("Non-zero carry");we=X,Z++}for(var Ae=V-we;Ae!==V&&ce[Ae]===0;)Ae++;for(var Ve=p.repeat(W);Ae<V;++Ae)Ve+=t.charAt(ce[Ae]);return Ve}function B(R){if(typeof R!="string")throw new TypeError("Expected String");if(R.length===0)return new Uint8Array;var W=0;if(R[W]!==" "){for(var we=0,Z=0;R[W]===p;)we++,W++;for(var ne=(R.length-W)*l+1>>>0,V=new Uint8Array(ne);R[W];){var ce=r[R.charCodeAt(W)];if(ce===255)return;for(var xe=0,X=ne-1;(ce!==0||xe<Z)&&X!==-1;X--,xe++)ce+=c*V[X]>>>0,V[X]=ce%256>>>0,ce=ce/256>>>0;if(ce!==0)throw new Error("Non-zero carry");Z=xe,W++}if(R[W]!==" "){for(var ee=ne-Z;ee!==ne&&V[ee]===0;)ee++;for(var Ae=new Uint8Array(we+(ne-ee)),Ve=we;ee!==ne;)Ae[Ve++]=V[ee++];return Ae}}}function _(R){var W=B(R);if(W)return W;throw new Error(`Non-${e} character`)}return{encode:w,decodeUnsafe:B,decode:_}}var iB,oB,m2,y2=xr(()=>{iB=nB,oB=iB,m2=oB});var ud={};pt(ud,{coerce:()=>bo,empty:()=>g2,equals:()=>Bm,fromHex:()=>aB,fromString:()=>Im,isBinary:()=>uB,toHex:()=>sB,toString:()=>Dm});var g2,sB,aB,Bm,bo,uB,Im,Dm,Aa=xr(()=>{g2=new Uint8Array(0),sB=t=>t.reduce((e,r)=>e+r.toString(16).padStart(2,"0"),""),aB=t=>{let e=t.match(/../g);return e?new Uint8Array(e.map(r=>parseInt(r,16))):g2},Bm=(t,e)=>{if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0},bo=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},uB=t=>t instanceof ArrayBuffer||ArrayBuffer.isView(t),Im=t=>new TextEncoder().encode(t),Dm=t=>new TextDecoder().decode(t)});var b2,v2,cd,w2,fd,ka,cB,fB,Cr,as=xr(()=>{y2();Aa();b2=class{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},v2=class{constructor(e,r,n){this.name=e,this.prefix=r,this.baseDecode=n}decode(e){if(typeof e=="string")switch(e[0]){case this.prefix:return this.baseDecode(e.slice(1));default:throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`)}else throw Error("Can only multibase decode strings")}or(e){let r={[this.prefix]:this,...e.decoders||{[e.prefix]:e}};return new cd(r)}},cd=class{constructor(e){this.decoders=e}or(e){let r=e.decoders||{[e.prefix]:e};return new cd({...this.decoders,...r})}decode(e){let r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},w2=class{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new b2(e,r,n),this.decoder=new v2(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},fd=({name:t,prefix:e,encode:r,decode:n})=>new w2(t,e,r,n),ka=({prefix:t,name:e,alphabet:r})=>{let{encode:n,decode:i}=m2(r,e);return fd({prefix:t,name:e,encode:n,decode:s=>bo(i(s))})},cB=(t,e,r,n)=>{let i={};for(let y=0;y<e.length;++y)i[e[y]]=y;let s=t.length;for(;t[s-1]==="=";)--s;let u=new Uint8Array(s*r/8|0),c=0,p=0,l=0;for(let y=0;y<s;++y){let w=i[t[y]];if(w===void 0)throw new SyntaxError(`Non-${n} character`);p=p<<r|w,c+=r,c>=8&&(c-=8,u[l++]=255&p>>c)}if(c>=r||255&p<<8-c)throw new SyntaxError("Unexpected end of data");return u},fB=(t,e,r)=>{let n=e[e.length-1]==="=",i=(1<<r)-1,s="",u=0,c=0;for(let p=0;p<t.length;++p)for(c=c<<8|t[p],u+=8;u>r;)u-=r,s+=e[i&c>>u];if(u&&(s+=e[i&c<<r-u]),n)for(;s.length*r&7;)s+="=";return s},Cr=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>fd({prefix:e,name:t,encode(i){return fB(i,n,r)},decode(i){return cB(i,n,r,t)}})});var Rm={};pt(Rm,{identity:()=>lB});var lB,_2=xr(()=>{as();Aa();lB=fd({prefix:"\0",name:"identity",encode:t=>Dm(t),decode:t=>Im(t)})});var Nm={};pt(Nm,{base2:()=>hB});var hB,x2=xr(()=>{as();hB=Cr({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1})});var Um={};pt(Um,{base8:()=>dB});var dB,A2=xr(()=>{as();dB=Cr({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3})});var Lm={};pt(Lm,{base10:()=>pB});var pB,k2=xr(()=>{as();pB=ka({prefix:"9",name:"base10",alphabet:"0123456789"})});var Mm={};pt(Mm,{base16:()=>mB,base16upper:()=>yB});var mB,yB,E2=xr(()=>{as();mB=Cr({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),yB=Cr({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4})});var Om={};pt(Om,{base32:()=>Ac,base32hex:()=>wB,base32hexpad:()=>xB,base32hexpadupper:()=>AB,base32hexupper:()=>_B,base32pad:()=>bB,base32padupper:()=>vB,base32upper:()=>gB,base32z:()=>kB});var Ac,gB,bB,vB,wB,_B,xB,AB,kB,jm=xr(()=>{as();Ac=Cr({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),gB=Cr({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),bB=Cr({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),vB=Cr({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),wB=Cr({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),_B=Cr({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),xB=Cr({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),AB=Cr({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),kB=Cr({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})});var zm={};pt(zm,{base36:()=>EB,base36upper:()=>SB});var EB,SB,S2=xr(()=>{as();EB=ka({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),SB=ka({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"})});var Km={};pt(Km,{base58btc:()=>us,base58flickr:()=>PB});var us,PB,qm=xr(()=>{as();us=ka({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),PB=ka({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})});var Hm={};pt(Hm,{base64:()=>CB,base64pad:()=>TB,base64url:()=>FB,base64urlpad:()=>BB});var CB,TB,FB,BB,P2=xr(()=>{as();CB=Cr({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),TB=Cr({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),FB=Cr({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),BB=Cr({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})});function T2(t,e,r){e=e||[],r=r||0;for(var n=r;t>=NB;)e[r++]=t&255|C2,t/=128;for(;t&RB;)e[r++]=t&255|C2,t>>>=7;return e[r]=t|0,T2.bytes=r-n+1,e}function $m(t,e){var r=0,e=e||0,n=0,i=e,s,u=t.length;do{if(i>=u)throw $m.bytes=0,new RangeError("Could not decode varint");s=t[i++],r+=n<28?(s&F2)<<n:(s&F2)*Math.pow(2,n),n+=7}while(s>=LB);return $m.bytes=i-e,r}var IB,C2,DB,RB,NB,UB,LB,F2,MB,OB,jB,zB,KB,qB,HB,$B,GB,WB,YB,VB,Xf,B2=xr(()=>{IB=T2,C2=128,DB=127,RB=~DB,NB=Math.pow(2,31);UB=$m,LB=128,F2=127;MB=Math.pow(2,7),OB=Math.pow(2,14),jB=Math.pow(2,21),zB=Math.pow(2,28),KB=Math.pow(2,35),qB=Math.pow(2,42),HB=Math.pow(2,49),$B=Math.pow(2,56),GB=Math.pow(2,63),WB=function(t){return t<MB?1:t<OB?2:t<jB?3:t<zB?4:t<KB?5:t<qB?6:t<HB?7:t<$B?8:t<GB?9:10},YB={encode:IB,decode:UB,encodingLength:WB},VB=YB,Xf=VB});var ld={};pt(ld,{decode:()=>kc,encodeTo:()=>yu,encodingLength:()=>gu});var kc,yu,gu,hd=xr(()=>{B2();kc=t=>[Xf.decode(t),Xf.decode.bytes],yu=(t,e,r=0)=>(Xf.encode(t,e,r),e),gu=t=>Xf.encodingLength(t)});var dd={};pt(dd,{Digest:()=>Ec,create:()=>Zf,decode:()=>Gm,equals:()=>Wm});var Zf,Gm,Wm,Ec,pd=xr(()=>{Aa();hd();Zf=(t,e)=>{let r=e.byteLength,n=gu(t),i=n+gu(r),s=new Uint8Array(i+r);return yu(t,s,0),yu(r,s,n),s.set(e,i),new Ec(t,r,e,s)},Gm=t=>{let e=bo(t),[r,n]=kc(e),[i,s]=kc(e.subarray(n)),u=e.subarray(n+s);if(u.byteLength!==i)throw new Error("Incorrect length");return new Ec(r,i,u,e)},Wm=(t,e)=>t===e?!0:t.code===e.code&&t.size===e.size&&Bm(t.bytes,e.bytes),Ec=class{constructor(e,r,n,i){this.code=e,this.size=r,this.digest=n,this.bytes=i}}});var md={};pt(md,{Hasher:()=>Ym,from:()=>Sc});var Sc,Ym,yd=xr(()=>{pd();Sc=({name:t,code:e,encode:r})=>new Ym(t,e,r),Ym=class{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}async digest(e){if(e instanceof Uint8Array){let r=await this.encode(e);return Zf(this.code,r)}else throw Error("Unknown type, must be binary type")}}});var Vm={};pt(Vm,{sha256:()=>JB,sha512:()=>XB});var I2,JB,XB,D2=xr(()=>{yd();I2=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),JB=Sc({name:"sha2-256",code:18,encode:I2("SHA-256")}),XB=Sc({name:"sha2-512",code:19,encode:I2("SHA-512")})});var Jm={};pt(Jm,{identity:()=>ZB});var ZB,R2=xr(()=>{yd();Aa();ZB=Sc({name:"identity",code:0,encode:t=>bo(t)})});var Xm={};pt(Xm,{code:()=>eI,decode:()=>rI,encode:()=>tI,name:()=>QB});var N2,QB,eI,tI,rI,U2=xr(()=>{Aa();N2=t=>bo(t),{name:QB,code:eI,encode:tI,decode:rI}={name:"raw",code:85,decode:N2,encode:N2}});var Zm={};pt(Zm,{code:()=>iI,decode:()=>sI,encode:()=>oI,name:()=>nI});var nI,iI,oI,sI,L2=xr(()=>{({name:nI,code:iI,encode:oI,decode:sI}={name:"json",code:512,encode:t=>new TextEncoder().encode(JSON.stringify(t)),decode:t=>JSON.parse(new TextDecoder().decode(t))})});var Gr,aI,uI,cI,Qf,fI,M2,O2,gd,bd,lI,hI,dI,j2=xr(()=>{hd();pd();qm();jm();Aa();Gr=class{constructor(e,r,n,i){this.code=r,this.version=e,this.multihash=n,this.bytes=i,this.byteOffset=i.byteOffset,this.byteLength=i.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:bd,byteLength:bd,code:gd,version:gd,multihash:gd,bytes:gd,_baseCache:bd,asCID:bd})}toV0(){switch(this.version){case 0:return this;default:{let{code:e,multihash:r}=this;if(e!==Qf)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==fI)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return Gr.createV0(r)}}}toV1(){switch(this.version){case 0:{let{code:e,digest:r}=this.multihash,n=Zf(e,r);return Gr.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&Wm(this.multihash,e.multihash)}toString(e){let{bytes:r,version:n,_baseCache:i}=this;switch(n){case 0:return uI(r,i,e||us.encoder);default:return cI(r,i,e||Ac.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return hI(/^0\.0/,dI),!!(e&&(e[O2]||e.asCID===e))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof Gr)return e;if(e!=null&&e.asCID===e){let{version:r,code:n,multihash:i,bytes:s}=e;return new Gr(r,n,i,s||M2(r,n,i.bytes))}else if(e!=null&&e[O2]===!0){let{version:r,multihash:n,code:i}=e,s=Gm(n);return Gr.create(r,i,s)}else return null}static create(e,r,n){if(typeof r!="number")throw new Error("String codecs are no longer supported");switch(e){case 0:{if(r!==Qf)throw new Error(`Version 0 CID must use dag-pb (code: ${Qf}) block encoding`);return new Gr(e,r,n,n.bytes)}case 1:{let i=M2(e,r,n.bytes);return new Gr(e,r,n,i)}default:throw new Error("Invalid version")}}static createV0(e){return Gr.create(0,Qf,e)}static createV1(e,r){return Gr.create(1,e,r)}static decode(e){let[r,n]=Gr.decodeFirst(e);if(n.length)throw new Error("Incorrect length");return r}static decodeFirst(e){let r=Gr.inspectBytes(e),n=r.size-r.multihashSize,i=bo(e.subarray(n,n+r.multihashSize));if(i.byteLength!==r.multihashSize)throw new Error("Incorrect length");let s=i.subarray(r.multihashSize-r.digestSize),u=new Ec(r.multihashCode,r.digestSize,s,i);return[r.version===0?Gr.createV0(u):Gr.createV1(r.codec,u),e.subarray(r.size)]}static inspectBytes(e){let r=0,n=()=>{let[w,B]=kc(e.subarray(r));return r+=B,w},i=n(),s=Qf;if(i===18?(i=0,r=0):i===1&&(s=n()),i!==0&&i!==1)throw new RangeError(`Invalid CID version ${i}`);let u=r,c=n(),p=n(),l=r+p,y=l-u;return{version:i,codec:s,multihashCode:c,digestSize:p,multihashSize:y,size:l}}static parse(e,r){let[n,i]=aI(e,r),s=Gr.decode(i);return s._baseCache.set(n,e),s}},aI=(t,e)=>{switch(t[0]){case"Q":{let r=e||us;return[us.prefix,r.decode(`${us.prefix}${t}`)]}case us.prefix:{let r=e||us;return[us.prefix,r.decode(t)]}case Ac.prefix:{let r=e||Ac;return[Ac.prefix,r.decode(t)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[t[0],e.decode(t)]}}},uI=(t,e,r)=>{let{prefix:n}=r;if(n!==us.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let i=e.get(n);if(i==null){let s=r.encode(t).slice(1);return e.set(n,s),s}else return i},cI=(t,e,r)=>{let{prefix:n}=r,i=e.get(n);if(i==null){let s=r.encode(t);return e.set(n,s),s}else return i},Qf=112,fI=18,M2=(t,e,r)=>{let n=gu(t),i=n+gu(e),s=new Uint8Array(i+r.byteLength);return yu(t,s,0),yu(e,s,n),s.set(r,i),s},O2=Symbol.for("@ipld/js-cid/CID"),gd={writable:!1,configurable:!1,enumerable:!0},bd={writable:!1,enumerable:!1,configurable:!1},lI="0.0.0-dev",hI=(t,e)=>{if(t.test(lI))console.warn(e);else throw new Error(e)},dI=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`});var z2=xr(()=>{j2();hd();Aa();yd();pd()});var K2={};pt(K2,{CID:()=>Gr,bases:()=>pI,bytes:()=>ud,codecs:()=>yI,digest:()=>dd,hasher:()=>md,hashes:()=>mI,varint:()=>ld});var pI,mI,yI,q2=xr(()=>{_2();x2();A2();k2();E2();jm();S2();qm();P2();D2();R2();U2();L2();z2();pI={...Rm,...Nm,...Um,...Lm,...Mm,...Om,...zm,...Km,...Hm},mI={...Vm,...Jm},yI={raw:Xm,json:Zm}});var ey=G((Dz,W2)=>{"use strict";var{bases:H2}=(q2(),K2);function $2(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}var G2=$2("utf8","u",t=>{let e=new TextDecoder("utf8");return"u"+e.decode(t)},t=>new TextEncoder().encode(t.substring(1))),Qm=$2("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);let e=new Uint8Array(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),gI={utf8:G2,"utf-8":G2,hex:H2.base16,latin1:Qm,ascii:Qm,binary:Qm,...H2};W2.exports=gI});var V2=G((Rz,Y2)=>{"use strict";var bI=ey();function vI(t,e="utf8"){let r=bI[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return r.decoder.decode(`${r.prefix}${t}`)}Y2.exports=vI});var X2=G((Nz,J2)=>{"use strict";var wI=ey();function _I(t,e="utf8"){let r=wI[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return r.encoder.encode(t).substring(1)}J2.exports=_I});var Q2=G((Uz,Z2)=>{"use strict";function xI(t,e){if(t.length!==e.length)throw new Error("Inputs should have the same length");let r=new Uint8Array(t.length);for(let n=0;n<t.length;n++)r[n]=t[n]^e[n];return r}Z2.exports=xI});var el=G((Lz,ew)=>{"use strict";var AI=f2(),kI=h2(),EI=p2(),SI=V2(),PI=X2(),CI=Q2();ew.exports={compare:AI,concat:kI,equals:EI,fromString:SI,toString:PI,xor:CI}});var vd=G(()=>{});var hw=G(Ar=>{"use strict";Object.defineProperty(Ar,"__esModule",{value:!0});Ar.utils=Ar.verify=Ar.sign=Ar.getPublicKey=Ar.SignResult=Ar.Signature=Ar.Point=Ar.ExtendedPoint=Ar.CURVE=void 0;var Tr={a:-1n,d:37095705934669439343138083508754565189542113879843219016388785533085940283555n,P:2n**255n-19n,n:2n**252n+27742317777372353535851937790883648493n,h:8n,Gx:15112221349535400772501151409588531511454012693041857206046113283949847762202n,Gy:46316835694926478169428394003475163141307993866256225615783033603165251855960n};Ar.CURVE=Tr;var Dn=32,rl=19681161376707505956807079304988542015446066515923890162744021073123829784752n,FI=25063068953384623474111414158702152701244531502492656460079210482610430750235n,BI=54469307008909316920995813868745141605393597292927456921205312896311721017578n,II=1159843021668779879193775521855586647937357759715417654439879720876111806838n,DI=40440834346308536858101042469323190826248399146238708352240133220865137265952n,cr=class{constructor(e,r,n,i){this.x=e,this.y=r,this.z=n,this.t=i}static fromAffine(e){if(!(e instanceof yr))throw new TypeError("ExtendedPoint#fromAffine: expected Point");return e.equals(yr.ZERO)?cr.ZERO:new cr(e.x,e.y,1n,Ee(e.x*e.y))}static toAffineBatch(e){let r=NI(e.map(n=>n.z));return e.map((n,i)=>n.toAffine(r[i]))}static normalizeZ(e){return this.toAffineBatch(e).map(this.fromAffine)}static fromRistrettoHash(e){let r=oy(e.slice(0,Dn)),n=this.calcElligatorRistrettoMap(r),i=oy(e.slice(Dn,Dn*2)),s=this.calcElligatorRistrettoMap(i);return n.add(s)}static calcElligatorRistrettoMap(e){let{d:r}=Tr,n=Ee(rl*e*e),i=Ee((n+1n)*II),s=-1n,u=Ee((s-r*n)*Ee(n+r)),{isValid:c,value:p}=ay(i,u),l=Ee(p*e);Sa(l)||(l=Ee(-l)),c||(p=l),c||(s=n);let y=Ee(s*(n-1n)*DI-u),w=p*p,B=Ee((p+p)*u),_=Ee(y*FI),R=Ee(1n-w),W=Ee(1n+w);return new cr(Ee(B*W),Ee(R*_),Ee(_*W),Ee(B*R))}static fromRistrettoBytes(e){let{a:r,d:n}=Tr,i="ExtendedPoint.fromRistrettoBytes: Cannot convert bytes to Ristretto Point",s=oy(e);if(!MI(aw(s,Dn),e)||Sa(s))throw new Error(i);let u=Ee(s*s),c=Ee(1n+r*u),p=Ee(1n-r*u),l=Ee(c*c),y=Ee(p*p),w=Ee(r*n*l-y),{isValid:B,value:_}=cw(Ee(w*y)),R=Ee(_*p),W=Ee(_*R*w),we=Ee((s+s)*R);Sa(we)&&(we=Ee(-we));let Z=Ee(c*W),ne=Ee(we*Z);if(!B||Sa(ne)||Z===0n)throw new Error(i);return new cr(we,Z,1n,ne)}toRistrettoBytes(){let{x:e,y:r,z:n,t:i}=this,s=Ee((n+r)*(n-r)),u=Ee(e*r),{value:c}=cw(Ee(s*u**2n)),p=Ee(c*s),l=Ee(c*u),y=Ee(p*l*i),w;Sa(i*y)?([e,r]=[Ee(r*rl),Ee(e*rl)],w=Ee(p*BI)):w=l,Sa(e*y)&&(r=Ee(-r));let B=Ee((n-r)*w);return Sa(B)&&(B=Ee(-B)),aw(B,Dn)}equals(e){let r=this,n=e,[i,s,u,c]=[r.t,n.t,r.z,n.z];return Ee(i*c)===Ee(s*u)}negate(){return new cr(Ee(-this.x),this.y,this.z,Ee(-this.t))}double(){let e=this.x,r=this.y,n=this.z,{a:i}=Tr,s=Ee(e**2n),u=Ee(r**2n),c=Ee(2n*n**2n),p=Ee(i*s),l=Ee((e+r)**2n-s-u),y=Ee(p+u),w=Ee(y-c),B=Ee(p-u),_=Ee(l*w),R=Ee(y*B),W=Ee(l*B),we=Ee(w*y);return new cr(_,R,we,W)}add(e){let r=this.x,n=this.y,i=this.z,s=this.t,u=e.x,c=e.y,p=e.z,l=e.t,y=Ee((n-r)*(c+u)),w=Ee((n+r)*(c-u)),B=Ee(w-y);if(B===0n)return this.double();let _=Ee(i*2n*l),R=Ee(s*2n*p),W=Ee(R+_),we=Ee(w+y),Z=Ee(R-_),ne=Ee(W*B),V=Ee(we*Z),ce=Ee(W*Z),xe=Ee(B*we);return new cr(ne,V,xe,ce)}subtract(e){return this.add(e.negate())}multiplyUnsafe(e){if(!uw(e))throw new TypeError("Point#multiply: expected number or bigint");let r=Ee(BigInt(e),Tr.n);if(r===1n)return this;let n=cr.ZERO,i=this;for(;r>0n;)r&1n&&(n=n.add(i)),i=i.double(),r>>=1n;return n}precomputeWindow(e){let r=256/e+1,n=[],i=this,s=i;for(let u=0;u<r;u++){s=i,n.push(s);for(let c=1;c<2**(e-1);c++)s=s.add(i),n.push(s);i=s.double()}return n}wNAF(e,r){!r&&this.equals(cr.BASE)&&(r=yr.BASE);let n=r&&r._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let i=r&&ny.get(r);i||(i=this.precomputeWindow(n),r&&n!==1&&(i=cr.normalizeZ(i),ny.set(r,i)));let s=cr.ZERO,u=cr.ZERO,c=256/n+1,p=2**(n-1),l=BigInt(2**n-1),y=2**n,w=BigInt(n);for(let B=0;B<c;B++){let _=B*p,R=Number(e&l);if(e>>=w,R>p&&(R-=y,e+=1n),R===0)u=u.add(B%2?i[_].negate():i[_]);else{let W=i[_+Math.abs(R)-1];s=s.add(R<0?W.negate():W)}}return[s,u]}multiply(e,r){if(!uw(e))throw new TypeError("Point#multiply: expected number or bigint");let n=Ee(BigInt(e),Tr.n);return cr.normalizeZ(this.wNAF(n,r))[0]}toAffine(e=sy(this.z)){let r=Ee(this.x*e),n=Ee(this.y*e);return new yr(r,n)}};Ar.ExtendedPoint=cr;cr.BASE=new cr(Tr.Gx,Tr.Gy,1n,Ee(Tr.Gx*Tr.Gy));cr.ZERO=new cr(0n,1n,1n,0n);var ny=new WeakMap,yr=class{constructor(e,r){this.x=e,this.y=r}_setWindowSize(e){this._WINDOW_SIZE=e,ny.delete(this)}static fromHex(e){let{d:r,P:n}=Tr,i=e instanceof Uint8Array?e:nl(e);if(i.length!==32)throw new Error("Point.fromHex: expected 32 bytes");let s=i[31],u=s&~128,c=(s&128)!=0,p=Uint8Array.from(Array.from(i.slice(0,31)).concat(u)),l=il(p);if(l>=n)throw new Error("Point.fromHex expects hex <= Fp");let y=Ee(l*l),w=Ee(y-1n),B=Ee(r*y+1n),{isValid:_,value:R}=ay(w,B);if(!_)throw new Error("Point.fromHex: invalid y coordinate");let W=(R&1n)===1n;return c!==W&&(R=Ee(-R)),new yr(R,l)}static async fromPrivateKey(e){let r=await Ar.utils.sha512(lw(e));return yr.BASE.multiply(fw(r))}toRawBytes(){let e=iy(this.y),r=new Uint8Array(Dn);for(let i=e.length-2,s=0;s<Dn&&i>=0;i-=2,s++)r[s]=Number.parseInt(e[i]+e[i+1],16);let n=this.x&1n?128:0;return r[Dn-1]|=n,r}toHex(){return sw(this.toRawBytes())}toX25519(){return Ee((1n+this.y)*sy(1n-this.y))}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new yr(Ee(-this.x),this.y)}add(e){return cr.fromAffine(this).add(cr.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return cr.fromAffine(this).multiply(e,this).toAffine()}};Ar.Point=yr;yr.BASE=new yr(Tr.Gx,Tr.Gy);yr.ZERO=new yr(0n,1n);var Ea=class{constructor(e,r){this.r=e,this.s=r}static fromHex(e){e=cy(e);let r=yr.fromHex(e.slice(0,32)),n=il(e.slice(32));if(!OI(n))throw new Error("Signature.fromHex expects s <= CURVE.n");return new Ea(r,n)}toRawBytes(){let e=nl(iy(this.s)).reverse(),r=new Uint8Array(Dn);r.set(e);let n=new Uint8Array(Dn*2);return n.set(this.r.toRawBytes()),n.set(r,32),n}toHex(){return sw(this.toRawBytes())}};Ar.Signature=Ea;Ar.SignResult=Ea;function RI(...t){if(t.length===1)return t[0];let e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let s=t[n];r.set(s,i),i+=s.length}return r}function sw(t){let e="";for(let r=0;r<t.length;r++)e+=t[r].toString(16).padStart(2,"0");return e}function nl(t){if(typeof t!="string"||t.length%2)throw new Error("Expected valid hex");let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2;e[r]=Number.parseInt(t.slice(n,n+2),16)}return e}function iy(t){let e=t.toString(16);return e.length&1?`0${e}`:e}function aw(t,e=Dn){let r=iy(t).padStart(e*2,"0");return nl(r).reverse()}function Sa(t){return(Ee(t)&1n)===1n}function uw(t){return!!(typeof t=="bigint"&&t>0n||typeof t=="number"&&t>0&&Number.isSafeInteger(t))}function il(t){let e=0n;for(let r=0;r<t.length;r++)e+=BigInt(t[r])<<8n*BigInt(r);return e}function oy(t){return Ee(il(t)&2n**255n-1n)}function Ee(t,e=Tr.P){let r=t%e;return r>=0n?r:e+r}function sy(t,e=Tr.P){if(t===0n||e<=0n)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=Ee(t,e),n=e,[i,s,u,c]=[0n,1n,1n,0n];for(;r!==0n;){let l=n/r,y=n%r,w=i-u*l,B=s-c*l;[n,r]=[r,y],[i,s]=[u,c],[u,c]=[w,B]}if(n!==1n)throw new Error("invert: does not exist");return Ee(i,e)}function NI(t,e=Tr.P){let r=t.length,n=new Array(r),i=1n;for(let s=0;s<r;s++)t[s]!==0n&&(n[s]=i,i=Ee(i*t[s],e));i=sy(i,e);for(let s=r-1;s>=0;s--){if(t[s]===0n)continue;let u=Ee(i*t[s],e);t[s]=Ee(i*n[s],e),i=u}return t}function cs(t,e){let{P:r}=Tr,n=t;for(;e-- >0n;)n*=n,n%=r;return n}function UI(t){let{P:e}=Tr,n=t*t%e*t%e,i=cs(n,2n)*n%e,s=cs(i,1n)*t%e,u=cs(s,5n)*s%e,c=cs(u,10n)*u%e,p=cs(c,20n)*c%e,l=cs(p,40n)*p%e,y=cs(l,80n)*l%e,w=cs(y,80n)*l%e,B=cs(w,10n)*u%e;return cs(B,2n)*t%e}function ay(t,e){let r=Ee(e*e*e),n=Ee(r*r*e),i=Ee(t*r*UI(t*n)),s=Ee(e*i*i),u=i,c=Ee(i*rl),p=s===t,l=s===Ee(-t),y=s===Ee(-t*rl);return p&&(i=u),(l||y)&&(i=c),Sa(i)&&(i=Ee(-i)),{isValid:p||l,value:i}}function cw(t){return ay(1n,t)}async function uy(...t){let e=RI(...t),r=await Ar.utils.sha512(e),n=il(r);return Ee(n,Tr.n)}function LI(t){return t.slice(Dn)}function fw(t){let e=Dn-1,r=t.slice(0,Dn);return r[0]&=248,r[e]&=127,r[e]|=64,Ee(il(r),Tr.n)}function MI(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function cy(t){return t instanceof Uint8Array?t:nl(t)}function OI(t){return 0<t&&t<Tr.n}function lw(t){let e;if((typeof t=="bigint"||typeof t=="number"&&Number.isSafeInteger(t)&&t>0)&&(e=BigInt(t),t=e.toString(16).padStart(Dn*2,"0")),typeof t=="string"){if(t.length!==64)throw new Error("Expected 32 bytes of private key");return nl(t)}else if(t instanceof Uint8Array){if(t.length!==32)throw new Error("Expected 32 bytes of private key");return t}else throw new TypeError("Expected valid private key")}async function jI(t){let e=await yr.fromPrivateKey(t);return typeof t=="string"?e.toHex():e.toRawBytes()}Ar.getPublicKey=jI;async function zI(t,e){let r=await Ar.utils.sha512(lw(e)),n=fw(r),i=yr.BASE.multiply(n),s=cy(t),u=await uy(LI(r),s),c=yr.BASE.multiply(u),p=await uy(c.toRawBytes(),i.toRawBytes(),s),l=Ee(u+p*n,Tr.n),y=new Ea(c,l);return typeof t=="string"?y.toHex():y.toRawBytes()}Ar.sign=zI;async function KI(t,e,r){e=cy(e),r instanceof yr||(r=yr.fromHex(r)),t instanceof Ea||(t=Ea.fromHex(t));let n=await uy(t.r.toRawBytes(),r.toRawBytes(),e),i=cr.fromAffine(r).multiplyUnsafe(n),s=cr.BASE.multiply(t.s);return cr.fromAffine(t.r).add(i).subtract(s).multiplyUnsafe(8n).equals(cr.ZERO)}Ar.verify=KI;yr.BASE._setWindowSize(8);Ar.utils={TORSION_SUBGROUP:["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"],randomPrivateKey:(t=32)=>{if(typeof window=="object"&&"crypto"in window)return window.crypto.getRandomValues(new Uint8Array(t));if(typeof process=="object"&&"node"in process.versions){let{randomBytes:e}=vd();return new Uint8Array(e(t).buffer)}else throw new Error("The environment doesn't have randomBytes function")},sha512:async t=>{if(typeof window=="object"&&"crypto"in window){let e=await window.crypto.subtle.digest("SHA-512",t.buffer);return new Uint8Array(e)}else if(typeof process=="object"&&"node"in process.versions){let{createHash:e}=vd(),r=e("sha512");return r.update(t),Uint8Array.from(r.digest())}else throw new Error("The environment doesn't have sha512 function")},precompute(t=8,e=yr.BASE){let r=e.equals(yr.BASE)?e:new yr(e.x,e.y);return r._setWindowSize(t),r.multiply(1n),r}}});var Ki=G(en=>{"use strict";Object.defineProperty(en,"__esModule",{value:!0});var qI;(function(t){t.ECC="ecc",t.RSA="rsa"})(qI=en.CryptoSystem||(en.CryptoSystem={}));var HI;(function(t){t.P_256="P-256",t.P_384="P-384",t.P_521="P-521"})(HI=en.EccCurve||(en.EccCurve={}));var $I;(function(t){t[t.B1024=1024]="B1024",t[t.B2048=2048]="B2048",t[t.B4096=4096]="B4096"})($I=en.RsaSize||(en.RsaSize={}));var GI;(function(t){t.AES_CTR="AES-CTR",t.AES_CBC="AES-CBC"})(GI=en.SymmAlg||(en.SymmAlg={}));var WI;(function(t){t[t.B128=128]="B128",t[t.B192=192]="B192",t[t.B256=256]="B256"})(WI=en.SymmKeyLength||(en.SymmKeyLength={}));var YI;(function(t){t.SHA_1="SHA-1",t.SHA_256="SHA-256",t.SHA_384="SHA-384",t.SHA_512="SHA-512"})(YI=en.HashAlg||(en.HashAlg={}));var VI;(function(t){t[t.B8=8]="B8",t[t.B16=16]="B16"})(VI=en.CharSize||(en.CharSize={}));var JI;(function(t){t.Read="read",t.Write="write"})(JI=en.KeyUse||(en.KeyUse={}))});var bu=G(Tt=>{"use strict";Object.defineProperty(Tt,"__esModule",{value:!0});var Cc=Ki();Tt.ECC_READ_ALG="ECDH";Tt.ECC_WRITE_ALG="ECDSA";Tt.RSA_READ_ALG="RSA-OAEP";Tt.RSA_WRITE_ALG="RSASSA-PKCS1-v1_5";Tt.SALT_LENGTH=128;Tt.DEFAULT_CRYPTOSYSTEM="ecc";Tt.DEFAULT_ECC_CURVE=Cc.EccCurve.P_256;Tt.DEFAULT_RSA_SIZE=Cc.RsaSize.B2048;Tt.DEFAULT_SYMM_ALG=Cc.SymmAlg.AES_CTR;Tt.DEFAULT_SYMM_LEN=Cc.SymmKeyLength.B256;Tt.DEFAULT_CTR_LEN=64;Tt.DEFAULT_HASH_ALG=Cc.HashAlg.SHA_256;Tt.DEFAULT_CHAR_SIZE=Cc.CharSize.B16;Tt.DEFAULT_STORE_NAME="keystore";Tt.DEFAULT_READ_KEY_NAME="read-key";Tt.DEFAULT_WRITE_KEY_NAME="write-key";Tt.default={ECC_READ_ALG:Tt.ECC_READ_ALG,ECC_WRITE_ALG:Tt.ECC_WRITE_ALG,RSA_READ_ALG:Tt.RSA_READ_ALG,RSA_WRITE_ALG:Tt.RSA_WRITE_ALG,SALT_LENGTH:Tt.SALT_LENGTH,DEFAULT_CRYPTOSYSTEM:Tt.DEFAULT_CRYPTOSYSTEM,DEFAULT_ECC_CURVE:Tt.DEFAULT_ECC_CURVE,DEFAULT_RSA_SIZE:Tt.DEFAULT_RSA_SIZE,DEFAULT_SYMM_ALG:Tt.DEFAULT_SYMM_ALG,DEFAULT_CTR_LEN:Tt.DEFAULT_CTR_LEN,DEFAULT_HASH_ALG:Tt.DEFAULT_HASH_ALG,DEFAULT_CHAR_SIZE:Tt.DEFAULT_CHAR_SIZE,DEFAULT_STORE_NAME:Tt.DEFAULT_STORE_NAME,DEFAULT_READ_KEY_NAME:Tt.DEFAULT_READ_KEY_NAME,DEFAULT_WRITE_KEY_NAME:Tt.DEFAULT_WRITE_KEY_NAME}});var pw=G(wd=>{"use strict";wd.byteLength=QI;wd.toByteArray=tD;wd.fromByteArray=iD;var fs=[],qi=[],XI=typeof Uint8Array!="undefined"?Uint8Array:Array,fy="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Tc=0,ZI=fy.length;Tc<ZI;++Tc)fs[Tc]=fy[Tc],qi[fy.charCodeAt(Tc)]=Tc;qi["-".charCodeAt(0)]=62;qi["_".charCodeAt(0)]=63;function dw(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function QI(t){var e=dw(t),r=e[0],n=e[1];return(r+n)*3/4-n}function eD(t,e,r){return(e+r)*3/4-r}function tD(t){var e,r=dw(t),n=r[0],i=r[1],s=new XI(eD(t,n,i)),u=0,c=i>0?n-4:n,p;for(p=0;p<c;p+=4)e=qi[t.charCodeAt(p)]<<18|qi[t.charCodeAt(p+1)]<<12|qi[t.charCodeAt(p+2)]<<6|qi[t.charCodeAt(p+3)],s[u++]=e>>16&255,s[u++]=e>>8&255,s[u++]=e&255;return i===2&&(e=qi[t.charCodeAt(p)]<<2|qi[t.charCodeAt(p+1)]>>4,s[u++]=e&255),i===1&&(e=qi[t.charCodeAt(p)]<<10|qi[t.charCodeAt(p+1)]<<4|qi[t.charCodeAt(p+2)]>>2,s[u++]=e>>8&255,s[u++]=e&255),s}function rD(t){return fs[t>>18&63]+fs[t>>12&63]+fs[t>>6&63]+fs[t&63]}function nD(t,e,r){for(var n,i=[],s=e;s<r;s+=3)n=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),i.push(rD(n));return i.join("")}function iD(t){for(var e,r=t.length,n=r%3,i=[],s=16383,u=0,c=r-n;u<c;u+=s)i.push(nD(t,u,u+s>c?c:u+s));return n===1?(e=t[r-1],i.push(fs[e>>2]+fs[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],i.push(fs[e>>10]+fs[e>>4&63]+fs[e<<2&63]+"=")),i.join("")}});var mw=G(ly=>{ly.read=function(t,e,r,n,i){var s,u,c=i*8-n-1,p=(1<<c)-1,l=p>>1,y=-7,w=r?i-1:0,B=r?-1:1,_=t[e+w];for(w+=B,s=_&(1<<-y)-1,_>>=-y,y+=c;y>0;s=s*256+t[e+w],w+=B,y-=8);for(u=s&(1<<-y)-1,s>>=-y,y+=n;y>0;u=u*256+t[e+w],w+=B,y-=8);if(s===0)s=1-l;else{if(s===p)return u?NaN:(_?-1:1)*Infinity;u=u+Math.pow(2,n),s=s-l}return(_?-1:1)*u*Math.pow(2,s-n)};ly.write=function(t,e,r,n,i,s){var u,c,p,l=s*8-i-1,y=(1<<l)-1,w=y>>1,B=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,_=n?0:s-1,R=n?1:-1,W=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===Infinity?(c=isNaN(e)?1:0,u=y):(u=Math.floor(Math.log(e)/Math.LN2),e*(p=Math.pow(2,-u))<1&&(u--,p*=2),u+w>=1?e+=B/p:e+=B*Math.pow(2,1-w),e*p>=2&&(u++,p/=2),u+w>=y?(c=0,u=y):u+w>=1?(c=(e*p-1)*Math.pow(2,i),u=u+w):(c=e*Math.pow(2,w-1)*Math.pow(2,i),u=0));i>=8;t[r+_]=c&255,_+=R,c/=256,i-=8);for(u=u<<i|c,l+=i;l>0;t[r+_]=u&255,_+=R,u/=256,l-=8);t[r+_-R]|=W*128}});var sl=G(Dc=>{"use strict";var hy=pw(),Fc=mw(),yw=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Dc.Buffer=ie;Dc.SlowBuffer=fD;Dc.INSPECT_MAX_BYTES=50;var _d=2147483647;Dc.kMaxLength=_d;ie.TYPED_ARRAY_SUPPORT=oD();!ie.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function oD(){try{let t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),t.foo()===42}catch(t){return!1}}Object.defineProperty(ie.prototype,"parent",{enumerable:!0,get:function(){if(!!ie.isBuffer(this))return this.buffer}});Object.defineProperty(ie.prototype,"offset",{enumerable:!0,get:function(){if(!!ie.isBuffer(this))return this.byteOffset}});function zs(t){if(t>_d)throw new RangeError('The value "'+t+'" is invalid for option "size"');let e=new Uint8Array(t);return Object.setPrototypeOf(e,ie.prototype),e}function ie(t,e,r){if(typeof t=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return dy(t)}return gw(t,e,r)}ie.poolSize=8192;function gw(t,e,r){if(typeof t=="string")return aD(t,e);if(ArrayBuffer.isView(t))return uD(t);if(t==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(ls(t,ArrayBuffer)||t&&ls(t.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(ls(t,SharedArrayBuffer)||t&&ls(t.buffer,SharedArrayBuffer)))return my(t,e,r);if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let n=t.valueOf&&t.valueOf();if(n!=null&&n!==t)return ie.from(n,e,r);let i=cD(t);if(i)return i;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]=="function")return ie.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}ie.from=function(t,e,r){return gw(t,e,r)};Object.setPrototypeOf(ie.prototype,Uint8Array.prototype);Object.setPrototypeOf(ie,Uint8Array);function bw(t){if(typeof t!="number")throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function sD(t,e,r){return bw(t),t<=0?zs(t):e!==void 0?typeof r=="string"?zs(t).fill(e,r):zs(t).fill(e):zs(t)}ie.alloc=function(t,e,r){return sD(t,e,r)};function dy(t){return bw(t),zs(t<0?0:yy(t)|0)}ie.allocUnsafe=function(t){return dy(t)};ie.allocUnsafeSlow=function(t){return dy(t)};function aD(t,e){if((typeof e!="string"||e==="")&&(e="utf8"),!ie.isEncoding(e))throw new TypeError("Unknown encoding: "+e);let r=vw(t,e)|0,n=zs(r),i=n.write(t,e);return i!==r&&(n=n.slice(0,i)),n}function py(t){let e=t.length<0?0:yy(t.length)|0,r=zs(e);for(let n=0;n<e;n+=1)r[n]=t[n]&255;return r}function uD(t){if(ls(t,Uint8Array)){let e=new Uint8Array(t);return my(e.buffer,e.byteOffset,e.byteLength)}return py(t)}function my(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return e===void 0&&r===void 0?n=new Uint8Array(t):r===void 0?n=new Uint8Array(t,e):n=new Uint8Array(t,e,r),Object.setPrototypeOf(n,ie.prototype),n}function cD(t){if(ie.isBuffer(t)){let e=yy(t.length)|0,r=zs(e);return r.length===0||t.copy(r,0,0,e),r}if(t.length!==void 0)return typeof t.length!="number"||vy(t.length)?zs(0):py(t);if(t.type==="Buffer"&&Array.isArray(t.data))return py(t.data)}function yy(t){if(t>=_d)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+_d.toString(16)+" bytes");return t|0}function fD(t){return+t!=t&&(t=0),ie.alloc(+t)}ie.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==ie.prototype};ie.compare=function(e,r){if(ls(e,Uint8Array)&&(e=ie.from(e,e.offset,e.byteLength)),ls(r,Uint8Array)&&(r=ie.from(r,r.offset,r.byteLength)),!ie.isBuffer(e)||!ie.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===r)return 0;let n=e.length,i=r.length;for(let s=0,u=Math.min(n,i);s<u;++s)if(e[s]!==r[s]){n=e[s],i=r[s];break}return n<i?-1:i<n?1:0};ie.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};ie.concat=function(e,r){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return ie.alloc(0);let n;if(r===void 0)for(r=0,n=0;n<e.length;++n)r+=e[n].length;let i=ie.allocUnsafe(r),s=0;for(n=0;n<e.length;++n){let u=e[n];if(ls(u,Uint8Array))s+u.length>i.length?(ie.isBuffer(u)||(u=ie.from(u)),u.copy(i,s)):Uint8Array.prototype.set.call(i,u,s);else if(ie.isBuffer(u))u.copy(i,s);else throw new TypeError('"list" argument must be an Array of Buffers');s+=u.length}return i};function vw(t,e){if(ie.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||ls(t,ArrayBuffer))return t.byteLength;if(typeof t!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);let r=t.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&r===0)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return by(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return Bw(t).length;default:if(i)return n?-1:by(t).length;e=(""+e).toLowerCase(),i=!0}}ie.byteLength=vw;function lD(t,e,r){let n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,e>>>=0,r<=e))return"";for(t||(t="utf8");;)switch(t){case"hex":return _D(this,e,r);case"utf8":case"utf-8":return xw(this,e,r);case"ascii":return vD(this,e,r);case"latin1":case"binary":return wD(this,e,r);case"base64":return gD(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return xD(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}ie.prototype._isBuffer=!0;function vu(t,e,r){let n=t[e];t[e]=t[r],t[r]=n}ie.prototype.swap16=function(){let e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let r=0;r<e;r+=2)vu(this,r,r+1);return this};ie.prototype.swap32=function(){let e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let r=0;r<e;r+=4)vu(this,r,r+3),vu(this,r+1,r+2);return this};ie.prototype.swap64=function(){let e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let r=0;r<e;r+=8)vu(this,r,r+7),vu(this,r+1,r+6),vu(this,r+2,r+5),vu(this,r+3,r+4);return this};ie.prototype.toString=function(){let e=this.length;return e===0?"":arguments.length===0?xw(this,0,e):lD.apply(this,arguments)};ie.prototype.toLocaleString=ie.prototype.toString;ie.prototype.equals=function(e){if(!ie.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:ie.compare(this,e)===0};ie.prototype.inspect=function(){let e="",r=Dc.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"};yw&&(ie.prototype[yw]=ie.prototype.inspect);ie.prototype.compare=function(e,r,n,i,s){if(ls(e,Uint8Array)&&(e=ie.from(e,e.offset,e.byteLength)),!ie.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(r===void 0&&(r=0),n===void 0&&(n=e?e.length:0),i===void 0&&(i=0),s===void 0&&(s=this.length),r<0||n>e.length||i<0||s>this.length)throw new RangeError("out of range index");if(i>=s&&r>=n)return 0;if(i>=s)return-1;if(r>=n)return 1;if(r>>>=0,n>>>=0,i>>>=0,s>>>=0,this===e)return 0;let u=s-i,c=n-r,p=Math.min(u,c),l=this.slice(i,s),y=e.slice(r,n);for(let w=0;w<p;++w)if(l[w]!==y[w]){u=l[w],c=y[w];break}return u<c?-1:c<u?1:0};function ww(t,e,r,n,i){if(t.length===0)return-1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,vy(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0)if(i)r=0;else return-1;if(typeof e=="string"&&(e=ie.from(e,n)),ie.isBuffer(e))return e.length===0?-1:_w(t,e,r,n,i);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):_w(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function _w(t,e,r,n,i){let s=1,u=t.length,c=e.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(t.length<2||e.length<2)return-1;s=2,u/=2,c/=2,r/=2}function p(y,w){return s===1?y[w]:y.readUInt16BE(w*s)}let l;if(i){let y=-1;for(l=r;l<u;l++)if(p(t,l)===p(e,y===-1?0:l-y)){if(y===-1&&(y=l),l-y+1===c)return y*s}else y!==-1&&(l-=l-y),y=-1}else for(r+c>u&&(r=u-c),l=r;l>=0;l--){let y=!0;for(let w=0;w<c;w++)if(p(t,l+w)!==p(e,w)){y=!1;break}if(y)return l}return-1}ie.prototype.includes=function(e,r,n){return this.indexOf(e,r,n)!==-1};ie.prototype.indexOf=function(e,r,n){return ww(this,e,r,n,!0)};ie.prototype.lastIndexOf=function(e,r,n){return ww(this,e,r,n,!1)};function hD(t,e,r,n){r=Number(r)||0;let i=t.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;let s=e.length;n>s/2&&(n=s/2);let u;for(u=0;u<n;++u){let c=parseInt(e.substr(u*2,2),16);if(vy(c))return u;t[r+u]=c}return u}function dD(t,e,r,n){return xd(by(e,t.length-r),t,r,n)}function pD(t,e,r,n){return xd(SD(e),t,r,n)}function mD(t,e,r,n){return xd(Bw(e),t,r,n)}function yD(t,e,r,n){return xd(PD(e,t.length-r),t,r,n)}ie.prototype.write=function(e,r,n,i){if(r===void 0)i="utf8",n=this.length,r=0;else if(n===void 0&&typeof r=="string")i=r,n=this.length,r=0;else if(isFinite(r))r=r>>>0,isFinite(n)?(n=n>>>0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let s=this.length-r;if((n===void 0||n>s)&&(n=s),e.length>0&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");let u=!1;for(;;)switch(i){case"hex":return hD(this,e,r,n);case"utf8":case"utf-8":return dD(this,e,r,n);case"ascii":case"latin1":case"binary":return pD(this,e,r,n);case"base64":return mD(this,e,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return yD(this,e,r,n);default:if(u)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),u=!0}};ie.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function gD(t,e,r){return e===0&&r===t.length?hy.fromByteArray(t):hy.fromByteArray(t.slice(e,r))}function xw(t,e,r){r=Math.min(t.length,r);let n=[],i=e;for(;i<r;){let s=t[i],u=null,c=s>239?4:s>223?3:s>191?2:1;if(i+c<=r){let p,l,y,w;switch(c){case 1:s<128&&(u=s);break;case 2:p=t[i+1],(p&192)==128&&(w=(s&31)<<6|p&63,w>127&&(u=w));break;case 3:p=t[i+1],l=t[i+2],(p&192)==128&&(l&192)==128&&(w=(s&15)<<12|(p&63)<<6|l&63,w>2047&&(w<55296||w>57343)&&(u=w));break;case 4:p=t[i+1],l=t[i+2],y=t[i+3],(p&192)==128&&(l&192)==128&&(y&192)==128&&(w=(s&15)<<18|(p&63)<<12|(l&63)<<6|y&63,w>65535&&w<1114112&&(u=w))}}u===null?(u=65533,c=1):u>65535&&(u-=65536,n.push(u>>>10&1023|55296),u=56320|u&1023),n.push(u),i+=c}return bD(n)}var Aw=4096;function bD(t){let e=t.length;if(e<=Aw)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=Aw));return r}function vD(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]&127);return n}function wD(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function _D(t,e,r){let n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);let i="";for(let s=e;s<r;++s)i+=CD[t[s]];return i}function xD(t,e,r){let n=t.slice(e,r),i="";for(let s=0;s<n.length-1;s+=2)i+=String.fromCharCode(n[s]+n[s+1]*256);return i}ie.prototype.slice=function(e,r){let n=this.length;e=~~e,r=r===void 0?n:~~r,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),r<e&&(r=e);let i=this.subarray(e,r);return Object.setPrototypeOf(i,ie.prototype),i};function tn(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}ie.prototype.readUintLE=ie.prototype.readUIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||tn(e,r,this.length);let i=this[e],s=1,u=0;for(;++u<r&&(s*=256);)i+=this[e+u]*s;return i};ie.prototype.readUintBE=ie.prototype.readUIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||tn(e,r,this.length);let i=this[e+--r],s=1;for(;r>0&&(s*=256);)i+=this[e+--r]*s;return i};ie.prototype.readUint8=ie.prototype.readUInt8=function(e,r){return e=e>>>0,r||tn(e,1,this.length),this[e]};ie.prototype.readUint16LE=ie.prototype.readUInt16LE=function(e,r){return e=e>>>0,r||tn(e,2,this.length),this[e]|this[e+1]<<8};ie.prototype.readUint16BE=ie.prototype.readUInt16BE=function(e,r){return e=e>>>0,r||tn(e,2,this.length),this[e]<<8|this[e+1]};ie.prototype.readUint32LE=ie.prototype.readUInt32LE=function(e,r){return e=e>>>0,r||tn(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};ie.prototype.readUint32BE=ie.prototype.readUInt32BE=function(e,r){return e=e>>>0,r||tn(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};ie.prototype.readBigUInt64LE=Pa(function(e){e=e>>>0,Ic(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&ol(e,this.length-8);let i=r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,s=this[++e]+this[++e]*2**8+this[++e]*2**16+n*2**24;return BigInt(i)+(BigInt(s)<<BigInt(32))});ie.prototype.readBigUInt64BE=Pa(function(e){e=e>>>0,Ic(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&ol(e,this.length-8);let i=r*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],s=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n;return(BigInt(i)<<BigInt(32))+BigInt(s)});ie.prototype.readIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||tn(e,r,this.length);let i=this[e],s=1,u=0;for(;++u<r&&(s*=256);)i+=this[e+u]*s;return s*=128,i>=s&&(i-=Math.pow(2,8*r)),i};ie.prototype.readIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||tn(e,r,this.length);let i=r,s=1,u=this[e+--i];for(;i>0&&(s*=256);)u+=this[e+--i]*s;return s*=128,u>=s&&(u-=Math.pow(2,8*r)),u};ie.prototype.readInt8=function(e,r){return e=e>>>0,r||tn(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};ie.prototype.readInt16LE=function(e,r){e=e>>>0,r||tn(e,2,this.length);let n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n};ie.prototype.readInt16BE=function(e,r){e=e>>>0,r||tn(e,2,this.length);let n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n};ie.prototype.readInt32LE=function(e,r){return e=e>>>0,r||tn(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};ie.prototype.readInt32BE=function(e,r){return e=e>>>0,r||tn(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};ie.prototype.readBigInt64LE=Pa(function(e){e=e>>>0,Ic(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&ol(e,this.length-8);let i=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(n<<24);return(BigInt(i)<<BigInt(32))+BigInt(r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)});ie.prototype.readBigInt64BE=Pa(function(e){e=e>>>0,Ic(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&ol(e,this.length-8);let i=(r<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(i)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n)});ie.prototype.readFloatLE=function(e,r){return e=e>>>0,r||tn(e,4,this.length),Fc.read(this,e,!0,23,4)};ie.prototype.readFloatBE=function(e,r){return e=e>>>0,r||tn(e,4,this.length),Fc.read(this,e,!1,23,4)};ie.prototype.readDoubleLE=function(e,r){return e=e>>>0,r||tn(e,8,this.length),Fc.read(this,e,!0,52,8)};ie.prototype.readDoubleBE=function(e,r){return e=e>>>0,r||tn(e,8,this.length),Fc.read(this,e,!1,52,8)};function Jn(t,e,r,n,i,s){if(!ie.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<s)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}ie.prototype.writeUintLE=ie.prototype.writeUIntLE=function(e,r,n,i){if(e=+e,r=r>>>0,n=n>>>0,!i){let c=Math.pow(2,8*n)-1;Jn(this,e,r,n,c,0)}let s=1,u=0;for(this[r]=e&255;++u<n&&(s*=256);)this[r+u]=e/s&255;return r+n};ie.prototype.writeUintBE=ie.prototype.writeUIntBE=function(e,r,n,i){if(e=+e,r=r>>>0,n=n>>>0,!i){let c=Math.pow(2,8*n)-1;Jn(this,e,r,n,c,0)}let s=n-1,u=1;for(this[r+s]=e&255;--s>=0&&(u*=256);)this[r+s]=e/u&255;return r+n};ie.prototype.writeUint8=ie.prototype.writeUInt8=function(e,r,n){return e=+e,r=r>>>0,n||Jn(this,e,r,1,255,0),this[r]=e&255,r+1};ie.prototype.writeUint16LE=ie.prototype.writeUInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||Jn(this,e,r,2,65535,0),this[r]=e&255,this[r+1]=e>>>8,r+2};ie.prototype.writeUint16BE=ie.prototype.writeUInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||Jn(this,e,r,2,65535,0),this[r]=e>>>8,this[r+1]=e&255,r+2};ie.prototype.writeUint32LE=ie.prototype.writeUInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||Jn(this,e,r,4,4294967295,0),this[r+3]=e>>>24,this[r+2]=e>>>16,this[r+1]=e>>>8,this[r]=e&255,r+4};ie.prototype.writeUint32BE=ie.prototype.writeUInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||Jn(this,e,r,4,4294967295,0),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};function kw(t,e,r,n,i){Fw(e,n,i,t,r,7);let s=Number(e&BigInt(4294967295));t[r++]=s,s=s>>8,t[r++]=s,s=s>>8,t[r++]=s,s=s>>8,t[r++]=s;let u=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=u,u=u>>8,t[r++]=u,u=u>>8,t[r++]=u,u=u>>8,t[r++]=u,r}function Ew(t,e,r,n,i){Fw(e,n,i,t,r,7);let s=Number(e&BigInt(4294967295));t[r+7]=s,s=s>>8,t[r+6]=s,s=s>>8,t[r+5]=s,s=s>>8,t[r+4]=s;let u=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=u,u=u>>8,t[r+2]=u,u=u>>8,t[r+1]=u,u=u>>8,t[r]=u,r+8}ie.prototype.writeBigUInt64LE=Pa(function(e,r=0){return kw(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))});ie.prototype.writeBigUInt64BE=Pa(function(e,r=0){return Ew(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))});ie.prototype.writeIntLE=function(e,r,n,i){if(e=+e,r=r>>>0,!i){let p=Math.pow(2,8*n-1);Jn(this,e,r,n,p-1,-p)}let s=0,u=1,c=0;for(this[r]=e&255;++s<n&&(u*=256);)e<0&&c===0&&this[r+s-1]!==0&&(c=1),this[r+s]=(e/u>>0)-c&255;return r+n};ie.prototype.writeIntBE=function(e,r,n,i){if(e=+e,r=r>>>0,!i){let p=Math.pow(2,8*n-1);Jn(this,e,r,n,p-1,-p)}let s=n-1,u=1,c=0;for(this[r+s]=e&255;--s>=0&&(u*=256);)e<0&&c===0&&this[r+s+1]!==0&&(c=1),this[r+s]=(e/u>>0)-c&255;return r+n};ie.prototype.writeInt8=function(e,r,n){return e=+e,r=r>>>0,n||Jn(this,e,r,1,127,-128),e<0&&(e=255+e+1),this[r]=e&255,r+1};ie.prototype.writeInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||Jn(this,e,r,2,32767,-32768),this[r]=e&255,this[r+1]=e>>>8,r+2};ie.prototype.writeInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||Jn(this,e,r,2,32767,-32768),this[r]=e>>>8,this[r+1]=e&255,r+2};ie.prototype.writeInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||Jn(this,e,r,4,2147483647,-2147483648),this[r]=e&255,this[r+1]=e>>>8,this[r+2]=e>>>16,this[r+3]=e>>>24,r+4};ie.prototype.writeInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||Jn(this,e,r,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};ie.prototype.writeBigInt64LE=Pa(function(e,r=0){return kw(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});ie.prototype.writeBigInt64BE=Pa(function(e,r=0){return Ew(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Sw(t,e,r,n,i,s){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function Pw(t,e,r,n,i){return e=+e,r=r>>>0,i||Sw(t,e,r,4,34028234663852886e22,-34028234663852886e22),Fc.write(t,e,r,n,23,4),r+4}ie.prototype.writeFloatLE=function(e,r,n){return Pw(this,e,r,!0,n)};ie.prototype.writeFloatBE=function(e,r,n){return Pw(this,e,r,!1,n)};function Cw(t,e,r,n,i){return e=+e,r=r>>>0,i||Sw(t,e,r,8,17976931348623157e292,-17976931348623157e292),Fc.write(t,e,r,n,52,8),r+8}ie.prototype.writeDoubleLE=function(e,r,n){return Cw(this,e,r,!0,n)};ie.prototype.writeDoubleBE=function(e,r,n){return Cw(this,e,r,!1,n)};ie.prototype.copy=function(e,r,n,i){if(!ie.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),!i&&i!==0&&(i=this.length),r>=e.length&&(r=e.length),r||(r=0),i>0&&i<n&&(i=n),i===n||e.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-r<i-n&&(i=e.length-r+n);let s=i-n;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(r,n,i):Uint8Array.prototype.set.call(e,this.subarray(n,i),r),s};ie.prototype.fill=function(e,r,n,i){if(typeof e=="string"){if(typeof r=="string"?(i=r,r=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!ie.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(e.length===1){let u=e.charCodeAt(0);(i==="utf8"&&u<128||i==="latin1")&&(e=u)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;r=r>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);let s;if(typeof e=="number")for(s=r;s<n;++s)this[s]=e;else{let u=ie.isBuffer(e)?e:ie.from(e,i),c=u.length;if(c===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(s=0;s<n-r;++s)this[s+r]=u[s%c]}return this};var Bc={};function gy(t,e,r){Bc[t]=class extends r{constructor(){super();Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(i){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:i,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}gy("ERR_BUFFER_OUT_OF_BOUNDS",function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);gy("ERR_INVALID_ARG_TYPE",function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`},TypeError);gy("ERR_OUT_OF_RANGE",function(t,e,r){let n=`The value of "${t}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=Tw(String(r)):typeof r=="bigint"&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=Tw(i)),i+="n"),n+=` It must be ${e}. Received ${i}`,n},RangeError);function Tw(t){let e="",r=t.length,n=t[0]==="-"?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function AD(t,e,r){Ic(e,"offset"),(t[e]===void 0||t[e+r]===void 0)&&ol(e,t.length-(r+1))}function Fw(t,e,r,n,i,s){if(t>r||t<e){let u=typeof e=="bigint"?"n":"",c;throw s>3?e===0||e===BigInt(0)?c=`>= 0${u} and < 2${u} ** ${(s+1)*8}${u}`:c=`>= -(2${u} ** ${(s+1)*8-1}${u}) and < 2 ** ${(s+1)*8-1}${u}`:c=`>= ${e}${u} and <= ${r}${u}`,new Bc.ERR_OUT_OF_RANGE("value",c,t)}AD(n,i,s)}function Ic(t,e){if(typeof t!="number")throw new Bc.ERR_INVALID_ARG_TYPE(e,"number",t)}function ol(t,e,r){throw Math.floor(t)!==t?(Ic(t,r),new Bc.ERR_OUT_OF_RANGE(r||"offset","an integer",t)):e<0?new Bc.ERR_BUFFER_OUT_OF_BOUNDS:new Bc.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${e}`,t)}var kD=/[^+/0-9A-Za-z-_]/g;function ED(t){if(t=t.split("=")[0],t=t.trim().replace(kD,""),t.length<2)return"";for(;t.length%4!=0;)t=t+"=";return t}function by(t,e){e=e||Infinity;let r,n=t.length,i=null,s=[];for(let u=0;u<n;++u){if(r=t.charCodeAt(u),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&s.push(239,191,189);continue}else if(u+1===n){(e-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&s.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(e-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;s.push(r)}else if(r<2048){if((e-=2)<0)break;s.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;s.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return s}function SD(t){let e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r)&255);return e}function PD(t,e){let r,n,i,s=[];for(let u=0;u<t.length&&!((e-=2)<0);++u)r=t.charCodeAt(u),n=r>>8,i=r%256,s.push(i),s.push(n);return s}function Bw(t){return hy.toByteArray(ED(t))}function xd(t,e,r,n){let i;for(i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function ls(t,e){return t instanceof e||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===e.name}function vy(t){return t!==t}var CD=function(){let t="0123456789abcdef",e=new Array(256);for(let r=0;r<16;++r){let n=r*16;for(let i=0;i<16;++i)e[n+i]=t[r]+t[i]}return e}();function Pa(t){return typeof BigInt=="undefined"?TD:t}function TD(){throw new Error("BigInt not supported")}});var li=G(ir=>{"use strict";var FD=ir&&ir.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(u){u(s)})}return new(r||(r=Promise))(function(s,u){function c(y){try{l(n.next(y))}catch(w){u(w)}}function p(y){try{l(n.throw(y))}catch(w){u(w)}}function l(y){y.done?s(y.value):i(y.value).then(c,p)}l((n=n.apply(t,e||[])).next())})},BD=ir&&ir.__generator||function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,u;return u={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function c(l){return function(y){return p([l,y])}}function p(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){r.label=l[1];break}if(l[0]===6&&r.label<s[1]){r.label=s[1],s=l;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(l);break}s[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(y){l=[6,y],i=0}finally{n=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}};Object.defineProperty(ir,"__esModule",{value:!0});var Iw=Ki(),Dw=sl();function wy(t,e){var r=e===8?new Uint8Array(t):new Uint16Array(t);return Array.from(r).map(function(n){return String.fromCharCode(n)}).join("")}ir.arrBufToStr=wy;function Rw(t){var e=wy(t,8);return Dw.Buffer.from(e,"binary").toString("base64")}ir.arrBufToBase64=Rw;function al(t,e){for(var r=e===8?new Uint8Array(t.length):new Uint16Array(t.length),n=0,i=t.length;n<i;n++)r[n]=t.charCodeAt(n);return r.buffer}ir.strToArrBuf=al;function _y(t){var e=Dw.Buffer.from(t,"base64").toString("binary");return al(e,8)}ir.base64ToArrBuf=_y;function Nw(){return new Uint8Array([1,0,1])}ir.publicExponent=Nw;function Uw(t){var e=new Uint8Array(t);return globalThis.crypto.getRandomValues(e),e.buffer}ir.randomBuf=Uw;function Lw(t,e){var r=new Uint8Array(t),n=new Uint8Array(e),i=new Uint8Array(r.length+n.length);return i.set(r),i.set(n,r.length),i.buffer}ir.joinBufs=Lw;ir.normalizeUtf8ToBuf=function(t){return ir.normalizeToBuf(t,function(e){return al(e,Iw.CharSize.B8)})};ir.normalizeUtf16ToBuf=function(t){return ir.normalizeToBuf(t,function(e){return al(e,Iw.CharSize.B16)})};ir.normalizeBase64ToBuf=function(t){return ir.normalizeToBuf(t,_y)};ir.normalizeUnicodeToBuf=function(t,e){switch(e){case 8:return ir.normalizeUtf8ToBuf(t);default:return ir.normalizeUtf16ToBuf(t)}};ir.normalizeToBuf=function(t,e){if(typeof t=="string")return e(t);if(typeof t=="object"&&t.byteLength!==void 0){var r=new Uint8Array(t);return r.buffer}else throw new Error("Improper value. Must be a string, ArrayBuffer, Uint8Array")};function Mw(t){return FD(this,void 0,void 0,function(){return BD(this,function(e){return[2,new Promise(function(r){var n=new MessageChannel,i=n.port1,s=n.port2;s.onmessage=function(u){return r(u.data)},i.postMessage(t)})]})})}ir.structuralClone=Mw;ir.default={arrBufToStr:wy,arrBufToBase64:Rw,strToArrBuf:al,base64ToArrBuf:_y,publicExponent:Nw,randomBuf:Uw,joinBufs:Lw,normalizeUtf8ToBuf:ir.normalizeUtf8ToBuf,normalizeUtf16ToBuf:ir.normalizeUtf16ToBuf,normalizeBase64ToBuf:ir.normalizeBase64ToBuf,normalizeToBuf:ir.normalizeToBuf,structuralClone:Mw}});var ul=G(pr=>{"use strict";Object.defineProperty(pr,"__esModule",{value:!0});var Ad=Ki();pr.KeyDoesNotExist=new Error("Key does not exist. Make sure you properly instantiated the keystore.");pr.NotKeyPair=new Error("Retrieved a symmetric key when an asymmetric keypair was expected. Please use a different key name.");pr.NotKey=new Error("Retrieved an asymmetric keypair when an symmetric key was expected. Please use a different key name.");pr.ECCNotEnabled=new Error("ECC is not enabled for this browser. Please use RSA instead.");pr.UnsupportedCrypto=new Error("Cryptosystem not supported. Please use ECC or RSA");pr.InvalidKeyUse=new Error("Invalid key use. Please use 'read' or 'write");function Ow(t){if(!t||t===null)throw pr.KeyDoesNotExist;if(t.privateKey===void 0)throw pr.NotKeyPair;return t}pr.checkIsKeyPair=Ow;function jw(t){if(!t||t===null)throw pr.KeyDoesNotExist;if(t.privateKey!==void 0||t.algorithm===void 0)throw pr.NotKey;return t}pr.checkIsKey=jw;function zw(t){qw(t,[Ad.CryptoSystem.ECC,Ad.CryptoSystem.RSA],pr.UnsupportedCrypto)}pr.checkValidCryptoSystem=zw;function Kw(t){qw(t,[Ad.KeyUse.Read,Ad.KeyUse.Write],pr.InvalidKeyUse)}pr.checkValidKeyUse=Kw;function qw(t,e,r){var n=e.some(function(i){return i===t});if(!n)throw r}pr.default={KeyDoesNotExist:pr.KeyDoesNotExist,NotKeyPair:pr.NotKeyPair,NotKey:pr.NotKey,ECCNotEnabled:pr.ECCNotEnabled,UnsupportedCrypto:pr.UnsupportedCrypto,InvalidKeyUse:pr.InvalidKeyUse,checkIsKeyPair:Ow,checkIsKey:jw,checkValidCryptoSystem:zw,checkValidKeyUse:Kw}});var cl=G(Ks=>{"use strict";var Hw=Ks&&Ks.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(u){u(s)})}return new(r||(r=Promise))(function(s,u){function c(y){try{l(n.next(y))}catch(w){u(w)}}function p(y){try{l(n.throw(y))}catch(w){u(w)}}function l(y){y.done?s(y.value):i(y.value).then(c,p)}l((n=n.apply(t,e||[])).next())})},$w=Ks&&Ks.__generator||function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,u;return u={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function c(l){return function(y){return p([l,y])}}function p(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){r.label=l[1];break}if(l[0]===6&&r.label<s[1]){r.label=s[1],s=l;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(l);break}s[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(y){l=[6,y],i=0}finally{n=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}};Object.defineProperty(Ks,"__esModule",{value:!0});var kd=bu(),Ed=Ki(),Gw=li(),Ww=ul();function Yw(t,e,r){return Hw(this,void 0,void 0,function(){var n,i;return $w(this,function(s){return Ww.checkValidKeyUse(r),n=r===Ed.KeyUse.Read?kd.RSA_READ_ALG:kd.RSA_WRITE_ALG,i=r===Ed.KeyUse.Read?["encrypt","decrypt"]:["sign","verify"],[2,globalThis.crypto.subtle.generateKey({name:n,modulusLength:t,publicExponent:Gw.default.publicExponent(),hash:{name:e}},!1,i)]})})}Ks.makeKeypair=Yw;function ID(t){return t.replace(`-----BEGIN PUBLIC KEY-----
`,"").replace(`
-----END PUBLIC KEY-----`,"")}function Vw(t,e,r){return Hw(this,void 0,void 0,function(){var n,i,s;return $w(this,function(u){return Ww.checkValidKeyUse(r),n=r===Ed.KeyUse.Read?kd.RSA_READ_ALG:kd.RSA_WRITE_ALG,i=r===Ed.KeyUse.Read?["encrypt"]:["verify"],s=Gw.default.base64ToArrBuf(ID(t)),[2,globalThis.crypto.subtle.importKey("spki",s,{name:n,hash:{name:e}},!0,i)]})})}Ks.importPublicKey=Vw;Ks.default={makeKeypair:Yw,importPublicKey:Vw}});var Sd=G(Hi=>{"use strict";var fl=Hi&&Hi.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(u){u(s)})}return new(r||(r=Promise))(function(s,u){function c(y){try{l(n.next(y))}catch(w){u(w)}}function p(y){try{l(n.throw(y))}catch(w){u(w)}}function l(y){y.done?s(y.value):i(y.value).then(c,p)}l((n=n.apply(t,e||[])).next())})},ll=Hi&&Hi.__generator||function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,u;return u={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function c(l){return function(y){return p([l,y])}}function p(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){r.label=l[1];break}if(l[0]===6&&r.label<s[1]){r.label=s[1],s=l;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(l);break}s[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(y){l=[6,y],i=0}finally{n=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}};Object.defineProperty(Hi,"__esModule",{value:!0});var Jw=cl(),Rc=li(),wo=bu(),Xw=Ki();function Zw(t,e,r){return r===void 0&&(r=wo.DEFAULT_CHAR_SIZE),fl(this,void 0,void 0,function(){return ll(this,function(n){return[2,globalThis.crypto.subtle.sign({name:wo.RSA_WRITE_ALG,saltLength:wo.SALT_LENGTH},e,Rc.normalizeUnicodeToBuf(t,r))]})})}Hi.sign=Zw;function Qw(t,e,r,n,i){return n===void 0&&(n=wo.DEFAULT_CHAR_SIZE),i===void 0&&(i=wo.DEFAULT_HASH_ALG),fl(this,void 0,void 0,function(){var s,u,c,p;return ll(this,function(l){switch(l.label){case 0:return u=(s=globalThis.crypto.subtle).verify,c=[{name:wo.RSA_WRITE_ALG,saltLength:wo.SALT_LENGTH}],typeof r!="string"?[3,2]:[4,Jw.default.importPublicKey(r,i,Xw.KeyUse.Write)];case 1:return p=l.sent(),[3,3];case 2:p=r,l.label=3;case 3:return[2,u.apply(s,c.concat([p,Rc.normalizeBase64ToBuf(e),Rc.normalizeUnicodeToBuf(t,n)]))]}})})}Hi.verify=Qw;function e_(t,e,r,n){return r===void 0&&(r=wo.DEFAULT_CHAR_SIZE),n===void 0&&(n=wo.DEFAULT_HASH_ALG),fl(this,void 0,void 0,function(){var i,s,u,c;return ll(this,function(p){switch(p.label){case 0:return s=(i=globalThis.crypto.subtle).encrypt,u=[{name:wo.RSA_READ_ALG}],typeof e!="string"?[3,2]:[4,Jw.default.importPublicKey(e,n,Xw.KeyUse.Read)];case 1:return c=p.sent(),[3,3];case 2:c=e,p.label=3;case 3:return[2,s.apply(i,u.concat([c,Rc.normalizeUnicodeToBuf(t,r)]))]}})})}Hi.encrypt=e_;function t_(t,e){return fl(this,void 0,void 0,function(){var r;return ll(this,function(n){return r=Rc.normalizeBase64ToBuf(t),[2,globalThis.crypto.subtle.decrypt({name:wo.RSA_READ_ALG},e,r)]})})}Hi.decrypt=t_;function r_(t){return fl(this,void 0,void 0,function(){var e;return ll(this,function(r){switch(r.label){case 0:return[4,globalThis.crypto.subtle.exportKey("spki",t.publicKey)];case 1:return e=r.sent(),[2,Rc.default.arrBufToBase64(e)]}})})}Hi.getPublicKey=r_;Hi.default={sign:Zw,verify:Qw,encrypt:e_,decrypt:t_,getPublicKey:r_}});var Sy=G(ln=>{"use strict";var qs=ln&&ln.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(u){u(s)})}return new(r||(r=Promise))(function(s,u){function c(y){try{l(n.next(y))}catch(w){u(w)}}function p(y){try{l(n.throw(y))}catch(w){u(w)}}function l(y){y.done?s(y.value):i(y.value).then(c,p)}l((n=n.apply(t,e||[])).next())})},Hs=ln&&ln.__generator||function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,u;return u={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function c(l){return function(y){return p([l,y])}}function p(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){r.label=l[1];break}if(l[0]===6&&r.label<s[1]){r.label=s[1],s=l;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(l);break}s[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(y){l=[6,y],i=0}finally{n=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}};Object.defineProperty(ln,"__esModule",{value:!0});var $s=ad(),n_=ul();function i_(t){return $s.default.createInstance({name:t})}ln.createStore=i_;function o_(t,e,r){return r===void 0&&(r=$s.default),qs(this,void 0,void 0,function(){var n;return Hs(this,function(i){switch(i.label){case 0:return[4,ky(t,r)];case 1:return i.sent()?[2]:[4,e()];case 2:return n=i.sent(),[4,xy(t,n,r)];case 3:return i.sent(),[2]}})})}ln.createIfDoesNotExist=o_;function xy(t,e,r){return r===void 0&&(r=$s.default),qs(this,void 0,void 0,function(){return Hs(this,function(n){return[2,r.setItem(t,e)]})})}ln.put=xy;function s_(t,e){return e===void 0&&(e=$s.default),qs(this,void 0,void 0,function(){return Hs(this,function(r){return[2,Ay(t,n_.checkIsKeyPair,e)]})})}ln.getKeypair=s_;function a_(t,e){return e===void 0&&(e=$s.default),qs(this,void 0,void 0,function(){return Hs(this,function(r){return[2,Ay(t,n_.checkIsKey,e)]})})}ln.getKey=a_;function Ay(t,e,r){return r===void 0&&(r=$s.default),qs(this,void 0,void 0,function(){var n;return Hs(this,function(i){switch(i.label){case 0:return[4,r.getItem(t)];case 1:return n=i.sent(),[2,n===null?null:e(n)]}})})}ln.get=Ay;function ky(t,e){return e===void 0&&(e=$s.default),qs(this,void 0,void 0,function(){var r;return Hs(this,function(n){switch(n.label){case 0:return[4,e.getItem(t)];case 1:return r=n.sent(),[2,r!==null]}})})}ln.exists=ky;function u_(t,e){return e===void 0&&(e=$s.default),qs(this,void 0,void 0,function(){return Hs(this,function(r){return[2,e.removeItem(t)]})})}ln.rm=u_;function Ey(t){return qs(this,void 0,void 0,function(){return Hs(this,function(e){return[2,t.dropInstance()]})})}ln.dropStore=Ey;function c_(t){return qs(this,void 0,void 0,function(){return Hs(this,function(e){return t?[2,Ey(t)]:[2,$s.default.clear()]})})}ln.clear=c_;ln.default={createStore:i_,createIfDoesNotExist:o_,put:xy,getKeypair:s_,getKey:a_,exists:ky,rm:u_,dropStore:Ey,clear:c_}});var m_=G(Gs=>{"use strict";var f_=Gs&&Gs.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(u){u(s)})}return new(r||(r=Promise))(function(s,u){function c(y){try{l(n.next(y))}catch(w){u(w)}}function p(y){try{l(n.throw(y))}catch(w){u(w)}}function l(y){y.done?s(y.value):i(y.value).then(c,p)}l((n=n.apply(t,e||[])).next())})},l_=Gs&&Gs.__generator||function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,u;return u={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function c(l){return function(y){return p([l,y])}}function p(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){r.label=l[1];break}if(l[0]===6&&r.label<s[1]){r.label=s[1],s=l;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(l);break}s[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(y){l=[6,y],i=0}finally{n=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}};Object.defineProperty(Gs,"__esModule",{value:!0});var DD=li(),Pd=bu(),Cd=Ki(),h_=ul();function d_(t,e){return f_(this,void 0,void 0,function(){var r,n;return l_(this,function(i){return h_.checkValidKeyUse(e),r=e===Cd.KeyUse.Read?Pd.ECC_READ_ALG:Pd.ECC_WRITE_ALG,n=e===Cd.KeyUse.Read?["deriveKey","deriveBits"]:["sign","verify"],[2,globalThis.crypto.subtle.generateKey({name:r,namedCurve:t},!1,n)]})})}Gs.makeKeypair=d_;function p_(t,e,r){return f_(this,void 0,void 0,function(){var n,i,s;return l_(this,function(u){return h_.checkValidKeyUse(r),n=r===Cd.KeyUse.Read?Pd.ECC_READ_ALG:Pd.ECC_WRITE_ALG,i=r===Cd.KeyUse.Read?[]:["verify"],s=DD.default.base64ToArrBuf(t),[2,globalThis.crypto.subtle.importKey("raw",s,{name:n,namedCurve:e},!0,i)]})})}Gs.importPublicKey=p_;Gs.default={makeKeypair:d_,importPublicKey:p_}});var Cy=G(hn=>{"use strict";var Nc=hn&&hn.__assign||function(){return Nc=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Nc.apply(this,arguments)},RD=hn&&hn.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(u){u(s)})}return new(r||(r=Promise))(function(s,u){function c(y){try{l(n.next(y))}catch(w){u(w)}}function p(y){try{l(n.throw(y))}catch(w){u(w)}}function l(y){y.done?s(y.value):i(y.value).then(c,p)}l((n=n.apply(t,e||[])).next())})},ND=hn&&hn.__generator||function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,u;return u={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function c(l){return function(y){return p([l,y])}}function p(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){r.label=l[1];break}if(l[0]===6&&r.label<s[1]){r.label=s[1],s=l;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(l);break}s[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(y){l=[6,y],i=0}finally{n=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}};Object.defineProperty(hn,"__esModule",{value:!0});var UD=m_(),_o=bu(),Py=Ki(),LD=li();hn.defaultConfig={type:_o.DEFAULT_CRYPTOSYSTEM,curve:_o.DEFAULT_ECC_CURVE,rsaSize:_o.DEFAULT_RSA_SIZE,symmAlg:_o.DEFAULT_SYMM_ALG,symmLen:_o.DEFAULT_SYMM_LEN,hashAlg:_o.DEFAULT_HASH_ALG,charSize:_o.DEFAULT_CHAR_SIZE,storeName:_o.DEFAULT_STORE_NAME,readKeyName:_o.DEFAULT_READ_KEY_NAME,writeKeyName:_o.DEFAULT_WRITE_KEY_NAME};function y_(t,e){e===void 0&&(e=!0);var r;return t?r=Nc(Nc({},hn.defaultConfig),t):r=hn.defaultConfig,(t==null?void 0:t.type)||(r.type=e?Py.CryptoSystem.ECC:Py.CryptoSystem.RSA),r}hn.normalize=y_;function g_(){return RD(this,void 0,void 0,function(){var t,e;return ND(this,function(r){switch(r.label){case 0:return[4,UD.default.makeKeypair(_o.DEFAULT_ECC_CURVE,Py.KeyUse.Read)];case 1:t=r.sent(),r.label=2;case 2:return r.trys.push([2,4,,5]),[4,LD.default.structuralClone(t)];case 3:return r.sent(),[3,5];case 4:return e=r.sent(),[2,!1];case 5:return[2,!0]}})})}hn.eccEnabled=g_;function b_(t,e){return e===void 0&&(e={}),Nc(Nc({},t),e)}hn.merge=b_;function v_(t){return{alg:t.symmAlg,length:t.symmLen}}hn.symmKeyOpts=v_;hn.default={defaultConfig:hn.defaultConfig,normalize:y_,eccEnabled:g_,merge:b_,symmKeyOpts:v_}});var Fd=G(Ws=>{"use strict";var w_=Ws&&Ws.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(u){u(s)})}return new(r||(r=Promise))(function(s,u){function c(y){try{l(n.next(y))}catch(w){u(w)}}function p(y){try{l(n.throw(y))}catch(w){u(w)}}function l(y){y.done?s(y.value):i(y.value).then(c,p)}l((n=n.apply(t,e||[])).next())})},__=Ws&&Ws.__generator||function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,u;return u={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function c(l){return function(y){return p([l,y])}}function p(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){r.label=l[1];break}if(l[0]===6&&r.label<s[1]){r.label=s[1],s=l;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(l);break}s[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(y){l=[6,y],i=0}finally{n=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}};Object.defineProperty(Ws,"__esModule",{value:!0});var MD=li(),Td=bu();function x_(t){return w_(this,void 0,void 0,function(){return __(this,function(e){return[2,globalThis.crypto.subtle.generateKey({name:(t==null?void 0:t.alg)||Td.DEFAULT_SYMM_ALG,length:(t==null?void 0:t.length)||Td.DEFAULT_SYMM_LEN},!0,["encrypt","decrypt"])]})})}Ws.makeKey=x_;function A_(t,e){return w_(this,void 0,void 0,function(){var r;return __(this,function(n){return r=MD.default.base64ToArrBuf(t),[2,globalThis.crypto.subtle.importKey("raw",r,{name:(e==null?void 0:e.alg)||Td.DEFAULT_SYMM_ALG,length:(e==null?void 0:e.length)||Td.DEFAULT_SYMM_LEN},!0,["encrypt","decrypt"])]})})}Ws.importKey=A_;Ws.default={makeKey:x_,importKey:A_}});var By=G($i=>{"use strict";var hl=$i&&$i.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(u){u(s)})}return new(r||(r=Promise))(function(s,u){function c(y){try{l(n.next(y))}catch(w){u(w)}}function p(y){try{l(n.throw(y))}catch(w){u(w)}}function l(y){y.done?s(y.value):i(y.value).then(c,p)}l((n=n.apply(t,e||[])).next())})},dl=$i&&$i.__generator||function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,u;return u={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function c(l){return function(y){return p([l,y])}}function p(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){r.label=l[1];break}if(l[0]===6&&r.label<s[1]){r.label=s[1],s=l;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(l);break}s[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(y){l=[6,y],i=0}finally{n=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}};Object.defineProperty($i,"__esModule",{value:!0});var k_=Fd(),wu=li(),Bd=bu(),Uc=Ki();function Ty(t,e,r){return hl(this,void 0,void 0,function(){var n,i,s,u,c,p;return dl(this,function(l){switch(l.label){case 0:return n=wu.default.normalizeUtf16ToBuf(t),typeof e!="string"?[3,2]:[4,k_.default.importKey(e,r)];case 1:return s=l.sent(),[3,3];case 2:s=e,l.label=3;case 3:return i=s,u=(r==null?void 0:r.alg)||Bd.DEFAULT_SYMM_ALG,c=(r==null?void 0:r.iv)||wu.default.randomBuf(16),[4,globalThis.crypto.subtle.encrypt({name:u,iv:u===Uc.SymmAlg.AES_CTR?void 0:c,counter:u===Uc.SymmAlg.AES_CTR?new Uint8Array(c):void 0,length:u===Uc.SymmAlg.AES_CTR?Bd.DEFAULT_CTR_LEN:void 0},i,n)];case 4:return p=l.sent(),[2,wu.default.joinBufs(c,p)]}})})}$i.encryptBytes=Ty;function Fy(t,e,r){return hl(this,void 0,void 0,function(){var n,i,s,u,c,p,l;return dl(this,function(y){switch(y.label){case 0:return n=wu.default.normalizeBase64ToBuf(t),typeof e!="string"?[3,2]:[4,k_.default.importKey(e,r)];case 1:return s=y.sent(),[3,3];case 2:s=e,y.label=3;case 3:return i=s,u=(r==null?void 0:r.alg)||Bd.DEFAULT_SYMM_ALG,c=n.slice(0,16),p=n.slice(16),[4,globalThis.crypto.subtle.decrypt({name:u,iv:u===Uc.SymmAlg.AES_CTR?void 0:c,counter:u===Uc.SymmAlg.AES_CTR?new Uint8Array(c):void 0,length:u===Uc.SymmAlg.AES_CTR?Bd.DEFAULT_CTR_LEN:void 0},i,p)];case 4:return l=y.sent(),[2,l]}})})}$i.decryptBytes=Fy;function E_(t,e,r){return hl(this,void 0,void 0,function(){var n;return dl(this,function(i){switch(i.label){case 0:return[4,Ty(t,e,r)];case 1:return n=i.sent(),[2,wu.default.arrBufToBase64(n)]}})})}$i.encrypt=E_;function S_(t,e,r){return hl(this,void 0,void 0,function(){var n;return dl(this,function(i){switch(i.label){case 0:return[4,Fy(t,e,r)];case 1:return n=i.sent(),[2,wu.default.arrBufToStr(n,16)]}})})}$i.decrypt=S_;function P_(t){return hl(this,void 0,void 0,function(){var e;return dl(this,function(r){switch(r.label){case 0:return[4,globalThis.crypto.subtle.exportKey("raw",t)];case 1:return e=r.sent(),[2,wu.default.arrBufToBase64(e)]}})})}$i.exportKey=P_;$i.default={encryptBytes:Ty,decryptBytes:Fy,encrypt:E_,decrypt:S_,exportKey:P_}});var Iy=G(_u=>{"use strict";var Id=_u&&_u.__assign||function(){return Id=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Id.apply(this,arguments)};function C_(t){for(var e in t)_u.hasOwnProperty(e)||(_u[e]=t[e])}Object.defineProperty(_u,"__esModule",{value:!0});var OD=Fd(),jD=By();C_(Fd());C_(By());_u.default=Id(Id({},OD.default),jD.default)});var F_=G(xu=>{"use strict";var hs=xu&&xu.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(u){u(s)})}return new(r||(r=Promise))(function(s,u){function c(y){try{l(n.next(y))}catch(w){u(w)}}function p(y){try{l(n.throw(y))}catch(w){u(w)}}function l(y){y.done?s(y.value):i(y.value).then(c,p)}l((n=n.apply(t,e||[])).next())})},ds=xu&&xu.__generator||function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,u;return u={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function c(l){return function(y){return p([l,y])}}function p(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){r.label=l[1];break}if(l[0]===6&&r.label<s[1]){r.label=s[1],s=l;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(l);break}s[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(y){l=[6,y],i=0}finally{n=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}};Object.defineProperty(xu,"__esModule",{value:!0});var pl=Iy(),Ca=Sy(),Dd=li(),Ta=Cy(),T_=ul(),zD=function(){function t(e,r){this.cfg=e,this.store=r}return t.prototype.writeKey=function(){return hs(this,void 0,void 0,function(){var e;return ds(this,function(r){switch(r.label){case 0:return[4,Ca.default.getKeypair(this.cfg.writeKeyName,this.store)];case 1:return e=r.sent(),[2,T_.checkIsKeyPair(e)]}})})},t.prototype.readKey=function(){return hs(this,void 0,void 0,function(){var e;return ds(this,function(r){switch(r.label){case 0:return[4,Ca.default.getKeypair(this.cfg.readKeyName,this.store)];case 1:return e=r.sent(),[2,T_.checkIsKeyPair(e)]}})})},t.prototype.getSymmKey=function(e,r){return hs(this,void 0,void 0,function(){var n,i,s;return ds(this,function(u){switch(u.label){case 0:return n=Ta.default.merge(this.cfg,r),[4,Ca.default.getKey(e,this.store)];case 1:return i=u.sent(),i!==null?[2,i]:[4,pl.default.makeKey(Ta.default.symmKeyOpts(n))];case 2:return s=u.sent(),[4,Ca.default.put(e,s,this.store)];case 3:return u.sent(),[2,s]}})})},t.prototype.keyExists=function(e){return hs(this,void 0,void 0,function(){var r;return ds(this,function(n){switch(n.label){case 0:return[4,Ca.default.getKey(e,this.store)];case 1:return r=n.sent(),[2,r!==null]}})})},t.prototype.deleteKey=function(e){return hs(this,void 0,void 0,function(){return ds(this,function(r){return[2,Ca.default.rm(e,this.store)]})})},t.prototype.destroy=function(){return hs(this,void 0,void 0,function(){return ds(this,function(e){return[2,Ca.default.dropStore(this.store)]})})},t.prototype.importSymmKey=function(e,r,n){return hs(this,void 0,void 0,function(){var i,s;return ds(this,function(u){switch(u.label){case 0:return i=Ta.default.merge(this.cfg,n),[4,pl.default.importKey(e,Ta.default.symmKeyOpts(i))];case 1:return s=u.sent(),[4,Ca.default.put(r,s,this.store)];case 2:return u.sent(),[2]}})})},t.prototype.exportSymmKey=function(e,r){return hs(this,void 0,void 0,function(){var n;return ds(this,function(i){switch(i.label){case 0:return[4,this.getSymmKey(e,r)];case 1:return n=i.sent(),[2,pl.default.exportKey(n)]}})})},t.prototype.encryptWithSymmKey=function(e,r,n){return hs(this,void 0,void 0,function(){var i,s,u;return ds(this,function(c){switch(c.label){case 0:return i=Ta.default.merge(this.cfg,n),[4,this.getSymmKey(r,n)];case 1:return s=c.sent(),[4,pl.default.encryptBytes(Dd.default.strToArrBuf(e,i.charSize),s,Ta.default.symmKeyOpts(i))];case 2:return u=c.sent(),[2,Dd.default.arrBufToBase64(u)]}})})},t.prototype.decryptWithSymmKey=function(e,r,n){return hs(this,void 0,void 0,function(){var i,s,u;return ds(this,function(c){switch(c.label){case 0:return i=Ta.default.merge(this.cfg,n),[4,this.getSymmKey(r,n)];case 1:return s=c.sent(),[4,pl.default.decryptBytes(Dd.default.base64ToArrBuf(e),s,Ta.default.symmKeyOpts(i))];case 2:return u=c.sent(),[2,Dd.default.arrBufToStr(u,i.charSize)]}})})},t}();xu.default=zD});var Uy=G(Gi=>{"use strict";var KD=Gi&&Gi.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Rd=Gi&&Gi.__assign||function(){return Rd=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Rd.apply(this,arguments)},Au=Gi&&Gi.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(u){u(s)})}return new(r||(r=Promise))(function(s,u){function c(y){try{l(n.next(y))}catch(w){u(w)}}function p(y){try{l(n.throw(y))}catch(w){u(w)}}function l(y){y.done?s(y.value):i(y.value).then(c,p)}l((n=n.apply(t,e||[])).next())})},ku=Gi&&Gi.__generator||function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,u;return u={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function c(l){return function(y){return p([l,y])}}function p(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){r.label=l[1];break}if(l[0]===6&&r.label<s[1]){r.label=s[1],s=l;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(l);break}s[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(y){l=[6,y],i=0}finally{n=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}};Object.defineProperty(Gi,"__esModule",{value:!0});var Dy=Sy(),B_=cl(),Lc=Sd(),ml=Cy(),Ry=li(),qD=F_(),Ny=Ki(),I_=function(t){KD(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.init=function(r){return Au(this,void 0,void 0,function(){var n,i,s,u,c,p,l;return ku(this,function(y){switch(y.label){case 0:return n=ml.default.normalize(Rd(Rd({},r||{}),{type:Ny.CryptoSystem.RSA})),i=n.rsaSize,s=n.hashAlg,u=n.storeName,c=n.readKeyName,p=n.writeKeyName,l=Dy.default.createStore(u),[4,Dy.default.createIfDoesNotExist(c,function(){return B_.default.makeKeypair(i,s,Ny.KeyUse.Read)},l)];case 1:return y.sent(),[4,Dy.default.createIfDoesNotExist(p,function(){return B_.default.makeKeypair(i,s,Ny.KeyUse.Write)},l)];case 2:return y.sent(),[2,new e(n,l)]}})})},e.prototype.sign=function(r,n){return Au(this,void 0,void 0,function(){var i,s,u,c;return ku(this,function(p){switch(p.label){case 0:return i=ml.default.merge(this.cfg,n),[4,this.writeKey()];case 1:return s=p.sent(),c=(u=Ry.default).arrBufToBase64,[4,Lc.default.sign(r,s.privateKey,i.charSize)];case 2:return[2,c.apply(u,[p.sent()])]}})})},e.prototype.verify=function(r,n,i,s){return Au(this,void 0,void 0,function(){var u;return ku(this,function(c){return u=ml.default.merge(this.cfg,s),[2,Lc.default.verify(r,n,i,u.charSize,u.hashAlg)]})})},e.prototype.encrypt=function(r,n,i){return Au(this,void 0,void 0,function(){var s,u,c;return ku(this,function(p){switch(p.label){case 0:return s=ml.default.merge(this.cfg,i),c=(u=Ry.default).arrBufToBase64,[4,Lc.default.encrypt(r,n,s.charSize,s.hashAlg)];case 1:return[2,c.apply(u,[p.sent()])]}})})},e.prototype.decrypt=function(r,n,i){return Au(this,void 0,void 0,function(){var s,u,c,p;return ku(this,function(l){switch(l.label){case 0:return[4,this.readKey()];case 1:return s=l.sent(),u=ml.default.merge(this.cfg,i),p=(c=Ry.default).arrBufToStr,[4,Lc.default.decrypt(r,s.privateKey)];case 2:return[2,p.apply(c,[l.sent(),u.charSize])]}})})},e.prototype.publicReadKey=function(){return Au(this,void 0,void 0,function(){var r;return ku(this,function(n){switch(n.label){case 0:return[4,this.readKey()];case 1:return r=n.sent(),[2,Lc.default.getPublicKey(r)]}})})},e.prototype.publicWriteKey=function(){return Au(this,void 0,void 0,function(){var r;return ku(this,function(n){switch(n.label){case 0:return[4,this.writeKey()];case 1:return r=n.sent(),[2,Lc.default.getPublicKey(r)]}})})},e}(qD.default);Gi.RSAKeyStore=I_;Gi.default=I_});var D_=G(Eu=>{"use strict";var yl=Eu&&Eu.__assign||function(){return yl=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},yl.apply(this,arguments)};function Ly(t){for(var e in t)Eu.hasOwnProperty(e)||(Eu[e]=t[e])}Object.defineProperty(Eu,"__esModule",{value:!0});var HD=cl(),$D=Sd(),GD=Uy();Ly(cl());Ly(Sd());Ly(Uy());Eu.default=yl(yl(yl({},HD.default),$D.default),GD.default)});var N_=G((My,Oy)=>{(function(t,e){typeof My=="object"&&typeof Oy!="undefined"?Oy.exports=e():typeof define=="function"&&define.amd?define(e):(t=t||self,t.keystore=e())})(My,function(){"use strict";var t=function(g,d){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,b){h.__proto__=b}||function(h,b){for(var S in b)b.hasOwnProperty(S)&&(h[S]=b[S])},t(g,d)};function e(g,d){t(g,d);function h(){this.constructor=g}g.prototype=d===null?Object.create(d):(h.prototype=d.prototype,new h)}var r=function(){return r=Object.assign||function(d){for(var h,b=1,S=arguments.length;b<S;b++){h=arguments[b];for(var F in h)Object.prototype.hasOwnProperty.call(h,F)&&(d[F]=h[F])}return d},r.apply(this,arguments)};function n(g,d,h,b){return new(h||(h=Promise))(function(S,F){function I(te){try{se(b.next(te))}catch(Me){F(Me)}}function J(te){try{se(b.throw(te))}catch(Me){F(Me)}}function se(te){te.done?S(te.value):new h(function(Me){Me(te.value)}).then(I,J)}se((b=b.apply(g,d||[])).next())})}function i(g,d){var h={label:0,sent:function(){if(F[0]&1)throw F[1];return F[1]},trys:[],ops:[]},b,S,F,I;return I={next:J(0),throw:J(1),return:J(2)},typeof Symbol=="function"&&(I[Symbol.iterator]=function(){return this}),I;function J(te){return function(Me){return se([te,Me])}}function se(te){if(b)throw new TypeError("Generator is already executing.");for(;h;)try{if(b=1,S&&(F=te[0]&2?S.return:te[0]?S.throw||((F=S.return)&&F.call(S),0):S.next)&&!(F=F.call(S,te[1])).done)return F;switch(S=0,F&&(te=[te[0]&2,F.value]),te[0]){case 0:case 1:F=te;break;case 4:return h.label++,{value:te[1],done:!1};case 5:h.label++,S=te[1],te=[0];continue;case 7:te=h.ops.pop(),h.trys.pop();continue;default:if(F=h.trys,!(F=F.length>0&&F[F.length-1])&&(te[0]===6||te[0]===2)){h=0;continue}if(te[0]===3&&(!F||te[1]>F[0]&&te[1]<F[3])){h.label=te[1];break}if(te[0]===6&&h.label<F[1]){h.label=F[1],F=te;break}if(F&&h.label<F[2]){h.label=F[2],h.ops.push(te);break}F[2]&&h.ops.pop(),h.trys.pop();continue}te=d.call(g,h)}catch(Me){te=[6,Me],S=0}finally{b=F=0}if(te[0]&5)throw te[1];return{value:te[0]?te[1]:void 0,done:!0}}}(function(g){typeof globalThis!="object"&&(this?d():(g.defineProperty(g.prototype,"_T_",{configurable:!0,get:d}),_T_));function d(){var h=this||self;h.globalThis=h,delete g.prototype._T_}})(Object);var s=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function u(){throw new Error("Dynamic requires are not currently supported by rollup-plugin-commonjs")}function c(g,d){return d={exports:{}},g(d,d.exports),d.exports}var p=c(function(g,d){(function(h){g.exports=h()})(function(){return function h(b,S,F){function I(te,Me){if(!S[te]){if(!b[te]){var be=typeof u=="function"&&u;if(!Me&&be)return be(te,!0);if(J)return J(te,!0);var Xe=new Error("Cannot find module '"+te+"'");throw Xe.code="MODULE_NOT_FOUND",Xe}var Pt=S[te]={exports:{}};b[te][0].call(Pt.exports,function(Vt){var un=b[te][1][Vt];return I(un||Vt)},Pt,Pt.exports,h,b,S,F)}return S[te].exports}for(var J=typeof u=="function"&&u,se=0;se<F.length;se++)I(F[se]);return I}({1:[function(h,b,S){(function(F){var I=F.MutationObserver||F.WebKitMutationObserver,J;if(I){var se=0,te=new I(Vt),Me=F.document.createTextNode("");te.observe(Me,{characterData:!0}),J=function(){Me.data=se=++se%2}}else if(!F.setImmediate&&typeof F.MessageChannel!="undefined"){var be=new F.MessageChannel;be.port1.onmessage=Vt,J=function(){be.port2.postMessage(0)}}else"document"in F&&"onreadystatechange"in F.document.createElement("script")?J=function(){var Rr=F.document.createElement("script");Rr.onreadystatechange=function(){Vt(),Rr.onreadystatechange=null,Rr.parentNode.removeChild(Rr),Rr=null},F.document.documentElement.appendChild(Rr)}:J=function(){setTimeout(Vt,0)};var Xe,Pt=[];function Vt(){Xe=!0;for(var Rr,Li,Ot=Pt.length;Ot;){for(Li=Pt,Pt=[],Rr=-1;++Rr<Ot;)Li[Rr]();Ot=Pt.length}Xe=!1}b.exports=un;function un(Rr){Pt.push(Rr)===1&&!Xe&&J()}}).call(this,typeof s!="undefined"?s:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],2:[function(h,b,S){var F=h(1);function I(){}var J={},se=["REJECTED"],te=["FULFILLED"],Me=["PENDING"];b.exports=be;function be(Le){if(typeof Le!="function")throw new TypeError("resolver must be a function");this.state=Me,this.queue=[],this.outcome=void 0,Le!==I&&un(this,Le)}be.prototype.catch=function(Le){return this.then(null,Le)},be.prototype.then=function(Le,It){if(typeof Le!="function"&&this.state===te||typeof It!="function"&&this.state===se)return this;var xt=new this.constructor(I);if(this.state!==Me){var nr=this.state===te?Le:It;Pt(xt,nr,this.outcome)}else this.queue.push(new Xe(xt,Le,It));return xt};function Xe(Le,It,xt){this.promise=Le,typeof It=="function"&&(this.onFulfilled=It,this.callFulfilled=this.otherCallFulfilled),typeof xt=="function"&&(this.onRejected=xt,this.callRejected=this.otherCallRejected)}Xe.prototype.callFulfilled=function(Le){J.resolve(this.promise,Le)},Xe.prototype.otherCallFulfilled=function(Le){Pt(this.promise,this.onFulfilled,Le)},Xe.prototype.callRejected=function(Le){J.reject(this.promise,Le)},Xe.prototype.otherCallRejected=function(Le){Pt(this.promise,this.onRejected,Le)};function Pt(Le,It,xt){F(function(){var nr;try{nr=It(xt)}catch(Hr){return J.reject(Le,Hr)}nr===Le?J.reject(Le,new TypeError("Cannot resolve promise with itself")):J.resolve(Le,nr)})}J.resolve=function(Le,It){var xt=Rr(Vt,It);if(xt.status==="error")return J.reject(Le,xt.value);var nr=xt.value;if(nr)un(Le,nr);else{Le.state=te,Le.outcome=It;for(var Hr=-1,Cn=Le.queue.length;++Hr<Cn;)Le.queue[Hr].callFulfilled(It)}return Le},J.reject=function(Le,It){Le.state=se,Le.outcome=It;for(var xt=-1,nr=Le.queue.length;++xt<nr;)Le.queue[xt].callRejected(It);return Le};function Vt(Le){var It=Le&&Le.then;if(Le&&(typeof Le=="object"||typeof Le=="function")&&typeof It=="function")return function(){It.apply(Le,arguments)}}function un(Le,It){var xt=!1;function nr($r){xt||(xt=!0,J.reject(Le,$r))}function Hr($r){xt||(xt=!0,J.resolve(Le,$r))}function Cn(){It(Hr,nr)}var qn=Rr(Cn);qn.status==="error"&&nr(qn.value)}function Rr(Le,It){var xt={};try{xt.value=Le(It),xt.status="success"}catch(nr){xt.status="error",xt.value=nr}return xt}be.resolve=Li;function Li(Le){return Le instanceof this?Le:J.resolve(new this(I),Le)}be.reject=Ot;function Ot(Le){var It=new this(I);return J.reject(It,Le)}be.all=Ja;function Ja(Le){var It=this;if(Object.prototype.toString.call(Le)!=="[object Array]")return this.reject(new TypeError("must be an array"));var xt=Le.length,nr=!1;if(!xt)return this.resolve([]);for(var Hr=new Array(xt),Cn=0,qn=-1,$r=new this(I);++qn<xt;)ho(Le[qn],qn);return $r;function ho(Xa,la){It.resolve(Xa).then(uc,function(Tn){nr||(nr=!0,J.reject($r,Tn))});function uc(Tn){Hr[la]=Tn,++Cn===xt&&!nr&&(nr=!0,J.resolve($r,Hr))}}}be.race=ii;function ii(Le){var It=this;if(Object.prototype.toString.call(Le)!=="[object Array]")return this.reject(new TypeError("must be an array"));var xt=Le.length,nr=!1;if(!xt)return this.resolve([]);for(var Hr=-1,Cn=new this(I);++Hr<xt;)qn(Le[Hr]);return Cn;function qn($r){It.resolve($r).then(function(ho){nr||(nr=!0,J.resolve(Cn,ho))},function(ho){nr||(nr=!0,J.reject(Cn,ho))})}}},{"1":1}],3:[function(h,b,S){(function(F){typeof F.Promise!="function"&&(F.Promise=h(2))}).call(this,typeof s!="undefined"?s:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"2":2}],4:[function(h,b,S){var F=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x};function I(x,U){if(!(x instanceof U))throw new TypeError("Cannot call a class as a function")}function J(){try{if(typeof indexedDB!="undefined")return indexedDB;if(typeof webkitIndexedDB!="undefined")return webkitIndexedDB;if(typeof mozIndexedDB!="undefined")return mozIndexedDB;if(typeof OIndexedDB!="undefined")return OIndexedDB;if(typeof msIndexedDB!="undefined")return msIndexedDB}catch(x){return}}var se=J();function te(){try{if(!se)return!1;var x=typeof openDatabase!="undefined"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),U=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!x||U)&&typeof indexedDB!="undefined"&&typeof IDBKeyRange!="undefined"}catch(T){return!1}}function Me(x,U){x=x||[],U=U||{};try{return new Blob(x,U)}catch(O){if(O.name!=="TypeError")throw O;for(var T=typeof BlobBuilder!="undefined"?BlobBuilder:typeof MSBlobBuilder!="undefined"?MSBlobBuilder:typeof MozBlobBuilder!="undefined"?MozBlobBuilder:WebKitBlobBuilder,z=new T,H=0;H<x.length;H+=1)z.append(x[H]);return z.getBlob(U.type)}}typeof Promise=="undefined"&&h(3);var be=Promise;function Xe(x,U){U&&x.then(function(T){U(null,T)},function(T){U(T)})}function Pt(x,U,T){typeof U=="function"&&x.then(U),typeof T=="function"&&x.catch(T)}function Vt(x){return typeof x!="string"&&(console.warn(x+" used as a key, but it is not a string."),x=String(x)),x}function un(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var Rr="local-forage-detect-blob-support",Li=void 0,Ot={},Ja=Object.prototype.toString,ii="readonly",Le="readwrite";function It(x){for(var U=x.length,T=new ArrayBuffer(U),z=new Uint8Array(T),H=0;H<U;H++)z[H]=x.charCodeAt(H);return T}function xt(x){return new be(function(U){var T=x.transaction(Rr,Le),z=Me([""]);T.objectStore(Rr).put(z,"key"),T.onabort=function(H){H.preventDefault(),H.stopPropagation(),U(!1)},T.oncomplete=function(){var H=navigator.userAgent.match(/Chrome\/(\d+)/),O=navigator.userAgent.match(/Edge\//);U(O||!H||parseInt(H[1],10)>=43)}}).catch(function(){return!1})}function nr(x){return typeof Li=="boolean"?be.resolve(Li):xt(x).then(function(U){return Li=U,Li})}function Hr(x){var U=Ot[x.name],T={};T.promise=new be(function(z,H){T.resolve=z,T.reject=H}),U.deferredOperations.push(T),U.dbReady?U.dbReady=U.dbReady.then(function(){return T.promise}):U.dbReady=T.promise}function Cn(x){var U=Ot[x.name],T=U.deferredOperations.pop();if(T)return T.resolve(),T.promise}function qn(x,U){var T=Ot[x.name],z=T.deferredOperations.pop();if(z)return z.reject(U),z.promise}function $r(x,U){return new be(function(T,z){if(Ot[x.name]=Ot[x.name]||Ts(),x.db)if(U)Hr(x),x.db.close();else return T(x.db);var H=[x.name];U&&H.push(x.version);var O=se.open.apply(se,H);U&&(O.onupgradeneeded=function(he){var ke=O.result;try{ke.createObjectStore(x.storeName),he.oldVersion<=1&&ke.createObjectStore(Rr)}catch(Te){if(Te.name==="ConstraintError")console.warn('The database "'+x.name+'" has been upgraded from version '+he.oldVersion+" to version "+he.newVersion+', but the storage "'+x.storeName+'" already exists.');else throw Te}}),O.onerror=function(he){he.preventDefault(),z(O.error)},O.onsuccess=function(){T(O.result),Cn(x)}})}function ho(x){return $r(x,!1)}function Xa(x){return $r(x,!0)}function la(x,U){if(!x.db)return!0;var T=!x.db.objectStoreNames.contains(x.storeName),z=x.version<x.db.version,H=x.version>x.db.version;if(z&&(x.version!==U&&console.warn('The database "'+x.name+`" can't be downgraded from version `+x.db.version+" to version "+x.version+"."),x.version=x.db.version),H||T){if(T){var O=x.db.version+1;O>x.version&&(x.version=O)}return!0}return!1}function uc(x){return new be(function(U,T){var z=new FileReader;z.onerror=T,z.onloadend=function(H){var O=btoa(H.target.result||"");U({__local_forage_encoded_blob:!0,data:O,type:x.type})},z.readAsBinaryString(x)})}function Tn(x){var U=It(atob(x.data));return Me([U],{type:x.type})}function Za(x){return x&&x.__local_forage_encoded_blob}function b0(x){var U=this,T=U._initReady().then(function(){var z=Ot[U._dbInfo.name];if(z&&z.dbReady)return z.dbReady});return Pt(T,x,x),T}function v0(x){Hr(x);for(var U=Ot[x.name],T=U.forages,z=0;z<T.length;z++){var H=T[z];H._dbInfo.db&&(H._dbInfo.db.close(),H._dbInfo.db=null)}return x.db=null,ho(x).then(function(O){return x.db=O,la(x)?Xa(x):O}).then(function(O){x.db=U.db=O;for(var he=0;he<T.length;he++)T[he]._dbInfo.db=O}).catch(function(O){throw qn(x,O),O})}function po(x,U,T,z){z===void 0&&(z=1);try{var H=x.db.transaction(x.storeName,U);T(null,H)}catch(O){if(z>0&&(!x.db||O.name==="InvalidStateError"||O.name==="NotFoundError"))return be.resolve().then(function(){if(!x.db||O.name==="NotFoundError"&&!x.db.objectStoreNames.contains(x.storeName)&&x.version<=x.db.version)return x.db&&(x.version=x.db.version+1),Xa(x)}).then(function(){return v0(x).then(function(){po(x,U,T,z-1)})}).catch(T);T(O)}}function Ts(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function oi(x){var U=this,T={db:null};if(x)for(var z in x)T[z]=x[z];var H=Ot[T.name];H||(H=Ts(),Ot[T.name]=H),H.forages.push(U),U._initReady||(U._initReady=U.ready,U.ready=b0);var O=[];function he(){return be.resolve()}for(var ke=0;ke<H.forages.length;ke++){var Te=H.forages[ke];Te!==U&&O.push(Te._initReady().catch(he))}var Fe=H.forages.slice(0);return be.all(O).then(function(){return T.db=H.db,ho(T)}).then(function(Ce){return T.db=Ce,la(T,U._defaultConfig.version)?Xa(T):Ce}).then(function(Ce){T.db=H.db=Ce,U._dbInfo=T;for(var Ge=0;Ge<Fe.length;Ge++){var bt=Fe[Ge];bt!==U&&(bt._dbInfo.db=T.db,bt._dbInfo.version=T.version)}})}function kh(x,U){var T=this;x=Vt(x);var z=new be(function(H,O){T.ready().then(function(){po(T._dbInfo,ii,function(he,ke){if(he)return O(he);try{var Te=ke.objectStore(T._dbInfo.storeName),Fe=Te.get(x);Fe.onsuccess=function(){var Ce=Fe.result;Ce===void 0&&(Ce=null),Za(Ce)&&(Ce=Tn(Ce)),H(Ce)},Fe.onerror=function(){O(Fe.error)}}catch(Ce){O(Ce)}})}).catch(O)});return Xe(z,U),z}function w0(x,U){var T=this,z=new be(function(H,O){T.ready().then(function(){po(T._dbInfo,ii,function(he,ke){if(he)return O(he);try{var Te=ke.objectStore(T._dbInfo.storeName),Fe=Te.openCursor(),Ce=1;Fe.onsuccess=function(){var Ge=Fe.result;if(Ge){var bt=Ge.value;Za(bt)&&(bt=Tn(bt));var Kt=x(bt,Ge.key,Ce++);Kt!==void 0?H(Kt):Ge.continue()}else H()},Fe.onerror=function(){O(Fe.error)}}catch(Ge){O(Ge)}})}).catch(O)});return Xe(z,U),z}function _0(x,U,T){var z=this;x=Vt(x);var H=new be(function(O,he){var ke;z.ready().then(function(){return ke=z._dbInfo,Ja.call(U)==="[object Blob]"?nr(ke.db).then(function(Te){return Te?U:uc(U)}):U}).then(function(Te){po(z._dbInfo,Le,function(Fe,Ce){if(Fe)return he(Fe);try{var Ge=Ce.objectStore(z._dbInfo.storeName);Te===null&&(Te=void 0);var bt=Ge.put(Te,x);Ce.oncomplete=function(){Te===void 0&&(Te=null),O(Te)},Ce.onabort=Ce.onerror=function(){var Kt=bt.error?bt.error:bt.transaction.error;he(Kt)}}catch(Kt){he(Kt)}})}).catch(he)});return Xe(H,T),H}function x0(x,U){var T=this;x=Vt(x);var z=new be(function(H,O){T.ready().then(function(){po(T._dbInfo,Le,function(he,ke){if(he)return O(he);try{var Te=ke.objectStore(T._dbInfo.storeName),Fe=Te.delete(x);ke.oncomplete=function(){H()},ke.onerror=function(){O(Fe.error)},ke.onabort=function(){var Ce=Fe.error?Fe.error:Fe.transaction.error;O(Ce)}}catch(Ce){O(Ce)}})}).catch(O)});return Xe(z,U),z}function A0(x){var U=this,T=new be(function(z,H){U.ready().then(function(){po(U._dbInfo,Le,function(O,he){if(O)return H(O);try{var ke=he.objectStore(U._dbInfo.storeName),Te=ke.clear();he.oncomplete=function(){z()},he.onabort=he.onerror=function(){var Fe=Te.error?Te.error:Te.transaction.error;H(Fe)}}catch(Fe){H(Fe)}})}).catch(H)});return Xe(T,x),T}function k0(x){var U=this,T=new be(function(z,H){U.ready().then(function(){po(U._dbInfo,ii,function(O,he){if(O)return H(O);try{var ke=he.objectStore(U._dbInfo.storeName),Te=ke.count();Te.onsuccess=function(){z(Te.result)},Te.onerror=function(){H(Te.error)}}catch(Fe){H(Fe)}})}).catch(H)});return Xe(T,x),T}function ts(x,U){var T=this,z=new be(function(H,O){if(x<0){H(null);return}T.ready().then(function(){po(T._dbInfo,ii,function(he,ke){if(he)return O(he);try{var Te=ke.objectStore(T._dbInfo.storeName),Fe=!1,Ce=Te.openCursor();Ce.onsuccess=function(){var Ge=Ce.result;if(!Ge){H(null);return}x===0||Fe?H(Ge.key):(Fe=!0,Ge.advance(x))},Ce.onerror=function(){O(Ce.error)}}catch(Ge){O(Ge)}})}).catch(O)});return Xe(z,U),z}function K(x){var U=this,T=new be(function(z,H){U.ready().then(function(){po(U._dbInfo,ii,function(O,he){if(O)return H(O);try{var ke=he.objectStore(U._dbInfo.storeName),Te=ke.openCursor(),Fe=[];Te.onsuccess=function(){var Ce=Te.result;if(!Ce){z(Fe);return}Fe.push(Ce.key),Ce.continue()},Te.onerror=function(){H(Te.error)}}catch(Ce){H(Ce)}})}).catch(H)});return Xe(T,x),T}function oe(x,U){U=un.apply(this,arguments);var T=this.config();x=typeof x!="function"&&x||{},x.name||(x.name=x.name||T.name,x.storeName=x.storeName||T.storeName);var z=this,H;if(!x.name)H=be.reject("Invalid arguments");else{var O=x.name===T.name&&z._dbInfo.db,he=O?be.resolve(z._dbInfo.db):ho(x).then(function(ke){var Te=Ot[x.name],Fe=Te.forages;Te.db=ke;for(var Ce=0;Ce<Fe.length;Ce++)Fe[Ce]._dbInfo.db=ke;return ke});x.storeName?H=he.then(function(ke){if(!!ke.objectStoreNames.contains(x.storeName)){var Te=ke.version+1;Hr(x);var Fe=Ot[x.name],Ce=Fe.forages;ke.close();for(var Ge=0;Ge<Ce.length;Ge++){var bt=Ce[Ge];bt._dbInfo.db=null,bt._dbInfo.version=Te}var Kt=new be(function(Gt,Ur){var Jt=se.open(x.name,Te);Jt.onerror=function(cn){var cu=Jt.result;cu.close(),Ur(cn)},Jt.onupgradeneeded=function(){var cn=Jt.result;cn.deleteObjectStore(x.storeName)},Jt.onsuccess=function(){var cn=Jt.result;cn.close(),Gt(cn)}});return Kt.then(function(Gt){Fe.db=Gt;for(var Ur=0;Ur<Ce.length;Ur++){var Jt=Ce[Ur];Jt._dbInfo.db=Gt,Cn(Jt._dbInfo)}}).catch(function(Gt){throw(qn(x,Gt)||be.resolve()).catch(function(){}),Gt})}}):H=he.then(function(ke){Hr(x);var Te=Ot[x.name],Fe=Te.forages;ke.close();for(var Ce=0;Ce<Fe.length;Ce++){var Ge=Fe[Ce];Ge._dbInfo.db=null}var bt=new be(function(Kt,Gt){var Ur=se.deleteDatabase(x.name);Ur.onerror=Ur.onblocked=function(Jt){var cn=Ur.result;cn&&cn.close(),Gt(Jt)},Ur.onsuccess=function(){var Jt=Ur.result;Jt&&Jt.close(),Kt(Jt)}});return bt.then(function(Kt){Te.db=Kt;for(var Gt=0;Gt<Fe.length;Gt++){var Ur=Fe[Gt];Cn(Ur._dbInfo)}}).catch(function(Kt){throw(qn(x,Kt)||be.resolve()).catch(function(){}),Kt})})}return Xe(H,U),H}var Q={_driver:"asyncStorage",_initStorage:oi,_support:te(),iterate:w0,getItem:kh,setItem:_0,removeItem:x0,clear:A0,length:k0,key:ts,keys:K,dropInstance:oe};function ze(){return typeof openDatabase=="function"}var tt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Dt="~~local_forage_type~",Er=/^~~local_forage_type~([^~]+)~/,jt="__lfsc__:",Qa=jt.length,Df="arbf",wn="blob",eu="si08",Eh="ui08",Fs="uic8",tu="si16",ru="si32",zt="ur16",Sh="ui32",Rf="fl32",nu="fl64",Ph=Qa+Df.length,Ch=Object.prototype.toString;function Th(x){var U=x.length*.75,T=x.length,z,H=0,O,he,ke,Te;x[x.length-1]==="="&&(U--,x[x.length-2]==="="&&U--);var Fe=new ArrayBuffer(U),Ce=new Uint8Array(Fe);for(z=0;z<T;z+=4)O=tt.indexOf(x[z]),he=tt.indexOf(x[z+1]),ke=tt.indexOf(x[z+2]),Te=tt.indexOf(x[z+3]),Ce[H++]=O<<2|he>>4,Ce[H++]=(he&15)<<4|ke>>2,Ce[H++]=(ke&3)<<6|Te&63;return Fe}function ha(x){var U=new Uint8Array(x),T="",z;for(z=0;z<U.length;z+=3)T+=tt[U[z]>>2],T+=tt[(U[z]&3)<<4|U[z+1]>>4],T+=tt[(U[z+1]&15)<<2|U[z+2]>>6],T+=tt[U[z+2]&63];return U.length%3==2?T=T.substring(0,T.length-1)+"=":U.length%3==1&&(T=T.substring(0,T.length-2)+"=="),T}function rs(x,U){var T="";if(x&&(T=Ch.call(x)),x&&(T==="[object ArrayBuffer]"||x.buffer&&Ch.call(x.buffer)==="[object ArrayBuffer]")){var z,H=jt;x instanceof ArrayBuffer?(z=x,H+=Df):(z=x.buffer,T==="[object Int8Array]"?H+=eu:T==="[object Uint8Array]"?H+=Eh:T==="[object Uint8ClampedArray]"?H+=Fs:T==="[object Int16Array]"?H+=tu:T==="[object Uint16Array]"?H+=zt:T==="[object Int32Array]"?H+=ru:T==="[object Uint32Array]"?H+=Sh:T==="[object Float32Array]"?H+=Rf:T==="[object Float64Array]"?H+=nu:U(new Error("Failed to get type for BinaryArray"))),U(H+ha(z))}else if(T==="[object Blob]"){var O=new FileReader;O.onload=function(){var he=Dt+x.type+"~"+ha(this.result);U(jt+wn+he)},O.readAsArrayBuffer(x)}else try{U(JSON.stringify(x))}catch(he){console.error("Couldn't convert value into a JSON string: ",x),U(null,he)}}function cc(x){if(x.substring(0,Qa)!==jt)return JSON.parse(x);var U=x.substring(Ph),T=x.substring(Qa,Ph),z;if(T===wn&&Er.test(U)){var H=U.match(Er);z=H[1],U=U.substring(H[0].length)}var O=Th(U);switch(T){case Df:return O;case wn:return Me([O],{type:z});case eu:return new Int8Array(O);case Eh:return new Uint8Array(O);case Fs:return new Uint8ClampedArray(O);case tu:return new Int16Array(O);case zt:return new Uint16Array(O);case ru:return new Int32Array(O);case Sh:return new Uint32Array(O);case Rf:return new Float32Array(O);case nu:return new Float64Array(O);default:throw new Error("Unkown type: "+T)}}var fc={serialize:rs,deserialize:cc,stringToBuffer:Th,bufferToString:ha};function iu(x,U,T,z){x.executeSql("CREATE TABLE IF NOT EXISTS "+U.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],T,z)}function Fh(x){var U=this,T={db:null};if(x)for(var z in x)T[z]=typeof x[z]!="string"?x[z].toString():x[z];var H=new be(function(O,he){try{T.db=openDatabase(T.name,String(T.version),T.description,T.size)}catch(ke){return he(ke)}T.db.transaction(function(ke){iu(ke,T,function(){U._dbInfo=T,O()},function(Te,Fe){he(Fe)})},he)});return T.serializer=fc,H}function mo(x,U,T,z,H,O){x.executeSql(T,z,H,function(he,ke){ke.code===ke.SYNTAX_ERR?he.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[U.storeName],function(Te,Fe){Fe.rows.length?O(Te,ke):iu(Te,U,function(){Te.executeSql(T,z,H,O)},O)},O):O(he,ke)},O)}function lc(x,U){var T=this;x=Vt(x);var z=new be(function(H,O){T.ready().then(function(){var he=T._dbInfo;he.db.transaction(function(ke){mo(ke,he,"SELECT * FROM "+he.storeName+" WHERE key = ? LIMIT 1",[x],function(Te,Fe){var Ce=Fe.rows.length?Fe.rows.item(0).value:null;Ce&&(Ce=he.serializer.deserialize(Ce)),H(Ce)},function(Te,Fe){O(Fe)})})}).catch(O)});return Xe(z,U),z}function Bh(x,U){var T=this,z=new be(function(H,O){T.ready().then(function(){var he=T._dbInfo;he.db.transaction(function(ke){mo(ke,he,"SELECT * FROM "+he.storeName,[],function(Te,Fe){for(var Ce=Fe.rows,Ge=Ce.length,bt=0;bt<Ge;bt++){var Kt=Ce.item(bt),Gt=Kt.value;if(Gt&&(Gt=he.serializer.deserialize(Gt)),Gt=x(Gt,Kt.key,bt+1),Gt!==void 0){H(Gt);return}}H()},function(Te,Fe){O(Fe)})})}).catch(O)});return Xe(z,U),z}function da(x,U,T,z){var H=this;x=Vt(x);var O=new be(function(he,ke){H.ready().then(function(){U===void 0&&(U=null);var Te=U,Fe=H._dbInfo;Fe.serializer.serialize(U,function(Ce,Ge){Ge?ke(Ge):Fe.db.transaction(function(bt){mo(bt,Fe,"INSERT OR REPLACE INTO "+Fe.storeName+" (key, value) VALUES (?, ?)",[x,Ce],function(){he(Te)},function(Kt,Gt){ke(Gt)})},function(bt){if(bt.code===bt.QUOTA_ERR){if(z>0){he(da.apply(H,[x,Te,T,z-1]));return}ke(bt)}})})}).catch(ke)});return Xe(O,T),O}function Bs(x,U,T){return da.apply(this,[x,U,T,1])}function hc(x,U){var T=this;x=Vt(x);var z=new be(function(H,O){T.ready().then(function(){var he=T._dbInfo;he.db.transaction(function(ke){mo(ke,he,"DELETE FROM "+he.storeName+" WHERE key = ?",[x],function(){H()},function(Te,Fe){O(Fe)})})}).catch(O)});return Xe(z,U),z}function E0(x){var U=this,T=new be(function(z,H){U.ready().then(function(){var O=U._dbInfo;O.db.transaction(function(he){mo(he,O,"DELETE FROM "+O.storeName,[],function(){z()},function(ke,Te){H(Te)})})}).catch(H)});return Xe(T,x),T}function S0(x){var U=this,T=new be(function(z,H){U.ready().then(function(){var O=U._dbInfo;O.db.transaction(function(he){mo(he,O,"SELECT COUNT(key) as c FROM "+O.storeName,[],function(ke,Te){var Fe=Te.rows.item(0).c;z(Fe)},function(ke,Te){H(Te)})})}).catch(H)});return Xe(T,x),T}function P0(x,U){var T=this,z=new be(function(H,O){T.ready().then(function(){var he=T._dbInfo;he.db.transaction(function(ke){mo(ke,he,"SELECT key FROM "+he.storeName+" WHERE id = ? LIMIT 1",[x+1],function(Te,Fe){var Ce=Fe.rows.length?Fe.rows.item(0).key:null;H(Ce)},function(Te,Fe){O(Fe)})})}).catch(O)});return Xe(z,U),z}function dc(x){var U=this,T=new be(function(z,H){U.ready().then(function(){var O=U._dbInfo;O.db.transaction(function(he){mo(he,O,"SELECT key FROM "+O.storeName,[],function(ke,Te){for(var Fe=[],Ce=0;Ce<Te.rows.length;Ce++)Fe.push(Te.rows.item(Ce).key);z(Fe)},function(ke,Te){H(Te)})})}).catch(H)});return Xe(T,x),T}function pc(x){return new be(function(U,T){x.transaction(function(z){z.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(H,O){for(var he=[],ke=0;ke<O.rows.length;ke++)he.push(O.rows.item(ke).name);U({db:x,storeNames:he})},function(H,O){T(O)})},function(z){T(z)})})}function Nf(x,U){U=un.apply(this,arguments);var T=this.config();x=typeof x!="function"&&x||{},x.name||(x.name=x.name||T.name,x.storeName=x.storeName||T.storeName);var z=this,H;return x.name?H=new be(function(O){var he;x.name===T.name?he=z._dbInfo.db:he=openDatabase(x.name,"","",0),x.storeName?O({db:he,storeNames:[x.storeName]}):O(pc(he))}).then(function(O){return new be(function(he,ke){O.db.transaction(function(Te){function Fe(Kt){return new be(function(Gt,Ur){Te.executeSql("DROP TABLE IF EXISTS "+Kt,[],function(){Gt()},function(Jt,cn){Ur(cn)})})}for(var Ce=[],Ge=0,bt=O.storeNames.length;Ge<bt;Ge++)Ce.push(Fe(O.storeNames[Ge]));be.all(Ce).then(function(){he()}).catch(function(Kt){ke(Kt)})},function(Te){ke(Te)})})}):H=be.reject("Invalid arguments"),Xe(H,U),H}var C0={_driver:"webSQLStorage",_initStorage:Fh,_support:ze(),iterate:Bh,getItem:lc,setItem:Bs,removeItem:hc,clear:E0,length:S0,key:P0,keys:dc,dropInstance:Nf};function Ih(){try{return typeof localStorage!="undefined"&&"setItem"in localStorage&&!!localStorage.setItem}catch(x){return!1}}function Dh(x,U){var T=x.name+"/";return x.storeName!==U.storeName&&(T+=x.storeName+"/"),T}function T0(){var x="_localforage_support_test";try{return localStorage.setItem(x,!0),localStorage.removeItem(x),!1}catch(U){return!0}}function Nr(){return!T0()||localStorage.length>0}function Zr(x){var U=this,T={};if(x)for(var z in x)T[z]=x[z];return T.keyPrefix=Dh(x,U._defaultConfig),Nr()?(U._dbInfo=T,T.serializer=fc,be.resolve()):be.reject()}function F0(x){var U=this,T=U.ready().then(function(){for(var z=U._dbInfo.keyPrefix,H=localStorage.length-1;H>=0;H--){var O=localStorage.key(H);O.indexOf(z)===0&&localStorage.removeItem(O)}});return Xe(T,x),T}function B0(x,U){var T=this;x=Vt(x);var z=T.ready().then(function(){var H=T._dbInfo,O=localStorage.getItem(H.keyPrefix+x);return O&&(O=H.serializer.deserialize(O)),O});return Xe(z,U),z}function Rh(x,U){var T=this,z=T.ready().then(function(){for(var H=T._dbInfo,O=H.keyPrefix,he=O.length,ke=localStorage.length,Te=1,Fe=0;Fe<ke;Fe++){var Ce=localStorage.key(Fe);if(Ce.indexOf(O)===0){var Ge=localStorage.getItem(Ce);if(Ge&&(Ge=H.serializer.deserialize(Ge)),Ge=x(Ge,Ce.substring(he),Te++),Ge!==void 0)return Ge}}});return Xe(z,U),z}function I0(x,U){var T=this,z=T.ready().then(function(){var H=T._dbInfo,O;try{O=localStorage.key(x)}catch(he){O=null}return O&&(O=O.substring(H.keyPrefix.length)),O});return Xe(z,U),z}function Uf(x){var U=this,T=U.ready().then(function(){for(var z=U._dbInfo,H=localStorage.length,O=[],he=0;he<H;he++){var ke=localStorage.key(he);ke.indexOf(z.keyPrefix)===0&&O.push(ke.substring(z.keyPrefix.length))}return O});return Xe(T,x),T}function ou(x){var U=this,T=U.keys().then(function(z){return z.length});return Xe(T,x),T}function Lf(x,U){var T=this;x=Vt(x);var z=T.ready().then(function(){var H=T._dbInfo;localStorage.removeItem(H.keyPrefix+x)});return Xe(z,U),z}function pa(x,U,T){var z=this;x=Vt(x);var H=z.ready().then(function(){U===void 0&&(U=null);var O=U;return new be(function(he,ke){var Te=z._dbInfo;Te.serializer.serialize(U,function(Fe,Ce){if(Ce)ke(Ce);else try{localStorage.setItem(Te.keyPrefix+x,Fe),he(O)}catch(Ge){(Ge.name==="QuotaExceededError"||Ge.name==="NS_ERROR_DOM_QUOTA_REACHED")&&ke(Ge),ke(Ge)}})})});return Xe(H,T),H}function su(x,U){if(U=un.apply(this,arguments),x=typeof x!="function"&&x||{},!x.name){var T=this.config();x.name=x.name||T.name,x.storeName=x.storeName||T.storeName}var z=this,H;return x.name?H=new be(function(O){x.storeName?O(Dh(x,z._defaultConfig)):O(x.name+"/")}).then(function(O){for(var he=localStorage.length-1;he>=0;he--){var ke=localStorage.key(he);ke.indexOf(O)===0&&localStorage.removeItem(ke)}}):H=be.reject("Invalid arguments"),Xe(H,U),H}var au={_driver:"localStorageWrapper",_initStorage:Zr,_support:Ih(),iterate:Rh,getItem:B0,setItem:pa,removeItem:Lf,clear:F0,length:ou,key:I0,keys:Uf,dropInstance:su},mc=function(U,T){return U===T||typeof U=="number"&&typeof T=="number"&&isNaN(U)&&isNaN(T)},ma=function(U,T){for(var z=U.length,H=0;H<z;){if(mc(U[H],T))return!0;H++}return!1},Nh=Array.isArray||function(x){return Object.prototype.toString.call(x)==="[object Array]"},uu={},Uh={},ya={INDEXEDDB:Q,WEBSQL:C0,LOCALSTORAGE:au},D0=[ya.INDEXEDDB._driver,ya.WEBSQL._driver,ya.LOCALSTORAGE._driver],Is=["dropInstance"],Ds=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Is),Lh={description:"",driver:D0.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function k(x,U){x[U]=function(){var T=arguments;return x.ready().then(function(){return x[U].apply(x,T)})}}function ns(){for(var x=1;x<arguments.length;x++){var U=arguments[x];if(U)for(var T in U)U.hasOwnProperty(T)&&(Nh(U[T])?arguments[0][T]=U[T].slice():arguments[0][T]=U[T])}return arguments[0]}var yc=function(){function x(U){I(this,x);for(var T in ya)if(ya.hasOwnProperty(T)){var z=ya[T],H=z._driver;this[T]=H,uu[H]||this.defineDriver(z)}this._defaultConfig=ns({},Lh),this._config=ns({},this._defaultConfig,U),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return x.prototype.config=function(T){if((typeof T=="undefined"?"undefined":F(T))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var z in T){if(z==="storeName"&&(T[z]=T[z].replace(/\W/g,"_")),z==="version"&&typeof T[z]!="number")return new Error("Database version must be a number.");this._config[z]=T[z]}return"driver"in T&&T.driver?this.setDriver(this._config.driver):!0}else return typeof T=="string"?this._config[T]:this._config},x.prototype.defineDriver=function(T,z,H){var O=new be(function(he,ke){try{var Te=T._driver,Fe=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!T._driver){ke(Fe);return}for(var Ce=Ds.concat("_initStorage"),Ge=0,bt=Ce.length;Ge<bt;Ge++){var Kt=Ce[Ge],Gt=!ma(Is,Kt);if((Gt||T[Kt])&&typeof T[Kt]!="function"){ke(Fe);return}}var Ur=function(){for(var cu=function(N0){return function(){var U0=new Error("Method "+N0+" is not implemented by the current driver"),$n=be.reject(U0);return Xe($n,arguments[arguments.length-1]),$n}},Mf=0,R0=Is.length;Mf<R0;Mf++){var Of=Is[Mf];T[Of]||(T[Of]=cu(Of))}};Ur();var Jt=function(cu){uu[Te]&&console.info("Redefining LocalForage driver: "+Te),uu[Te]=T,Uh[Te]=cu,he()};"_support"in T?T._support&&typeof T._support=="function"?T._support().then(Jt,ke):Jt(!!T._support):Jt(!0)}catch(cn){ke(cn)}});return Pt(O,z,H),O},x.prototype.driver=function(){return this._driver||null},x.prototype.getDriver=function(T,z,H){var O=uu[T]?be.resolve(uu[T]):be.reject(new Error("Driver not found."));return Pt(O,z,H),O},x.prototype.getSerializer=function(T){var z=be.resolve(fc);return Pt(z,T),z},x.prototype.ready=function(T){var z=this,H=z._driverSet.then(function(){return z._ready===null&&(z._ready=z._initDriver()),z._ready});return Pt(H,T,T),H},x.prototype.setDriver=function(T,z,H){var O=this;Nh(T)||(T=[T]);var he=this._getSupportedDrivers(T);function ke(){O._config.driver=O.driver()}function Te(Ge){return O._extend(Ge),ke(),O._ready=O._initStorage(O._config),O._ready}function Fe(Ge){return function(){var bt=0;function Kt(){for(;bt<Ge.length;){var Gt=Ge[bt];return bt++,O._dbInfo=null,O._ready=null,O.getDriver(Gt).then(Te).catch(Kt)}ke();var Ur=new Error("No available storage method found.");return O._driverSet=be.reject(Ur),O._driverSet}return Kt()}}var Ce=this._driverSet!==null?this._driverSet.catch(function(){return be.resolve()}):be.resolve();return this._driverSet=Ce.then(function(){var Ge=he[0];return O._dbInfo=null,O._ready=null,O.getDriver(Ge).then(function(bt){O._driver=bt._driver,ke(),O._wrapLibraryMethodsWithReady(),O._initDriver=Fe(he)})}).catch(function(){ke();var Ge=new Error("No available storage method found.");return O._driverSet=be.reject(Ge),O._driverSet}),Pt(this._driverSet,z,H),this._driverSet},x.prototype.supports=function(T){return!!Uh[T]},x.prototype._extend=function(T){ns(this,T)},x.prototype._getSupportedDrivers=function(T){for(var z=[],H=0,O=T.length;H<O;H++){var he=T[H];this.supports(he)&&z.push(he)}return z},x.prototype._wrapLibraryMethodsWithReady=function(){for(var T=0,z=Ds.length;T<z;T++)k(this,Ds[T])},x.prototype.createInstance=function(T){return new x(T)},x}(),Hn=new yc;b.exports=Hn},{"3":3}]},{},[4])(4)})}),l;(function(g){g.ECC="ecc",g.RSA="rsa"})(l||(l={}));var y;(function(g){g.P_256="P-256",g.P_384="P-384",g.P_521="P-521"})(y||(y={}));var w;(function(g){g[g.B1024=1024]="B1024",g[g.B2048=2048]="B2048",g[g.B4096=4096]="B4096"})(w||(w={}));var B;(function(g){g.AES_CTR="AES-CTR",g.AES_CBC="AES-CBC"})(B||(B={}));var _;(function(g){g[g.B128=128]="B128",g[g.B192=192]="B192",g[g.B256=256]="B256"})(_||(_={}));var R;(function(g){g.SHA_1="SHA-1",g.SHA_256="SHA-256",g.SHA_384="SHA-384",g.SHA_512="SHA-512"})(R||(R={}));var W;(function(g){g[g.B8=8]="B8",g[g.B16=16]="B16"})(W||(W={}));var we;(function(g){g.Read="read",g.Write="write"})(we||(we={}));var Z=Object.freeze({__proto__:null,get CryptoSystem(){return l},get EccCurve(){return y},get RsaSize(){return w},get SymmAlg(){return B},get SymmKeyLength(){return _},get HashAlg(){return R},get CharSize(){return W},get KeyUse(){return we}}),ne=new Error("Key does not exist. Make sure you properly instantiated the keystore."),V=new Error("Retrieved a symmetric key when an asymmetric keypair was expected. Please use a different key name."),ce=new Error("Retrieved an asymmetric keypair when an symmetric key was expected. Please use a different key name."),xe=new Error("ECC is not enabled for this browser. Please use RSA instead."),X=new Error("Cryptosystem not supported. Please use ECC or RSA"),ee=new Error("Invalid key use. Please use 'read' or 'write");function Ae(g){if(!g||g===null)throw ne;if(g.privateKey===void 0)throw V;return g}function Ve(g){if(!g||g===null)throw ne;if(g.privateKey!==void 0||g.algorithm===void 0)throw ce;return g}function ct(g){ht(g,[l.ECC,l.RSA],X)}function _t(g){ht(g,[we.Read,we.Write],ee)}function ht(g,d,h){var b=d.some(function(S){return S===g});if(!b)throw h}function qe(g){return p.createInstance({name:g})}function Ft(g,d,h){return h===void 0&&(h=p),n(this,void 0,void 0,function(){var b;return i(this,function(S){switch(S.label){case 0:return[4,lr(g,h)];case 1:return S.sent()?[2]:[4,d()];case 2:return b=S.sent(),[4,Nt(g,b,h)];case 3:return S.sent(),[2]}})})}function Nt(g,d,h){return h===void 0&&(h=p),n(this,void 0,void 0,function(){return i(this,function(b){return[2,h.setItem(g,d)]})})}function or(g,d){return d===void 0&&(d=p),n(this,void 0,void 0,function(){return i(this,function(h){return[2,vr(g,Ae,d)]})})}function Jr(g,d){return d===void 0&&(d=p),n(this,void 0,void 0,function(){return i(this,function(h){return[2,vr(g,Ve,d)]})})}function vr(g,d,h){return h===void 0&&(h=p),n(this,void 0,void 0,function(){var b;return i(this,function(S){switch(S.label){case 0:return[4,h.getItem(g)];case 1:return b=S.sent(),[2,b===null?null:d(b)]}})})}function lr(g,d){return d===void 0&&(d=p),n(this,void 0,void 0,function(){var h;return i(this,function(b){switch(b.label){case 0:return[4,d.getItem(g)];case 1:return h=b.sent(),[2,h!==null]}})})}function ti(g,d){return d===void 0&&(d=p),n(this,void 0,void 0,function(){return i(this,function(h){return[2,d.removeItem(g)]})})}function Wt(g){return n(this,void 0,void 0,function(){return i(this,function(d){return[2,g.dropInstance()]})})}function dt(g){return n(this,void 0,void 0,function(){return i(this,function(d){return g?[2,Wt(g)]:[2,p.clear()]})})}var Ut={createStore:qe,createIfDoesNotExist:Ft,put:Nt,getKeypair:or,getKey:Jr,exists:lr,rm:ti,dropStore:Wt,clear:dt},Bt=Object.freeze({__proto__:null,createStore:qe,createIfDoesNotExist:Ft,put:Nt,getKeypair:or,getKey:Jr,get:vr,exists:lr,rm:ti,dropStore:Wt,clear:dt,default:Ut}),A=typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{},fe=[],pe=[],Be=typeof Uint8Array!="undefined"?Uint8Array:Array,De=!1;function $e(){De=!0;for(var g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=0,h=g.length;d<h;++d)fe[d]=g[d],pe[g.charCodeAt(d)]=d;pe["-".charCodeAt(0)]=62,pe["_".charCodeAt(0)]=63}function We(g){De||$e();var d,h,b,S,F,I,J=g.length;if(J%4>0)throw new Error("Invalid string. Length must be a multiple of 4");F=g[J-2]==="="?2:g[J-1]==="="?1:0,I=new Be(J*3/4-F),b=F>0?J-4:J;var se=0;for(d=0,h=0;d<b;d+=4,h+=3)S=pe[g.charCodeAt(d)]<<18|pe[g.charCodeAt(d+1)]<<12|pe[g.charCodeAt(d+2)]<<6|pe[g.charCodeAt(d+3)],I[se++]=S>>16&255,I[se++]=S>>8&255,I[se++]=S&255;return F===2?(S=pe[g.charCodeAt(d)]<<2|pe[g.charCodeAt(d+1)]>>4,I[se++]=S&255):F===1&&(S=pe[g.charCodeAt(d)]<<10|pe[g.charCodeAt(d+1)]<<4|pe[g.charCodeAt(d+2)]>>2,I[se++]=S>>8&255,I[se++]=S&255),I}function Oe(g){return fe[g>>18&63]+fe[g>>12&63]+fe[g>>6&63]+fe[g&63]}function Lt(g,d,h){for(var b,S=[],F=d;F<h;F+=3)b=(g[F]<<16)+(g[F+1]<<8)+g[F+2],S.push(Oe(b));return S.join("")}function Ze(g){De||$e();for(var d,h=g.length,b=h%3,S="",F=[],I=16383,J=0,se=h-b;J<se;J+=I)F.push(Lt(g,J,J+I>se?se:J+I));return b===1?(d=g[h-1],S+=fe[d>>2],S+=fe[d<<4&63],S+="=="):b===2&&(d=(g[h-2]<<8)+g[h-1],S+=fe[d>>10],S+=fe[d>>4&63],S+=fe[d<<2&63],S+="="),F.push(S),F.join("")}function yt(g,d,h,b,S){var F,I,J=S*8-b-1,se=(1<<J)-1,te=se>>1,Me=-7,be=h?S-1:0,Xe=h?-1:1,Pt=g[d+be];for(be+=Xe,F=Pt&(1<<-Me)-1,Pt>>=-Me,Me+=J;Me>0;F=F*256+g[d+be],be+=Xe,Me-=8);for(I=F&(1<<-Me)-1,F>>=-Me,Me+=b;Me>0;I=I*256+g[d+be],be+=Xe,Me-=8);if(F===0)F=1-te;else{if(F===se)return I?NaN:(Pt?-1:1)*Infinity;I=I+Math.pow(2,b),F=F-te}return(Pt?-1:1)*I*Math.pow(2,F-b)}function Ir(g,d,h,b,S,F){var I,J,se,te=F*8-S-1,Me=(1<<te)-1,be=Me>>1,Xe=S===23?Math.pow(2,-24)-Math.pow(2,-77):0,Pt=b?0:F-1,Vt=b?1:-1,un=d<0||d===0&&1/d<0?1:0;for(d=Math.abs(d),isNaN(d)||d===Infinity?(J=isNaN(d)?1:0,I=Me):(I=Math.floor(Math.log(d)/Math.LN2),d*(se=Math.pow(2,-I))<1&&(I--,se*=2),I+be>=1?d+=Xe/se:d+=Xe*Math.pow(2,1-be),d*se>=2&&(I++,se/=2),I+be>=Me?(J=0,I=Me):I+be>=1?(J=(d*se-1)*Math.pow(2,S),I=I+be):(J=d*Math.pow(2,be-1)*Math.pow(2,S),I=0));S>=8;g[h+Pt]=J&255,Pt+=Vt,J/=256,S-=8);for(I=I<<S|J,te+=S;te>0;g[h+Pt]=I&255,Pt+=Vt,I/=256,te-=8);g[h+Pt-Vt]|=un*128}var Pi={}.toString,Xr=Array.isArray||function(g){return Pi.call(g)=="[object Array]"};var ar=50;le.TYPED_ARRAY_SUPPORT=A.TYPED_ARRAY_SUPPORT!==void 0?A.TYPED_ARRAY_SUPPORT:!0;function zr(){return le.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function dr(g,d){if(zr()<d)throw new RangeError("Invalid typed array length");return le.TYPED_ARRAY_SUPPORT?(g=new Uint8Array(d),g.__proto__=le.prototype):(g===null&&(g=new le(d)),g.length=d),g}function le(g,d,h){if(!le.TYPED_ARRAY_SUPPORT&&!(this instanceof le))return new le(g,d,h);if(typeof g=="number"){if(typeof d=="string")throw new Error("If encoding is specified then the first argument must be a string");return ye(this,g)}return Kr(this,g,d,h)}le.poolSize=8192,le._augment=function(g){return g.__proto__=le.prototype,g};function Kr(g,d,h,b){if(typeof d=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer!="undefined"&&d instanceof ArrayBuffer?$t(g,d,h,b):typeof d=="string"?Ie(g,d,h):Qe(g,d)}le.from=function(g,d,h){return Kr(null,g,d,h)},le.TYPED_ARRAY_SUPPORT&&(le.prototype.__proto__=Uint8Array.prototype,le.__proto__=Uint8Array);function Y(g){if(typeof g!="number")throw new TypeError('"size" argument must be a number');if(g<0)throw new RangeError('"size" argument must not be negative')}function re(g,d,h,b){return Y(d),d<=0?dr(g,d):h!==void 0?typeof b=="string"?dr(g,d).fill(h,b):dr(g,d).fill(h):dr(g,d)}le.alloc=function(g,d,h){return re(null,g,d,h)};function ye(g,d){if(Y(d),g=dr(g,d<0?0:et(d)|0),!le.TYPED_ARRAY_SUPPORT)for(var h=0;h<d;++h)g[h]=0;return g}le.allocUnsafe=function(g){return ye(null,g)},le.allocUnsafeSlow=function(g){return ye(null,g)};function Ie(g,d,h){if((typeof h!="string"||h==="")&&(h="utf8"),!le.isEncoding(h))throw new TypeError('"encoding" must be a valid string encoding');var b=st(d,h)|0;g=dr(g,b);var S=g.write(d,h);return S!==b&&(g=g.slice(0,S)),g}function je(g,d){var h=d.length<0?0:et(d.length)|0;g=dr(g,h);for(var b=0;b<h;b+=1)g[b]=d[b]&255;return g}function $t(g,d,h,b){if(d.byteLength,h<0||d.byteLength<h)throw new RangeError("'offset' is out of bounds");if(d.byteLength<h+(b||0))throw new RangeError("'length' is out of bounds");return h===void 0&&b===void 0?d=new Uint8Array(d):b===void 0?d=new Uint8Array(d,h):d=new Uint8Array(d,h,b),le.TYPED_ARRAY_SUPPORT?(g=d,g.__proto__=le.prototype):g=je(g,d),g}function Qe(g,d){if(Ue(d)){var h=et(d.length)|0;return g=dr(g,h),g.length===0||d.copy(g,0,0,h),g}if(d){if(typeof ArrayBuffer!="undefined"&&d.buffer instanceof ArrayBuffer||"length"in d)return typeof d.length!="number"||Jo(d.length)?dr(g,0):je(g,d);if(d.type==="Buffer"&&Xr(d.data))return je(g,d.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function et(g){if(g>=zr())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+zr().toString(16)+" bytes");return g|0}le.isBuffer=sa;function Ue(g){return!!(g!=null&&g._isBuffer)}le.compare=function(d,h){if(!Ue(d)||!Ue(h))throw new TypeError("Arguments must be Buffers");if(d===h)return 0;for(var b=d.length,S=h.length,F=0,I=Math.min(b,S);F<I;++F)if(d[F]!==h[F]){b=d[F],S=h[F];break}return b<S?-1:S<b?1:0},le.isEncoding=function(d){switch(String(d).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},le.concat=function(d,h){if(!Xr(d))throw new TypeError('"list" argument must be an Array of Buffers');if(d.length===0)return le.alloc(0);var b;if(h===void 0)for(h=0,b=0;b<d.length;++b)h+=d[b].length;var S=le.allocUnsafe(h),F=0;for(b=0;b<d.length;++b){var I=d[b];if(!Ue(I))throw new TypeError('"list" argument must be an Array of Buffers');I.copy(S,F),F+=I.length}return S};function st(g,d){if(Ue(g))return g.length;if(typeof ArrayBuffer!="undefined"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(g)||g instanceof ArrayBuffer))return g.byteLength;typeof g!="string"&&(g=""+g);var h=g.length;if(h===0)return 0;for(var b=!1;;)switch(d){case"ascii":case"latin1":case"binary":return h;case"utf8":case"utf-8":case void 0:return ni(g).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return h*2;case"hex":return h>>>1;case"base64":return co(g).length;default:if(b)return ni(g).length;d=(""+d).toLowerCase(),b=!0}}le.byteLength=st;function at(g,d,h){var b=!1;if((d===void 0||d<0)&&(d=0),d>this.length||((h===void 0||h>this.length)&&(h=this.length),h<=0)||(h>>>=0,d>>>=0,h<=d))return"";for(g||(g="utf8");;)switch(g){case"hex":return Ho(this,d,h);case"utf8":case"utf-8":return Bi(this,d,h);case"ascii":return qo(this,d,h);case"latin1":case"binary":return Ii(this,d,h);case"base64":return no(this,d,h);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Di(this,d,h);default:if(b)throw new TypeError("Unknown encoding: "+g);g=(g+"").toLowerCase(),b=!0}}le.prototype._isBuffer=!0;function er(g,d,h){var b=g[d];g[d]=g[h],g[h]=b}le.prototype.swap16=function(){var d=this.length;if(d%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var h=0;h<d;h+=2)er(this,h,h+1);return this},le.prototype.swap32=function(){var d=this.length;if(d%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var h=0;h<d;h+=4)er(this,h,h+3),er(this,h+1,h+2);return this},le.prototype.swap64=function(){var d=this.length;if(d%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var h=0;h<d;h+=8)er(this,h,h+7),er(this,h+1,h+6),er(this,h+2,h+5),er(this,h+3,h+4);return this},le.prototype.toString=function(){var d=this.length|0;return d===0?"":arguments.length===0?Bi(this,0,d):at.apply(this,arguments)},le.prototype.equals=function(d){if(!Ue(d))throw new TypeError("Argument must be a Buffer");return this===d?!0:le.compare(this,d)===0},le.prototype.inspect=function(){var d="",h=ar;return this.length>0&&(d=this.toString("hex",0,h).match(/.{2}/g).join(" "),this.length>h&&(d+=" ... ")),"<Buffer "+d+">"},le.prototype.compare=function(d,h,b,S,F){if(!Ue(d))throw new TypeError("Argument must be a Buffer");if(h===void 0&&(h=0),b===void 0&&(b=d?d.length:0),S===void 0&&(S=0),F===void 0&&(F=this.length),h<0||b>d.length||S<0||F>this.length)throw new RangeError("out of range index");if(S>=F&&h>=b)return 0;if(S>=F)return-1;if(h>=b)return 1;if(h>>>=0,b>>>=0,S>>>=0,F>>>=0,this===d)return 0;for(var I=F-S,J=b-h,se=Math.min(I,J),te=this.slice(S,F),Me=d.slice(h,b),be=0;be<se;++be)if(te[be]!==Me[be]){I=te[be],J=Me[be];break}return I<J?-1:J<I?1:0};function zn(g,d,h,b,S){if(g.length===0)return-1;if(typeof h=="string"?(b=h,h=0):h>2147483647?h=2147483647:h<-2147483648&&(h=-2147483648),h=+h,isNaN(h)&&(h=S?0:g.length-1),h<0&&(h=g.length+h),h>=g.length){if(S)return-1;h=g.length-1}else if(h<0)if(S)h=0;else return-1;if(typeof d=="string"&&(d=le.from(d,b)),Ue(d))return d.length===0?-1:ro(g,d,h,b,S);if(typeof d=="number")return d=d&255,le.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?S?Uint8Array.prototype.indexOf.call(g,d,h):Uint8Array.prototype.lastIndexOf.call(g,d,h):ro(g,[d],h,b,S);throw new TypeError("val must be string, number or Buffer")}function ro(g,d,h,b,S){var F=1,I=g.length,J=d.length;if(b!==void 0&&(b=String(b).toLowerCase(),b==="ucs2"||b==="ucs-2"||b==="utf16le"||b==="utf-16le")){if(g.length<2||d.length<2)return-1;F=2,I/=2,J/=2,h/=2}function se(Pt,Vt){return F===1?Pt[Vt]:Pt.readUInt16BE(Vt*F)}var te;if(S){var Me=-1;for(te=h;te<I;te++)if(se(g,te)===se(d,Me===-1?0:te-Me)){if(Me===-1&&(Me=te),te-Me+1===J)return Me*F}else Me!==-1&&(te-=te-Me),Me=-1}else for(h+J>I&&(h=I-J),te=h;te>=0;te--){for(var be=!0,Xe=0;Xe<J;Xe++)if(se(g,te+Xe)!==se(d,Xe)){be=!1;break}if(be)return te}return-1}le.prototype.includes=function(d,h,b){return this.indexOf(d,h,b)!==-1},le.prototype.indexOf=function(d,h,b){return zn(this,d,h,b,!0)},le.prototype.lastIndexOf=function(d,h,b){return zn(this,d,h,b,!1)};function Ci(g,d,h,b){h=Number(h)||0;var S=g.length-h;b?(b=Number(b),b>S&&(b=S)):b=S;var F=d.length;if(F%2!=0)throw new TypeError("Invalid hex string");b>F/2&&(b=F/2);for(var I=0;I<b;++I){var J=parseInt(d.substr(I*2,2),16);if(isNaN(J))return I;g[h+I]=J}return I}function Ti(g,d,h,b){return gn(ni(d,g.length-h),g,h,b)}function Fi(g,d,h,b){return gn(Yo(d),g,h,b)}function an(g,d,h,b){return Fi(g,d,h,b)}function jo(g,d,h,b){return gn(co(d),g,h,b)}function zo(g,d,h,b){return gn(Vo(d,g.length-h),g,h,b)}le.prototype.write=function(d,h,b,S){if(h===void 0)S="utf8",b=this.length,h=0;else if(b===void 0&&typeof h=="string")S=h,b=this.length,h=0;else if(isFinite(h))h=h|0,isFinite(b)?(b=b|0,S===void 0&&(S="utf8")):(S=b,b=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var F=this.length-h;if((b===void 0||b>F)&&(b=F),d.length>0&&(b<0||h<0)||h>this.length)throw new RangeError("Attempt to write outside buffer bounds");S||(S="utf8");for(var I=!1;;)switch(S){case"hex":return Ci(this,d,h,b);case"utf8":case"utf-8":return Ti(this,d,h,b);case"ascii":return Fi(this,d,h,b);case"latin1":case"binary":return an(this,d,h,b);case"base64":return jo(this,d,h,b);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return zo(this,d,h,b);default:if(I)throw new TypeError("Unknown encoding: "+S);S=(""+S).toLowerCase(),I=!0}},le.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function no(g,d,h){return d===0&&h===g.length?Ze(g):Ze(g.slice(d,h))}function Bi(g,d,h){h=Math.min(g.length,h);for(var b=[],S=d;S<h;){var F=g[S],I=null,J=F>239?4:F>223?3:F>191?2:1;if(S+J<=h){var se,te,Me,be;switch(J){case 1:F<128&&(I=F);break;case 2:se=g[S+1],(se&192)==128&&(be=(F&31)<<6|se&63,be>127&&(I=be));break;case 3:se=g[S+1],te=g[S+2],(se&192)==128&&(te&192)==128&&(be=(F&15)<<12|(se&63)<<6|te&63,be>2047&&(be<55296||be>57343)&&(I=be));break;case 4:se=g[S+1],te=g[S+2],Me=g[S+3],(se&192)==128&&(te&192)==128&&(Me&192)==128&&(be=(F&15)<<18|(se&63)<<12|(te&63)<<6|Me&63,be>65535&&be<1114112&&(I=be))}}I===null?(I=65533,J=1):I>65535&&(I-=65536,b.push(I>>>10&1023|55296),I=56320|I&1023),b.push(I),S+=J}return Ko(b)}var io=4096;function Ko(g){var d=g.length;if(d<=io)return String.fromCharCode.apply(String,g);for(var h="",b=0;b<d;)h+=String.fromCharCode.apply(String,g.slice(b,b+=io));return h}function qo(g,d,h){var b="";h=Math.min(g.length,h);for(var S=d;S<h;++S)b+=String.fromCharCode(g[S]&127);return b}function Ii(g,d,h){var b="";h=Math.min(g.length,h);for(var S=d;S<h;++S)b+=String.fromCharCode(g[S]);return b}function Ho(g,d,h){var b=g.length;(!d||d<0)&&(d=0),(!h||h<0||h>b)&&(h=b);for(var S="",F=d;F<h;++F)S+=Wo(g[F]);return S}function Di(g,d,h){for(var b=g.slice(d,h),S="",F=0;F<b.length;F+=2)S+=String.fromCharCode(b[F]+b[F+1]*256);return S}le.prototype.slice=function(d,h){var b=this.length;d=~~d,h=h===void 0?b:~~h,d<0?(d+=b,d<0&&(d=0)):d>b&&(d=b),h<0?(h+=b,h<0&&(h=0)):h>b&&(h=b),h<d&&(h=d);var S;if(le.TYPED_ARRAY_SUPPORT)S=this.subarray(d,h),S.__proto__=le.prototype;else{var F=h-d;S=new le(F,void 0);for(var I=0;I<F;++I)S[I]=this[I+d]}return S};function ur(g,d,h){if(g%1!=0||g<0)throw new RangeError("offset is not uint");if(g+d>h)throw new RangeError("Trying to access beyond buffer length")}le.prototype.readUIntLE=function(d,h,b){d=d|0,h=h|0,b||ur(d,h,this.length);for(var S=this[d],F=1,I=0;++I<h&&(F*=256);)S+=this[d+I]*F;return S},le.prototype.readUIntBE=function(d,h,b){d=d|0,h=h|0,b||ur(d,h,this.length);for(var S=this[d+--h],F=1;h>0&&(F*=256);)S+=this[d+--h]*F;return S},le.prototype.readUInt8=function(d,h){return h||ur(d,1,this.length),this[d]},le.prototype.readUInt16LE=function(d,h){return h||ur(d,2,this.length),this[d]|this[d+1]<<8},le.prototype.readUInt16BE=function(d,h){return h||ur(d,2,this.length),this[d]<<8|this[d+1]},le.prototype.readUInt32LE=function(d,h){return h||ur(d,4,this.length),(this[d]|this[d+1]<<8|this[d+2]<<16)+this[d+3]*16777216},le.prototype.readUInt32BE=function(d,h){return h||ur(d,4,this.length),this[d]*16777216+(this[d+1]<<16|this[d+2]<<8|this[d+3])},le.prototype.readIntLE=function(d,h,b){d=d|0,h=h|0,b||ur(d,h,this.length);for(var S=this[d],F=1,I=0;++I<h&&(F*=256);)S+=this[d+I]*F;return F*=128,S>=F&&(S-=Math.pow(2,8*h)),S},le.prototype.readIntBE=function(d,h,b){d=d|0,h=h|0,b||ur(d,h,this.length);for(var S=h,F=1,I=this[d+--S];S>0&&(F*=256);)I+=this[d+--S]*F;return F*=128,I>=F&&(I-=Math.pow(2,8*h)),I},le.prototype.readInt8=function(d,h){return h||ur(d,1,this.length),this[d]&128?(255-this[d]+1)*-1:this[d]},le.prototype.readInt16LE=function(d,h){h||ur(d,2,this.length);var b=this[d]|this[d+1]<<8;return b&32768?b|4294901760:b},le.prototype.readInt16BE=function(d,h){h||ur(d,2,this.length);var b=this[d+1]|this[d]<<8;return b&32768?b|4294901760:b},le.prototype.readInt32LE=function(d,h){return h||ur(d,4,this.length),this[d]|this[d+1]<<8|this[d+2]<<16|this[d+3]<<24},le.prototype.readInt32BE=function(d,h){return h||ur(d,4,this.length),this[d]<<24|this[d+1]<<16|this[d+2]<<8|this[d+3]},le.prototype.readFloatLE=function(d,h){return h||ur(d,4,this.length),yt(this,d,!0,23,4)},le.prototype.readFloatBE=function(d,h){return h||ur(d,4,this.length),yt(this,d,!1,23,4)},le.prototype.readDoubleLE=function(d,h){return h||ur(d,8,this.length),yt(this,d,!0,52,8)},le.prototype.readDoubleBE=function(d,h){return h||ur(d,8,this.length),yt(this,d,!1,52,8)};function wr(g,d,h,b,S,F){if(!Ue(g))throw new TypeError('"buffer" argument must be a Buffer instance');if(d>S||d<F)throw new RangeError('"value" argument is out of bounds');if(h+b>g.length)throw new RangeError("Index out of range")}le.prototype.writeUIntLE=function(d,h,b,S){if(d=+d,h=h|0,b=b|0,!S){var F=Math.pow(2,8*b)-1;wr(this,d,h,b,F,0)}var I=1,J=0;for(this[h]=d&255;++J<b&&(I*=256);)this[h+J]=d/I&255;return h+b},le.prototype.writeUIntBE=function(d,h,b,S){if(d=+d,h=h|0,b=b|0,!S){var F=Math.pow(2,8*b)-1;wr(this,d,h,b,F,0)}var I=b-1,J=1;for(this[h+I]=d&255;--I>=0&&(J*=256);)this[h+I]=d/J&255;return h+b},le.prototype.writeUInt8=function(d,h,b){return d=+d,h=h|0,b||wr(this,d,h,1,255,0),le.TYPED_ARRAY_SUPPORT||(d=Math.floor(d)),this[h]=d&255,h+1};function ri(g,d,h,b){d<0&&(d=65535+d+1);for(var S=0,F=Math.min(g.length-h,2);S<F;++S)g[h+S]=(d&255<<8*(b?S:1-S))>>>(b?S:1-S)*8}le.prototype.writeUInt16LE=function(d,h,b){return d=+d,h=h|0,b||wr(this,d,h,2,65535,0),le.TYPED_ARRAY_SUPPORT?(this[h]=d&255,this[h+1]=d>>>8):ri(this,d,h,!0),h+2},le.prototype.writeUInt16BE=function(d,h,b){return d=+d,h=h|0,b||wr(this,d,h,2,65535,0),le.TYPED_ARRAY_SUPPORT?(this[h]=d>>>8,this[h+1]=d&255):ri(this,d,h,!1),h+2};function Kn(g,d,h,b){d<0&&(d=4294967295+d+1);for(var S=0,F=Math.min(g.length-h,4);S<F;++S)g[h+S]=d>>>(b?S:3-S)*8&255}le.prototype.writeUInt32LE=function(d,h,b){return d=+d,h=h|0,b||wr(this,d,h,4,4294967295,0),le.TYPED_ARRAY_SUPPORT?(this[h+3]=d>>>24,this[h+2]=d>>>16,this[h+1]=d>>>8,this[h]=d&255):Kn(this,d,h,!0),h+4},le.prototype.writeUInt32BE=function(d,h,b){return d=+d,h=h|0,b||wr(this,d,h,4,4294967295,0),le.TYPED_ARRAY_SUPPORT?(this[h]=d>>>24,this[h+1]=d>>>16,this[h+2]=d>>>8,this[h+3]=d&255):Kn(this,d,h,!1),h+4},le.prototype.writeIntLE=function(d,h,b,S){if(d=+d,h=h|0,!S){var F=Math.pow(2,8*b-1);wr(this,d,h,b,F-1,-F)}var I=0,J=1,se=0;for(this[h]=d&255;++I<b&&(J*=256);)d<0&&se===0&&this[h+I-1]!==0&&(se=1),this[h+I]=(d/J>>0)-se&255;return h+b},le.prototype.writeIntBE=function(d,h,b,S){if(d=+d,h=h|0,!S){var F=Math.pow(2,8*b-1);wr(this,d,h,b,F-1,-F)}var I=b-1,J=1,se=0;for(this[h+I]=d&255;--I>=0&&(J*=256);)d<0&&se===0&&this[h+I+1]!==0&&(se=1),this[h+I]=(d/J>>0)-se&255;return h+b},le.prototype.writeInt8=function(d,h,b){return d=+d,h=h|0,b||wr(this,d,h,1,127,-128),le.TYPED_ARRAY_SUPPORT||(d=Math.floor(d)),d<0&&(d=255+d+1),this[h]=d&255,h+1},le.prototype.writeInt16LE=function(d,h,b){return d=+d,h=h|0,b||wr(this,d,h,2,32767,-32768),le.TYPED_ARRAY_SUPPORT?(this[h]=d&255,this[h+1]=d>>>8):ri(this,d,h,!0),h+2},le.prototype.writeInt16BE=function(d,h,b){return d=+d,h=h|0,b||wr(this,d,h,2,32767,-32768),le.TYPED_ARRAY_SUPPORT?(this[h]=d>>>8,this[h+1]=d&255):ri(this,d,h,!1),h+2},le.prototype.writeInt32LE=function(d,h,b){return d=+d,h=h|0,b||wr(this,d,h,4,2147483647,-2147483648),le.TYPED_ARRAY_SUPPORT?(this[h]=d&255,this[h+1]=d>>>8,this[h+2]=d>>>16,this[h+3]=d>>>24):Kn(this,d,h,!0),h+4},le.prototype.writeInt32BE=function(d,h,b){return d=+d,h=h|0,b||wr(this,d,h,4,2147483647,-2147483648),d<0&&(d=4294967295+d+1),le.TYPED_ARRAY_SUPPORT?(this[h]=d>>>24,this[h+1]=d>>>16,this[h+2]=d>>>8,this[h+3]=d&255):Kn(this,d,h,!1),h+4};function oo(g,d,h,b,S,F){if(h+b>g.length)throw new RangeError("Index out of range");if(h<0)throw new RangeError("Index out of range")}function so(g,d,h,b,S){return S||oo(g,d,h,4),Ir(g,d,h,b,23,4),h+4}le.prototype.writeFloatLE=function(d,h,b){return so(this,d,h,!0,b)},le.prototype.writeFloatBE=function(d,h,b){return so(this,d,h,!1,b)};function ao(g,d,h,b,S){return S||oo(g,d,h,8),Ir(g,d,h,b,52,8),h+8}le.prototype.writeDoubleLE=function(d,h,b){return ao(this,d,h,!0,b)},le.prototype.writeDoubleBE=function(d,h,b){return ao(this,d,h,!1,b)},le.prototype.copy=function(d,h,b,S){if(b||(b=0),!S&&S!==0&&(S=this.length),h>=d.length&&(h=d.length),h||(h=0),S>0&&S<b&&(S=b),S===b||d.length===0||this.length===0)return 0;if(h<0)throw new RangeError("targetStart out of bounds");if(b<0||b>=this.length)throw new RangeError("sourceStart out of bounds");if(S<0)throw new RangeError("sourceEnd out of bounds");S>this.length&&(S=this.length),d.length-h<S-b&&(S=d.length-h+b);var F=S-b,I;if(this===d&&b<h&&h<S)for(I=F-1;I>=0;--I)d[I+h]=this[I+b];else if(F<1e3||!le.TYPED_ARRAY_SUPPORT)for(I=0;I<F;++I)d[I+h]=this[I+b];else Uint8Array.prototype.set.call(d,this.subarray(b,b+F),h);return F},le.prototype.fill=function(d,h,b,S){if(typeof d=="string"){if(typeof h=="string"?(S=h,h=0,b=this.length):typeof b=="string"&&(S=b,b=this.length),d.length===1){var F=d.charCodeAt(0);F<256&&(d=F)}if(S!==void 0&&typeof S!="string")throw new TypeError("encoding must be a string");if(typeof S=="string"&&!le.isEncoding(S))throw new TypeError("Unknown encoding: "+S)}else typeof d=="number"&&(d=d&255);if(h<0||this.length<h||this.length<b)throw new RangeError("Out of range index");if(b<=h)return this;h=h>>>0,b=b===void 0?this.length:b>>>0,d||(d=0);var I;if(typeof d=="number")for(I=h;I<b;++I)this[I]=d;else{var J=Ue(d)?d:ni(new le(d,S).toString()),se=J.length;for(I=0;I<b-h;++I)this[I+h]=J[I%se]}return this};var $o=/[^+\/0-9A-Za-z-_]/g;function uo(g){if(g=Go(g).replace($o,""),g.length<2)return"";for(;g.length%4!=0;)g=g+"=";return g}function Go(g){return g.trim?g.trim():g.replace(/^\s+|\s+$/g,"")}function Wo(g){return g<16?"0"+g.toString(16):g.toString(16)}function ni(g,d){d=d||Infinity;for(var h,b=g.length,S=null,F=[],I=0;I<b;++I){if(h=g.charCodeAt(I),h>55295&&h<57344){if(!S){if(h>56319){(d-=3)>-1&&F.push(239,191,189);continue}else if(I+1===b){(d-=3)>-1&&F.push(239,191,189);continue}S=h;continue}if(h<56320){(d-=3)>-1&&F.push(239,191,189),S=h;continue}h=(S-55296<<10|h-56320)+65536}else S&&(d-=3)>-1&&F.push(239,191,189);if(S=null,h<128){if((d-=1)<0)break;F.push(h)}else if(h<2048){if((d-=2)<0)break;F.push(h>>6|192,h&63|128)}else if(h<65536){if((d-=3)<0)break;F.push(h>>12|224,h>>6&63|128,h&63|128)}else if(h<1114112){if((d-=4)<0)break;F.push(h>>18|240,h>>12&63|128,h>>6&63|128,h&63|128)}else throw new Error("Invalid code point")}return F}function Yo(g){for(var d=[],h=0;h<g.length;++h)d.push(g.charCodeAt(h)&255);return d}function Vo(g,d){for(var h,b,S,F=[],I=0;I<g.length&&!((d-=2)<0);++I)h=g.charCodeAt(I),b=h>>8,S=h%256,F.push(S),F.push(b);return F}function co(g){return We(uo(g))}function gn(g,d,h,b){for(var S=0;S<b&&!(S+h>=d.length||S>=g.length);++S)d[S+h]=g[S];return S}function Jo(g){return g!==g}function sa(g){return g!=null&&(!!g._isBuffer||Vu(g)||Ju(g))}function Vu(g){return!!g.constructor&&typeof g.constructor.isBuffer=="function"&&g.constructor.isBuffer(g)}function Ju(g){return typeof g.readFloatLE=="function"&&typeof g.slice=="function"&&Vu(g.slice(0,0))}function fo(g,d){var h=d===8?new Uint8Array(g):new Uint16Array(g);return Array.from(h).map(function(b){return String.fromCharCode(b)}).join("")}function aa(g){var d=fo(g,8);return le.from(d,"binary").toString("base64")}function Sn(g,d){for(var h=d===8?new Uint8Array(g.length):new Uint16Array(g.length),b=0,S=g.length;b<S;b++)h[b]=g.charCodeAt(b);return h.buffer}function ua(g){var d=le.from(g,"base64").toString("binary");return Sn(d,8)}function Es(){return new Uint8Array([1,0,1])}function ca(g){var d=new Uint8Array(g);return globalThis.crypto.getRandomValues(d),d.buffer}function Xu(g,d){var h=new Uint8Array(g),b=new Uint8Array(d),S=new Uint8Array(h.length+b.length);return S.set(h),S.set(b,h.length),S.buffer}var Ya=function(g){return E(g,function(d){return Sn(d,W.B8)})},Xo=function(g){return E(g,function(d){return Sn(d,W.B16)})},lo=function(g){return E(g,ua)},Ri=function(g,d){switch(d){case 8:return Ya(g);default:return Xo(g)}},E=function(g,d){if(typeof g=="string")return d(g);if(typeof g=="object"&&g.byteLength!==void 0){var h=new Uint8Array(g);return h.buffer}else throw new Error("Improper value. Must be a string, ArrayBuffer, Uint8Array")};function N(g){return n(this,void 0,void 0,function(){return i(this,function(d){return[2,new Promise(function(h){var b=new MessageChannel,S=b.port1,F=b.port2;F.onmessage=function(I){return h(I.data)},S.postMessage(g)})]})})}var C={arrBufToStr:fo,arrBufToBase64:aa,strToArrBuf:Sn,base64ToArrBuf:ua,publicExponent:Es,randomBuf:ca,joinBufs:Xu,normalizeUtf8ToBuf:Ya,normalizeUtf16ToBuf:Xo,normalizeBase64ToBuf:lo,normalizeToBuf:E,structuralClone:N},j=Object.freeze({__proto__:null,arrBufToStr:fo,arrBufToBase64:aa,strToArrBuf:Sn,base64ToArrBuf:ua,publicExponent:Es,randomBuf:ca,joinBufs:Xu,normalizeUtf8ToBuf:Ya,normalizeUtf16ToBuf:Xo,normalizeBase64ToBuf:lo,normalizeUnicodeToBuf:Ri,normalizeToBuf:E,structuralClone:N,default:C}),q="ECDH",M="ECDSA",ae="RSA-OAEP",ge="RSASSA-PKCS1-v1_5",_e=128,Se="ecc",Pe=y.P_256,Ke=w.B2048,rt=B.AES_CTR,ft=_.B256,Et=64,Yt=R.SHA_256,Mt=W.B16,kr="keystore",Ni="read-key",Zo="write-key",Zu={ECC_READ_ALG:q,ECC_WRITE_ALG:M,RSA_READ_ALG:ae,RSA_WRITE_ALG:ge,SALT_LENGTH:_e,DEFAULT_CRYPTOSYSTEM:Se,DEFAULT_ECC_CURVE:Pe,DEFAULT_RSA_SIZE:Ke,DEFAULT_SYMM_ALG:rt,DEFAULT_CTR_LEN:Et,DEFAULT_HASH_ALG:Yt,DEFAULT_CHAR_SIZE:Mt,DEFAULT_STORE_NAME:kr,DEFAULT_READ_KEY_NAME:Ni,DEFAULT_WRITE_KEY_NAME:Zo},Va=Object.freeze({__proto__:null,ECC_READ_ALG:q,ECC_WRITE_ALG:M,RSA_READ_ALG:ae,RSA_WRITE_ALG:ge,SALT_LENGTH:_e,DEFAULT_CRYPTOSYSTEM:Se,DEFAULT_ECC_CURVE:Pe,DEFAULT_RSA_SIZE:Ke,DEFAULT_SYMM_ALG:rt,DEFAULT_SYMM_LEN:ft,DEFAULT_CTR_LEN:Et,DEFAULT_HASH_ALG:Yt,DEFAULT_CHAR_SIZE:Mt,DEFAULT_STORE_NAME:kr,DEFAULT_READ_KEY_NAME:Ni,DEFAULT_WRITE_KEY_NAME:Zo,default:Zu});function kf(g,d){return n(this,void 0,void 0,function(){var h,b;return i(this,function(S){return _t(d),h=d===we.Read?q:M,b=d===we.Read?["deriveKey","deriveBits"]:["sign","verify"],[2,globalThis.crypto.subtle.generateKey({name:h,namedCurve:g},!1,b)]})})}function Qu(g,d,h){return n(this,void 0,void 0,function(){var b,S,F;return i(this,function(I){return _t(h),b=h===we.Read?q:M,S=h===we.Read?[]:["verify"],F=C.base64ToArrBuf(g),[2,globalThis.crypto.subtle.importKey("raw",F,{name:b,namedCurve:d},!0,S)]})})}var Ui={makeKeypair:kf,importPublicKey:Qu};function ec(g){return n(this,void 0,void 0,function(){return i(this,function(d){return[2,globalThis.crypto.subtle.generateKey({name:(g==null?void 0:g.alg)||rt,length:(g==null?void 0:g.length)||ft},!0,["encrypt","decrypt"])]})})}function h0(g,d){return n(this,void 0,void 0,function(){var h;return i(this,function(b){return h=C.base64ToArrBuf(g),[2,globalThis.crypto.subtle.importKey("raw",h,{name:(d==null?void 0:d.alg)||rt,length:(d==null?void 0:d.length)||ft},!0,["encrypt","decrypt"])]})})}var Ef={makeKey:ec,importKey:h0};function yh(g,d,h){return n(this,void 0,void 0,function(){var b,S,F,I,J,se;return i(this,function(te){switch(te.label){case 0:return b=C.normalizeUtf16ToBuf(g),typeof d!="string"?[3,2]:[4,Ef.importKey(d,h)];case 1:return F=te.sent(),[3,3];case 2:F=d,te.label=3;case 3:return S=F,I=(h==null?void 0:h.alg)||rt,J=(h==null?void 0:h.iv)||C.randomBuf(16),[4,globalThis.crypto.subtle.encrypt({name:I,iv:I===B.AES_CTR?void 0:J,counter:I===B.AES_CTR?new Uint8Array(J):void 0,length:I===B.AES_CTR?Et:void 0},S,b)];case 4:return se=te.sent(),[2,C.joinBufs(J,se)]}})})}function tc(g,d,h){return n(this,void 0,void 0,function(){var b,S,F,I,J,se,te;return i(this,function(Me){switch(Me.label){case 0:return b=C.normalizeBase64ToBuf(g),typeof d!="string"?[3,2]:[4,Ef.importKey(d,h)];case 1:return F=Me.sent(),[3,3];case 2:F=d,Me.label=3;case 3:return S=F,I=(h==null?void 0:h.alg)||rt,J=b.slice(0,16),se=b.slice(16),[4,globalThis.crypto.subtle.decrypt({name:I,iv:I===B.AES_CTR?void 0:J,counter:I===B.AES_CTR?new Uint8Array(J):void 0,length:I===B.AES_CTR?Et:void 0},S,se)];case 4:return te=Me.sent(),[2,te]}})})}function d0(g,d,h){return n(this,void 0,void 0,function(){var b;return i(this,function(S){switch(S.label){case 0:return[4,yh(g,d,h)];case 1:return b=S.sent(),[2,C.arrBufToBase64(b)]}})})}function p0(g,d,h){return n(this,void 0,void 0,function(){var b;return i(this,function(S){switch(S.label){case 0:return[4,tc(g,d,h)];case 1:return b=S.sent(),[2,C.arrBufToStr(b,16)]}})})}function m0(g){return n(this,void 0,void 0,function(){var d;return i(this,function(h){switch(h.label){case 0:return[4,globalThis.crypto.subtle.exportKey("raw",g)];case 1:return d=h.sent(),[2,C.arrBufToBase64(d)]}})})}var y0={encryptBytes:yh,decryptBytes:tc,encrypt:d0,decrypt:p0,exportKey:m0},Ss=r(r({},Ef),y0);function sr(g,d,h,b){return h===void 0&&(h=Mt),b===void 0&&(b=Yt),n(this,void 0,void 0,function(){return i(this,function(S){return[2,globalThis.crypto.subtle.sign({name:M,hash:{name:b}},d,Ri(g,h))]})})}function tr(g,d,h,b,S,F){return b===void 0&&(b=Mt),S===void 0&&(S=Pe),F===void 0&&(F=Yt),n(this,void 0,void 0,function(){var I,J,se,te;return i(this,function(Me){switch(Me.label){case 0:return J=(I=globalThis.crypto.subtle).verify,se=[{name:M,hash:{name:F}}],typeof h!="string"?[3,2]:[4,Ui.importPublicKey(h,S,we.Write)];case 1:return te=Me.sent(),[3,3];case 2:te=h,Me.label=3;case 3:return[2,J.apply(I,se.concat([te,lo(d),Ri(g,b)]))]}})})}function gh(g,d,h,b,S,F){return b===void 0&&(b=Mt),S===void 0&&(S=Pe),n(this,void 0,void 0,function(){var I,J,se;return i(this,function(te){switch(te.label){case 0:return typeof h!="string"?[3,2]:[4,Ui.importPublicKey(h,S,we.Read)];case 1:return J=te.sent(),[3,3];case 2:J=h,te.label=3;case 3:return I=J,[4,rc(d,I,F)];case 4:return se=te.sent(),[2,Ss.encryptBytes(Ri(g,b),se,F)]}})})}function bh(g,d,h,b,S){return b===void 0&&(b=Pe),n(this,void 0,void 0,function(){var F,I,J;return i(this,function(se){switch(se.label){case 0:return typeof h!="string"?[3,2]:[4,Ui.importPublicKey(h,b,we.Read)];case 1:return I=se.sent(),[3,3];case 2:I=h,se.label=3;case 3:return F=I,[4,rc(d,F,S)];case 4:return J=se.sent(),[2,Ss.decryptBytes(lo(g),J,S)]}})})}function vh(g){return n(this,void 0,void 0,function(){var d;return i(this,function(h){switch(h.label){case 0:return[4,globalThis.crypto.subtle.exportKey("raw",g.publicKey)];case 1:return d=h.sent(),[2,C.arrBufToBase64(d)]}})})}function rc(g,d,h){return n(this,void 0,void 0,function(){return i(this,function(b){return[2,globalThis.crypto.subtle.deriveKey({name:q,public:d},g,{name:(h==null?void 0:h.alg)||rt,length:(h==null?void 0:h.length)||ft},!1,["encrypt","decrypt"])]})})}var Ps={sign:sr,verify:tr,encrypt:gh,decrypt:bh,getPublicKey:vh,getSharedKey:rc},nc={type:Se,curve:Pe,rsaSize:Ke,symmAlg:rt,symmLen:ft,hashAlg:Yt,charSize:Mt,storeName:kr,readKeyName:Ni,writeKeyName:Zo};function Sf(g,d){d===void 0&&(d=!0);var h;return g?h=r(r({},nc),g):h=nc,(g==null?void 0:g.type)||(h.type=d?l.ECC:l.RSA),h}function wh(){return n(this,void 0,void 0,function(){var g,d;return i(this,function(h){switch(h.label){case 0:return[4,Ui.makeKeypair(Pe,we.Read)];case 1:g=h.sent(),h.label=2;case 2:return h.trys.push([2,4,,5]),[4,C.structuralClone(g)];case 3:return h.sent(),[3,5];case 4:return d=h.sent(),[2,!1];case 5:return[2,!0]}})})}function Dr(g,d){return d===void 0&&(d={}),r(r({},g),d)}function ic(g){return{alg:g.symmAlg,length:g.symmLen}}var rr={defaultConfig:nc,normalize:Sf,eccEnabled:wh,merge:Dr,symmKeyOpts:ic},_h=Object.freeze({__proto__:null,defaultConfig:nc,normalize:Sf,eccEnabled:wh,merge:Dr,symmKeyOpts:ic,default:rr}),oc=function(){function g(d,h){this.cfg=d,this.store=h}return g.prototype.writeKey=function(){return n(this,void 0,void 0,function(){var d;return i(this,function(h){switch(h.label){case 0:return[4,Ut.getKeypair(this.cfg.writeKeyName,this.store)];case 1:return d=h.sent(),[2,Ae(d)]}})})},g.prototype.readKey=function(){return n(this,void 0,void 0,function(){var d;return i(this,function(h){switch(h.label){case 0:return[4,Ut.getKeypair(this.cfg.readKeyName,this.store)];case 1:return d=h.sent(),[2,Ae(d)]}})})},g.prototype.getSymmKey=function(d,h){return n(this,void 0,void 0,function(){var b,S,F;return i(this,function(I){switch(I.label){case 0:return b=rr.merge(this.cfg,h),[4,Ut.getKey(d,this.store)];case 1:return S=I.sent(),S!==null?[2,S]:[4,Ss.makeKey(rr.symmKeyOpts(b))];case 2:return F=I.sent(),[4,Ut.put(d,F,this.store)];case 3:return I.sent(),[2,F]}})})},g.prototype.keyExists=function(d){return n(this,void 0,void 0,function(){var h;return i(this,function(b){switch(b.label){case 0:return[4,Ut.getKey(d,this.store)];case 1:return h=b.sent(),[2,h!==null]}})})},g.prototype.deleteKey=function(d){return n(this,void 0,void 0,function(){return i(this,function(h){return[2,Ut.rm(d,this.store)]})})},g.prototype.destroy=function(){return n(this,void 0,void 0,function(){return i(this,function(d){return[2,Ut.dropStore(this.store)]})})},g.prototype.importSymmKey=function(d,h,b){return n(this,void 0,void 0,function(){var S,F;return i(this,function(I){switch(I.label){case 0:return S=rr.merge(this.cfg,b),[4,Ss.importKey(d,rr.symmKeyOpts(S))];case 1:return F=I.sent(),[4,Ut.put(h,F,this.store)];case 2:return I.sent(),[2]}})})},g.prototype.exportSymmKey=function(d,h){return n(this,void 0,void 0,function(){var b;return i(this,function(S){switch(S.label){case 0:return[4,this.getSymmKey(d,h)];case 1:return b=S.sent(),[2,Ss.exportKey(b)]}})})},g.prototype.encryptWithSymmKey=function(d,h,b){return n(this,void 0,void 0,function(){var S,F,I;return i(this,function(J){switch(J.label){case 0:return S=rr.merge(this.cfg,b),[4,this.getSymmKey(h,b)];case 1:return F=J.sent(),[4,Ss.encryptBytes(C.strToArrBuf(d,S.charSize),F,rr.symmKeyOpts(S))];case 2:return I=J.sent(),[2,C.arrBufToBase64(I)]}})})},g.prototype.decryptWithSymmKey=function(d,h,b){return n(this,void 0,void 0,function(){var S,F,I;return i(this,function(J){switch(J.label){case 0:return S=rr.merge(this.cfg,b),[4,this.getSymmKey(h,b)];case 1:return F=J.sent(),[4,Ss.decryptBytes(C.base64ToArrBuf(d),F,rr.symmKeyOpts(S))];case 2:return I=J.sent(),[2,C.arrBufToStr(I,S.charSize)]}})})},g}(),bn=function(g){e(d,g);function d(){return g!==null&&g.apply(this,arguments)||this}return d.init=function(h){return n(this,void 0,void 0,function(){var b,S,F,I,J,se;return i(this,function(te){switch(te.label){case 0:return b=rr.normalize(r(r({},h||{}),{type:l.ECC})),S=b.curve,F=b.storeName,I=b.readKeyName,J=b.writeKeyName,se=Ut.createStore(F),[4,Ut.createIfDoesNotExist(I,function(){return Ui.makeKeypair(S,we.Read)},se)];case 1:return te.sent(),[4,Ut.createIfDoesNotExist(J,function(){return Ui.makeKeypair(S,we.Write)},se)];case 2:return te.sent(),[2,new d(b,se)]}})})},d.prototype.sign=function(h,b){return n(this,void 0,void 0,function(){var S,F,I,J;return i(this,function(se){switch(se.label){case 0:return S=rr.merge(this.cfg,b),[4,this.writeKey()];case 1:return F=se.sent(),J=(I=C).arrBufToBase64,[4,Ps.sign(h,F.privateKey,S.charSize,S.hashAlg)];case 2:return[2,J.apply(I,[se.sent()])]}})})},d.prototype.verify=function(h,b,S,F){return n(this,void 0,void 0,function(){var I;return i(this,function(J){return I=rr.merge(this.cfg,F),[2,Ps.verify(h,b,S,I.charSize,I.curve,I.hashAlg)]})})},d.prototype.encrypt=function(h,b,S){return n(this,void 0,void 0,function(){var F,I,J,se;return i(this,function(te){switch(te.label){case 0:return F=rr.merge(this.cfg,S),[4,this.readKey()];case 1:return I=te.sent(),se=(J=C).arrBufToBase64,[4,Ps.encrypt(h,I.privateKey,b,F.charSize,F.curve)];case 2:return[2,se.apply(J,[te.sent()])]}})})},d.prototype.decrypt=function(h,b,S){return n(this,void 0,void 0,function(){var F,I,J,se;return i(this,function(te){switch(te.label){case 0:return F=rr.merge(this.cfg,S),[4,this.readKey()];case 1:return I=te.sent(),se=(J=C).arrBufToStr,[4,Ps.decrypt(h,I.privateKey,b,F.curve)];case 2:return[2,se.apply(J,[te.sent(),F.charSize])]}})})},d.prototype.publicReadKey=function(){return n(this,void 0,void 0,function(){var h;return i(this,function(b){switch(b.label){case 0:return[4,this.readKey()];case 1:return h=b.sent(),[2,Ps.getPublicKey(h)]}})})},d.prototype.publicWriteKey=function(){return n(this,void 0,void 0,function(){var h;return i(this,function(b){switch(b.label){case 0:return[4,this.writeKey()];case 1:return h=b.sent(),[2,Ps.getPublicKey(h)]}})})},d}(oc);function Pf(g,d,h){return n(this,void 0,void 0,function(){var b,S;return i(this,function(F){return _t(h),b=h===we.Read?ae:ge,S=h===we.Read?["encrypt","decrypt"]:["sign","verify"],[2,globalThis.crypto.subtle.generateKey({name:b,modulusLength:g,publicExponent:C.publicExponent(),hash:{name:d}},!1,S)]})})}function xh(g){return g.replace(`-----BEGIN PUBLIC KEY-----
`,"").replace(`
-----END PUBLIC KEY-----`,"")}function Cf(g,d,h){return n(this,void 0,void 0,function(){var b,S,F;return i(this,function(I){return _t(h),b=h===we.Read?ae:ge,S=h===we.Read?["encrypt"]:["verify"],F=C.base64ToArrBuf(xh(g)),[2,globalThis.crypto.subtle.importKey("spki",F,{name:b,hash:{name:d}},!0,S)]})})}var fa={makeKeypair:Pf,importPublicKey:Cf};function Tf(g,d,h){return h===void 0&&(h=Mt),n(this,void 0,void 0,function(){return i(this,function(b){return[2,globalThis.crypto.subtle.sign({name:ge,saltLength:_e},d,Ri(g,h))]})})}function Ff(g,d,h,b,S){return b===void 0&&(b=Mt),S===void 0&&(S=Yt),n(this,void 0,void 0,function(){var F,I,J,se;return i(this,function(te){switch(te.label){case 0:return I=(F=globalThis.crypto.subtle).verify,J=[{name:ge,saltLength:_e}],typeof h!="string"?[3,2]:[4,fa.importPublicKey(h,S,we.Write)];case 1:return se=te.sent(),[3,3];case 2:se=h,te.label=3;case 3:return[2,I.apply(F,J.concat([se,lo(d),Ri(g,b)]))]}})})}function vn(g,d,h,b){return h===void 0&&(h=Mt),b===void 0&&(b=Yt),n(this,void 0,void 0,function(){var S,F,I,J;return i(this,function(se){switch(se.label){case 0:return F=(S=globalThis.crypto.subtle).encrypt,I=[{name:ae}],typeof d!="string"?[3,2]:[4,fa.importPublicKey(d,b,we.Read)];case 1:return J=se.sent(),[3,3];case 2:J=d,se.label=3;case 3:return[2,F.apply(S,I.concat([J,Ri(g,h)]))]}})})}function Ah(g,d){return n(this,void 0,void 0,function(){var h;return i(this,function(b){return h=lo(g),[2,globalThis.crypto.subtle.decrypt({name:ae},d,h)]})})}function Pn(g){return n(this,void 0,void 0,function(){var d;return i(this,function(h){switch(h.label){case 0:return[4,globalThis.crypto.subtle.exportKey("spki",g.publicKey)];case 1:return d=h.sent(),[2,C.arrBufToBase64(d)]}})})}var Cs={sign:Tf,verify:Ff,encrypt:vn,decrypt:Ah,getPublicKey:Pn},sc=function(g){e(d,g);function d(){return g!==null&&g.apply(this,arguments)||this}return d.init=function(h){return n(this,void 0,void 0,function(){var b,S,F,I,J,se,te;return i(this,function(Me){switch(Me.label){case 0:return b=rr.normalize(r(r({},h||{}),{type:l.RSA})),S=b.rsaSize,F=b.hashAlg,I=b.storeName,J=b.readKeyName,se=b.writeKeyName,te=Ut.createStore(I),[4,Ut.createIfDoesNotExist(J,function(){return fa.makeKeypair(S,F,we.Read)},te)];case 1:return Me.sent(),[4,Ut.createIfDoesNotExist(se,function(){return fa.makeKeypair(S,F,we.Write)},te)];case 2:return Me.sent(),[2,new d(b,te)]}})})},d.prototype.sign=function(h,b){return n(this,void 0,void 0,function(){var S,F,I,J;return i(this,function(se){switch(se.label){case 0:return S=rr.merge(this.cfg,b),[4,this.writeKey()];case 1:return F=se.sent(),J=(I=C).arrBufToBase64,[4,Cs.sign(h,F.privateKey,S.charSize)];case 2:return[2,J.apply(I,[se.sent()])]}})})},d.prototype.verify=function(h,b,S,F){return n(this,void 0,void 0,function(){var I;return i(this,function(J){return I=rr.merge(this.cfg,F),[2,Cs.verify(h,b,S,I.charSize,I.hashAlg)]})})},d.prototype.encrypt=function(h,b,S){return n(this,void 0,void 0,function(){var F,I,J;return i(this,function(se){switch(se.label){case 0:return F=rr.merge(this.cfg,S),J=(I=C).arrBufToBase64,[4,Cs.encrypt(h,b,F.charSize,F.hashAlg)];case 1:return[2,J.apply(I,[se.sent()])]}})})},d.prototype.decrypt=function(h,b,S){return n(this,void 0,void 0,function(){var F,I,J,se;return i(this,function(te){switch(te.label){case 0:return[4,this.readKey()];case 1:return F=te.sent(),I=rr.merge(this.cfg,S),se=(J=C).arrBufToStr,[4,Cs.decrypt(h,F.privateKey)];case 2:return[2,se.apply(J,[te.sent(),I.charSize])]}})})},d.prototype.publicReadKey=function(){return n(this,void 0,void 0,function(){var h;return i(this,function(b){switch(b.label){case 0:return[4,this.readKey()];case 1:return h=b.sent(),[2,Cs.getPublicKey(h)]}})})},d.prototype.publicWriteKey=function(){return n(this,void 0,void 0,function(){var h;return i(this,function(b){switch(b.label){case 0:return[4,this.writeKey()];case 1:return h=b.sent(),[2,Cs.getPublicKey(h)]}})})},d}(oc);function Qo(g){return n(this,void 0,void 0,function(){var d,h;return i(this,function(b){switch(b.label){case 0:return[4,rr.eccEnabled()];case 1:if(d=b.sent(),!d&&(g==null?void 0:g.type)==="ecc")throw xe;return h=rr.normalize(g,d),ct(h.type),h.type==="ecc"?[2,bn.init(h)]:[2,sc.init(h)]}})})}function ac(){return n(this,void 0,void 0,function(){return i(this,function(g){return[2,Ut.clear()]})})}var Bf=r(r(r({},Ui),Ps),bn),hr=Object.freeze({__proto__:null,default:Bf,makeKeypair:kf,importPublicKey:Qu,sign:sr,verify:tr,encrypt:gh,decrypt:bh,getPublicKey:vh,getSharedKey:rc,ECCKeyStore:bn}),es=r(r(r({},fa),Cs),sc),If=Object.freeze({__proto__:null,default:es,makeKeypair:Pf,importPublicKey:Cf,sign:Tf,verify:Ff,encrypt:vn,decrypt:Ah,getPublicKey:Pn,RSAKeyStore:sc}),g0=r(r(r(r(r({init:Qo,clear:ac},Z),Va),_h),j),{ecc:hr,rsa:If,idb:Bt});return g0})});var jd=G(i1=>{"use strict";var tR=t=>{let{name:e,message:r,stack:n,code:i,detail:s}=t;return{name:e,message:r,stack:n,code:i,detail:s}};i1.encodeError=tR;var rR=t=>{if(t instanceof Error)return t;{let{name:e,message:r,stack:n,code:i}=t;return Object.assign(nR(e,r),{name:e,stack:n,code:i})}};i1.decodeError=rR;var nR=(t,e)=>{switch(t){case"RangeError":return new RangeError(e);case"ReferenceError":return ReferenceError(e);case"SyntaxError":return new SyntaxError(e);case"TypeError":return new TypeError(e);case"URIError":return new URIError(e);default:return new Error(e)}}});var o1=G(px=>{"use strict";var iR=t=>new Set(t);px.ensureUniqueBuffers=iR});var mx=G(zd=>{"use strict";zd.TimeoutError=class extends Error{get name(){return this.constructor.name}};zd.AbortError=class extends Error{get name(){return this.constructor.name}};zd.DisconnectError=class extends Error{get name(){return this.constructor.name}}});var gx=G((jK,yx)=>{"use strict";var{decodeError:oR}=jd(),{ensureUniqueBuffers:sR}=o1(),{DisconnectError:aR,TimeoutError:uR,AbortError:cR}=mx();yx.exports=class Kd{constructor(e){this.port=null,this.id=Math.random().toString(32).slice(2),this.nextID=0,this.queries=Object.create(null),e&&this.connect(e)}execute(e){let r=`${this.id}@${this.nextID++}`;return this.queries[r]=e,e.timeout>0&&e.timeout<Infinity&&(e.timerID=setTimeout(Kd.timeout,e.timeout,this,r)),e.signal&&e.signal.addEventListener("abort",()=>this.abort(r),{once:!0}),this.port&&Kd.postQuery(this.port,r,e),e.result}connect(e){if(this.port)throw new Error("Transport is already open");this.port=e,this.port.addEventListener("message",this),this.port.start();for(let[r,n]of Object.entries(this.queries))Kd.postQuery(e,r,n)}disconnect(){let e=new aR;for(let[r,n]of Object.entries(this.queries))n.fail(e),this.abort(r);this.port&&(this.port.removeEventListener("message",this),this.port.close())}static timeout(e,r){let{queries:n}=e,i=n[r];i&&(delete n[r],i.fail(new uR("request timed out")),e.port&&e.port.postMessage({type:"abort",id:r}))}abort(e){let{queries:r}=this,n=r[e];n&&(delete r[e],n.fail(new cR),this.port&&this.port.postMessage({type:"abort",id:e}),n.timerID!=null&&clearTimeout(n.timerID))}static postQuery(e,r,n){e.postMessage({type:"query",namespace:n.namespace,method:n.method,id:r,input:n.toJSON()},sR(n.transfer()||[]))}handleEvent(e){let{id:r,result:n}=e.data,i=this.queries[r];i&&(delete this.queries[r],n.ok?i.succeed(n.value):i.fail(oR(n.error)),i.timerID!=null&&clearTimeout(i.timerID))}}});var vx=G((KK,bx)=>{"use strict";bx.exports=class{constructor(e,r,n){this.result=new Promise((i,s)=>{this.succeed=i,this.fail=s,this.signal=n.signal,this.input=n,this.namespace=e,this.method=r,this.timeout=n.timeout==null?Infinity:n.timeout,this.timerID=null})}toJSON(){return this.input}transfer(){return this.input.transfer}}});var _x=G((HK,wx)=>{"use strict";var fR=vx();wx.exports=class{constructor(e,r,n){this.transport=n;let i=this;for(let s of r)i[s]=u=>this.transport.execute(new fR(e,s.toString(),u))}}});var Wc=G((GK,xx)=>{"use strict";var lR=_x();xx.exports=class{constructor(e,r,n){this.remote=new lR(e,r,n)}}});var kx=G((WK,Ax)=>{"use strict";function hR(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var i=t.charAt(n),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=n}var u=t.length,c=t.charAt(0),p=Math.log(u)/Math.log(256),l=Math.log(256)/Math.log(u);function y(_){if(_ instanceof Uint8Array||(ArrayBuffer.isView(_)?_=new Uint8Array(_.buffer,_.byteOffset,_.byteLength):Array.isArray(_)&&(_=Uint8Array.from(_))),!(_ instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(_.length===0)return"";for(var R=0,W=0,we=0,Z=_.length;we!==Z&&_[we]===0;)we++,R++;for(var ne=(Z-we)*l+1>>>0,V=new Uint8Array(ne);we!==Z;){for(var ce=_[we],xe=0,X=ne-1;(ce!==0||xe<W)&&X!==-1;X--,xe++)ce+=256*V[X]>>>0,V[X]=ce%u>>>0,ce=ce/u>>>0;if(ce!==0)throw new Error("Non-zero carry");W=xe,we++}for(var ee=ne-W;ee!==ne&&V[ee]===0;)ee++;for(var Ae=c.repeat(R);ee<ne;++ee)Ae+=t.charAt(V[ee]);return Ae}function w(_){if(typeof _!="string")throw new TypeError("Expected String");if(_.length===0)return new Uint8Array;var R=0;if(_[R]!==" "){for(var W=0,we=0;_[R]===c;)W++,R++;for(var Z=(_.length-R)*p+1>>>0,ne=new Uint8Array(Z);_[R];){var V=e[_.charCodeAt(R)];if(V===255)return;for(var ce=0,xe=Z-1;(V!==0||ce<we)&&xe!==-1;xe--,ce++)V+=u*ne[xe]>>>0,ne[xe]=V%256>>>0,V=V/256>>>0;if(V!==0)throw new Error("Non-zero carry");we=ce,R++}if(_[R]!==" "){for(var X=Z-we;X!==Z&&ne[X]===0;)X++;for(var ee=new Uint8Array(W+(Z-X)),Ae=W;X!==Z;)ee[Ae++]=ne[X++];return ee}}}function B(_){var R=w(_);if(R)return R;throw new Error("Non-base"+u+" character")}return{encode:y,decodeUnsafe:w,decode:B}}Ax.exports=hR});var qd=G((YK,Ex)=>{"use strict";var dR=new TextDecoder,pR=t=>dR.decode(t),mR=new TextEncoder,yR=t=>mR.encode(t);function gR(t,e){let r=new Uint8Array(e),n=0;for(let i of t)r.set(i,n),n+=i.length;return r}Ex.exports={decodeText:pR,encodeText:yR,concat:gR}});var Cx=G((VK,Px)=>{"use strict";var{encodeText:bR}=qd(),Sx=class{constructor(e,r,n,i){this.name=e,this.code=r,this.codeBuf=bR(this.code),this.alphabet=i,this.codec=n(i)}encode(e){return this.codec.encode(e)}decode(e){for(let r of e)if(this.alphabet&&this.alphabet.indexOf(r)<0)throw new Error(`invalid character '${r}' in '${e}'`);return this.codec.decode(e)}};Px.exports=Sx});var Fx=G((JK,Tx)=>{"use strict";var vR=(t,e,r)=>{let n={};for(let l=0;l<e.length;++l)n[e[l]]=l;let i=t.length;for(;t[i-1]==="=";)--i;let s=new Uint8Array(i*r/8|0),u=0,c=0,p=0;for(let l=0;l<i;++l){let y=n[t[l]];if(y===void 0)throw new SyntaxError("Invalid character "+t[l]);c=c<<r|y,u+=r,u>=8&&(u-=8,s[p++]=255&c>>u)}if(u>=r||255&c<<8-u)throw new SyntaxError("Unexpected end of data");return s},wR=(t,e,r)=>{let n=e[e.length-1]==="=",i=(1<<r)-1,s="",u=0,c=0;for(let p=0;p<t.length;++p)for(c=c<<8|t[p],u+=8;u>r;)u-=r,s+=e[i&c>>u];if(u&&(s+=e[i&c<<r-u]),n)for(;s.length*r&7;)s+="=";return s},_R=t=>e=>({encode(r){return wR(r,e,t)},decode(r){return vR(r,e,t)}});Tx.exports={rfc4648:_R}});var Rx=G((XK,Dx)=>{"use strict";var _l=kx(),xR=Cx(),{rfc4648:dn}=Fx(),{decodeText:AR,encodeText:kR}=qd(),ER=()=>({encode:AR,decode:kR}),Bx=[["identity","\0",ER,""],["base2","0",dn(1),"01"],["base8","7",dn(3),"01234567"],["base10","9",_l,"0123456789"],["base16","f",dn(4),"0123456789abcdef"],["base16upper","F",dn(4),"0123456789ABCDEF"],["base32hex","v",dn(5),"0123456789abcdefghijklmnopqrstuv"],["base32hexupper","V",dn(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV"],["base32hexpad","t",dn(5),"0123456789abcdefghijklmnopqrstuv="],["base32hexpadupper","T",dn(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV="],["base32","b",dn(5),"abcdefghijklmnopqrstuvwxyz234567"],["base32upper","B",dn(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"],["base32pad","c",dn(5),"abcdefghijklmnopqrstuvwxyz234567="],["base32padupper","C",dn(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567="],["base32z","h",dn(5),"ybndrfg8ejkmcpqxot1uwisza345h769"],["base36","k",_l,"0123456789abcdefghijklmnopqrstuvwxyz"],["base36upper","K",_l,"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"],["base58btc","z",_l,"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"],["base58flickr","Z",_l,"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"],["base64","m",dn(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"],["base64pad","M",dn(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="],["base64url","u",dn(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"],["base64urlpad","U",dn(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_="]],Ix=Bx.reduce((t,e)=>(t[e[0]]=new xR(e[0],e[1],e[2],e[3]),t),{}),SR=Bx.reduce((t,e)=>(t[e[1]]=Ix[e[0]],t),{});Dx.exports={names:Ix,codes:SR}});var So=G((Ys,Ux)=>{"use strict";var Yc=Rx(),{encodeText:PR,decodeText:Hd,concat:Nx}=qd();function CR(t,e){if(!e)throw new Error("requires an encoded Uint8Array");let{name:r,codeBuf:n}=Cu(t);return IR(r,e),Nx([n,e],n.length+e.length)}function TR(t,e){let r=Cu(t),n=PR(r.encode(e));return Nx([r.codeBuf,n],r.codeBuf.length+n.length)}function FR(t){t instanceof Uint8Array&&(t=Hd(t));let e=t[0];return["f","F","v","V","t","T","b","B","c","C","h","k","K"].includes(e)&&(t=t.toLowerCase()),Cu(t[0]).decode(t.substring(1))}function BR(t){if(t instanceof Uint8Array&&(t=Hd(t)),Object.prototype.toString.call(t)!=="[object String]")return!1;try{return Cu(t[0]).name}catch(e){return!1}}function IR(t,e){Cu(t).decode(Hd(e))}function Cu(t){if(Object.prototype.hasOwnProperty.call(Yc.names,t))return Yc.names[t];if(Object.prototype.hasOwnProperty.call(Yc.codes,t))return Yc.codes[t];throw new Error(`Unsupported encoding: ${t}`)}function DR(t){return t instanceof Uint8Array&&(t=Hd(t)),Cu(t[0])}Ys=Ux.exports=CR;Ys.encode=TR;Ys.decode=FR;Ys.isEncoded=BR;Ys.encoding=Cu;Ys.encodingFromData=DR;var RR=Object.freeze(Yc.names),NR=Object.freeze(Yc.codes);Ys.names=RR;Ys.codes=NR});var jx=G((ZK,Ox)=>{Ox.exports=Mx;var Lx=128,UR=127,LR=~UR,MR=Math.pow(2,31);function Mx(t,e,r){e=e||[],r=r||0;for(var n=r;t>=MR;)e[r++]=t&255|Lx,t/=128;for(;t&LR;)e[r++]=t&255|Lx,t>>>=7;return e[r]=t|0,Mx.bytes=r-n+1,e}});var qx=G((QK,Kx)=>{Kx.exports=s1;var OR=128,zx=127;function s1(t,e){var r=0,e=e||0,n=0,i=e,s,u=t.length;do{if(i>=u)throw s1.bytes=0,new RangeError("Could not decode varint");s=t[i++],r+=n<28?(s&zx)<<n:(s&zx)*Math.pow(2,n),n+=7}while(s>=OR);return s1.bytes=i-e,r}});var $x=G((eq,Hx)=>{var jR=Math.pow(2,7),zR=Math.pow(2,14),KR=Math.pow(2,21),qR=Math.pow(2,28),HR=Math.pow(2,35),$R=Math.pow(2,42),GR=Math.pow(2,49),WR=Math.pow(2,56),YR=Math.pow(2,63);Hx.exports=function(t){return t<jR?1:t<zR?2:t<KR?3:t<qR?4:t<HR?5:t<$R?6:t<GR?7:t<WR?8:t<YR?9:10}});var Wx=G((tq,Gx)=>{Gx.exports={encode:jx(),decode:qx(),encodingLength:$x()}});var Vx=G((rq,Yx)=>{"use strict";var VR=Object.freeze({identity:0,sha1:17,"sha2-256":18,"sha2-512":19,"sha3-512":20,"sha3-384":21,"sha3-256":22,"sha3-224":23,"shake-128":24,"shake-256":25,"keccak-224":26,"keccak-256":27,"keccak-384":28,"keccak-512":29,blake3:30,"murmur3-128":34,"murmur3-32":35,"dbl-sha2-256":86,md4:212,md5:213,bmt:214,"sha2-256-trunc254-padded":4114,"ripemd-128":4178,"ripemd-160":4179,"ripemd-256":4180,"ripemd-320":4181,x11:4352,kangarootwelve:7425,"sm3-256":21325,"blake2b-8":45569,"blake2b-16":45570,"blake2b-24":45571,"blake2b-32":45572,"blake2b-40":45573,"blake2b-48":45574,"blake2b-56":45575,"blake2b-64":45576,"blake2b-72":45577,"blake2b-80":45578,"blake2b-88":45579,"blake2b-96":45580,"blake2b-104":45581,"blake2b-112":45582,"blake2b-120":45583,"blake2b-128":45584,"blake2b-136":45585,"blake2b-144":45586,"blake2b-152":45587,"blake2b-160":45588,"blake2b-168":45589,"blake2b-176":45590,"blake2b-184":45591,"blake2b-192":45592,"blake2b-200":45593,"blake2b-208":45594,"blake2b-216":45595,"blake2b-224":45596,"blake2b-232":45597,"blake2b-240":45598,"blake2b-248":45599,"blake2b-256":45600,"blake2b-264":45601,"blake2b-272":45602,"blake2b-280":45603,"blake2b-288":45604,"blake2b-296":45605,"blake2b-304":45606,"blake2b-312":45607,"blake2b-320":45608,"blake2b-328":45609,"blake2b-336":45610,"blake2b-344":45611,"blake2b-352":45612,"blake2b-360":45613,"blake2b-368":45614,"blake2b-376":45615,"blake2b-384":45616,"blake2b-392":45617,"blake2b-400":45618,"blake2b-408":45619,"blake2b-416":45620,"blake2b-424":45621,"blake2b-432":45622,"blake2b-440":45623,"blake2b-448":45624,"blake2b-456":45625,"blake2b-464":45626,"blake2b-472":45627,"blake2b-480":45628,"blake2b-488":45629,"blake2b-496":45630,"blake2b-504":45631,"blake2b-512":45632,"blake2s-8":45633,"blake2s-16":45634,"blake2s-24":45635,"blake2s-32":45636,"blake2s-40":45637,"blake2s-48":45638,"blake2s-56":45639,"blake2s-64":45640,"blake2s-72":45641,"blake2s-80":45642,"blake2s-88":45643,"blake2s-96":45644,"blake2s-104":45645,"blake2s-112":45646,"blake2s-120":45647,"blake2s-128":45648,"blake2s-136":45649,"blake2s-144":45650,"blake2s-152":45651,"blake2s-160":45652,"blake2s-168":45653,"blake2s-176":45654,"blake2s-184":45655,"blake2s-192":45656,"blake2s-200":45657,"blake2s-208":45658,"blake2s-216":45659,"blake2s-224":45660,"blake2s-232":45661,"blake2s-240":45662,"blake2s-248":45663,"blake2s-256":45664,"skein256-8":45825,"skein256-16":45826,"skein256-24":45827,"skein256-32":45828,"skein256-40":45829,"skein256-48":45830,"skein256-56":45831,"skein256-64":45832,"skein256-72":45833,"skein256-80":45834,"skein256-88":45835,"skein256-96":45836,"skein256-104":45837,"skein256-112":45838,"skein256-120":45839,"skein256-128":45840,"skein256-136":45841,"skein256-144":45842,"skein256-152":45843,"skein256-160":45844,"skein256-168":45845,"skein256-176":45846,"skein256-184":45847,"skein256-192":45848,"skein256-200":45849,"skein256-208":45850,"skein256-216":45851,"skein256-224":45852,"skein256-232":45853,"skein256-240":45854,"skein256-248":45855,"skein256-256":45856,"skein512-8":45857,"skein512-16":45858,"skein512-24":45859,"skein512-32":45860,"skein512-40":45861,"skein512-48":45862,"skein512-56":45863,"skein512-64":45864,"skein512-72":45865,"skein512-80":45866,"skein512-88":45867,"skein512-96":45868,"skein512-104":45869,"skein512-112":45870,"skein512-120":45871,"skein512-128":45872,"skein512-136":45873,"skein512-144":45874,"skein512-152":45875,"skein512-160":45876,"skein512-168":45877,"skein512-176":45878,"skein512-184":45879,"skein512-192":45880,"skein512-200":45881,"skein512-208":45882,"skein512-216":45883,"skein512-224":45884,"skein512-232":45885,"skein512-240":45886,"skein512-248":45887,"skein512-256":45888,"skein512-264":45889,"skein512-272":45890,"skein512-280":45891,"skein512-288":45892,"skein512-296":45893,"skein512-304":45894,"skein512-312":45895,"skein512-320":45896,"skein512-328":45897,"skein512-336":45898,"skein512-344":45899,"skein512-352":45900,"skein512-360":45901,"skein512-368":45902,"skein512-376":45903,"skein512-384":45904,"skein512-392":45905,"skein512-400":45906,"skein512-408":45907,"skein512-416":45908,"skein512-424":45909,"skein512-432":45910,"skein512-440":45911,"skein512-448":45912,"skein512-456":45913,"skein512-464":45914,"skein512-472":45915,"skein512-480":45916,"skein512-488":45917,"skein512-496":45918,"skein512-504":45919,"skein512-512":45920,"skein1024-8":45921,"skein1024-16":45922,"skein1024-24":45923,"skein1024-32":45924,"skein1024-40":45925,"skein1024-48":45926,"skein1024-56":45927,"skein1024-64":45928,"skein1024-72":45929,"skein1024-80":45930,"skein1024-88":45931,"skein1024-96":45932,"skein1024-104":45933,"skein1024-112":45934,"skein1024-120":45935,"skein1024-128":45936,"skein1024-136":45937,"skein1024-144":45938,"skein1024-152":45939,"skein1024-160":45940,"skein1024-168":45941,"skein1024-176":45942,"skein1024-184":45943,"skein1024-192":45944,"skein1024-200":45945,"skein1024-208":45946,"skein1024-216":45947,"skein1024-224":45948,"skein1024-232":45949,"skein1024-240":45950,"skein1024-248":45951,"skein1024-256":45952,"skein1024-264":45953,"skein1024-272":45954,"skein1024-280":45955,"skein1024-288":45956,"skein1024-296":45957,"skein1024-304":45958,"skein1024-312":45959,"skein1024-320":45960,"skein1024-328":45961,"skein1024-336":45962,"skein1024-344":45963,"skein1024-352":45964,"skein1024-360":45965,"skein1024-368":45966,"skein1024-376":45967,"skein1024-384":45968,"skein1024-392":45969,"skein1024-400":45970,"skein1024-408":45971,"skein1024-416":45972,"skein1024-424":45973,"skein1024-432":45974,"skein1024-440":45975,"skein1024-448":45976,"skein1024-456":45977,"skein1024-464":45978,"skein1024-472":45979,"skein1024-480":45980,"skein1024-488":45981,"skein1024-496":45982,"skein1024-504":45983,"skein1024-512":45984,"skein1024-520":45985,"skein1024-528":45986,"skein1024-536":45987,"skein1024-544":45988,"skein1024-552":45989,"skein1024-560":45990,"skein1024-568":45991,"skein1024-576":45992,"skein1024-584":45993,"skein1024-592":45994,"skein1024-600":45995,"skein1024-608":45996,"skein1024-616":45997,"skein1024-624":45998,"skein1024-632":45999,"skein1024-640":46e3,"skein1024-648":46001,"skein1024-656":46002,"skein1024-664":46003,"skein1024-672":46004,"skein1024-680":46005,"skein1024-688":46006,"skein1024-696":46007,"skein1024-704":46008,"skein1024-712":46009,"skein1024-720":46010,"skein1024-728":46011,"skein1024-736":46012,"skein1024-744":46013,"skein1024-752":46014,"skein1024-760":46015,"skein1024-768":46016,"skein1024-776":46017,"skein1024-784":46018,"skein1024-792":46019,"skein1024-800":46020,"skein1024-808":46021,"skein1024-816":46022,"skein1024-824":46023,"skein1024-832":46024,"skein1024-840":46025,"skein1024-848":46026,"skein1024-856":46027,"skein1024-864":46028,"skein1024-872":46029,"skein1024-880":46030,"skein1024-888":46031,"skein1024-896":46032,"skein1024-904":46033,"skein1024-912":46034,"skein1024-920":46035,"skein1024-928":46036,"skein1024-936":46037,"skein1024-944":46038,"skein1024-952":46039,"skein1024-960":46040,"skein1024-968":46041,"skein1024-976":46042,"skein1024-984":46043,"skein1024-992":46044,"skein1024-1000":46045,"skein1024-1008":46046,"skein1024-1016":46047,"skein1024-1024":46048,"poseidon-bls12_381-a2-fc1":46081,"poseidon-bls12_381-a2-fc1-sc":46082});Yx.exports={names:VR}});var Xx=G((nq,Jx)=>{"use strict";var{encoding:JR}=So(),XR=new TextDecoder("utf8");function ZR(t){let e="";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e}function QR(t,e="utf8"){return e==="utf8"||e==="utf-8"?XR.decode(t):e==="ascii"?ZR(t):JR(e).encode(t)}Jx.exports=QR});var Qx=G((iq,Zx)=>{"use strict";var{encoding:eN}=So(),tN=new TextEncoder;function rN(t){let e=new Uint8Array(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}function nN(t,e="utf8"){return e==="utf8"||e==="utf-8"?tN.encode(t):e==="ascii"?rN(t):eN(e).decode(t)}Zx.exports=nN});var t3=G((oq,e3)=>{"use strict";function iN(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));let r=new Uint8Array(e),n=0;for(let i of t)r.set(i,n),n+=i.length;return r}e3.exports=iN});var Al=G((sq,a3)=>{"use strict";var r3=So(),Vc=Wx(),{names:xl}=Vx(),$d=Xx(),oN=Qx(),sN=t3(),Jc={};for(let t in xl){let e=t;Jc[xl[e]]=e}Object.freeze(Jc);function aN(t){if(!(t instanceof Uint8Array))throw new Error("must be passed a Uint8Array");return $d(t,"base16")}function uN(t){return oN(t,"base16")}function cN(t){if(!(t instanceof Uint8Array))throw new Error("must be passed a Uint8Array");return $d(r3.encode("base58btc",t)).slice(1)}function fN(t){let e=t instanceof Uint8Array?$d(t):t;return r3.decode("z"+e)}function n3(t){if(!(t instanceof Uint8Array))throw new Error("multihash must be a Uint8Array");if(t.length<2)throw new Error("multihash too short. must be > 2 bytes.");let e=Vc.decode(t);if(!o3(e))throw new Error(`multihash unknown function code: 0x${e.toString(16)}`);t=t.slice(Vc.decode.bytes);let r=Vc.decode(t);if(r<0)throw new Error(`multihash invalid length: ${r}`);if(t=t.slice(Vc.decode.bytes),t.length!==r)throw new Error(`multihash length inconsistent: 0x${$d(t,"base16")}`);return{code:e,name:Jc[e],length:r,digest:t}}function lN(t,e,r){if(!t||e===void 0)throw new Error("multihash encode requires at least two args: digest, code");let n=i3(e);if(!(t instanceof Uint8Array))throw new Error("digest should be a Uint8Array");if(r==null&&(r=t.length),r&&t.length!==r)throw new Error("digest length should be equal to specified length.");let i=Vc.encode(n),s=Vc.encode(r);return sN([i,s,t],i.length+s.length+t.length)}function i3(t){let e=t;if(typeof t=="string"){if(xl[t]===void 0)throw new Error(`Unrecognized hash function named: ${t}`);e=xl[t]}if(typeof e!="number")throw new Error(`Hash function code should be a number. Got: ${e}`);if(Jc[e]===void 0&&!a1(e))throw new Error(`Unrecognized function code: ${e}`);return e}function a1(t){return t>0&&t<16}function o3(t){return!!(a1(t)||Jc[t])}function s3(t){n3(t)}function hN(t){return s3(t),t.subarray(0,2)}a3.exports={names:xl,codes:Jc,toHexString:aN,fromHexString:uN,toB58String:cN,fromB58String:fN,decode:n3,encode:lN,coerceCode:i3,isAppCode:a1,validate:s3,prefix:hN,isValidCode:o3}});var l3=G((aq,f3)=>{f3.exports=c3;var u3=128,dN=127,pN=~dN,mN=Math.pow(2,31);function c3(t,e,r){e=e||[],r=r||0;for(var n=r;t>=mN;)e[r++]=t&255|u3,t/=128;for(;t&pN;)e[r++]=t&255|u3,t>>>=7;return e[r]=t|0,c3.bytes=r-n+1,e}});var p3=G((uq,d3)=>{d3.exports=u1;var yN=128,h3=127;function u1(t,e){var r=0,e=e||0,n=0,i=e,s,u=t.length;do{if(i>=u)throw u1.bytes=0,new RangeError("Could not decode varint");s=t[i++],r+=n<28?(s&h3)<<n:(s&h3)*Math.pow(2,n),n+=7}while(s>=yN);return u1.bytes=i-e,r}});var y3=G((cq,m3)=>{var gN=Math.pow(2,7),bN=Math.pow(2,14),vN=Math.pow(2,21),wN=Math.pow(2,28),_N=Math.pow(2,35),xN=Math.pow(2,42),AN=Math.pow(2,49),kN=Math.pow(2,56),EN=Math.pow(2,63);m3.exports=function(t){return t<gN?1:t<bN?2:t<vN?3:t<wN?4:t<_N?5:t<xN?6:t<AN?7:t<kN?8:t<EN?9:10}});var c1=G((fq,g3)=>{g3.exports={encode:l3(),decode:p3(),encodingLength:y3()}});var v3=G((lq,b3)=>{"use strict";function SN(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));let r=new Uint8Array(e),n=0;for(let i of t)r.set(i,n),n+=i.length;return r}b3.exports=SN});var _3=G((hq,w3)=>{"use strict";var{encoding:PN}=So(),CN=new TextDecoder("utf8");function TN(t){let e="";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e}function FN(t,e="utf8"){return e==="utf8"||e==="utf-8"?CN.decode(t):e==="ascii"?TN(t):PN(e).encode(t)}w3.exports=FN});var A3=G((dq,x3)=>{"use strict";var{encoding:BN}=So(),IN=new TextEncoder;function DN(t){let e=new Uint8Array(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}function RN(t,e="utf8"){return e==="utf8"||e==="utf-8"?IN.encode(t):e==="ascii"?DN(t):BN(e).decode(t)}x3.exports=RN});var f1=G((pq,S3)=>{"use strict";var k3=c1(),NN=_3(),UN=A3();S3.exports={numberToUint8Array:LN,uint8ArrayToNumber:E3,varintUint8ArrayEncode:MN,varintEncode:ON};function E3(t){return parseInt(NN(t,"base16"),16)}function LN(t){let e=t.toString(16);return e.length%2==1&&(e="0"+e),UN(e,"base16")}function MN(t){return Uint8Array.from(k3.encode(E3(t)))}function ON(t){return Uint8Array.from(k3.encode(t))}});var C3=G((mq,P3)=>{"use strict";var jN=Object.freeze({identity:0,cidv1:1,cidv2:2,cidv3:3,ip4:4,tcp:6,sha1:17,"sha2-256":18,"sha2-512":19,"sha3-512":20,"sha3-384":21,"sha3-256":22,"sha3-224":23,"shake-128":24,"shake-256":25,"keccak-224":26,"keccak-256":27,"keccak-384":28,"keccak-512":29,blake3:30,dccp:33,"murmur3-128":34,"murmur3-32":35,ip6:41,ip6zone:42,path:47,multicodec:48,multihash:49,multiaddr:50,multibase:51,dns:53,dns4:54,dns6:55,dnsaddr:56,protobuf:80,cbor:81,raw:85,"dbl-sha2-256":86,rlp:96,bencode:99,"dag-pb":112,"dag-cbor":113,"libp2p-key":114,"git-raw":120,"torrent-info":123,"torrent-file":124,"leofcoin-block":129,"leofcoin-tx":130,"leofcoin-pr":131,sctp:132,"dag-jose":133,"dag-cose":134,"eth-block":144,"eth-block-list":145,"eth-tx-trie":146,"eth-tx":147,"eth-tx-receipt-trie":148,"eth-tx-receipt":149,"eth-state-trie":150,"eth-account-snapshot":151,"eth-storage-trie":152,"bitcoin-block":176,"bitcoin-tx":177,"bitcoin-witness-commitment":178,"zcash-block":192,"zcash-tx":193,docid:206,"stellar-block":208,"stellar-tx":209,md4:212,md5:213,bmt:214,"decred-block":224,"decred-tx":225,"ipld-ns":226,"ipfs-ns":227,"swarm-ns":228,"ipns-ns":229,zeronet:230,"secp256k1-pub":231,"bls12_381-g1-pub":234,"bls12_381-g2-pub":235,"x25519-pub":236,"ed25519-pub":237,"bls12_381-g1g2-pub":238,"dash-block":240,"dash-tx":241,"swarm-manifest":250,"swarm-feed":251,udp:273,"p2p-webrtc-star":275,"p2p-webrtc-direct":276,"p2p-stardust":277,"p2p-circuit":290,"dag-json":297,udt:301,utp:302,unix:400,thread:406,p2p:421,ipfs:421,https:443,onion:444,onion3:445,garlic64:446,garlic32:447,tls:448,quic:460,ws:477,wss:478,"p2p-websocket-star":479,http:480,json:512,messagepack:513,"libp2p-peer-record":769,"sha2-256-trunc254-padded":4114,"ripemd-128":4178,"ripemd-160":4179,"ripemd-256":4180,"ripemd-320":4181,x11:4352,"p256-pub":4608,"p384-pub":4609,"p521-pub":4610,"ed448-pub":4611,"x448-pub":4612,"ed25519-priv":4864,kangarootwelve:7425,"sm3-256":21325,"blake2b-8":45569,"blake2b-16":45570,"blake2b-24":45571,"blake2b-32":45572,"blake2b-40":45573,"blake2b-48":45574,"blake2b-56":45575,"blake2b-64":45576,"blake2b-72":45577,"blake2b-80":45578,"blake2b-88":45579,"blake2b-96":45580,"blake2b-104":45581,"blake2b-112":45582,"blake2b-120":45583,"blake2b-128":45584,"blake2b-136":45585,"blake2b-144":45586,"blake2b-152":45587,"blake2b-160":45588,"blake2b-168":45589,"blake2b-176":45590,"blake2b-184":45591,"blake2b-192":45592,"blake2b-200":45593,"blake2b-208":45594,"blake2b-216":45595,"blake2b-224":45596,"blake2b-232":45597,"blake2b-240":45598,"blake2b-248":45599,"blake2b-256":45600,"blake2b-264":45601,"blake2b-272":45602,"blake2b-280":45603,"blake2b-288":45604,"blake2b-296":45605,"blake2b-304":45606,"blake2b-312":45607,"blake2b-320":45608,"blake2b-328":45609,"blake2b-336":45610,"blake2b-344":45611,"blake2b-352":45612,"blake2b-360":45613,"blake2b-368":45614,"blake2b-376":45615,"blake2b-384":45616,"blake2b-392":45617,"blake2b-400":45618,"blake2b-408":45619,"blake2b-416":45620,"blake2b-424":45621,"blake2b-432":45622,"blake2b-440":45623,"blake2b-448":45624,"blake2b-456":45625,"blake2b-464":45626,"blake2b-472":45627,"blake2b-480":45628,"blake2b-488":45629,"blake2b-496":45630,"blake2b-504":45631,"blake2b-512":45632,"blake2s-8":45633,"blake2s-16":45634,"blake2s-24":45635,"blake2s-32":45636,"blake2s-40":45637,"blake2s-48":45638,"blake2s-56":45639,"blake2s-64":45640,"blake2s-72":45641,"blake2s-80":45642,"blake2s-88":45643,"blake2s-96":45644,"blake2s-104":45645,"blake2s-112":45646,"blake2s-120":45647,"blake2s-128":45648,"blake2s-136":45649,"blake2s-144":45650,"blake2s-152":45651,"blake2s-160":45652,"blake2s-168":45653,"blake2s-176":45654,"blake2s-184":45655,"blake2s-192":45656,"blake2s-200":45657,"blake2s-208":45658,"blake2s-216":45659,"blake2s-224":45660,"blake2s-232":45661,"blake2s-240":45662,"blake2s-248":45663,"blake2s-256":45664,"skein256-8":45825,"skein256-16":45826,"skein256-24":45827,"skein256-32":45828,"skein256-40":45829,"skein256-48":45830,"skein256-56":45831,"skein256-64":45832,"skein256-72":45833,"skein256-80":45834,"skein256-88":45835,"skein256-96":45836,"skein256-104":45837,"skein256-112":45838,"skein256-120":45839,"skein256-128":45840,"skein256-136":45841,"skein256-144":45842,"skein256-152":45843,"skein256-160":45844,"skein256-168":45845,"skein256-176":45846,"skein256-184":45847,"skein256-192":45848,"skein256-200":45849,"skein256-208":45850,"skein256-216":45851,"skein256-224":45852,"skein256-232":45853,"skein256-240":45854,"skein256-248":45855,"skein256-256":45856,"skein512-8":45857,"skein512-16":45858,"skein512-24":45859,"skein512-32":45860,"skein512-40":45861,"skein512-48":45862,"skein512-56":45863,"skein512-64":45864,"skein512-72":45865,"skein512-80":45866,"skein512-88":45867,"skein512-96":45868,"skein512-104":45869,"skein512-112":45870,"skein512-120":45871,"skein512-128":45872,"skein512-136":45873,"skein512-144":45874,"skein512-152":45875,"skein512-160":45876,"skein512-168":45877,"skein512-176":45878,"skein512-184":45879,"skein512-192":45880,"skein512-200":45881,"skein512-208":45882,"skein512-216":45883,"skein512-224":45884,"skein512-232":45885,"skein512-240":45886,"skein512-248":45887,"skein512-256":45888,"skein512-264":45889,"skein512-272":45890,"skein512-280":45891,"skein512-288":45892,"skein512-296":45893,"skein512-304":45894,"skein512-312":45895,"skein512-320":45896,"skein512-328":45897,"skein512-336":45898,"skein512-344":45899,"skein512-352":45900,"skein512-360":45901,"skein512-368":45902,"skein512-376":45903,"skein512-384":45904,"skein512-392":45905,"skein512-400":45906,"skein512-408":45907,"skein512-416":45908,"skein512-424":45909,"skein512-432":45910,"skein512-440":45911,"skein512-448":45912,"skein512-456":45913,"skein512-464":45914,"skein512-472":45915,"skein512-480":45916,"skein512-488":45917,"skein512-496":45918,"skein512-504":45919,"skein512-512":45920,"skein1024-8":45921,"skein1024-16":45922,"skein1024-24":45923,"skein1024-32":45924,"skein1024-40":45925,"skein1024-48":45926,"skein1024-56":45927,"skein1024-64":45928,"skein1024-72":45929,"skein1024-80":45930,"skein1024-88":45931,"skein1024-96":45932,"skein1024-104":45933,"skein1024-112":45934,"skein1024-120":45935,"skein1024-128":45936,"skein1024-136":45937,"skein1024-144":45938,"skein1024-152":45939,"skein1024-160":45940,"skein1024-168":45941,"skein1024-176":45942,"skein1024-184":45943,"skein1024-192":45944,"skein1024-200":45945,"skein1024-208":45946,"skein1024-216":45947,"skein1024-224":45948,"skein1024-232":45949,"skein1024-240":45950,"skein1024-248":45951,"skein1024-256":45952,"skein1024-264":45953,"skein1024-272":45954,"skein1024-280":45955,"skein1024-288":45956,"skein1024-296":45957,"skein1024-304":45958,"skein1024-312":45959,"skein1024-320":45960,"skein1024-328":45961,"skein1024-336":45962,"skein1024-344":45963,"skein1024-352":45964,"skein1024-360":45965,"skein1024-368":45966,"skein1024-376":45967,"skein1024-384":45968,"skein1024-392":45969,"skein1024-400":45970,"skein1024-408":45971,"skein1024-416":45972,"skein1024-424":45973,"skein1024-432":45974,"skein1024-440":45975,"skein1024-448":45976,"skein1024-456":45977,"skein1024-464":45978,"skein1024-472":45979,"skein1024-480":45980,"skein1024-488":45981,"skein1024-496":45982,"skein1024-504":45983,"skein1024-512":45984,"skein1024-520":45985,"skein1024-528":45986,"skein1024-536":45987,"skein1024-544":45988,"skein1024-552":45989,"skein1024-560":45990,"skein1024-568":45991,"skein1024-576":45992,"skein1024-584":45993,"skein1024-592":45994,"skein1024-600":45995,"skein1024-608":45996,"skein1024-616":45997,"skein1024-624":45998,"skein1024-632":45999,"skein1024-640":46e3,"skein1024-648":46001,"skein1024-656":46002,"skein1024-664":46003,"skein1024-672":46004,"skein1024-680":46005,"skein1024-688":46006,"skein1024-696":46007,"skein1024-704":46008,"skein1024-712":46009,"skein1024-720":46010,"skein1024-728":46011,"skein1024-736":46012,"skein1024-744":46013,"skein1024-752":46014,"skein1024-760":46015,"skein1024-768":46016,"skein1024-776":46017,"skein1024-784":46018,"skein1024-792":46019,"skein1024-800":46020,"skein1024-808":46021,"skein1024-816":46022,"skein1024-824":46023,"skein1024-832":46024,"skein1024-840":46025,"skein1024-848":46026,"skein1024-856":46027,"skein1024-864":46028,"skein1024-872":46029,"skein1024-880":46030,"skein1024-888":46031,"skein1024-896":46032,"skein1024-904":46033,"skein1024-912":46034,"skein1024-920":46035,"skein1024-928":46036,"skein1024-936":46037,"skein1024-944":46038,"skein1024-952":46039,"skein1024-960":46040,"skein1024-968":46041,"skein1024-976":46042,"skein1024-984":46043,"skein1024-992":46044,"skein1024-1000":46045,"skein1024-1008":46046,"skein1024-1016":46047,"skein1024-1024":46048,"poseidon-bls12_381-a2-fc1":46081,"poseidon-bls12_381-a2-fc1-sc":46082,"zeroxcert-imprint-256":52753,"fil-commitment-unsealed":61697,"fil-commitment-sealed":61698,"holochain-adr-v0":8417572,"holochain-adr-v1":8483108,"holochain-key-v0":9728292,"holochain-key-v1":9793828,"holochain-sig-v0":10645796,"holochain-sig-v1":10711332,"skynet-ns":11639056});P3.exports={baseTable:jN}});var F3=G((yq,T3)=>{"use strict";var{baseTable:l1}=C3(),zN=f1().varintEncode,h1={},d1={},Gd={};for(let t in l1){let e=t,r=l1[e];h1[e]=zN(r);let n=e.toUpperCase().replace(/-/g,"_");d1[n]=r,Gd[r]||(Gd[r]=e)}Object.freeze(h1);Object.freeze(d1);Object.freeze(Gd);var KN=Object.freeze(l1);T3.exports={nameToVarint:h1,constantToCode:d1,nameToCode:KN,codeToName:Gd}});var m1=G((gq,O3)=>{"use strict";var Wd=c1(),qN=v3(),B3=f1(),{nameToVarint:Yd,constantToCode:HN,nameToCode:I3,codeToName:p1}=F3();function $N(t,e){let r;if(t instanceof Uint8Array)r=B3.varintUint8ArrayEncode(t);else if(Yd[t])r=Yd[t];else throw new Error("multicodec not recognized");return qN([r,e],r.length+e.length)}function GN(t){return Wd.decode(t),t.slice(Wd.decode.bytes)}function D3(t){let e=Wd.decode(t),r=p1[e];if(r===void 0)throw new Error(`Code "${e}" not found`);return r}function R3(t){return p1[t]}function N3(t){let e=I3[t];if(e===void 0)throw new Error(`Codec "${t}" not found`);return e}function U3(t){return Wd.decode(t)}function L3(t){let e=Yd[t];if(e===void 0)throw new Error(`Codec "${t}" not found`);return e}function M3(t){return B3.varintEncode(t)}function WN(t){return D3(t)}function YN(t){return R3(t)}function VN(t){return N3(t)}function JN(t){return U3(t)}function XN(t){return L3(t)}function ZN(t){return Array.from(M3(t))}O3.exports={addPrefix:$N,rmPrefix:GN,getNameFromData:D3,getNameFromCode:R3,getCodeFromName:N3,getCodeFromData:U3,getVarintFromName:L3,getVarintFromCode:M3,getCodec:WN,getName:YN,getNumber:VN,getCode:JN,getCodeVarint:XN,getVarint:ZN,...HN,nameToVarint:Yd,nameToCode:I3,codeToName:p1}});var z3=G((bq,j3)=>{"use strict";var QN=Al(),eU={checkCIDComponents:function(t){if(t==null)return"null values are not valid CIDs";if(!(t.version===0||t.version===1))return"Invalid version, must be a number equal to 1 or 0";if(typeof t.codec!="string")return"codec must be string";if(t.version===0){if(t.codec!=="dag-pb")return"codec must be 'dag-pb' for CIDv0";if(t.multibaseName!=="base58btc")return"multibaseName must be 'base58btc' for CIDv0"}if(!(t.multihash instanceof Uint8Array))return"multihash must be a Uint8Array";try{QN.validate(t.multihash)}catch(e){let r=e.message;return r||(r="Multihash validation failed"),r}}};j3.exports=eU});var q3=G((vq,K3)=>{"use strict";function tU(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));let r=new Uint8Array(e),n=0;for(let i of t)r.set(i,n),n+=i.length;return r}K3.exports=tU});var $3=G((wq,H3)=>{"use strict";var{encoding:rU}=So(),nU=new TextDecoder("utf8");function iU(t){let e="";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e}function oU(t,e="utf8"){return e==="utf8"||e==="utf-8"?nU.decode(t):e==="ascii"?iU(t):rU(e).encode(t)}H3.exports=oU});var W3=G((_q,G3)=>{"use strict";function sU(t,e){if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0}G3.exports=sU});var Ra=G((xq,J3)=>{"use strict";var Vd=Al(),y1=So(),Tu=m1(),aU=z3(),Y3=q3(),uU=$3(),cU=W3(),Jd=Tu.nameToCode,fU=Object.keys(Jd).reduce((t,e)=>(t[Jd[e]]=e,t),{}),V3=Symbol.for("@ipld/js-cid/CID"),Po=class{constructor(e,r,n,i){if(this.version,this.codec,this.multihash,Object.defineProperty(this,V3,{value:!0}),Po.isCID(e)){let s=e;this.version=s.version,this.codec=s.codec,this.multihash=s.multihash,this.multibaseName=s.multibaseName||(s.version===0?"base58btc":"base32");return}if(typeof e=="string"){let s=y1.isEncoded(e);if(s){let u=y1.decode(e);this.version=parseInt(u[0].toString(),16),this.codec=Tu.getCodec(u.slice(1)),this.multihash=Tu.rmPrefix(u.slice(1)),this.multibaseName=s}else this.version=0,this.codec="dag-pb",this.multihash=Vd.fromB58String(e),this.multibaseName="base58btc";Po.validateCID(this),Object.defineProperty(this,"string",{value:e});return}if(e instanceof Uint8Array){let s=parseInt(e[0].toString(),16);if(s===1){let u=e;this.version=s,this.codec=Tu.getCodec(u.slice(1)),this.multihash=Tu.rmPrefix(u.slice(1)),this.multibaseName="base32"}else this.version=0,this.codec="dag-pb",this.multihash=e,this.multibaseName="base58btc";Po.validateCID(this);return}this.version=e,typeof r=="number"&&(r=fU[r]),this.codec=r,this.multihash=n,this.multibaseName=i||(e===0?"base58btc":"base32"),Po.validateCID(this)}get bytes(){let e=this._bytes;if(!e){if(this.version===0)e=this.multihash;else if(this.version===1){let r=Tu.getCodeVarint(this.codec);e=Y3([[1],r,this.multihash],1+r.byteLength+this.multihash.byteLength)}else throw new Error("unsupported version");Object.defineProperty(this,"_bytes",{value:e})}return e}get prefix(){let e=Tu.getCodeVarint(this.codec),r=Vd.prefix(this.multihash);return Y3([[this.version],e,r],1+e.byteLength+r.byteLength)}get code(){return Jd[this.codec]}toV0(){if(this.codec!=="dag-pb")throw new Error("Cannot convert a non dag-pb CID to CIDv0");let{name:e,length:r}=Vd.decode(this.multihash);if(e!=="sha2-256")throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");if(r!==32)throw new Error("Cannot convert non 32 byte multihash CID to CIDv0");return new Po(0,this.codec,this.multihash)}toV1(){return new Po(1,this.codec,this.multihash)}toBaseEncodedString(e=this.multibaseName){if(this.string&&this.string.length!==0&&e===this.multibaseName)return this.string;let r;if(this.version===0){if(e!=="base58btc")throw new Error("not supported with CIDv0, to support different bases, please migrate the instance do CIDv1, you can do that through cid.toV1()");r=Vd.toB58String(this.multihash)}else if(this.version===1)r=uU(y1.encode(e,this.bytes));else throw new Error("unsupported version");return e===this.multibaseName&&Object.defineProperty(this,"string",{value:r}),r}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}toString(e){return this.toBaseEncodedString(e)}toJSON(){return{codec:this.codec,version:this.version,hash:this.multihash}}equals(e){return this.codec===e.codec&&this.version===e.version&&cU(this.multihash,e.multihash)}static validateCID(e){let r=aU.checkCIDComponents(e);if(r)throw new Error(r)}static isCID(e){return e instanceof Po||Boolean(e&&e[V3])}};Po.codecs=Jd;J3.exports=Po});var Na=G(Xd=>{"use strict";var X3=Ra(),lU=(t,e)=>(e&&e.push(t.multihash.buffer),t);Xd.encodeCID=lU;var hU=t=>{let e=t;return Object.setPrototypeOf(e.multihash,Uint8Array.prototype),Object.setPrototypeOf(e,X3.prototype),Object.defineProperty(e,Symbol.for("@ipld/js-cid/CID"),{value:!0}),e};Xd.decodeCID=hU;Xd.CID=X3});var Z3=G((kq,dU)=>{dU.exports={name:"ipld-block",version:"0.11.1",description:"JavaScript Implementation of IPLD Block",leadMaintainer:"Volker Mische <volker.mische@gmail.com>",main:"src/index.js",types:"dist/src/index.d.ts",scripts:{lint:"aegir lint",check:"tsc --noEmit --noErrorTruncation",test:"aegir test","test:node":"aegir test --target node","test:browser":"aegir test --target browser",release:"aegir release --docs","release-minor":"aegir release --type minor --docs","release-major":"aegir release --type major --docs",coverage:"aegir coverage","coverage-publish":"aegir coverage --provider coveralls",docs:"aegir docs",prepare:"aegir build --no-bundle",prepublishOnly:"aegir build"},"pre-push":["lint","test"],repository:{type:"git",url:"git+https://github.com/ipld/js-ipld-block.git"},keywords:["IPLD"],license:"MIT",bugs:{url:"https://github.com/ipld/js-ipld-block/issues"},homepage:"https://github.com/ipld/js-ipld-block#readme",devDependencies:{aegir:"^31.0.4",uint8arrays:"^2.1.3"},dependencies:{cids:"^1.0.0"},engines:{node:">=6.0.0",npm:">=3.0.0"},contributors:["David Dias <daviddias.p@gmail.com>","Volker Mische <volker.mische@gmail.com>","Friedel Ziegelmayer <dignifiedquire@gmail.com>","Irakli Gozalishvili <contact@gozala.io>","achingbrain <alex@achingbrain.net>","\u1D20\u026A\u1D04\u1D1B\u1D0F\u0280 \u0299\u1D0A\u1D07\u029F\u1D0B\u029C\u1D0F\u029F\u1D0D <victorbjelkholm@gmail.com>","Alan Shaw <alan.shaw@protocol.ai>","Charlie <the_charlie_daly@hotmail.co.uk>","Diogo Silva <fsdiogo@gmail.com>","Hugo Dias <hugomrdias@gmail.com>","Mikeal Rogers <mikeal.rogers@gmail.com>","Richard Littauer <richard.littauer@gmail.com>","Richard Schneider <makaretu@gmail.com>","Xmader <xmader@outlook.com>"]}});var i4=G((Eq,n4)=>{"use strict";var pU=Ra(),{version:mU}=Z3(),Q3=Symbol.for("@ipld/js-ipld-block/block"),e4={writable:!1,configurable:!1,enumerable:!0},t4=class{constructor(e,r){if(!e||!(e instanceof Uint8Array))throw new Error("first argument  must be a Uint8Array");if(!r||!pU.isCID(r))throw new Error("second argument must be a CID");this.data=e,this.cid=r,Object.defineProperties(this,{data:e4,cid:e4})}get _data(){return gU(),this.data}get _cid(){return yU(),this.cid}get[Symbol.toStringTag](){return"Block"}get[Q3](){return!0}static isBlock(e){return Boolean(e&&e[Q3])}},r4=(t,e)=>{let r=!1;return()=>{if(t.test(mU))r||(r=!0,console.warn(e));else throw new Error(e)}},yU=r4(/^0\.10|^0\.11/,"block._cid is deprecated and will be removed in 0.12 release. Please use block.cid instead"),gU=r4(/^0\.10|^0.11/,"block._data is deprecated and will be removed in 0.12 release. Please use block.data instead");n4.exports=t4});var s4=G(Zd=>{"use strict";var{encodeCID:bU,decodeCID:vU}=Na(),o4=i4(),wU=({cid:t,data:e},r)=>(r&&r.push(e.buffer),{cid:bU(t,r),data:e});Zd.encodeBlock=wU;var _U=({cid:t,data:e})=>new o4(e,vU(t));Zd.decodeBlock=_U;Zd.Block=o4});var l4=G((Pq,f4)=>{"use strict";var xU=Wc(),{encodeCID:kl,decodeCID:a4}=Na(),{decodeError:AU}=jd(),{encodeBlock:kU,decodeBlock:u4}=s4(),c4=class extends xU{constructor(e){super("block",["put","get","rm","stat"],e)}async get(e,r={}){let{transfer:n}=r,{block:i}=await this.remote.get({...r,cid:kl(e,n)});return u4(i)}async put(e,r={}){let{transfer:n}=r;delete r.progress;let i=await this.remote.put({...r,cid:r.cid==null?void 0:kl(r.cid,n),block:e instanceof Uint8Array?e:kU(e,n)});return u4(i.block)}async*rm(e,r={}){let{transfer:n}=r;yield*(await this.remote.rm({...r,cids:Array.isArray(e)?e.map(s=>kl(s,n)):[kl(e,n)]})).map(EU)}async stat(e,r={}){let{transfer:n}=r,i=await this.remote.stat({...r,cid:kl(e,n)});return{...i,cid:a4(i.cid)}}},EU=t=>{let e=a4(t.cid);return t.error?{cid:e,error:AU(t.error)}:{cid:e}};f4.exports=c4});var h4=G(b1=>{"use strict";var{encodeCID:SU,decodeCID:PU,CID:CU}=Na(),TU=({dagNode:t,cids:e})=>{for(let r of e)PU(r);return t};b1.decodeNode=TU;var FU=(t,e)=>{let r=[];return g1(t,r,e),{dagNode:t,cids:r}};b1.encodeNode=FU;var g1=(t,e,r)=>{if(t!=null&&typeof t=="object")if(CU.isCID(t))e.push(t),SU(t,r);else if(t instanceof ArrayBuffer)r&&r.push(t);else if(ArrayBuffer.isView(t))r&&r.push(t.buffer);else if(Array.isArray(t))for(let n of t)g1(n,e,r);else for(let n of Object.values(t))g1(n,e,r)}});var y4=G((Tq,m4)=>{"use strict";var BU=Wc(),{encodeCID:Qd,decodeCID:d4}=Na(),{encodeNode:IU,decodeNode:DU}=h4(),p4=class extends BU{constructor(e){super("dag",["put","get","resolve","tree"],e)}async put(e,r={}){let{cid:n}=r,i=await this.remote.put({...r,cid:n!=null?Qd(n):void 0,dagNode:IU(e,r.transfer)});return d4(i)}async get(e,r={}){let{value:n,remainderPath:i}=await this.remote.get({...r,cid:Qd(e,r.transfer)});return{value:DU(n),remainderPath:i}}async resolve(e,r={}){let{cid:n,remainderPath:i}=await this.remote.resolve({...r,cid:RU(e,r.transfer)});return{cid:d4(n),remainderPath:i}}async*tree(e,r={}){yield*await this.remote.tree({...r,cid:Qd(e,r.transfer)})}},RU=(t,e)=>typeof t=="string"?t:Qd(t,e);m4.exports=p4});var g4=G(El=>{"use strict";var{encodeError:NU,decodeError:UU}=jd(),{ensureUniqueBuffers:LU}=o1(),MU=async function*({port:t},e){let r=u=>{},n=()=>new Promise(u=>r=u),i=()=>(t.postMessage({method:"next"}),n());t.onmessage=u=>r(u.data);let s=!1;try{for(;!s;){let{done:u,value:c,error:p}=await i();if(s=u,p!=null)throw UU(p);c!=null&&(yield e(c))}}finally{s||t.postMessage({method:"return"}),t.close()}};El.decodeIterable=MU;var OU=(t,e,r)=>{let{port1:n,port2:i}=new MessageChannel,s=jU(t);return n.onmessage=async({data:{method:u}})=>{switch(u){case"next":{try{let{done:c,value:p}=await s.next();if(c)n.postMessage({type:"next",done:!0}),n.close();else{let l=[],y=e(p,l);n.postMessage({type:"next",done:!1,value:y},LU(l))}}catch(c){n.postMessage({type:"throw",error:NU(c)}),n.close()}break}case"return":{n.close(),s.return&&s.return();break}default:break}},n.start(),r.push(i),{type:"RemoteIterable",port:i}};El.encodeIterable=OU;var jU=t=>{if(t!=null){if(typeof t[Symbol.asyncIterator]=="function")return t[Symbol.asyncIterator]();if(typeof t[Symbol.iterator]=="function")return t[Symbol.iterator]()}throw TypeError("Value must be async or sync iterable")},zU=(t,e)=>{let{port1:r,port2:n}=new MessageChannel;return r.onmessage=({data:i})=>t.apply(null,i),e.push(n),{type:"RemoteCallback",port:n}};El.encodeCallback=zU;var KU=({port:t})=>(r,n=[])=>{t.postMessage(r,new Set(n))};El.decodeCallback=KU});var v4=G((Bq,b4)=>{"use strict";async function*qU(t,e={}){let r=t.getReader();try{for(;;){let n=await r.read();if(n.done)return;yield n.value}}finally{e.preventCancel!==!0&&r.cancel(),r.releaseLock()}}b4.exports=qU});var P4=G((Iq,S4)=>{"use strict";var HU=Wc(),{encodeCID:w4,decodeCID:_4,CID:x4}=Na(),{decodeIterable:v1,encodeIterable:Vs,encodeCallback:A4}=g4(),w1=v4(),k4=class extends HU{constructor(e){super("core",["add","addAll","cat","ls"],e)}async*addAll(e,r={}){let{timeout:n,signal:i}=r,s=[...r.transfer||[]],u=r.progress?A4(r.progress,s):void 0,c=await this.remote.addAll({...r,input:YU(e,s),progress:u,transfer:s,timeout:n,signal:i});yield*v1(c.data,E4)}async add(e,r={}){let{timeout:n,signal:i}=r,s=[...r.transfer||[]],u=r.progress?A4(r.progress,s):void 0,c=await this.remote.add({...r,input:WU(e,s),progress:u,transfer:s,timeout:n,signal:i});return E4(c.data)}async*cat(e,r={}){let n=x4.isCID(e)?w4(e):e,i=await this.remote.cat({...r,path:n});yield*v1(i.data,GU)}async*ls(e,r={}){let n=x4.isCID(e)?w4(e):e,i=await this.remote.ls({...r,path:n});yield*v1(i.data,$U)}},E4=({path:t,cid:e,mode:r,mtime:n,size:i})=>({path:t,cid:_4(e),mode:r,mtime:n,size:i}),$U=({depth:t,name:e,path:r,size:n,cid:i,type:s,mode:u,mtime:c})=>({cid:_4(i),type:s,name:e,path:r,mode:u,mtime:c,size:n,depth:t}),GU=t=>t,WU=(t,e)=>{if(t instanceof Blob)return t;if(typeof t=="string")return t;if(t instanceof ArrayBuffer)return t;if(ArrayBuffer.isView(t))return t;{let r=A1(t);if(r)return Vs(r,_1,e);let n=k1(t);if(n)return Vs(n,Xc,e);let i=E1(t);if(i)return Vs(w1(i),Xc,e);let s=S1(t);if(s)return x1(s,e);throw TypeError("Unexpected input: "+typeof t)}},YU=(t,e)=>{let r=A1(t);if(r)return Vs(r,_1,e);let n=k1(t);if(n)return Vs(n,Xc,e);let i=E1(t);if(i)return Vs(w1(i),Xc,e);throw TypeError("Unexpected input: "+typeof t)},Xc=(t,e)=>{if(t instanceof ArrayBuffer)return t;if(ArrayBuffer.isView(t))return t;if(t instanceof Blob)return{path:"",content:t};if(typeof t=="string")return{path:"",content:t};{let r=S1(t);if(r)return x1(r,e);throw TypeError("Unexpected input: "+typeof t)}},_1=(t,e)=>{if(typeof t=="number")throw TypeError("Iterable of numbers is not supported");if(t instanceof ArrayBuffer)return t;if(ArrayBuffer.isView(t))return t;if(t instanceof Blob)return{path:"",content:t};if(typeof t=="string")return{path:"",content:t};{let r=S1(t);if(r)return x1(r,e);throw TypeError("Unexpected input: "+typeof t)}},x1=({path:t,mode:e,mtime:r,content:n},i)=>({path:t,mode:e,mtime:r,content:n?VU(n,i):void 0}),VU=(t,e)=>{if(t==null)return"";if(t instanceof ArrayBuffer||ArrayBuffer.isView(t))return t;if(t instanceof Blob)return t;if(typeof t=="string")return t;{let r=A1(t);if(r)return Vs(r,_1,e);let n=k1(t);if(n)return Vs(n,Xc,e);let i=E1(t);if(i)return Vs(w1(i),Xc,e);throw TypeError("Unexpected input: "+typeof t)}},A1=t=>{let e=t;return e&&typeof e[Symbol.iterator]=="function"?e:null},k1=t=>{let e=t;return e&&typeof e[Symbol.asyncIterator]=="function"?e:null},E1=t=>t&&typeof t.getReader=="function"?t:null,S1=t=>typeof t=="object"&&(t.path||t.content)?t:null;S4.exports=k4});var F4=G((Dq,T4)=>{"use strict";var JU=Wc(),{decodeCID:XU,CID:ZU}=Na(),C4=class extends JU{constructor(e){super("files",["stat"],e)}async stat(e,r={}){let{size:n,hash:i,withLocal:s,timeout:u,signal:c}=r,{stat:p}=await this.remote.stat({path:QU(e),size:n,hash:i,withLocal:s,timeout:u,signal:c});return eL(p)}};T4.exports=C4;var QU=t=>ZU.isCID(t)?`/ipfs/${t.toString()}`:t,eL=t=>({...t,cid:XU(t.cid)})});var D4=G((Rq,I4)=>{"use strict";var tL=Wc(),{decodeCID:rL,CID:nL}=Na(),B4=class extends tL{constructor(e){super("pin",["add"],e)}async add(e,r={}){let{recursive:n,timeout:i,signal:s}=r,{cid:u}=await this.remote.add({path:iL(e),recursive:n,timeout:i,signal:s});return rL(u)}};I4.exports=B4;var iL=t=>nL.isCID(t)?`/ipfs/${t.toString()}`:`${t}`});var U4=G((Nq,N4)=>{"use strict";var R4=gx(),oL=l4(),sL=y4(),aL=P4(),uL=F4(),cL=D4(),Sl=class extends aL{constructor(e){super(e);this.transport=e,this.block=new oL(this.transport),this.dag=new sL(this.transport),this.files=new uL(this.transport),this.pin=new cL(this.transport)}static attach(e,r){e.transport.connect(r)}static detached(){return new Sl(new R4(void 0))}static from(e){return new Sl(new R4(e))}};N4.exports=Sl});var j4=G((Mq,O4)=>{"use strict";O4.exports=lL;function lL(t,e){for(var r=new Array(arguments.length-1),n=0,i=2,s=!0;i<arguments.length;)r[n++]=arguments[i++];return new Promise(function(c,p){r[n]=function(y){if(s)if(s=!1,y)p(y);else{for(var w=new Array(arguments.length-1),B=0;B<w.length;)w[B++]=arguments[B];c.apply(null,w)}};try{t.apply(e||null,r)}catch(l){s&&(s=!1,p(l))}})}});var H4=G(q4=>{"use strict";var tp=q4;tp.length=function(e){var r=e.length;if(!r)return 0;for(var n=0;--r%4>1&&e.charAt(r)==="=";)++n;return Math.ceil(e.length*3)/4-n};var Zc=new Array(64),z4=new Array(123);for(var ms=0;ms<64;)z4[Zc[ms]=ms<26?ms+65:ms<52?ms+71:ms<62?ms-4:ms-59|43]=ms++;tp.encode=function(e,r,n){for(var i=null,s=[],u=0,c=0,p;r<n;){var l=e[r++];switch(c){case 0:s[u++]=Zc[l>>2],p=(l&3)<<4,c=1;break;case 1:s[u++]=Zc[p|l>>4],p=(l&15)<<2,c=2;break;case 2:s[u++]=Zc[p|l>>6],s[u++]=Zc[l&63],c=0;break}u>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,s)),u=0)}return c&&(s[u++]=Zc[p],s[u++]=61,c===1&&(s[u++]=61)),i?(u&&i.push(String.fromCharCode.apply(String,s.slice(0,u))),i.join("")):String.fromCharCode.apply(String,s.slice(0,u))};var K4="invalid encoding";tp.decode=function(e,r,n){for(var i=n,s=0,u,c=0;c<e.length;){var p=e.charCodeAt(c++);if(p===61&&s>1)break;if((p=z4[p])===void 0)throw Error(K4);switch(s){case 0:u=p,s=1;break;case 1:r[n++]=u<<2|(p&48)>>4,u=p,s=2;break;case 2:r[n++]=(u&15)<<4|(p&60)>>2,u=p,s=3;break;case 3:r[n++]=(u&3)<<6|p,s=0;break}}if(s===1)throw Error(K4);return n-i};tp.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}});var G4=G((jq,$4)=>{"use strict";$4.exports=rp;function rp(){this._listeners={}}rp.prototype.on=function(e,r,n){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:r,ctx:n||this}),this};rp.prototype.off=function(e,r){if(e===void 0)this._listeners={};else if(r===void 0)this._listeners[e]=[];else for(var n=this._listeners[e],i=0;i<n.length;)n[i].fn===r?n.splice(i,1):++i;return this};rp.prototype.emit=function(e){var r=this._listeners[e];if(r){for(var n=[],i=1;i<arguments.length;)n.push(arguments[i++]);for(i=0;i<r.length;)r[i].fn.apply(r[i++].ctx,n)}return this}});var Q4=G((zq,Z4)=>{"use strict";Z4.exports=W4(W4);function W4(t){return typeof Float32Array!="undefined"?function(){var e=new Float32Array([-0]),r=new Uint8Array(e.buffer),n=r[3]===128;function i(p,l,y){e[0]=p,l[y]=r[0],l[y+1]=r[1],l[y+2]=r[2],l[y+3]=r[3]}function s(p,l,y){e[0]=p,l[y]=r[3],l[y+1]=r[2],l[y+2]=r[1],l[y+3]=r[0]}t.writeFloatLE=n?i:s,t.writeFloatBE=n?s:i;function u(p,l){return r[0]=p[l],r[1]=p[l+1],r[2]=p[l+2],r[3]=p[l+3],e[0]}function c(p,l){return r[3]=p[l],r[2]=p[l+1],r[1]=p[l+2],r[0]=p[l+3],e[0]}t.readFloatLE=n?u:c,t.readFloatBE=n?c:u}():function(){function e(n,i,s,u){var c=i<0?1:0;if(c&&(i=-i),i===0)n(1/i>0?0:2147483648,s,u);else if(isNaN(i))n(2143289344,s,u);else if(i>34028234663852886e22)n((c<<31|2139095040)>>>0,s,u);else if(i<11754943508222875e-54)n((c<<31|Math.round(i/1401298464324817e-60))>>>0,s,u);else{var p=Math.floor(Math.log(i)/Math.LN2),l=Math.round(i*Math.pow(2,-p)*8388608)&8388607;n((c<<31|p+127<<23|l)>>>0,s,u)}}t.writeFloatLE=e.bind(null,Y4),t.writeFloatBE=e.bind(null,V4);function r(n,i,s){var u=n(i,s),c=(u>>31)*2+1,p=u>>>23&255,l=u&8388607;return p===255?l?NaN:c*Infinity:p===0?c*1401298464324817e-60*l:c*Math.pow(2,p-150)*(l+8388608)}t.readFloatLE=r.bind(null,J4),t.readFloatBE=r.bind(null,X4)}(),typeof Float64Array!="undefined"?function(){var e=new Float64Array([-0]),r=new Uint8Array(e.buffer),n=r[7]===128;function i(p,l,y){e[0]=p,l[y]=r[0],l[y+1]=r[1],l[y+2]=r[2],l[y+3]=r[3],l[y+4]=r[4],l[y+5]=r[5],l[y+6]=r[6],l[y+7]=r[7]}function s(p,l,y){e[0]=p,l[y]=r[7],l[y+1]=r[6],l[y+2]=r[5],l[y+3]=r[4],l[y+4]=r[3],l[y+5]=r[2],l[y+6]=r[1],l[y+7]=r[0]}t.writeDoubleLE=n?i:s,t.writeDoubleBE=n?s:i;function u(p,l){return r[0]=p[l],r[1]=p[l+1],r[2]=p[l+2],r[3]=p[l+3],r[4]=p[l+4],r[5]=p[l+5],r[6]=p[l+6],r[7]=p[l+7],e[0]}function c(p,l){return r[7]=p[l],r[6]=p[l+1],r[5]=p[l+2],r[4]=p[l+3],r[3]=p[l+4],r[2]=p[l+5],r[1]=p[l+6],r[0]=p[l+7],e[0]}t.readDoubleLE=n?u:c,t.readDoubleBE=n?c:u}():function(){function e(n,i,s,u,c,p){var l=u<0?1:0;if(l&&(u=-u),u===0)n(0,c,p+i),n(1/u>0?0:2147483648,c,p+s);else if(isNaN(u))n(0,c,p+i),n(2146959360,c,p+s);else if(u>17976931348623157e292)n(0,c,p+i),n((l<<31|2146435072)>>>0,c,p+s);else{var y;if(u<22250738585072014e-324)y=u/5e-324,n(y>>>0,c,p+i),n((l<<31|y/4294967296)>>>0,c,p+s);else{var w=Math.floor(Math.log(u)/Math.LN2);w===1024&&(w=1023),y=u*Math.pow(2,-w),n(y*4503599627370496>>>0,c,p+i),n((l<<31|w+1023<<20|y*1048576&1048575)>>>0,c,p+s)}}}t.writeDoubleLE=e.bind(null,Y4,0,4),t.writeDoubleBE=e.bind(null,V4,4,0);function r(n,i,s,u,c){var p=n(u,c+i),l=n(u,c+s),y=(l>>31)*2+1,w=l>>>20&2047,B=4294967296*(l&1048575)+p;return w===2047?B?NaN:y*Infinity:w===0?y*5e-324*B:y*Math.pow(2,w-1075)*(B+4503599627370496)}t.readDoubleLE=r.bind(null,J4,0,4),t.readDoubleBE=r.bind(null,X4,4,0)}(),t}function Y4(t,e,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24}function V4(t,e,r){e[r]=t>>>24,e[r+1]=t>>>16&255,e[r+2]=t>>>8&255,e[r+3]=t&255}function J4(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0}function X4(t,e){return(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}});var eA=G((exports,module)=>{"use strict";module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(t){}return null}});var rA=G(tA=>{"use strict";var P1=tA;P1.length=function(e){for(var r=0,n=0,i=0;i<e.length;++i)n=e.charCodeAt(i),n<128?r+=1:n<2048?r+=2:(n&64512)==55296&&(e.charCodeAt(i+1)&64512)==56320?(++i,r+=4):r+=3;return r};P1.read=function(e,r,n){var i=n-r;if(i<1)return"";for(var s=null,u=[],c=0,p;r<n;)p=e[r++],p<128?u[c++]=p:p>191&&p<224?u[c++]=(p&31)<<6|e[r++]&63:p>239&&p<365?(p=((p&7)<<18|(e[r++]&63)<<12|(e[r++]&63)<<6|e[r++]&63)-65536,u[c++]=55296+(p>>10),u[c++]=56320+(p&1023)):u[c++]=(p&15)<<12|(e[r++]&63)<<6|e[r++]&63,c>8191&&((s||(s=[])).push(String.fromCharCode.apply(String,u)),c=0);return s?(c&&s.push(String.fromCharCode.apply(String,u.slice(0,c))),s.join("")):String.fromCharCode.apply(String,u.slice(0,c))};P1.write=function(e,r,n){for(var i=n,s,u,c=0;c<e.length;++c)s=e.charCodeAt(c),s<128?r[n++]=s:s<2048?(r[n++]=s>>6|192,r[n++]=s&63|128):(s&64512)==55296&&((u=e.charCodeAt(c+1))&64512)==56320?(s=65536+((s&1023)<<10)+(u&1023),++c,r[n++]=s>>18|240,r[n++]=s>>12&63|128,r[n++]=s>>6&63|128,r[n++]=s&63|128):(r[n++]=s>>12|224,r[n++]=s>>6&63|128,r[n++]=s&63|128);return n-i}});var iA=G((qq,nA)=>{"use strict";nA.exports=hL;function hL(t,e,r){var n=r||8192,i=n>>>1,s=null,u=n;return function(p){if(p<1||p>i)return t(p);u+p>n&&(s=t(n),u=0);var l=e.call(s,u,u+=p);return u&7&&(u=(u|7)+1),l}}});var sA=G((Hq,oA)=>{"use strict";oA.exports=nn;var Pl=La();function nn(t,e){this.lo=t>>>0,this.hi=e>>>0}var Fu=nn.zero=new nn(0,0);Fu.toNumber=function(){return 0};Fu.zzEncode=Fu.zzDecode=function(){return this};Fu.length=function(){return 1};var dL=nn.zeroHash="\0\0\0\0\0\0\0\0";nn.fromNumber=function(e){if(e===0)return Fu;var r=e<0;r&&(e=-e);var n=e>>>0,i=(e-n)/4294967296>>>0;return r&&(i=~i>>>0,n=~n>>>0,++n>4294967295&&(n=0,++i>4294967295&&(i=0))),new nn(n,i)};nn.from=function(e){if(typeof e=="number")return nn.fromNumber(e);if(Pl.isString(e))if(Pl.Long)e=Pl.Long.fromString(e);else return nn.fromNumber(parseInt(e,10));return e.low||e.high?new nn(e.low>>>0,e.high>>>0):Fu};nn.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var r=~this.lo+1>>>0,n=~this.hi>>>0;return r||(n=n+1>>>0),-(r+n*4294967296)}return this.lo+this.hi*4294967296};nn.prototype.toLong=function(e){return Pl.Long?new Pl.Long(this.lo|0,this.hi|0,Boolean(e)):{low:this.lo|0,high:this.hi|0,unsigned:Boolean(e)}};var Ua=String.prototype.charCodeAt;nn.fromHash=function(e){return e===dL?Fu:new nn((Ua.call(e,0)|Ua.call(e,1)<<8|Ua.call(e,2)<<16|Ua.call(e,3)<<24)>>>0,(Ua.call(e,4)|Ua.call(e,5)<<8|Ua.call(e,6)<<16|Ua.call(e,7)<<24)>>>0)};nn.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};nn.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this};nn.prototype.zzDecode=function(){var e=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this};nn.prototype.length=function(){var e=this.lo,r=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return n===0?r===0?e<16384?e<128?1:2:e<2097152?3:4:r<16384?r<128?5:6:r<2097152?7:8:n<128?9:10}});var La=G(C1=>{"use strict";var Je=C1;Je.asPromise=j4();Je.base64=H4();Je.EventEmitter=G4();Je.float=Q4();Je.inquire=eA();Je.utf8=rA();Je.pool=iA();Je.LongBits=sA();Je.isNode=Boolean(typeof global!="undefined"&&global&&global.process&&global.process.versions&&global.process.versions.node);Je.global=Je.isNode&&global||typeof window!="undefined"&&window||typeof self!="undefined"&&self||C1;Je.emptyArray=Object.freeze?Object.freeze([]):[];Je.emptyObject=Object.freeze?Object.freeze({}):{};Je.isInteger=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e};Je.isString=function(e){return typeof e=="string"||e instanceof String};Je.isObject=function(e){return e&&typeof e=="object"};Je.isset=Je.isSet=function(e,r){var n=e[r];return n!=null&&e.hasOwnProperty(r)?typeof n!="object"||(Array.isArray(n)?n.length:Object.keys(n).length)>0:!1};Je.Buffer=function(){try{var t=Je.inquire("buffer").Buffer;return t.prototype.utf8Write?t:null}catch(e){return null}}();Je._Buffer_from=null;Je._Buffer_allocUnsafe=null;Je.newBuffer=function(e){return typeof e=="number"?Je.Buffer?Je._Buffer_allocUnsafe(e):new Je.Array(e):Je.Buffer?Je._Buffer_from(e):typeof Uint8Array=="undefined"?e:new Uint8Array(e)};Je.Array=typeof Uint8Array!="undefined"?Uint8Array:Array;Je.Long=Je.global.dcodeIO&&Je.global.dcodeIO.Long||Je.global.Long||Je.inquire("long");Je.key2Re=/^true|false|0|1$/;Je.key32Re=/^-?(?:0|[1-9][0-9]*)$/;Je.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;Je.longToHash=function(e){return e?Je.LongBits.from(e).toHash():Je.LongBits.zeroHash};Je.longFromHash=function(e,r){var n=Je.LongBits.fromHash(e);return Je.Long?Je.Long.fromBits(n.lo,n.hi,r):n.toNumber(Boolean(r))};function aA(t,e,r){for(var n=Object.keys(e),i=0;i<n.length;++i)(t[n[i]]===void 0||!r)&&(t[n[i]]=e[n[i]]);return t}Je.merge=aA;Je.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)};function uA(t){function e(r,n){if(!(this instanceof e))return new e(r,n);Object.defineProperty(this,"message",{get:function(){return r}}),Error.captureStackTrace?Error.captureStackTrace(this,e):Object.defineProperty(this,"stack",{value:new Error().stack||""}),n&&aA(this,n)}return(e.prototype=Object.create(Error.prototype)).constructor=e,Object.defineProperty(e.prototype,"name",{get:function(){return t}}),e.prototype.toString=function(){return this.name+": "+this.message},e}Je.newError=uA;Je.ProtocolError=uA("ProtocolError");Je.oneOfGetter=function(e){for(var r={},n=0;n<e.length;++n)r[e[n]]=1;return function(){for(var i=Object.keys(this),s=i.length-1;s>-1;--s)if(r[i[s]]===1&&this[i[s]]!==void 0&&this[i[s]]!==null)return i[s]}};Je.oneOfSetter=function(e){return function(r){for(var n=0;n<e.length;++n)e[n]!==r&&delete this[e[n]]}};Je.toJSONOptions={longs:String,enums:String,bytes:String,json:!0};Je._configure=function(){var t=Je.Buffer;if(!t){Je._Buffer_from=Je._Buffer_allocUnsafe=null;return}Je._Buffer_from=t.from!==Uint8Array.from&&t.from||function(r,n){return new t(r,n)},Je._Buffer_allocUnsafe=t.allocUnsafe||function(r){return new t(r)}}});var N1=G((Gq,hA)=>{"use strict";hA.exports=Rt;var Wi=La(),T1,np=Wi.LongBits,cA=Wi.base64,fA=Wi.utf8;function Cl(t,e,r){this.fn=t,this.len=e,this.next=void 0,this.val=r}function F1(){}function pL(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}function Rt(){this.len=0,this.head=new Cl(F1,0,0),this.tail=this.head,this.states=null}var lA=function(){return Wi.Buffer?function(){return(Rt.create=function(){return new T1})()}:function(){return new Rt}};Rt.create=lA();Rt.alloc=function(e){return new Wi.Array(e)};Wi.Array!==Array&&(Rt.alloc=Wi.pool(Rt.alloc,Wi.Array.prototype.subarray));Rt.prototype._push=function(e,r,n){return this.tail=this.tail.next=new Cl(e,r,n),this.len+=r,this};function B1(t,e,r){e[r]=t&255}function mL(t,e,r){for(;t>127;)e[r++]=t&127|128,t>>>=7;e[r]=t}function I1(t,e){this.len=t,this.next=void 0,this.val=e}I1.prototype=Object.create(Cl.prototype);I1.prototype.fn=mL;Rt.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new I1((e=e>>>0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this};Rt.prototype.int32=function(e){return e<0?this._push(D1,10,np.fromNumber(e)):this.uint32(e)};Rt.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)};function D1(t,e,r){for(;t.hi;)e[r++]=t.lo&127|128,t.lo=(t.lo>>>7|t.hi<<25)>>>0,t.hi>>>=7;for(;t.lo>127;)e[r++]=t.lo&127|128,t.lo=t.lo>>>7;e[r++]=t.lo}Rt.prototype.uint64=function(e){var r=np.from(e);return this._push(D1,r.length(),r)};Rt.prototype.int64=Rt.prototype.uint64;Rt.prototype.sint64=function(e){var r=np.from(e).zzEncode();return this._push(D1,r.length(),r)};Rt.prototype.bool=function(e){return this._push(B1,1,e?1:0)};function R1(t,e,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24}Rt.prototype.fixed32=function(e){return this._push(R1,4,e>>>0)};Rt.prototype.sfixed32=Rt.prototype.fixed32;Rt.prototype.fixed64=function(e){var r=np.from(e);return this._push(R1,4,r.lo)._push(R1,4,r.hi)};Rt.prototype.sfixed64=Rt.prototype.fixed64;Rt.prototype.float=function(e){return this._push(Wi.float.writeFloatLE,4,e)};Rt.prototype.double=function(e){return this._push(Wi.float.writeDoubleLE,8,e)};var yL=Wi.Array.prototype.set?function(e,r,n){r.set(e,n)}:function(e,r,n){for(var i=0;i<e.length;++i)r[n+i]=e[i]};Rt.prototype.bytes=function(e){var r=e.length>>>0;if(!r)return this._push(B1,1,0);if(Wi.isString(e)){var n=Rt.alloc(r=cA.length(e));cA.decode(e,n,0),e=n}return this.uint32(r)._push(yL,r,e)};Rt.prototype.string=function(e){var r=fA.length(e);return r?this.uint32(r)._push(fA.write,r,e):this._push(B1,1,0)};Rt.prototype.fork=function(){return this.states=new pL(this),this.head=this.tail=new Cl(F1,0,0),this.len=0,this};Rt.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Cl(F1,0,0),this.len=0),this};Rt.prototype.ldelim=function(){var e=this.head,r=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=e.next,this.tail=r,this.len+=n),this};Rt.prototype.finish=function(){for(var e=this.head.next,r=this.constructor.alloc(this.len),n=0;e;)e.fn(e.val,r,n),n+=e.len,e=e.next;return r};Rt._configure=function(t){T1=t,Rt.create=lA(),T1._configure()}});var mA=G((Wq,pA)=>{"use strict";pA.exports=ys;var dA=N1();(ys.prototype=Object.create(dA.prototype)).constructor=ys;var Ma=La();function ys(){dA.call(this)}ys._configure=function(){ys.alloc=Ma._Buffer_allocUnsafe,ys.writeBytesBuffer=Ma.Buffer&&Ma.Buffer.prototype instanceof Uint8Array&&Ma.Buffer.prototype.set.name==="set"?function(e,r,n){r.set(e,n)}:function(e,r,n){if(e.copy)e.copy(r,n,0,e.length);else for(var i=0;i<e.length;)r[n++]=e[i++]}};ys.prototype.bytes=function(e){Ma.isString(e)&&(e=Ma._Buffer_from(e,"base64"));var r=e.length>>>0;return this.uint32(r),r&&this._push(ys.writeBytesBuffer,r,e),this};function gL(t,e,r){t.length<40?Ma.utf8.write(t,e,r):e.utf8Write?e.utf8Write(t,r):e.write(t,r)}ys.prototype.string=function(e){var r=Ma.Buffer.byteLength(e);return this.uint32(r),r&&this._push(gL,r,e),this};ys._configure()});var M1=G((Yq,wA)=>{"use strict";wA.exports=Or;var gs=La(),U1,yA=gs.LongBits,bL=gs.utf8;function Co(t,e){return RangeError("index out of range: "+t.pos+" + "+(e||1)+" > "+t.len)}function Or(t){this.buf=t,this.pos=0,this.len=t.length}var gA=typeof Uint8Array!="undefined"?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new Or(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new Or(e);throw Error("illegal buffer")},bA=function(){return gs.Buffer?function(r){return(Or.create=function(i){return gs.Buffer.isBuffer(i)?new U1(i):gA(i)})(r)}:gA};Or.create=bA();Or.prototype._slice=gs.Array.prototype.subarray||gs.Array.prototype.slice;Or.prototype.uint32=function(){var e=4294967295;return function(){if(e=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(e=(e|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return e;if((this.pos+=5)>this.len)throw this.pos=this.len,Co(this,10);return e}}();Or.prototype.int32=function(){return this.uint32()|0};Or.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(e&1)|0};function L1(){var t=new yA(0,0),e=0;if(this.len-this.pos>4){for(;e<4;++e)if(t.lo=(t.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(this.buf[this.pos]&127)<<28)>>>0,t.hi=(t.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return t;e=0}else{for(;e<3;++e){if(this.pos>=this.len)throw Co(this);if(t.lo=(t.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(this.buf[this.pos++]&127)<<e*7)>>>0,t}if(this.len-this.pos>4){for(;e<5;++e)if(t.hi=(t.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return t}else for(;e<5;++e){if(this.pos>=this.len)throw Co(this);if(t.hi=(t.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}Or.prototype.bool=function(){return this.uint32()!==0};function ip(t,e){return(t[e-4]|t[e-3]<<8|t[e-2]<<16|t[e-1]<<24)>>>0}Or.prototype.fixed32=function(){if(this.pos+4>this.len)throw Co(this,4);return ip(this.buf,this.pos+=4)};Or.prototype.sfixed32=function(){if(this.pos+4>this.len)throw Co(this,4);return ip(this.buf,this.pos+=4)|0};function vA(){if(this.pos+8>this.len)throw Co(this,8);return new yA(ip(this.buf,this.pos+=4),ip(this.buf,this.pos+=4))}Or.prototype.float=function(){if(this.pos+4>this.len)throw Co(this,4);var e=gs.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e};Or.prototype.double=function(){if(this.pos+8>this.len)throw Co(this,4);var e=gs.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e};Or.prototype.bytes=function(){var e=this.uint32(),r=this.pos,n=this.pos+e;if(n>this.len)throw Co(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(r,n):r===n?new this.buf.constructor(0):this._slice.call(this.buf,r,n)};Or.prototype.string=function(){var e=this.bytes();return bL.read(e,0,e.length)};Or.prototype.skip=function(e){if(typeof e=="number"){if(this.pos+e>this.len)throw Co(this,e);this.pos+=e}else do if(this.pos>=this.len)throw Co(this);while(this.buf[this.pos++]&128);return this};Or.prototype.skipType=function(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(t=this.uint32()&7)!=4;)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+t+" at offset "+this.pos)}return this};Or._configure=function(t){U1=t,Or.create=bA(),U1._configure();var e=gs.Long?"toLong":"toNumber";gs.merge(Or.prototype,{int64:function(){return L1.call(this)[e](!1)},uint64:function(){return L1.call(this)[e](!0)},sint64:function(){return L1.call(this).zzDecode()[e](!1)},fixed64:function(){return vA.call(this)[e](!0)},sfixed64:function(){return vA.call(this)[e](!1)}})}});var kA=G((Vq,AA)=>{"use strict";AA.exports=Bu;var _A=M1();(Bu.prototype=Object.create(_A.prototype)).constructor=Bu;var xA=La();function Bu(t){_A.call(this,t)}Bu._configure=function(){xA.Buffer&&(Bu.prototype._slice=xA.Buffer.prototype.slice)};Bu.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))};Bu._configure()});var SA=G((Jq,EA)=>{"use strict";EA.exports=Tl;var O1=La();(Tl.prototype=Object.create(O1.EventEmitter.prototype)).constructor=Tl;function Tl(t,e,r){if(typeof t!="function")throw TypeError("rpcImpl must be a function");O1.EventEmitter.call(this),this.rpcImpl=t,this.requestDelimited=Boolean(e),this.responseDelimited=Boolean(r)}Tl.prototype.rpcCall=function t(e,r,n,i,s){if(!i)throw TypeError("request must be specified");var u=this;if(!s)return O1.asPromise(t,u,e,r,n,i);if(!u.rpcImpl){setTimeout(function(){s(Error("already ended"))},0);return}try{return u.rpcImpl(e,r[u.requestDelimited?"encodeDelimited":"encode"](i).finish(),function(p,l){if(p)return u.emit("error",p,e),s(p);if(l===null){u.end(!0);return}if(!(l instanceof n))try{l=n[u.responseDelimited?"decodeDelimited":"decode"](l)}catch(y){return u.emit("error",y,e),s(y)}return u.emit("data",l,e),s(null,l)})}catch(c){u.emit("error",c,e),setTimeout(function(){s(c)},0);return}};Tl.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}});var CA=G(PA=>{"use strict";var vL=PA;vL.Service=SA()});var FA=G((Zq,TA)=>{"use strict";TA.exports={}});var DA=G(IA=>{"use strict";var Xn=IA;Xn.build="minimal";Xn.Writer=N1();Xn.BufferWriter=mA();Xn.Reader=M1();Xn.BufferReader=kA();Xn.util=La();Xn.rpc=CA();Xn.roots=FA();Xn.configure=BA;function BA(){Xn.util._configure(),Xn.Writer._configure(Xn.BufferWriter),Xn.Reader._configure(Xn.BufferReader)}BA()});var j1=G((eH,RA)=>{"use strict";RA.exports=DA()});var z1=G((tH,UA)=>{"use strict";var Iu=j1(),op=Iu.Reader,NA=Iu.Writer,Br=Iu.util,di=Iu.roots.default||(Iu.roots.default={});di.PBLink=function(){function t(e){if(e)for(var r=Object.keys(e),n=0;n<r.length;++n)e[r[n]]!=null&&(this[r[n]]=e[r[n]])}return t.prototype.Hash=Br.newBuffer([]),t.prototype.Name="",t.prototype.Tsize=Br.Long?Br.Long.fromBits(0,0,!0):0,t.encode=function(r,n){return n||(n=NA.create()),r.Hash!=null&&Object.hasOwnProperty.call(r,"Hash")&&n.uint32(10).bytes(r.Hash),r.Name!=null&&Object.hasOwnProperty.call(r,"Name")&&n.uint32(18).string(r.Name),r.Tsize!=null&&Object.hasOwnProperty.call(r,"Tsize")&&n.uint32(24).uint64(r.Tsize),n},t.decode=function(r,n){r instanceof op||(r=op.create(r));for(var i=n===void 0?r.len:r.pos+n,s=new di.PBLink;r.pos<i;){var u=r.uint32();switch(u>>>3){case 1:s.Hash=r.bytes();break;case 2:s.Name=r.string();break;case 3:s.Tsize=r.uint64();break;default:r.skipType(u&7);break}}return s},t.fromObject=function(r){if(r instanceof di.PBLink)return r;var n=new di.PBLink;return r.Hash!=null&&(typeof r.Hash=="string"?Br.base64.decode(r.Hash,n.Hash=Br.newBuffer(Br.base64.length(r.Hash)),0):r.Hash.length&&(n.Hash=r.Hash)),r.Name!=null&&(n.Name=String(r.Name)),r.Tsize!=null&&(Br.Long?(n.Tsize=Br.Long.fromValue(r.Tsize)).unsigned=!0:typeof r.Tsize=="string"?n.Tsize=parseInt(r.Tsize,10):typeof r.Tsize=="number"?n.Tsize=r.Tsize:typeof r.Tsize=="object"&&(n.Tsize=new Br.LongBits(r.Tsize.low>>>0,r.Tsize.high>>>0).toNumber(!0))),n},t.toObject=function(r,n){n||(n={});var i={};if(n.defaults)if(n.bytes===String?i.Hash="":(i.Hash=[],n.bytes!==Array&&(i.Hash=Br.newBuffer(i.Hash))),i.Name="",Br.Long){var s=new Br.Long(0,0,!0);i.Tsize=n.longs===String?s.toString():n.longs===Number?s.toNumber():s}else i.Tsize=n.longs===String?"0":0;return r.Hash!=null&&r.hasOwnProperty("Hash")&&(i.Hash=n.bytes===String?Br.base64.encode(r.Hash,0,r.Hash.length):n.bytes===Array?Array.prototype.slice.call(r.Hash):r.Hash),r.Name!=null&&r.hasOwnProperty("Name")&&(i.Name=r.Name),r.Tsize!=null&&r.hasOwnProperty("Tsize")&&(typeof r.Tsize=="number"?i.Tsize=n.longs===String?String(r.Tsize):r.Tsize:i.Tsize=n.longs===String?Br.Long.prototype.toString.call(r.Tsize):n.longs===Number?new Br.LongBits(r.Tsize.low>>>0,r.Tsize.high>>>0).toNumber(!0):r.Tsize),i},t.prototype.toJSON=function(){return this.constructor.toObject(this,Iu.util.toJSONOptions)},t}();di.PBNode=function(){function t(e){if(this.Links=[],e)for(var r=Object.keys(e),n=0;n<r.length;++n)e[r[n]]!=null&&(this[r[n]]=e[r[n]])}return t.prototype.Links=Br.emptyArray,t.prototype.Data=Br.newBuffer([]),t.encode=function(r,n){if(n||(n=NA.create()),r.Data!=null&&Object.hasOwnProperty.call(r,"Data")&&n.uint32(10).bytes(r.Data),r.Links!=null&&r.Links.length)for(var i=0;i<r.Links.length;++i)di.PBLink.encode(r.Links[i],n.uint32(18).fork()).ldelim();return n},t.decode=function(r,n){r instanceof op||(r=op.create(r));for(var i=n===void 0?r.len:r.pos+n,s=new di.PBNode;r.pos<i;){var u=r.uint32();switch(u>>>3){case 2:s.Links&&s.Links.length||(s.Links=[]),s.Links.push(di.PBLink.decode(r,r.uint32()));break;case 1:s.Data=r.bytes();break;default:r.skipType(u&7);break}}return s},t.fromObject=function(r){if(r instanceof di.PBNode)return r;var n=new di.PBNode;if(r.Links){if(!Array.isArray(r.Links))throw TypeError(".PBNode.Links: array expected");n.Links=[];for(var i=0;i<r.Links.length;++i){if(typeof r.Links[i]!="object")throw TypeError(".PBNode.Links: object expected");n.Links[i]=di.PBLink.fromObject(r.Links[i])}}return r.Data!=null&&(typeof r.Data=="string"?Br.base64.decode(r.Data,n.Data=Br.newBuffer(Br.base64.length(r.Data)),0):r.Data.length&&(n.Data=r.Data)),n},t.toObject=function(r,n){n||(n={});var i={};if((n.arrays||n.defaults)&&(i.Links=[]),n.defaults&&(n.bytes===String?i.Data="":(i.Data=[],n.bytes!==Array&&(i.Data=Br.newBuffer(i.Data)))),r.Data!=null&&r.hasOwnProperty("Data")&&(i.Data=n.bytes===String?Br.base64.encode(r.Data,0,r.Data.length):n.bytes===Array?Array.prototype.slice.call(r.Data):r.Data),r.Links&&r.Links.length){i.Links=[];for(var s=0;s<r.Links.length;++s)i.Links[s]=di.PBLink.toObject(r.Links[s],n)}return i},t.prototype.toJSON=function(){return this.constructor.toObject(this,Iu.util.toJSONOptions)},t}();UA.exports=di});var K1=G((rH,LA)=>{"use strict";var{encoding:wL}=So(),_L=new TextEncoder;function xL(t){let e=new Uint8Array(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}function AL(t,e="utf8"){return e==="utf8"||e==="utf-8"?_L.encode(t):e==="ascii"?xL(t):wL(e).decode(t)}LA.exports=AL});var Du=G((nH,OA)=>{"use strict";var kL=Ra(),EL=K1(),MA=class{constructor(e,r,n){if(!n)throw new Error("A link requires a cid to point to");this.Name=e||"",this.Tsize=r,this.Hash=new kL(n),Object.defineProperties(this,{_nameBuf:{value:null,writable:!0,enumerable:!1}})}toString(){return`DAGLink <${this.Hash.toBaseEncodedString()} - name: "${this.Name}", size: ${this.Tsize}>`}toJSON(){return this._json||(this._json=Object.freeze({name:this.Name,size:this.Tsize,cid:this.Hash.toBaseEncodedString()})),Object.assign({},this._json)}get nameAsBuffer(){return this._nameBuf!=null?this._nameBuf:(this._nameBuf=EL(this.Name),this._nameBuf)}};OA.exports=MA});var jA=G((q1,H1)=>{(function(t,e){typeof q1=="object"&&typeof H1!="undefined"?H1.exports=e():typeof define=="function"&&define.amd?define(e):t.stable=e()})(q1,function(){"use strict";var t=function(n,i){return e(n.slice(),i)};t.inplace=function(n,i){var s=e(n,i);return s!==n&&r(s,null,n.length,n),n};function e(n,i){typeof i!="function"&&(i=function(l,y){return String(l).localeCompare(y)});var s=n.length;if(s<=1)return n;for(var u=new Array(s),c=1;c<s;c*=2){r(n,i,c,u);var p=n;n=u,u=p}return n}var r=function(n,i,s,u){var c=n.length,p=0,l=s*2,y,w,B,_,R;for(y=0;y<c;y+=l)for(w=y+s,B=w+s,w>c&&(w=c),B>c&&(B=c),_=y,R=w;;)if(_<w&&R<B)i(n[_],n[R])<=0?u[p++]=n[_++]:u[p++]=n[R++];else if(_<w)u[p++]=n[_++];else if(R<B)u[p++]=n[R++];else break};return t})});var KA=G((iH,zA)=>{"use strict";function SL(t,e){for(let r=0;r<t.byteLength;r++){if(t[r]<e[r])return-1;if(t[r]>e[r])return 1}return t.byteLength>e.byteLength?1:t.byteLength<e.byteLength?-1:0}zA.exports=SL});var $1=G((oH,qA)=>{"use strict";var PL=jA(),CL=KA(),TL=(t,e)=>{let r=t.nameAsBuffer,n=e.nameAsBuffer;return CL(r,n)},FL=t=>{PL.inplace(t,TL)};qA.exports=FL});var G1=G((sH,HA)=>{"use strict";var BL=Du();function IL(t){return new BL(t.Name||t.name||"",t.Tsize||t.Size||t.size||0,t.Hash||t.hash||t.multihash||t.cid)}HA.exports={createDagLinkFromB58EncodedHash:IL}});var W1=G((aH,WA)=>{"use strict";var DL=j1(),{PBLink:RL}=z1(),{createDagLinkFromB58EncodedHash:NL}=G1(),$A=t=>{let e={};return t.Data&&t.Data.byteLength>0?e.Data=t.Data:e.Data=null,t.Links&&t.Links.length>0?e.Links=t.Links.map(r=>({Hash:r.Hash.bytes,Name:r.Name,Tsize:r.Tsize})):e.Links=null,e},UL=t=>GA($A(t)),LL=(t,e=[])=>{let r={Data:t,Links:e.map(n=>NL(n))};return GA($A(r))};WA.exports={serializeDAGNode:UL,serializeDAGNodeLike:LL};function GA(t){let e=DL.Writer.create();if(t.Links!=null)for(let r=0;r<t.Links.length;r++)RL.encode(t.Links[r],e.uint32(18).fork()).ldelim();return t.Data!=null&&e.uint32(10).bytes(t.Data),e.finish()}});var JA=G((uH,VA)=>{"use strict";function YA(t,e){for(let r in e)Object.defineProperty(t,r,{value:e[r],enumerable:!0,configurable:!0});return t}function ML(t,e,r){if(!t||typeof t=="string")throw new TypeError("Please pass an Error to err-code");r||(r={}),typeof e=="object"&&(r=e,e=""),e&&(r.code=e);try{return YA(t,r)}catch(n){r.message=t.message,r.stack=t.stack;let i=function(){};return i.prototype=Object.create(Object.getPrototypeOf(t)),YA(new i,r)}}VA.exports=ML});var XA=G((cH,sp)=>{(function(){"use strict";var t="input is invalid type",e="finalize already called",r=typeof window=="object",n=r?window:{};n.JS_SHA3_NO_WINDOW&&(r=!1);var i=!r&&typeof self=="object",s=!n.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;s?n=global:i&&(n=self);var u=!n.JS_SHA3_NO_COMMON_JS&&typeof sp=="object"&&sp.exports,c=typeof define=="function"&&define.amd,p=!n.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer!="undefined",l="0123456789abcdef".split(""),y=[31,7936,2031616,520093696],w=[4,1024,262144,67108864],B=[1,256,65536,16777216],_=[6,1536,393216,100663296],R=[0,8,16,24],W=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],we=[224,256,384,512],Z=[128,256],ne=["hex","buffer","arrayBuffer","array","digest"],V={"128":168,"256":136};(n.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(A){return Object.prototype.toString.call(A)==="[object Array]"}),p&&(n.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(A){return typeof A=="object"&&A.buffer&&A.buffer.constructor===ArrayBuffer});for(var ce=function(A,fe,pe){return function(Be){return new dt(A,fe,A).update(Be)[pe]()}},xe=function(A,fe,pe){return function(Be,De){return new dt(A,fe,De).update(Be)[pe]()}},X=function(A,fe,pe){return function(Be,De,$e,We){return Ft["cshake"+A].update(Be,De,$e,We)[pe]()}},ee=function(A,fe,pe){return function(Be,De,$e,We){return Ft["kmac"+A].update(Be,De,$e,We)[pe]()}},Ae=function(A,fe,pe,Be){for(var De=0;De<ne.length;++De){var $e=ne[De];A[$e]=fe(pe,Be,$e)}return A},Ve=function(A,fe){var pe=ce(A,fe,"hex");return pe.create=function(){return new dt(A,fe,A)},pe.update=function(Be){return pe.create().update(Be)},Ae(pe,ce,A,fe)},ct=function(A,fe){var pe=xe(A,fe,"hex");return pe.create=function(Be){return new dt(A,fe,Be)},pe.update=function(Be,De){return pe.create(De).update(Be)},Ae(pe,xe,A,fe)},_t=function(A,fe){var pe=V[A],Be=X(A,fe,"hex");return Be.create=function(De,$e,We){return!$e&&!We?Ft["shake"+A].create(De):new dt(A,fe,De).bytepad([$e,We],pe)},Be.update=function(De,$e,We,Oe){return Be.create($e,We,Oe).update(De)},Ae(Be,X,A,fe)},ht=function(A,fe){var pe=V[A],Be=ee(A,fe,"hex");return Be.create=function(De,$e,We){return new Ut(A,fe,$e).bytepad(["KMAC",We],pe).bytepad([De],pe)},Be.update=function(De,$e,We,Oe){return Be.create(De,We,Oe).update($e)},Ae(Be,ee,A,fe)},qe=[{name:"keccak",padding:B,bits:we,createMethod:Ve},{name:"sha3",padding:_,bits:we,createMethod:Ve},{name:"shake",padding:y,bits:Z,createMethod:ct},{name:"cshake",padding:w,bits:Z,createMethod:_t},{name:"kmac",padding:w,bits:Z,createMethod:ht}],Ft={},Nt=[],or=0;or<qe.length;++or)for(var Jr=qe[or],vr=Jr.bits,lr=0;lr<vr.length;++lr){var ti=Jr.name+"_"+vr[lr];if(Nt.push(ti),Ft[ti]=Jr.createMethod(vr[lr],Jr.padding),Jr.name!=="sha3"){var Wt=Jr.name+vr[lr];Nt.push(Wt),Ft[Wt]=Ft[ti]}}function dt(A,fe,pe){this.blocks=[],this.s=[],this.padding=fe,this.outputBits=pe,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(A<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=pe>>5,this.extraBytes=(pe&31)>>3;for(var Be=0;Be<50;++Be)this.s[Be]=0}dt.prototype.update=function(A){if(this.finalized)throw new Error(e);var fe,pe=typeof A;if(pe!=="string"){if(pe==="object"){if(A===null)throw new Error(t);if(p&&A.constructor===ArrayBuffer)A=new Uint8Array(A);else if(!Array.isArray(A)&&(!p||!ArrayBuffer.isView(A)))throw new Error(t)}else throw new Error(t);fe=!0}for(var Be=this.blocks,De=this.byteCount,$e=A.length,We=this.blockCount,Oe=0,Lt=this.s,Ze,yt;Oe<$e;){if(this.reset)for(this.reset=!1,Be[0]=this.block,Ze=1;Ze<We+1;++Ze)Be[Ze]=0;if(fe)for(Ze=this.start;Oe<$e&&Ze<De;++Oe)Be[Ze>>2]|=A[Oe]<<R[Ze++&3];else for(Ze=this.start;Oe<$e&&Ze<De;++Oe)yt=A.charCodeAt(Oe),yt<128?Be[Ze>>2]|=yt<<R[Ze++&3]:yt<2048?(Be[Ze>>2]|=(192|yt>>6)<<R[Ze++&3],Be[Ze>>2]|=(128|yt&63)<<R[Ze++&3]):yt<55296||yt>=57344?(Be[Ze>>2]|=(224|yt>>12)<<R[Ze++&3],Be[Ze>>2]|=(128|yt>>6&63)<<R[Ze++&3],Be[Ze>>2]|=(128|yt&63)<<R[Ze++&3]):(yt=65536+((yt&1023)<<10|A.charCodeAt(++Oe)&1023),Be[Ze>>2]|=(240|yt>>18)<<R[Ze++&3],Be[Ze>>2]|=(128|yt>>12&63)<<R[Ze++&3],Be[Ze>>2]|=(128|yt>>6&63)<<R[Ze++&3],Be[Ze>>2]|=(128|yt&63)<<R[Ze++&3]);if(this.lastByteIndex=Ze,Ze>=De){for(this.start=Ze-De,this.block=Be[We],Ze=0;Ze<We;++Ze)Lt[Ze]^=Be[Ze];Bt(Lt),this.reset=!0}else this.start=Ze}return this},dt.prototype.encode=function(A,fe){var pe=A&255,Be=1,De=[pe];for(A=A>>8,pe=A&255;pe>0;)De.unshift(pe),A=A>>8,pe=A&255,++Be;return fe?De.push(Be):De.unshift(Be),this.update(De),De.length},dt.prototype.encodeString=function(A){var fe,pe=typeof A;if(pe!=="string"){if(pe==="object"){if(A===null)throw new Error(t);if(p&&A.constructor===ArrayBuffer)A=new Uint8Array(A);else if(!Array.isArray(A)&&(!p||!ArrayBuffer.isView(A)))throw new Error(t)}else throw new Error(t);fe=!0}var Be=0,De=A.length;if(fe)Be=De;else for(var $e=0;$e<A.length;++$e){var We=A.charCodeAt($e);We<128?Be+=1:We<2048?Be+=2:We<55296||We>=57344?Be+=3:(We=65536+((We&1023)<<10|A.charCodeAt(++$e)&1023),Be+=4)}return Be+=this.encode(Be*8),this.update(A),Be},dt.prototype.bytepad=function(A,fe){for(var pe=this.encode(fe),Be=0;Be<A.length;++Be)pe+=this.encodeString(A[Be]);var De=fe-pe%fe,$e=[];return $e.length=De,this.update($e),this},dt.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var A=this.blocks,fe=this.lastByteIndex,pe=this.blockCount,Be=this.s;if(A[fe>>2]|=this.padding[fe&3],this.lastByteIndex===this.byteCount)for(A[0]=A[pe],fe=1;fe<pe+1;++fe)A[fe]=0;for(A[pe-1]|=2147483648,fe=0;fe<pe;++fe)Be[fe]^=A[fe];Bt(Be)}},dt.prototype.toString=dt.prototype.hex=function(){this.finalize();for(var A=this.blockCount,fe=this.s,pe=this.outputBlocks,Be=this.extraBytes,De=0,$e=0,We="",Oe;$e<pe;){for(De=0;De<A&&$e<pe;++De,++$e)Oe=fe[De],We+=l[Oe>>4&15]+l[Oe&15]+l[Oe>>12&15]+l[Oe>>8&15]+l[Oe>>20&15]+l[Oe>>16&15]+l[Oe>>28&15]+l[Oe>>24&15];$e%A==0&&(Bt(fe),De=0)}return Be&&(Oe=fe[De],We+=l[Oe>>4&15]+l[Oe&15],Be>1&&(We+=l[Oe>>12&15]+l[Oe>>8&15]),Be>2&&(We+=l[Oe>>20&15]+l[Oe>>16&15])),We},dt.prototype.arrayBuffer=function(){this.finalize();var A=this.blockCount,fe=this.s,pe=this.outputBlocks,Be=this.extraBytes,De=0,$e=0,We=this.outputBits>>3,Oe;Be?Oe=new ArrayBuffer(pe+1<<2):Oe=new ArrayBuffer(We);for(var Lt=new Uint32Array(Oe);$e<pe;){for(De=0;De<A&&$e<pe;++De,++$e)Lt[$e]=fe[De];$e%A==0&&Bt(fe)}return Be&&(Lt[De]=fe[De],Oe=Oe.slice(0,We)),Oe},dt.prototype.buffer=dt.prototype.arrayBuffer,dt.prototype.digest=dt.prototype.array=function(){this.finalize();for(var A=this.blockCount,fe=this.s,pe=this.outputBlocks,Be=this.extraBytes,De=0,$e=0,We=[],Oe,Lt;$e<pe;){for(De=0;De<A&&$e<pe;++De,++$e)Oe=$e<<2,Lt=fe[De],We[Oe]=Lt&255,We[Oe+1]=Lt>>8&255,We[Oe+2]=Lt>>16&255,We[Oe+3]=Lt>>24&255;$e%A==0&&Bt(fe)}return Be&&(Oe=$e<<2,Lt=fe[De],We[Oe]=Lt&255,Be>1&&(We[Oe+1]=Lt>>8&255),Be>2&&(We[Oe+2]=Lt>>16&255)),We};function Ut(A,fe,pe){dt.call(this,A,fe,pe)}Ut.prototype=new dt,Ut.prototype.finalize=function(){return this.encode(this.outputBits,!0),dt.prototype.finalize.call(this)};var Bt=function(A){var fe,pe,Be,De,$e,We,Oe,Lt,Ze,yt,Ir,Pi,Xr,ar,zr,dr,le,Kr,Y,re,ye,Ie,je,$t,Qe,et,Ue,st,at,er,zn,ro,Ci,Ti,Fi,an,jo,zo,no,Bi,io,Ko,qo,Ii,Ho,Di,ur,wr,ri,Kn,oo,so,ao,$o,uo,Go,Wo,ni,Yo,Vo,co,gn,Jo;for(Be=0;Be<48;Be+=2)De=A[0]^A[10]^A[20]^A[30]^A[40],$e=A[1]^A[11]^A[21]^A[31]^A[41],We=A[2]^A[12]^A[22]^A[32]^A[42],Oe=A[3]^A[13]^A[23]^A[33]^A[43],Lt=A[4]^A[14]^A[24]^A[34]^A[44],Ze=A[5]^A[15]^A[25]^A[35]^A[45],yt=A[6]^A[16]^A[26]^A[36]^A[46],Ir=A[7]^A[17]^A[27]^A[37]^A[47],Pi=A[8]^A[18]^A[28]^A[38]^A[48],Xr=A[9]^A[19]^A[29]^A[39]^A[49],fe=Pi^(We<<1|Oe>>>31),pe=Xr^(Oe<<1|We>>>31),A[0]^=fe,A[1]^=pe,A[10]^=fe,A[11]^=pe,A[20]^=fe,A[21]^=pe,A[30]^=fe,A[31]^=pe,A[40]^=fe,A[41]^=pe,fe=De^(Lt<<1|Ze>>>31),pe=$e^(Ze<<1|Lt>>>31),A[2]^=fe,A[3]^=pe,A[12]^=fe,A[13]^=pe,A[22]^=fe,A[23]^=pe,A[32]^=fe,A[33]^=pe,A[42]^=fe,A[43]^=pe,fe=We^(yt<<1|Ir>>>31),pe=Oe^(Ir<<1|yt>>>31),A[4]^=fe,A[5]^=pe,A[14]^=fe,A[15]^=pe,A[24]^=fe,A[25]^=pe,A[34]^=fe,A[35]^=pe,A[44]^=fe,A[45]^=pe,fe=Lt^(Pi<<1|Xr>>>31),pe=Ze^(Xr<<1|Pi>>>31),A[6]^=fe,A[7]^=pe,A[16]^=fe,A[17]^=pe,A[26]^=fe,A[27]^=pe,A[36]^=fe,A[37]^=pe,A[46]^=fe,A[47]^=pe,fe=yt^(De<<1|$e>>>31),pe=Ir^($e<<1|De>>>31),A[8]^=fe,A[9]^=pe,A[18]^=fe,A[19]^=pe,A[28]^=fe,A[29]^=pe,A[38]^=fe,A[39]^=pe,A[48]^=fe,A[49]^=pe,ar=A[0],zr=A[1],Di=A[11]<<4|A[10]>>>28,ur=A[10]<<4|A[11]>>>28,st=A[20]<<3|A[21]>>>29,at=A[21]<<3|A[20]>>>29,Vo=A[31]<<9|A[30]>>>23,co=A[30]<<9|A[31]>>>23,Ko=A[40]<<18|A[41]>>>14,qo=A[41]<<18|A[40]>>>14,Ti=A[2]<<1|A[3]>>>31,Fi=A[3]<<1|A[2]>>>31,dr=A[13]<<12|A[12]>>>20,le=A[12]<<12|A[13]>>>20,wr=A[22]<<10|A[23]>>>22,ri=A[23]<<10|A[22]>>>22,er=A[33]<<13|A[32]>>>19,zn=A[32]<<13|A[33]>>>19,gn=A[42]<<2|A[43]>>>30,Jo=A[43]<<2|A[42]>>>30,$o=A[5]<<30|A[4]>>>2,uo=A[4]<<30|A[5]>>>2,an=A[14]<<6|A[15]>>>26,jo=A[15]<<6|A[14]>>>26,Kr=A[25]<<11|A[24]>>>21,Y=A[24]<<11|A[25]>>>21,Kn=A[34]<<15|A[35]>>>17,oo=A[35]<<15|A[34]>>>17,ro=A[45]<<29|A[44]>>>3,Ci=A[44]<<29|A[45]>>>3,$t=A[6]<<28|A[7]>>>4,Qe=A[7]<<28|A[6]>>>4,Go=A[17]<<23|A[16]>>>9,Wo=A[16]<<23|A[17]>>>9,zo=A[26]<<25|A[27]>>>7,no=A[27]<<25|A[26]>>>7,re=A[36]<<21|A[37]>>>11,ye=A[37]<<21|A[36]>>>11,so=A[47]<<24|A[46]>>>8,ao=A[46]<<24|A[47]>>>8,Ii=A[8]<<27|A[9]>>>5,Ho=A[9]<<27|A[8]>>>5,et=A[18]<<20|A[19]>>>12,Ue=A[19]<<20|A[18]>>>12,ni=A[29]<<7|A[28]>>>25,Yo=A[28]<<7|A[29]>>>25,Bi=A[38]<<8|A[39]>>>24,io=A[39]<<8|A[38]>>>24,Ie=A[48]<<14|A[49]>>>18,je=A[49]<<14|A[48]>>>18,A[0]=ar^~dr&Kr,A[1]=zr^~le&Y,A[10]=$t^~et&st,A[11]=Qe^~Ue&at,A[20]=Ti^~an&zo,A[21]=Fi^~jo&no,A[30]=Ii^~Di&wr,A[31]=Ho^~ur&ri,A[40]=$o^~Go&ni,A[41]=uo^~Wo&Yo,A[2]=dr^~Kr&re,A[3]=le^~Y&ye,A[12]=et^~st&er,A[13]=Ue^~at&zn,A[22]=an^~zo&Bi,A[23]=jo^~no&io,A[32]=Di^~wr&Kn,A[33]=ur^~ri&oo,A[42]=Go^~ni&Vo,A[43]=Wo^~Yo&co,A[4]=Kr^~re&Ie,A[5]=Y^~ye&je,A[14]=st^~er&ro,A[15]=at^~zn&Ci,A[24]=zo^~Bi&Ko,A[25]=no^~io&qo,A[34]=wr^~Kn&so,A[35]=ri^~oo&ao,A[44]=ni^~Vo&gn,A[45]=Yo^~co&Jo,A[6]=re^~Ie&ar,A[7]=ye^~je&zr,A[16]=er^~ro&$t,A[17]=zn^~Ci&Qe,A[26]=Bi^~Ko&Ti,A[27]=io^~qo&Fi,A[36]=Kn^~so&Ii,A[37]=oo^~ao&Ho,A[46]=Vo^~gn&$o,A[47]=co^~Jo&uo,A[8]=Ie^~ar&dr,A[9]=je^~zr&le,A[18]=ro^~$t&et,A[19]=Ci^~Qe&Ue,A[28]=Ko^~Ti&an,A[29]=qo^~Fi&jo,A[38]=so^~Ii&Di,A[39]=ao^~Ho&ur,A[48]=gn^~$o&Go,A[49]=Jo^~uo&Wo,A[0]^=W[Be],A[1]^=W[Be+1]};if(u)sp.exports=Ft;else{for(or=0;or<Nt.length;++or)n[Nt[or]]=Ft[Nt[or]];c&&define(function(){return Ft})}})()});var ZA=G((Fl,ap)=>{(function(t,e){"use strict";var r={version:"3.0.0",x86:{},x64:{},inputValidation:!0};function n(_){if(!Array.isArray(_)&&!ArrayBuffer.isView(_))return!1;for(var R=0;R<_.length;R++)if(!Number.isInteger(_[R])||_[R]<0||_[R]>255)return!1;return!0}function i(_,R){return(_&65535)*R+(((_>>>16)*R&65535)<<16)}function s(_,R){return _<<R|_>>>32-R}function u(_){return _^=_>>>16,_=i(_,2246822507),_^=_>>>13,_=i(_,3266489909),_^=_>>>16,_}function c(_,R){_=[_[0]>>>16,_[0]&65535,_[1]>>>16,_[1]&65535],R=[R[0]>>>16,R[0]&65535,R[1]>>>16,R[1]&65535];var W=[0,0,0,0];return W[3]+=_[3]+R[3],W[2]+=W[3]>>>16,W[3]&=65535,W[2]+=_[2]+R[2],W[1]+=W[2]>>>16,W[2]&=65535,W[1]+=_[1]+R[1],W[0]+=W[1]>>>16,W[1]&=65535,W[0]+=_[0]+R[0],W[0]&=65535,[W[0]<<16|W[1],W[2]<<16|W[3]]}function p(_,R){_=[_[0]>>>16,_[0]&65535,_[1]>>>16,_[1]&65535],R=[R[0]>>>16,R[0]&65535,R[1]>>>16,R[1]&65535];var W=[0,0,0,0];return W[3]+=_[3]*R[3],W[2]+=W[3]>>>16,W[3]&=65535,W[2]+=_[2]*R[3],W[1]+=W[2]>>>16,W[2]&=65535,W[2]+=_[3]*R[2],W[1]+=W[2]>>>16,W[2]&=65535,W[1]+=_[1]*R[3],W[0]+=W[1]>>>16,W[1]&=65535,W[1]+=_[2]*R[2],W[0]+=W[1]>>>16,W[1]&=65535,W[1]+=_[3]*R[1],W[0]+=W[1]>>>16,W[1]&=65535,W[0]+=_[0]*R[3]+_[1]*R[2]+_[2]*R[1]+_[3]*R[0],W[0]&=65535,[W[0]<<16|W[1],W[2]<<16|W[3]]}function l(_,R){return R%=64,R===32?[_[1],_[0]]:R<32?[_[0]<<R|_[1]>>>32-R,_[1]<<R|_[0]>>>32-R]:(R-=32,[_[1]<<R|_[0]>>>32-R,_[0]<<R|_[1]>>>32-R])}function y(_,R){return R%=64,R===0?_:R<32?[_[0]<<R|_[1]>>>32-R,_[1]<<R]:[_[1]<<R-32,0]}function w(_,R){return[_[0]^R[0],_[1]^R[1]]}function B(_){return _=w(_,[0,_[0]>>>1]),_=p(_,[4283543511,3981806797]),_=w(_,[0,_[0]>>>1]),_=p(_,[3301882366,444984403]),_=w(_,[0,_[0]>>>1]),_}r.x86.hash32=function(_,R){if(r.inputValidation&&!n(_))return e;R=R||0;for(var W=_.length%4,we=_.length-W,Z=R,ne=0,V=3432918353,ce=461845907,xe=0;xe<we;xe=xe+4)ne=_[xe]|_[xe+1]<<8|_[xe+2]<<16|_[xe+3]<<24,ne=i(ne,V),ne=s(ne,15),ne=i(ne,ce),Z^=ne,Z=s(Z,13),Z=i(Z,5)+3864292196;switch(ne=0,W){case 3:ne^=_[xe+2]<<16;case 2:ne^=_[xe+1]<<8;case 1:ne^=_[xe],ne=i(ne,V),ne=s(ne,15),ne=i(ne,ce),Z^=ne}return Z^=_.length,Z=u(Z),Z>>>0},r.x86.hash128=function(_,R){if(r.inputValidation&&!n(_))return e;R=R||0;for(var W=_.length%16,we=_.length-W,Z=R,ne=R,V=R,ce=R,xe=0,X=0,ee=0,Ae=0,Ve=597399067,ct=2869860233,_t=951274213,ht=2716044179,qe=0;qe<we;qe=qe+16)xe=_[qe]|_[qe+1]<<8|_[qe+2]<<16|_[qe+3]<<24,X=_[qe+4]|_[qe+5]<<8|_[qe+6]<<16|_[qe+7]<<24,ee=_[qe+8]|_[qe+9]<<8|_[qe+10]<<16|_[qe+11]<<24,Ae=_[qe+12]|_[qe+13]<<8|_[qe+14]<<16|_[qe+15]<<24,xe=i(xe,Ve),xe=s(xe,15),xe=i(xe,ct),Z^=xe,Z=s(Z,19),Z+=ne,Z=i(Z,5)+1444728091,X=i(X,ct),X=s(X,16),X=i(X,_t),ne^=X,ne=s(ne,17),ne+=V,ne=i(ne,5)+197830471,ee=i(ee,_t),ee=s(ee,17),ee=i(ee,ht),V^=ee,V=s(V,15),V+=ce,V=i(V,5)+2530024501,Ae=i(Ae,ht),Ae=s(Ae,18),Ae=i(Ae,Ve),ce^=Ae,ce=s(ce,13),ce+=Z,ce=i(ce,5)+850148119;switch(xe=0,X=0,ee=0,Ae=0,W){case 15:Ae^=_[qe+14]<<16;case 14:Ae^=_[qe+13]<<8;case 13:Ae^=_[qe+12],Ae=i(Ae,ht),Ae=s(Ae,18),Ae=i(Ae,Ve),ce^=Ae;case 12:ee^=_[qe+11]<<24;case 11:ee^=_[qe+10]<<16;case 10:ee^=_[qe+9]<<8;case 9:ee^=_[qe+8],ee=i(ee,_t),ee=s(ee,17),ee=i(ee,ht),V^=ee;case 8:X^=_[qe+7]<<24;case 7:X^=_[qe+6]<<16;case 6:X^=_[qe+5]<<8;case 5:X^=_[qe+4],X=i(X,ct),X=s(X,16),X=i(X,_t),ne^=X;case 4:xe^=_[qe+3]<<24;case 3:xe^=_[qe+2]<<16;case 2:xe^=_[qe+1]<<8;case 1:xe^=_[qe],xe=i(xe,Ve),xe=s(xe,15),xe=i(xe,ct),Z^=xe}return Z^=_.length,ne^=_.length,V^=_.length,ce^=_.length,Z+=ne,Z+=V,Z+=ce,ne+=Z,V+=Z,ce+=Z,Z=u(Z),ne=u(ne),V=u(V),ce=u(ce),Z+=ne,Z+=V,Z+=ce,ne+=Z,V+=Z,ce+=Z,("00000000"+(Z>>>0).toString(16)).slice(-8)+("00000000"+(ne>>>0).toString(16)).slice(-8)+("00000000"+(V>>>0).toString(16)).slice(-8)+("00000000"+(ce>>>0).toString(16)).slice(-8)},r.x64.hash128=function(_,R){if(r.inputValidation&&!n(_))return e;R=R||0;for(var W=_.length%16,we=_.length-W,Z=[0,R],ne=[0,R],V=[0,0],ce=[0,0],xe=[2277735313,289559509],X=[1291169091,658871167],ee=0;ee<we;ee=ee+16)V=[_[ee+4]|_[ee+5]<<8|_[ee+6]<<16|_[ee+7]<<24,_[ee]|_[ee+1]<<8|_[ee+2]<<16|_[ee+3]<<24],ce=[_[ee+12]|_[ee+13]<<8|_[ee+14]<<16|_[ee+15]<<24,_[ee+8]|_[ee+9]<<8|_[ee+10]<<16|_[ee+11]<<24],V=p(V,xe),V=l(V,31),V=p(V,X),Z=w(Z,V),Z=l(Z,27),Z=c(Z,ne),Z=c(p(Z,[0,5]),[0,1390208809]),ce=p(ce,X),ce=l(ce,33),ce=p(ce,xe),ne=w(ne,ce),ne=l(ne,31),ne=c(ne,Z),ne=c(p(ne,[0,5]),[0,944331445]);switch(V=[0,0],ce=[0,0],W){case 15:ce=w(ce,y([0,_[ee+14]],48));case 14:ce=w(ce,y([0,_[ee+13]],40));case 13:ce=w(ce,y([0,_[ee+12]],32));case 12:ce=w(ce,y([0,_[ee+11]],24));case 11:ce=w(ce,y([0,_[ee+10]],16));case 10:ce=w(ce,y([0,_[ee+9]],8));case 9:ce=w(ce,[0,_[ee+8]]),ce=p(ce,X),ce=l(ce,33),ce=p(ce,xe),ne=w(ne,ce);case 8:V=w(V,y([0,_[ee+7]],56));case 7:V=w(V,y([0,_[ee+6]],48));case 6:V=w(V,y([0,_[ee+5]],40));case 5:V=w(V,y([0,_[ee+4]],32));case 4:V=w(V,y([0,_[ee+3]],24));case 3:V=w(V,y([0,_[ee+2]],16));case 2:V=w(V,y([0,_[ee+1]],8));case 1:V=w(V,[0,_[ee]]),V=p(V,xe),V=l(V,31),V=p(V,X),Z=w(Z,V)}return Z=w(Z,[0,_.length]),ne=w(ne,[0,_.length]),Z=c(Z,ne),ne=c(ne,Z),Z=B(Z),ne=B(ne),Z=c(Z,ne),ne=c(ne,Z),("00000000"+(Z[0]>>>0).toString(16)).slice(-8)+("00000000"+(Z[1]>>>0).toString(16)).slice(-8)+("00000000"+(ne[0]>>>0).toString(16)).slice(-8)+("00000000"+(ne[1]>>>0).toString(16)).slice(-8)},typeof Fl!="undefined"?(typeof ap!="undefined"&&ap.exports&&(Fl=ap.exports=r),Fl.murmurHash3=r):typeof define=="function"&&define.amd?define([],function(){return r}):(r._murmurHash3=t.murmurHash3,r.noConflict=function(){return t.murmurHash3=r._murmurHash3,r._murmurHash3=e,r.noConflict=e,r},t.murmurHash3=r)})(Fl)});var e8=G((fH,QA)=>{QA.exports=ZA()});var r8=G((lH,t8)=>{"use strict";var OL=Al(),Qc=self.crypto||self.msCrypto,Y1=async(t,e)=>{if(typeof self=="undefined"||!Qc)throw new Error("Please use a browser with webcrypto support and ensure the code has been delivered securely via HTTPS/TLS and run within a Secure Context");switch(e){case"sha1":return new Uint8Array(await Qc.subtle.digest({name:"SHA-1"},t));case"sha2-256":return new Uint8Array(await Qc.subtle.digest({name:"SHA-256"},t));case"sha2-512":return new Uint8Array(await Qc.subtle.digest({name:"SHA-512"},t));case"dbl-sha2-256":{let r=await Qc.subtle.digest({name:"SHA-256"},t);return new Uint8Array(await Qc.subtle.digest({name:"SHA-256"},r))}default:throw new Error(`${e} is not a supported algorithm`)}};t8.exports={factory:t=>async e=>Y1(e,t),digest:Y1,multihashing:async(t,e,r)=>{let n=await Y1(t,e);return OL.encode(n,e,r)}}});var i8=G((hH,n8)=>{"use strict";var jL=t=>{let e=new Uint8Array(4);for(let r=0;r<4;r++)e[r]=t&255,t=t>>8;return e};n8.exports={fromNumberTo32BitBuf:jL}});var s8=G((dH,o8)=>{"use strict";var{encoding:zL}=So(),KL=new TextEncoder;function qL(t){let e=new Uint8Array(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}function HL(t,e="utf8"){return e==="utf8"||e==="utf-8"?KL.encode(t):e==="ascii"?qL(t):zL(e).decode(t)}o8.exports=HL});var V1=G((pH,a8)=>{var $L="Input must be an string, Buffer or Uint8Array";function GL(t){var e;if(t instanceof Uint8Array)e=t;else if(t instanceof Buffer)e=new Uint8Array(t);else if(typeof t=="string")e=new Uint8Array(Buffer.from(t,"utf8"));else throw new Error($L);return e}function WL(t){return Array.prototype.map.call(t,function(e){return(e<16?"0":"")+e.toString(16)}).join("")}function up(t){return(4294967296+t).toString(16).substring(1)}function YL(t,e,r){for(var n=`
`+t+" = ",i=0;i<e.length;i+=2){if(r===32)n+=up(e[i]).toUpperCase(),n+=" ",n+=up(e[i+1]).toUpperCase();else if(r===64)n+=up(e[i+1]).toUpperCase(),n+=up(e[i]).toUpperCase();else throw new Error("Invalid size "+r);i%6==4?n+=`
`+new Array(t.length+4).join(" "):i<e.length-2&&(n+=" ")}console.log(n)}function VL(t,e,r){for(var n=new Date().getTime(),i=new Uint8Array(e),s=0;s<e;s++)i[s]=s%256;var u=new Date().getTime();for(console.log("Generated random input in "+(u-n)+"ms"),n=u,s=0;s<r;s++){var c=t(i),p=new Date().getTime(),l=p-n;n=p,console.log("Hashed in "+l+"ms: "+c.substring(0,20)+"..."),console.log(Math.round(e/(1<<20)/(l/1e3)*100)/100+" MB PER SECOND")}}a8.exports={normalizeInput:GL,toHex:WL,debugPrint:YL,testSpeed:VL}});var y8=G((mH,m8)=>{var u8=V1();function cp(t,e,r){var n=t[e]+t[r],i=t[e+1]+t[r+1];n>=4294967296&&i++,t[e]=n,t[e+1]=i}function c8(t,e,r,n){var i=t[e]+r;r<0&&(i+=4294967296);var s=t[e+1]+n;i>=4294967296&&s++,t[e]=i,t[e+1]=s}function JL(t,e){return t[e]^t[e+1]<<8^t[e+2]<<16^t[e+3]<<24}function Oa(t,e,r,n,i,s){var u=Bl[i],c=Bl[i+1],p=Bl[s],l=Bl[s+1];cp(mt,t,e),c8(mt,t,u,c);var y=mt[n]^mt[t],w=mt[n+1]^mt[t+1];mt[n]=w,mt[n+1]=y,cp(mt,r,n),y=mt[e]^mt[r],w=mt[e+1]^mt[r+1],mt[e]=y>>>24^w<<8,mt[e+1]=w>>>24^y<<8,cp(mt,t,e),c8(mt,t,p,l),y=mt[n]^mt[t],w=mt[n+1]^mt[t+1],mt[n]=y>>>16^w<<16,mt[n+1]=w>>>16^y<<16,cp(mt,r,n),y=mt[e]^mt[r],w=mt[e+1]^mt[r+1],mt[e]=w>>>31^y<<1,mt[e+1]=y>>>31^w<<1}var f8=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),XL=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],An=new Uint8Array(XL.map(function(t){return t*2})),mt=new Uint32Array(32),Bl=new Uint32Array(32);function l8(t,e){var r=0;for(r=0;r<16;r++)mt[r]=t.h[r],mt[r+16]=f8[r];for(mt[24]=mt[24]^t.t,mt[25]=mt[25]^t.t/4294967296,e&&(mt[28]=~mt[28],mt[29]=~mt[29]),r=0;r<32;r++)Bl[r]=JL(t.b,4*r);for(r=0;r<12;r++)Oa(0,8,16,24,An[r*16+0],An[r*16+1]),Oa(2,10,18,26,An[r*16+2],An[r*16+3]),Oa(4,12,20,28,An[r*16+4],An[r*16+5]),Oa(6,14,22,30,An[r*16+6],An[r*16+7]),Oa(0,10,20,30,An[r*16+8],An[r*16+9]),Oa(2,12,22,24,An[r*16+10],An[r*16+11]),Oa(4,14,16,26,An[r*16+12],An[r*16+13]),Oa(6,8,18,28,An[r*16+14],An[r*16+15]);for(r=0;r<16;r++)t.h[r]=t.h[r]^mt[r]^mt[r+16]}function h8(t,e){if(t===0||t>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(e&&e.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");for(var r={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:t},n=0;n<16;n++)r.h[n]=f8[n];var i=e?e.length:0;return r.h[0]^=16842752^i<<8^t,e&&(J1(r,e),r.c=128),r}function J1(t,e){for(var r=0;r<e.length;r++)t.c===128&&(t.t+=t.c,l8(t,!1),t.c=0),t.b[t.c++]=e[r]}function d8(t){for(t.t+=t.c;t.c<128;)t.b[t.c++]=0;l8(t,!0);for(var e=new Uint8Array(t.outlen),r=0;r<t.outlen;r++)e[r]=t.h[r>>2]>>8*(r&3);return e}function p8(t,e,r){r=r||64,t=u8.normalizeInput(t);var n=h8(r,e);return J1(n,t),d8(n)}function ZL(t,e,r){var n=p8(t,e,r);return u8.toHex(n)}m8.exports={blake2b:p8,blake2bHex:ZL,blake2bInit:h8,blake2bUpdate:J1,blake2bFinal:d8}});var k8=G((yH,A8)=>{var g8=V1();function QL(t,e){return t[e]^t[e+1]<<8^t[e+2]<<16^t[e+3]<<24}function ja(t,e,r,n,i,s){qt[t]=qt[t]+qt[e]+i,qt[n]=fp(qt[n]^qt[t],16),qt[r]=qt[r]+qt[n],qt[e]=fp(qt[e]^qt[r],12),qt[t]=qt[t]+qt[e]+s,qt[n]=fp(qt[n]^qt[t],8),qt[r]=qt[r]+qt[n],qt[e]=fp(qt[e]^qt[r],7)}function fp(t,e){return t>>>e^t<<32-e}var b8=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),kn=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),qt=new Uint32Array(16),pn=new Uint32Array(16);function v8(t,e){var r=0;for(r=0;r<8;r++)qt[r]=t.h[r],qt[r+8]=b8[r];for(qt[12]^=t.t,qt[13]^=t.t/4294967296,e&&(qt[14]=~qt[14]),r=0;r<16;r++)pn[r]=QL(t.b,4*r);for(r=0;r<10;r++)ja(0,4,8,12,pn[kn[r*16+0]],pn[kn[r*16+1]]),ja(1,5,9,13,pn[kn[r*16+2]],pn[kn[r*16+3]]),ja(2,6,10,14,pn[kn[r*16+4]],pn[kn[r*16+5]]),ja(3,7,11,15,pn[kn[r*16+6]],pn[kn[r*16+7]]),ja(0,5,10,15,pn[kn[r*16+8]],pn[kn[r*16+9]]),ja(1,6,11,12,pn[kn[r*16+10]],pn[kn[r*16+11]]),ja(2,7,8,13,pn[kn[r*16+12]],pn[kn[r*16+13]]),ja(3,4,9,14,pn[kn[r*16+14]],pn[kn[r*16+15]]);for(r=0;r<8;r++)t.h[r]^=qt[r]^qt[r+8]}function w8(t,e){if(!(t>0&&t<=32))throw new Error("Incorrect output length, should be in [1, 32]");var r=e?e.length:0;if(e&&!(r>0&&r<=32))throw new Error("Incorrect key length, should be in [1, 32]");var n={h:new Uint32Array(b8),b:new Uint32Array(64),c:0,t:0,outlen:t};return n.h[0]^=16842752^r<<8^t,r>0&&(X1(n,e),n.c=64),n}function X1(t,e){for(var r=0;r<e.length;r++)t.c===64&&(t.t+=t.c,v8(t,!1),t.c=0),t.b[t.c++]=e[r]}function _8(t){for(t.t+=t.c;t.c<64;)t.b[t.c++]=0;v8(t,!0);for(var e=new Uint8Array(t.outlen),r=0;r<t.outlen;r++)e[r]=t.h[r>>2]>>8*(r&3)&255;return e}function x8(t,e,r){r=r||32,t=g8.normalizeInput(t);var n=w8(r,e);return X1(n,t),_8(n)}function eM(t,e,r){var n=x8(t,e,r);return g8.toHex(n)}A8.exports={blake2s:x8,blake2sHex:eM,blake2sInit:w8,blake2sUpdate:X1,blake2sFinal:_8}});var S8=G((gH,E8)=>{var Il=y8(),Dl=k8();E8.exports={blake2b:Il.blake2b,blake2bHex:Il.blake2bHex,blake2bInit:Il.blake2bInit,blake2bUpdate:Il.blake2bUpdate,blake2bFinal:Il.blake2bFinal,blake2s:Dl.blake2s,blake2sHex:Dl.blake2sHex,blake2sInit:Dl.blake2sInit,blake2sUpdate:Dl.blake2sUpdate,blake2sFinal:Dl.blake2sFinal}});var T8=G((bH,C8)=>{"use strict";var ef=S8(),tM=45569,rM=45633,nM={init:ef.blake2bInit,update:ef.blake2bUpdate,digest:ef.blake2bFinal},iM={init:ef.blake2sInit,update:ef.blake2sUpdate,digest:ef.blake2sFinal},P8=(t,e)=>async r=>{let n=e.init(t,null);return e.update(n,r),e.digest(n)};C8.exports=t=>{for(let e=0;e<64;e++)t[tM+e]=P8(e+1,nM);for(let e=0;e<32;e++)t[rM+e]=P8(e+1,iM)}});var I8=G((vH,B8)=>{"use strict";var bs=XA(),F8=e8(),{factory:lp}=r8(),{fromNumberTo32BitBuf:oM}=i8(),sM=s8(),Yi=t=>async e=>{switch(t){case"sha3-224":return new Uint8Array(bs.sha3_224.arrayBuffer(e));case"sha3-256":return new Uint8Array(bs.sha3_256.arrayBuffer(e));case"sha3-384":return new Uint8Array(bs.sha3_384.arrayBuffer(e));case"sha3-512":return new Uint8Array(bs.sha3_512.arrayBuffer(e));case"shake-128":return new Uint8Array(bs.shake128.create(128).update(e).arrayBuffer());case"shake-256":return new Uint8Array(bs.shake256.create(256).update(e).arrayBuffer());case"keccak-224":return new Uint8Array(bs.keccak224.arrayBuffer(e));case"keccak-256":return new Uint8Array(bs.keccak256.arrayBuffer(e));case"keccak-384":return new Uint8Array(bs.keccak384.arrayBuffer(e));case"keccak-512":return new Uint8Array(bs.keccak512.arrayBuffer(e));case"murmur3-128":return sM(F8.x64.hash128(e),"base16");case"murmur3-32":return oM(F8.x86.hash32(e));default:throw new TypeError(`${t} is not a supported algorithm`)}},aM=t=>t;B8.exports={identity:aM,sha1:lp("sha1"),sha2256:lp("sha2-256"),sha2512:lp("sha2-512"),dblSha2256:lp("dbl-sha2-256"),sha3224:Yi("sha3-224"),sha3256:Yi("sha3-256"),sha3384:Yi("sha3-384"),sha3512:Yi("sha3-512"),shake128:Yi("shake-128"),shake256:Yi("shake-256"),keccak224:Yi("keccak-224"),keccak256:Yi("keccak-256"),keccak384:Yi("keccak-384"),keccak512:Yi("keccak-512"),murmur3128:Yi("murmur3-128"),murmur332:Yi("murmur3-32"),addBlake:T8()}});var R8=G((wH,D8)=>{"use strict";function uM(t,e){if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0}D8.exports=uM});var L8=G((_H,U8)=>{"use strict";var N8=JA(),hp=Al(),on=I8(),cM=R8();async function Vi(t,e,r){let n=await Vi.digest(t,e,r);return hp.encode(n,e,r)}Vi.multihash=hp;Vi.digest=async(t,e,r)=>{let i=await Vi.createHash(e)(t);return r?i.slice(0,r):i};Vi.createHash=function(t){if(!t)throw N8(new Error("hash algorithm must be specified"),"ERR_HASH_ALGORITHM_NOT_SPECIFIED");let e=hp.coerceCode(t);if(!Vi.functions[e])throw N8(new Error(`multihash function '${t}' not yet supported`),"ERR_HASH_ALGORITHM_NOT_SUPPORTED");return Vi.functions[e]};Vi.functions={0:on.identity,17:on.sha1,18:on.sha2256,19:on.sha2512,20:on.sha3512,21:on.sha3384,22:on.sha3256,23:on.sha3224,24:on.shake128,25:on.shake256,26:on.keccak224,27:on.keccak256,28:on.keccak384,29:on.keccak512,34:on.murmur3128,35:on.murmur332,86:on.dblSha2256};on.addBlake(Vi.functions);Vi.validate=async(t,e)=>{let r=await Vi(t,hp.decode(e).name);return cM(e,r)};U8.exports=Vi});var Z1=G((xH,q8)=>{"use strict";var fM=Ra(),M8=m1(),O8=L8(),{multihash:j8}=O8,z8=M8.DAG_PB,K8=j8.names["sha2-256"],lM=async(t,e={})=>{let r={cidVersion:e.cidVersion==null?1:e.cidVersion,hashAlg:e.hashAlg==null?K8:e.hashAlg},n=j8.codes[r.hashAlg],i=await O8(t,n),s=M8.getNameFromCode(z8);return new fM(r.cidVersion,s,i)};q8.exports={codec:z8,defaultHashAlg:K8,cid:lM}});var $8=G((AH,H8)=>{"use strict";var hM=Du(),dM=Z1(),pM=async(t,e={})=>{let r=t.serialize(),n=await dM.cid(r,e);return new hM(e.name||"",t.size,n)};H8.exports=pM});var Y8=G((kH,W8)=>{"use strict";var mM=$1(),G8=Du(),yM=t=>{if(t instanceof G8)return t;if(!("cid"in t||"hash"in t||"Hash"in t||"multihash"in t))throw new Error("Link must be a DAGLink or DAGLink-like. Convert the DAGNode into a DAGLink via `node.toDAGLink()`.");return new G8(t.Name||t.name,t.Tsize||t.size,t.Hash||t.multihash||t.hash||t.cid)},gM=(t,e)=>{let r=yM(e);t.Links.push(r),mM(t.Links)};W8.exports=gM});var J8=G((EH,V8)=>{"use strict";function bM(t,e){if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0}V8.exports=bM});var Q8=G((SH,Z8)=>{"use strict";var vM=Ra(),X8=J8(),wM=(t,e)=>{let r=null;if(typeof e=="string"?r=n=>n.Name===e:e instanceof Uint8Array?r=n=>X8(n.Hash.bytes,e):vM.isCID(e)&&(r=n=>X8(n.Hash.bytes,e.bytes)),r){let n=t.Links,i=0;for(;i<n.length;){let s=n[i];r(s)?n.splice(i,1):i++}}else throw new Error("second arg needs to be a name or CID")};Z8.exports=wM});var tk=G((PH,ek)=>{"use strict";var{encoding:_M}=So(),xM=new TextDecoder("utf8");function AM(t){let e="";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e}function kM(t,e="utf8"){return e==="utf8"||e==="utf-8"?xM.decode(t):e==="ascii"?AM(t):_M(e).encode(t)}ek.exports=kM});var Q1=G((CH,nk)=>{"use strict";var EM=$1(),SM=Du(),{createDagLinkFromB58EncodedHash:PM}=G1(),{serializeDAGNode:CM}=W1(),TM=$8(),FM=Y8(),BM=Q8(),IM=K1(),DM=tk(),rk=class{constructor(e,r=[],n=null){if(e||(e=new Uint8Array(0)),typeof e=="string"&&(e=IM(e)),!(e instanceof Uint8Array))throw new Error("Passed 'data' is not a Uint8Array or a String!");if(n!==null&&typeof n!="number")throw new Error("Passed 'serializedSize' must be a number!");let i=r.map(s=>s instanceof SM?s:PM(s));EM(i),this.Data=e,this.Links=i,Object.defineProperties(this,{_serializedSize:{value:n,writable:!0,enumerable:!1},_size:{value:null,writable:!0,enumerable:!1}})}toJSON(){return this._json||(this._json=Object.freeze({data:this.Data,links:this.Links.map(e=>e.toJSON()),size:this.size})),Object.assign({},this._json)}toString(){return`DAGNode <data: "${DM(this.Data,"base64urlpad")}", links: ${this.Links.length}, size: ${this.size}>`}_invalidateCached(){this._serializedSize=null,this._size=null}addLink(e){return this._invalidateCached(),FM(this,e)}rmLink(e){return this._invalidateCached(),BM(this,e)}toDAGLink(e){return TM(this,e)}serialize(){let e=CM(this);return this._serializedSize=e.length,e}get size(){if(this._size==null){let e;e==null&&(this._serializedSize=this.serialize().length,e=this._serializedSize),this._size=this.Links.reduce((r,n)=>r+n.Tsize,e)}return this._size}set size(e){throw new Error("Can't set property: 'size' is immutable")}};nk.exports=rk});var tg=G((TH,sk)=>{"use strict";var{PBNode:ik}=z1(),RM=Du(),ok=Q1(),{serializeDAGNode:NM,serializeDAGNodeLike:UM}=W1(),eg=Z1(),LM=(t,e)=>eg.cid(t,e),MM=t=>t instanceof ok?NM(t):UM(t.Data,t.Links),OM=t=>{let e=ik.decode(t),r=ik.toObject(e,{defaults:!1,arrays:!0,longs:Number,objects:!1}),n=r.Links.map(s=>new RM(s.Name,s.Tsize,s.Hash)),i=r.Data==null?new Uint8Array(0):r.Data;return new ok(i,n,t.byteLength)};sk.exports={codec:eg.codec,defaultHashAlg:eg.defaultHashAlg,serialize:MM,deserialize:OM,cid:LM}});var uk=G(rg=>{"use strict";var jM=Ra(),ak=tg();rg.resolve=(t,e="/")=>{let r=ak.deserialize(t),n=e.split("/").filter(Boolean);for(;n.length;){let i=n.shift();if(r[i]===void 0){for(let s of r.Links)if(s.Name===i)return{value:s.Hash,remainderPath:n.join("/")};throw new Error(`Object has no property '${i}'`)}if(r=r[i],jM.isCID(r))return{value:r,remainderPath:n.join("/")}}return{value:r,remainderPath:""}};rg.tree=function*(t){let e=ak.deserialize(t);yield"Data",yield"Links";for(let r=0;r<e.Links.length;r++)yield`Links/${r}`,yield`Links/${r}/Name`,yield`Links/${r}/Tsize`,yield`Links/${r}/Hash`}});var dp=G((BH,ck)=>{"use strict";var zM=uk(),ng=tg(),KM=Q1(),qM=Du(),HM={DAGNode:KM,DAGLink:qM,resolver:zM,util:ng,codec:ng.codec,defaultHashAlg:ng.defaultHashAlg};ck.exports=HM});var q6=G((K6,Hp)=>{(function(t){var e={36:n(Math.pow(36,5)),16:n(Math.pow(16,7)),10:n(Math.pow(10,9)),2:n(Math.pow(2,30))},r={36:n(36),16:n(16),10:n(10),2:n(2)};function n(c,p){if(!(this instanceof n))return new n(c,p);if(this._low=0,this._high=0,this.remainder=null,typeof p=="undefined")return s.call(this,c);if(typeof c=="string")return u.call(this,c,p);i.call(this,c,p)}function i(c,p){return this._low=c|0,this._high=p|0,this}n.prototype.fromBits=i;function s(c){return this._low=c&65535,this._high=c>>>16,this}n.prototype.fromNumber=s;function u(c,p){var l=parseInt(c,p||10);return this._low=l&65535,this._high=l>>>16,this}n.prototype.fromString=u,n.prototype.toNumber=function(){return this._high*65536+this._low},n.prototype.toString=function(c){return this.toNumber().toString(c||10)},n.prototype.add=function(c){var p=this._low+c._low,l=p>>>16;return l+=this._high+c._high,this._low=p&65535,this._high=l&65535,this},n.prototype.subtract=function(c){return this.add(c.clone().negate())},n.prototype.multiply=function(c){var p=this._high,l=this._low,y=c._high,w=c._low,B,_;return _=l*w,B=_>>>16,B+=p*w,B&=65535,B+=l*y,this._low=_&65535,this._high=B&65535,this},n.prototype.div=function(c){if(c._low==0&&c._high==0)throw Error("division by zero");if(c._high==0&&c._low==1)return this.remainder=new n(0),this;if(c.gt(this))return this.remainder=this.clone(),this._low=0,this._high=0,this;if(this.eq(c))return this.remainder=new n(0),this._low=1,this._high=0,this;for(var p=c.clone(),l=-1;!this.lt(p);)p.shiftLeft(1,!0),l++;for(this.remainder=this.clone(),this._low=0,this._high=0;l>=0;l--)p.shiftRight(1),this.remainder.lt(p)||(this.remainder.subtract(p),l>=16?this._high|=1<<l-16:this._low|=1<<l);return this},n.prototype.negate=function(){var c=(~this._low&65535)+1;return this._low=c&65535,this._high=~this._high+(c>>>16)&65535,this},n.prototype.equals=n.prototype.eq=function(c){return this._low==c._low&&this._high==c._high},n.prototype.greaterThan=n.prototype.gt=function(c){return this._high>c._high?!0:this._high<c._high?!1:this._low>c._low},n.prototype.lessThan=n.prototype.lt=function(c){return this._high<c._high?!0:this._high>c._high?!1:this._low<c._low},n.prototype.or=function(c){return this._low|=c._low,this._high|=c._high,this},n.prototype.and=function(c){return this._low&=c._low,this._high&=c._high,this},n.prototype.not=function(){return this._low=~this._low&65535,this._high=~this._high&65535,this},n.prototype.xor=function(c){return this._low^=c._low,this._high^=c._high,this},n.prototype.shiftRight=n.prototype.shiftr=function(c){return c>16?(this._low=this._high>>c-16,this._high=0):c==16?(this._low=this._high,this._high=0):(this._low=this._low>>c|this._high<<16-c&65535,this._high>>=c),this},n.prototype.shiftLeft=n.prototype.shiftl=function(c,p){return c>16?(this._high=this._low<<c-16,this._low=0,p||(this._high&=65535)):c==16?(this._high=this._low,this._low=0):(this._high=this._high<<c|this._low>>16-c,this._low=this._low<<c&65535,p||(this._high&=65535)),this},n.prototype.rotateLeft=n.prototype.rotl=function(c){var p=this._high<<16|this._low;return p=p<<c|p>>>32-c,this._low=p&65535,this._high=p>>>16,this},n.prototype.rotateRight=n.prototype.rotr=function(c){var p=this._high<<16|this._low;return p=p>>>c|p<<32-c,this._low=p&65535,this._high=p>>>16,this},n.prototype.clone=function(){return new n(this._low,this._high)},typeof define!="undefined"&&define.amd?define([],function(){return n}):typeof Hp!="undefined"&&Hp.exports?Hp.exports=n:t.UINT32=n})(K6)});var $6=G((H6,$p)=>{(function(t){var e={16:n(Math.pow(16,5)),10:n(Math.pow(10,5)),2:n(Math.pow(2,5))},r={16:n(16),10:n(10),2:n(2)};function n(c,p,l,y){if(!(this instanceof n))return new n(c,p,l,y);if(this.remainder=null,typeof c=="string")return u.call(this,c,p);if(typeof p=="undefined")return s.call(this,c);i.apply(this,arguments)}function i(c,p,l,y){return typeof l=="undefined"?(this._a00=c&65535,this._a16=c>>>16,this._a32=p&65535,this._a48=p>>>16,this):(this._a00=c|0,this._a16=p|0,this._a32=l|0,this._a48=y|0,this)}n.prototype.fromBits=i;function s(c){return this._a00=c&65535,this._a16=c>>>16,this._a32=0,this._a48=0,this}n.prototype.fromNumber=s;function u(c,p){p=p||10,this._a00=0,this._a16=0,this._a32=0,this._a48=0;for(var l=e[p]||new n(Math.pow(p,5)),y=0,w=c.length;y<w;y+=5){var B=Math.min(5,w-y),_=parseInt(c.slice(y,y+B),p);this.multiply(B<5?new n(Math.pow(p,B)):l).add(new n(_))}return this}n.prototype.fromString=u,n.prototype.toNumber=function(){return this._a16*65536+this._a00},n.prototype.toString=function(c){c=c||10;var p=r[c]||new n(c);if(!this.gt(p))return this.toNumber().toString(c);for(var l=this.clone(),y=new Array(64),w=63;w>=0&&(l.div(p),y[w]=l.remainder.toNumber().toString(c),!!l.gt(p));w--);return y[w-1]=l.toNumber().toString(c),y.join("")},n.prototype.add=function(c){var p=this._a00+c._a00,l=p>>>16;l+=this._a16+c._a16;var y=l>>>16;y+=this._a32+c._a32;var w=y>>>16;return w+=this._a48+c._a48,this._a00=p&65535,this._a16=l&65535,this._a32=y&65535,this._a48=w&65535,this},n.prototype.subtract=function(c){return this.add(c.clone().negate())},n.prototype.multiply=function(c){var p=this._a00,l=this._a16,y=this._a32,w=this._a48,B=c._a00,_=c._a16,R=c._a32,W=c._a48,we=p*B,Z=we>>>16;Z+=p*_;var ne=Z>>>16;Z&=65535,Z+=l*B,ne+=Z>>>16,ne+=p*R;var V=ne>>>16;return ne&=65535,ne+=l*_,V+=ne>>>16,ne&=65535,ne+=y*B,V+=ne>>>16,V+=p*W,V&=65535,V+=l*R,V&=65535,V+=y*_,V&=65535,V+=w*B,this._a00=we&65535,this._a16=Z&65535,this._a32=ne&65535,this._a48=V&65535,this},n.prototype.div=function(c){if(c._a16==0&&c._a32==0&&c._a48==0){if(c._a00==0)throw Error("division by zero");if(c._a00==1)return this.remainder=new n(0),this}if(c.gt(this))return this.remainder=this.clone(),this._a00=0,this._a16=0,this._a32=0,this._a48=0,this;if(this.eq(c))return this.remainder=new n(0),this._a00=1,this._a16=0,this._a32=0,this._a48=0,this;for(var p=c.clone(),l=-1;!this.lt(p);)p.shiftLeft(1,!0),l++;for(this.remainder=this.clone(),this._a00=0,this._a16=0,this._a32=0,this._a48=0;l>=0;l--)p.shiftRight(1),this.remainder.lt(p)||(this.remainder.subtract(p),l>=48?this._a48|=1<<l-48:l>=32?this._a32|=1<<l-32:l>=16?this._a16|=1<<l-16:this._a00|=1<<l);return this},n.prototype.negate=function(){var c=(~this._a00&65535)+1;return this._a00=c&65535,c=(~this._a16&65535)+(c>>>16),this._a16=c&65535,c=(~this._a32&65535)+(c>>>16),this._a32=c&65535,this._a48=~this._a48+(c>>>16)&65535,this},n.prototype.equals=n.prototype.eq=function(c){return this._a48==c._a48&&this._a00==c._a00&&this._a32==c._a32&&this._a16==c._a16},n.prototype.greaterThan=n.prototype.gt=function(c){return this._a48>c._a48?!0:this._a48<c._a48?!1:this._a32>c._a32?!0:this._a32<c._a32?!1:this._a16>c._a16?!0:this._a16<c._a16?!1:this._a00>c._a00},n.prototype.lessThan=n.prototype.lt=function(c){return this._a48<c._a48?!0:this._a48>c._a48?!1:this._a32<c._a32?!0:this._a32>c._a32?!1:this._a16<c._a16?!0:this._a16>c._a16?!1:this._a00<c._a00},n.prototype.or=function(c){return this._a00|=c._a00,this._a16|=c._a16,this._a32|=c._a32,this._a48|=c._a48,this},n.prototype.and=function(c){return this._a00&=c._a00,this._a16&=c._a16,this._a32&=c._a32,this._a48&=c._a48,this},n.prototype.xor=function(c){return this._a00^=c._a00,this._a16^=c._a16,this._a32^=c._a32,this._a48^=c._a48,this},n.prototype.not=function(){return this._a00=~this._a00&65535,this._a16=~this._a16&65535,this._a32=~this._a32&65535,this._a48=~this._a48&65535,this},n.prototype.shiftRight=n.prototype.shiftr=function(c){return c%=64,c>=48?(this._a00=this._a48>>c-48,this._a16=0,this._a32=0,this._a48=0):c>=32?(c-=32,this._a00=(this._a32>>c|this._a48<<16-c)&65535,this._a16=this._a48>>c&65535,this._a32=0,this._a48=0):c>=16?(c-=16,this._a00=(this._a16>>c|this._a32<<16-c)&65535,this._a16=(this._a32>>c|this._a48<<16-c)&65535,this._a32=this._a48>>c&65535,this._a48=0):(this._a00=(this._a00>>c|this._a16<<16-c)&65535,this._a16=(this._a16>>c|this._a32<<16-c)&65535,this._a32=(this._a32>>c|this._a48<<16-c)&65535,this._a48=this._a48>>c&65535),this},n.prototype.shiftLeft=n.prototype.shiftl=function(c,p){return c%=64,c>=48?(this._a48=this._a00<<c-48,this._a32=0,this._a16=0,this._a00=0):c>=32?(c-=32,this._a48=this._a16<<c|this._a00>>16-c,this._a32=this._a00<<c&65535,this._a16=0,this._a00=0):c>=16?(c-=16,this._a48=this._a32<<c|this._a16>>16-c,this._a32=(this._a16<<c|this._a00>>16-c)&65535,this._a16=this._a00<<c&65535,this._a00=0):(this._a48=this._a48<<c|this._a32>>16-c,this._a32=(this._a32<<c|this._a16>>16-c)&65535,this._a16=(this._a16<<c|this._a00>>16-c)&65535,this._a00=this._a00<<c&65535),p||(this._a48&=65535),this},n.prototype.rotateLeft=n.prototype.rotl=function(c){if(c%=64,c==0)return this;if(c>=32){var p=this._a00;if(this._a00=this._a32,this._a32=p,p=this._a48,this._a48=this._a16,this._a16=p,c==32)return this;c-=32}var l=this._a48<<16|this._a32,y=this._a16<<16|this._a00,w=l<<c|y>>>32-c,B=y<<c|l>>>32-c;return this._a00=B&65535,this._a16=B>>>16,this._a32=w&65535,this._a48=w>>>16,this},n.prototype.rotateRight=n.prototype.rotr=function(c){if(c%=64,c==0)return this;if(c>=32){var p=this._a00;if(this._a00=this._a32,this._a32=p,p=this._a48,this._a48=this._a16,this._a16=p,c==32)return this;c-=32}var l=this._a48<<16|this._a32,y=this._a16<<16|this._a00,w=l>>>c|y<<32-c,B=y>>>c|l<<32-c;return this._a00=B&65535,this._a16=B>>>16,this._a32=w&65535,this._a48=w>>>16,this},n.prototype.clone=function(){return new n(this._a00,this._a16,this._a32,this._a48)},typeof define!="undefined"&&define.amd?define([],function(){return n}):typeof $p!="undefined"&&$p.exports?$p.exports=n:t.UINT64=n})(H6)});var zg=G(jg=>{jg.UINT32=q6();jg.UINT64=$6()});var J6=G((DW,V6)=>{var ea=zg().UINT32;ea.prototype.xxh_update=function(t,e){var r=Vl._low,n=Vl._high,i,s;s=t*r,i=s>>>16,i+=e*r,i&=65535,i+=t*n;var u=this._low+(s&65535),c=u>>>16;c+=this._high+(i&65535);var p=c<<16|u&65535;p=p<<13|p>>>19,u=p&65535,c=p>>>16,r=Yl._low,n=Yl._high,s=u*r,i=s>>>16,i+=c*r,i&=65535,i+=u*n,this._low=s&65535,this._high=i&65535};var Yl=ea("2654435761"),Vl=ea("2246822519"),G6=ea("3266489917"),DO=ea("668265263"),W6=ea("374761393");function RO(t){for(var e=[],r=0,n=t.length;r<n;r++){var i=t.charCodeAt(r);i<128?e.push(i):i<2048?e.push(192|i>>6,128|i&63):i<55296||i>=57344?e.push(224|i>>12,128|i>>6&63,128|i&63):(r++,i=65536+((i&1023)<<10|t.charCodeAt(r)&1023),e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63))}return new Uint8Array(e)}function Lu(){if(arguments.length==2)return new Lu(arguments[1]).update(arguments[0]).digest();if(!(this instanceof Lu))return new Lu(arguments[0]);Y6.call(this,arguments[0])}function Y6(t){return this.seed=t instanceof ea?t.clone():ea(t),this.v1=this.seed.clone().add(Yl).add(Vl),this.v2=this.seed.clone().add(Vl),this.v3=this.seed.clone(),this.v4=this.seed.clone().subtract(Yl),this.total_len=0,this.memsize=0,this.memory=null,this}Lu.prototype.init=Y6;Lu.prototype.update=function(t){var e=typeof t=="string",r;e&&(t=RO(t),e=!1,r=!0),typeof ArrayBuffer!="undefined"&&t instanceof ArrayBuffer&&(r=!0,t=new Uint8Array(t));var n=0,i=t.length,s=n+i;if(i==0)return this;if(this.total_len+=i,this.memsize==0&&(e?this.memory="":r?this.memory=new Uint8Array(16):this.memory=new Buffer(16)),this.memsize+i<16)return e?this.memory+=t:r?this.memory.set(t.subarray(0,i),this.memsize):t.copy(this.memory,this.memsize,0,i),this.memsize+=i,this;if(this.memsize>0){e?this.memory+=t.slice(0,16-this.memsize):r?this.memory.set(t.subarray(0,16-this.memsize),this.memsize):t.copy(this.memory,this.memsize,0,16-this.memsize);var u=0;e?(this.v1.xxh_update(this.memory.charCodeAt(u+1)<<8|this.memory.charCodeAt(u),this.memory.charCodeAt(u+3)<<8|this.memory.charCodeAt(u+2)),u+=4,this.v2.xxh_update(this.memory.charCodeAt(u+1)<<8|this.memory.charCodeAt(u),this.memory.charCodeAt(u+3)<<8|this.memory.charCodeAt(u+2)),u+=4,this.v3.xxh_update(this.memory.charCodeAt(u+1)<<8|this.memory.charCodeAt(u),this.memory.charCodeAt(u+3)<<8|this.memory.charCodeAt(u+2)),u+=4,this.v4.xxh_update(this.memory.charCodeAt(u+1)<<8|this.memory.charCodeAt(u),this.memory.charCodeAt(u+3)<<8|this.memory.charCodeAt(u+2))):(this.v1.xxh_update(this.memory[u+1]<<8|this.memory[u],this.memory[u+3]<<8|this.memory[u+2]),u+=4,this.v2.xxh_update(this.memory[u+1]<<8|this.memory[u],this.memory[u+3]<<8|this.memory[u+2]),u+=4,this.v3.xxh_update(this.memory[u+1]<<8|this.memory[u],this.memory[u+3]<<8|this.memory[u+2]),u+=4,this.v4.xxh_update(this.memory[u+1]<<8|this.memory[u],this.memory[u+3]<<8|this.memory[u+2])),n+=16-this.memsize,this.memsize=0,e&&(this.memory="")}if(n<=s-16){var c=s-16;do e?(this.v1.xxh_update(t.charCodeAt(n+1)<<8|t.charCodeAt(n),t.charCodeAt(n+3)<<8|t.charCodeAt(n+2)),n+=4,this.v2.xxh_update(t.charCodeAt(n+1)<<8|t.charCodeAt(n),t.charCodeAt(n+3)<<8|t.charCodeAt(n+2)),n+=4,this.v3.xxh_update(t.charCodeAt(n+1)<<8|t.charCodeAt(n),t.charCodeAt(n+3)<<8|t.charCodeAt(n+2)),n+=4,this.v4.xxh_update(t.charCodeAt(n+1)<<8|t.charCodeAt(n),t.charCodeAt(n+3)<<8|t.charCodeAt(n+2))):(this.v1.xxh_update(t[n+1]<<8|t[n],t[n+3]<<8|t[n+2]),n+=4,this.v2.xxh_update(t[n+1]<<8|t[n],t[n+3]<<8|t[n+2]),n+=4,this.v3.xxh_update(t[n+1]<<8|t[n],t[n+3]<<8|t[n+2]),n+=4,this.v4.xxh_update(t[n+1]<<8|t[n],t[n+3]<<8|t[n+2])),n+=4;while(n<=c)}return n<s&&(e?this.memory+=t.slice(n):r?this.memory.set(t.subarray(n,s),this.memsize):t.copy(this.memory,this.memsize,n,s),this.memsize=s-n),this};Lu.prototype.digest=function(){var t=this.memory,e=typeof t=="string",r=0,n=this.memsize,i,s,u=new ea;for(this.total_len>=16?i=this.v1.rotl(1).add(this.v2.rotl(7).add(this.v3.rotl(12).add(this.v4.rotl(18)))):i=this.seed.clone().add(W6),i.add(u.fromNumber(this.total_len));r<=n-4;)e?u.fromBits(t.charCodeAt(r+1)<<8|t.charCodeAt(r),t.charCodeAt(r+3)<<8|t.charCodeAt(r+2)):u.fromBits(t[r+1]<<8|t[r],t[r+3]<<8|t[r+2]),i.add(u.multiply(G6)).rotl(17).multiply(DO),r+=4;for(;r<n;)u.fromBits(e?t.charCodeAt(r++):t[r++],0),i.add(u.multiply(W6)).rotl(11).multiply(Yl);return s=i.clone().shiftRight(15),i.xor(s).multiply(Vl),s=i.clone().shiftRight(13),i.xor(s).multiply(G6),s=i.clone().shiftRight(16),i.xor(s),this.init(this.seed),i};V6.exports=Lu});var tE=G((RW,eE)=>{var gr=zg().UINT64,Qt=gr("11400714785074694791"),mr=gr("14029467366897019727"),X6=gr("1609587929392839161"),Jl=gr("9650029242287828579"),Z6=gr("2870177450012600261");function NO(t){for(var e=[],r=0,n=t.length;r<n;r++){var i=t.charCodeAt(r);i<128?e.push(i):i<2048?e.push(192|i>>6,128|i&63):i<55296||i>=57344?e.push(224|i>>12,128|i>>6&63,128|i&63):(r++,i=65536+((i&1023)<<10|t.charCodeAt(r)&1023),e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63))}return new Uint8Array(e)}function Mu(){if(arguments.length==2)return new Mu(arguments[1]).update(arguments[0]).digest();if(!(this instanceof Mu))return new Mu(arguments[0]);Q6.call(this,arguments[0])}function Q6(t){return this.seed=t instanceof gr?t.clone():gr(t),this.v1=this.seed.clone().add(Qt).add(mr),this.v2=this.seed.clone().add(mr),this.v3=this.seed.clone(),this.v4=this.seed.clone().subtract(Qt),this.total_len=0,this.memsize=0,this.memory=null,this}Mu.prototype.init=Q6;Mu.prototype.update=function(t){var e=typeof t=="string",r;e&&(t=NO(t),e=!1,r=!0),typeof ArrayBuffer!="undefined"&&t instanceof ArrayBuffer&&(r=!0,t=new Uint8Array(t));var n=0,i=t.length,s=n+i;if(i==0)return this;if(this.total_len+=i,this.memsize==0&&(e?this.memory="":r?this.memory=new Uint8Array(32):this.memory=new Buffer(32)),this.memsize+i<32)return e?this.memory+=t:r?this.memory.set(t.subarray(0,i),this.memsize):t.copy(this.memory,this.memsize,0,i),this.memsize+=i,this;if(this.memsize>0){e?this.memory+=t.slice(0,32-this.memsize):r?this.memory.set(t.subarray(0,32-this.memsize),this.memsize):t.copy(this.memory,this.memsize,0,32-this.memsize);var u=0;if(e){var c;c=gr(this.memory.charCodeAt(u+1)<<8|this.memory.charCodeAt(u),this.memory.charCodeAt(u+3)<<8|this.memory.charCodeAt(u+2),this.memory.charCodeAt(u+5)<<8|this.memory.charCodeAt(u+4),this.memory.charCodeAt(u+7)<<8|this.memory.charCodeAt(u+6)),this.v1.add(c.multiply(mr)).rotl(31).multiply(Qt),u+=8,c=gr(this.memory.charCodeAt(u+1)<<8|this.memory.charCodeAt(u),this.memory.charCodeAt(u+3)<<8|this.memory.charCodeAt(u+2),this.memory.charCodeAt(u+5)<<8|this.memory.charCodeAt(u+4),this.memory.charCodeAt(u+7)<<8|this.memory.charCodeAt(u+6)),this.v2.add(c.multiply(mr)).rotl(31).multiply(Qt),u+=8,c=gr(this.memory.charCodeAt(u+1)<<8|this.memory.charCodeAt(u),this.memory.charCodeAt(u+3)<<8|this.memory.charCodeAt(u+2),this.memory.charCodeAt(u+5)<<8|this.memory.charCodeAt(u+4),this.memory.charCodeAt(u+7)<<8|this.memory.charCodeAt(u+6)),this.v3.add(c.multiply(mr)).rotl(31).multiply(Qt),u+=8,c=gr(this.memory.charCodeAt(u+1)<<8|this.memory.charCodeAt(u),this.memory.charCodeAt(u+3)<<8|this.memory.charCodeAt(u+2),this.memory.charCodeAt(u+5)<<8|this.memory.charCodeAt(u+4),this.memory.charCodeAt(u+7)<<8|this.memory.charCodeAt(u+6)),this.v4.add(c.multiply(mr)).rotl(31).multiply(Qt)}else{var c;c=gr(this.memory[u+1]<<8|this.memory[u],this.memory[u+3]<<8|this.memory[u+2],this.memory[u+5]<<8|this.memory[u+4],this.memory[u+7]<<8|this.memory[u+6]),this.v1.add(c.multiply(mr)).rotl(31).multiply(Qt),u+=8,c=gr(this.memory[u+1]<<8|this.memory[u],this.memory[u+3]<<8|this.memory[u+2],this.memory[u+5]<<8|this.memory[u+4],this.memory[u+7]<<8|this.memory[u+6]),this.v2.add(c.multiply(mr)).rotl(31).multiply(Qt),u+=8,c=gr(this.memory[u+1]<<8|this.memory[u],this.memory[u+3]<<8|this.memory[u+2],this.memory[u+5]<<8|this.memory[u+4],this.memory[u+7]<<8|this.memory[u+6]),this.v3.add(c.multiply(mr)).rotl(31).multiply(Qt),u+=8,c=gr(this.memory[u+1]<<8|this.memory[u],this.memory[u+3]<<8|this.memory[u+2],this.memory[u+5]<<8|this.memory[u+4],this.memory[u+7]<<8|this.memory[u+6]),this.v4.add(c.multiply(mr)).rotl(31).multiply(Qt)}n+=32-this.memsize,this.memsize=0,e&&(this.memory="")}if(n<=s-32){var p=s-32;do{if(e){var c;c=gr(t.charCodeAt(n+1)<<8|t.charCodeAt(n),t.charCodeAt(n+3)<<8|t.charCodeAt(n+2),t.charCodeAt(n+5)<<8|t.charCodeAt(n+4),t.charCodeAt(n+7)<<8|t.charCodeAt(n+6)),this.v1.add(c.multiply(mr)).rotl(31).multiply(Qt),n+=8,c=gr(t.charCodeAt(n+1)<<8|t.charCodeAt(n),t.charCodeAt(n+3)<<8|t.charCodeAt(n+2),t.charCodeAt(n+5)<<8|t.charCodeAt(n+4),t.charCodeAt(n+7)<<8|t.charCodeAt(n+6)),this.v2.add(c.multiply(mr)).rotl(31).multiply(Qt),n+=8,c=gr(t.charCodeAt(n+1)<<8|t.charCodeAt(n),t.charCodeAt(n+3)<<8|t.charCodeAt(n+2),t.charCodeAt(n+5)<<8|t.charCodeAt(n+4),t.charCodeAt(n+7)<<8|t.charCodeAt(n+6)),this.v3.add(c.multiply(mr)).rotl(31).multiply(Qt),n+=8,c=gr(t.charCodeAt(n+1)<<8|t.charCodeAt(n),t.charCodeAt(n+3)<<8|t.charCodeAt(n+2),t.charCodeAt(n+5)<<8|t.charCodeAt(n+4),t.charCodeAt(n+7)<<8|t.charCodeAt(n+6)),this.v4.add(c.multiply(mr)).rotl(31).multiply(Qt)}else{var c;c=gr(t[n+1]<<8|t[n],t[n+3]<<8|t[n+2],t[n+5]<<8|t[n+4],t[n+7]<<8|t[n+6]),this.v1.add(c.multiply(mr)).rotl(31).multiply(Qt),n+=8,c=gr(t[n+1]<<8|t[n],t[n+3]<<8|t[n+2],t[n+5]<<8|t[n+4],t[n+7]<<8|t[n+6]),this.v2.add(c.multiply(mr)).rotl(31).multiply(Qt),n+=8,c=gr(t[n+1]<<8|t[n],t[n+3]<<8|t[n+2],t[n+5]<<8|t[n+4],t[n+7]<<8|t[n+6]),this.v3.add(c.multiply(mr)).rotl(31).multiply(Qt),n+=8,c=gr(t[n+1]<<8|t[n],t[n+3]<<8|t[n+2],t[n+5]<<8|t[n+4],t[n+7]<<8|t[n+6]),this.v4.add(c.multiply(mr)).rotl(31).multiply(Qt)}n+=8}while(n<=p)}return n<s&&(e?this.memory+=t.slice(n):r?this.memory.set(t.subarray(n,s),this.memsize):t.copy(this.memory,this.memsize,n,s),this.memsize=s-n),this};Mu.prototype.digest=function(){var t=this.memory,e=typeof t=="string",r=0,n=this.memsize,i,s,u=new gr;for(this.total_len>=32?(i=this.v1.clone().rotl(1),i.add(this.v2.clone().rotl(7)),i.add(this.v3.clone().rotl(12)),i.add(this.v4.clone().rotl(18)),i.xor(this.v1.multiply(mr).rotl(31).multiply(Qt)),i.multiply(Qt).add(Jl),i.xor(this.v2.multiply(mr).rotl(31).multiply(Qt)),i.multiply(Qt).add(Jl),i.xor(this.v3.multiply(mr).rotl(31).multiply(Qt)),i.multiply(Qt).add(Jl),i.xor(this.v4.multiply(mr).rotl(31).multiply(Qt)),i.multiply(Qt).add(Jl)):i=this.seed.clone().add(Z6),i.add(u.fromNumber(this.total_len));r<=n-8;)e?u.fromBits(t.charCodeAt(r+1)<<8|t.charCodeAt(r),t.charCodeAt(r+3)<<8|t.charCodeAt(r+2),t.charCodeAt(r+5)<<8|t.charCodeAt(r+4),t.charCodeAt(r+7)<<8|t.charCodeAt(r+6)):u.fromBits(t[r+1]<<8|t[r],t[r+3]<<8|t[r+2],t[r+5]<<8|t[r+4],t[r+7]<<8|t[r+6]),u.multiply(mr).rotl(31).multiply(Qt),i.xor(u).rotl(27).multiply(Qt).add(Jl),r+=8;for(r+4<=n&&(e?u.fromBits(t.charCodeAt(r+1)<<8|t.charCodeAt(r),t.charCodeAt(r+3)<<8|t.charCodeAt(r+2),0,0):u.fromBits(t[r+1]<<8|t[r],t[r+3]<<8|t[r+2],0,0),i.xor(u.multiply(Qt)).rotl(23).multiply(mr).add(X6),r+=4);r<n;)u.fromBits(e?t.charCodeAt(r++):t[r++],0,0,0),i.xor(u.multiply(Z6)).rotl(11).multiply(Qt);return s=i.clone().shiftRight(33),i.xor(s).multiply(mr),s=i.clone().shiftRight(29),i.xor(s).multiply(X6),s=i.clone().shiftRight(32),i.xor(s),this.init(this.seed),i};eE.exports=Mu});var nE=G((NW,rE)=>{rE.exports={h32:J6(),h64:tE()}});var Zi=G(br=>{"use strict";var UO=br&&br.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},LO=br&&br.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(br,"__esModule",{value:!0});var Ln=LO(nE()),MO=sl();function OO(t,e){for(var r=new Array(t),n=typeof e=="function"?e:function(){return e},i=0;i<t;i++)r[i]=n();return r}br.allocateArray=OO;function Kg(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=ta());var n=Ln.default.h64(t,r+1),i=Ln.default.h64(t,r+2);if(e)return{first:n.toNumber(),second:i.toNumber()};var s=n.toString(16);s.length<16&&(s="0".repeat(16-s.length)+s);var u=i.toString(16);return u.length<16&&(u="0".repeat(16-u.length)+u),{first:Number(s),second:Number(u)}}br.hashTwice=Kg;function jO(t,e){e===void 0&&(e=ta());var r=Ln.default.h64(t,e+1),n=Ln.default.h64(t,e+2),i=r.toString(16);i.length<16&&(i="0".repeat(16-i.length)+i);var s=n.toString(16);return s.length<16&&(s="0".repeat(16-s.length)+s),{first:i,second:s}}br.hashTwiceAsString=jO;function zO(t,e){e===void 0&&(e=ta());var r=Ln.default.h64(t,e+1),n=Ln.default.h64(t,e+2),i=r.toString(16);i.length<16&&(i="0".repeat(16-i.length)+i);var s=n.toString(16);return s.length<16&&(s="0".repeat(16-s.length)+s),{int:{first:r.toNumber(),second:n.toNumber()},string:{first:i,second:s}}}br.allInOneHashTwice=zO;function qg(t,e,r,n){return Math.abs((e+t*r)%n)}br.doubleHashing=qg;function KO(t,e,r,n){n===void 0&&(n=ta());function i(s,u,c,p,l){if(l===void 0&&(l=[]),l.length===p)return l;var y=Kg(u,!0,n+c%s),w=qg(s,y.first,y.second,c);return l.includes(w)||l.push(w),i(s+1,u,c,p,l)}return i(1,t,e,r)}br.getDistinctIndices=KO;function qO(t,e,r,n){n===void 0&&(n=ta());for(var i=[],s=1;s<=r;s++){var u=Kg(t,!0,n+e%s);i.push(qg(s,u.first,u.second,e))}if(i.length!==r)throw new Error("report this, please, shouldnt be of different size");return i}br.getIndices=qO;function HO(t,e,r){r===void 0&&(r=Math.random),t=Math.ceil(t),e=Math.floor(e);var n=r();return Math.floor(n*(e-t+1))+t}br.randomInt=HO;function $O(t,e){for(var r=Math.max(t.length,e.length),n=MO.Buffer.allocUnsafe(r).fill(0),i=0;i<r;++i)i<t.length&&i<e.length?n[r-i-1]=t[t.length-i-1]^e[e.length-i-1]:i<t.length&&i>=e.length?n[r-i-1]^=t[t.length-i-1]:i<e.length&&i>=t.length&&(n[r-i-1]^=e[e.length-i-1]);for(var s=0,u=n.values(),c=u.next();!c.done&&c.value===0;)s++,c=u.next();var p=n.slice(s);return p}br.xorBuffer=$O;function GO(t){var e,r;if(t===null||!t)return!0;try{for(var n=UO(t),i=n.next();!i.done;i=n.next()){var s=i.value;if(s!==0)return!1}}catch(u){e={error:u}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}return!0}br.isEmptyBuffer=GO;function WO(t,e,r){switch(e===void 0&&(e=ta()),r){case 32:return Ln.default.h32(t,e).toNumber();case 64:return Ln.default.h64(t,e).toNumber();default:return Ln.default.h64(t,e).toNumber()}}br.hashAsInt=WO;function YO(t,e,r,n){e===void 0&&(e=ta()),r===void 0&&(r=16),n===void 0&&(n=64);var i;switch(n){case 32:i=Ln.default.h32(t,e);break;case 64:i=Ln.default.h64(t,e);break;default:i=Ln.default.h64(t,e);break}var s="";return r===16?(s=i.toString(r),s.length<n/4&&(s="0".repeat(n/4-s.length)+s)):r===2&&(s=Hg(i.toString(16)),s.length<n&&(s="0".repeat(n-s.length)+s)),s}br.hashAsString=YO;function VO(t,e,r,n){e===void 0&&(e=ta()),r===void 0&&(r=16),n===void 0&&(n=64);var i;switch(n){case 32:i=Ln.default.h32(t,e);break;case 64:i=Ln.default.h64(t,e);break;default:i=Ln.default.h64(t,e);break}var s="";return r===16?(s=i.toString(r),s.length<n/4&&(s="0".repeat(n/4-s.length)+s)):r===2&&(s=Hg(i.toString(16)),s.length<n&&(s="0".repeat(n-s.length)+s)),{int:i.toNumber(),string:s}}br.hashIntAndString=VO;function ta(){return 78187493520}br.getDefaultSeed=ta;function JO(t){return Math.ceil(Math.pow(2,Math.floor(Math.log(t)/Math.log(2))))}br.power2=JO;function Hg(t){return parseInt(t,16).toString(2)}br.hex2bin=Hg;function XO(t){return[128,64,32,16,8,4,2,1].map(function(e){return(e&t)>0?1:0})}br.uint8ToBits=XO;function ZO(t){return t.reduce(function(e,r,n){if(r===0)return e;if(r===1)return e+Math.pow(2,7-n);throw new Error("Not binary")},0)}br.bitsToUint8=ZO});var oE=G((iE,$g)=>{(function(t,e,r){function n(c){var p=this,l=u();p.next=function(){var y=2091639*p.s0+p.c*23283064365386963e-26;return p.s0=p.s1,p.s1=p.s2,p.s2=y-(p.c=y|0)},p.c=1,p.s0=l(" "),p.s1=l(" "),p.s2=l(" "),p.s0-=l(c),p.s0<0&&(p.s0+=1),p.s1-=l(c),p.s1<0&&(p.s1+=1),p.s2-=l(c),p.s2<0&&(p.s2+=1),l=null}function i(c,p){return p.c=c.c,p.s0=c.s0,p.s1=c.s1,p.s2=c.s2,p}function s(c,p){var l=new n(c),y=p&&p.state,w=l.next;return w.int32=function(){return l.next()*4294967296|0},w.double=function(){return w()+(w()*2097152|0)*11102230246251565e-32},w.quick=w,y&&(typeof y=="object"&&i(y,l),w.state=function(){return i(l,{})}),w}function u(){var c=4022871197,p=function(l){l=String(l);for(var y=0;y<l.length;y++){c+=l.charCodeAt(y);var w=.02519603282416938*c;c=w>>>0,w-=c,w*=c,c=w>>>0,w-=c,c+=w*4294967296}return(c>>>0)*23283064365386963e-26};return p}e&&e.exports?e.exports=s:r&&r.amd?r(function(){return s}):this.alea=s})(iE,typeof $g=="object"&&$g,typeof define=="function"&&define)});var aE=G((sE,Gg)=>{(function(t,e,r){function n(u){var c=this,p="";c.x=0,c.y=0,c.z=0,c.w=0,c.next=function(){var y=c.x^c.x<<11;return c.x=c.y,c.y=c.z,c.z=c.w,c.w^=c.w>>>19^y^y>>>8},u===(u|0)?c.x=u:p+=u;for(var l=0;l<p.length+64;l++)c.x^=p.charCodeAt(l)|0,c.next()}function i(u,c){return c.x=u.x,c.y=u.y,c.z=u.z,c.w=u.w,c}function s(u,c){var p=new n(u),l=c&&c.state,y=function(){return(p.next()>>>0)/4294967296};return y.double=function(){do var w=p.next()>>>11,B=(p.next()>>>0)/4294967296,_=(w+B)/(1<<21);while(_===0);return _},y.int32=p.next,y.quick=y,l&&(typeof l=="object"&&i(l,p),y.state=function(){return i(p,{})}),y}e&&e.exports?e.exports=s:r&&r.amd?r(function(){return s}):this.xor128=s})(sE,typeof Gg=="object"&&Gg,typeof define=="function"&&define)});var cE=G((uE,Wg)=>{(function(t,e,r){function n(u){var c=this,p="";c.next=function(){var y=c.x^c.x>>>2;return c.x=c.y,c.y=c.z,c.z=c.w,c.w=c.v,(c.d=c.d+362437|0)+(c.v=c.v^c.v<<4^(y^y<<1))|0},c.x=0,c.y=0,c.z=0,c.w=0,c.v=0,u===(u|0)?c.x=u:p+=u;for(var l=0;l<p.length+64;l++)c.x^=p.charCodeAt(l)|0,l==p.length&&(c.d=c.x<<10^c.x>>>4),c.next()}function i(u,c){return c.x=u.x,c.y=u.y,c.z=u.z,c.w=u.w,c.v=u.v,c.d=u.d,c}function s(u,c){var p=new n(u),l=c&&c.state,y=function(){return(p.next()>>>0)/4294967296};return y.double=function(){do var w=p.next()>>>11,B=(p.next()>>>0)/4294967296,_=(w+B)/(1<<21);while(_===0);return _},y.int32=p.next,y.quick=y,l&&(typeof l=="object"&&i(l,p),y.state=function(){return i(p,{})}),y}e&&e.exports?e.exports=s:r&&r.amd?r(function(){return s}):this.xorwow=s})(uE,typeof Wg=="object"&&Wg,typeof define=="function"&&define)});var lE=G((fE,Yg)=>{(function(t,e,r){function n(u){var c=this;c.next=function(){var l=c.x,y=c.i,w,B,_;return w=l[y],w^=w>>>7,B=w^w<<24,w=l[y+1&7],B^=w^w>>>10,w=l[y+3&7],B^=w^w>>>3,w=l[y+4&7],B^=w^w<<7,w=l[y+7&7],w=w^w<<13,B^=w^w<<9,l[y]=B,c.i=y+1&7,B};function p(l,y){var w,B,_=[];if(y===(y|0))B=_[0]=y;else for(y=""+y,w=0;w<y.length;++w)_[w&7]=_[w&7]<<15^y.charCodeAt(w)+_[w+1&7]<<13;for(;_.length<8;)_.push(0);for(w=0;w<8&&_[w]===0;++w);for(w==8?B=_[7]=-1:B=_[w],l.x=_,l.i=0,w=256;w>0;--w)l.next()}p(c,u)}function i(u,c){return c.x=u.x.slice(),c.i=u.i,c}function s(u,c){u==null&&(u=+new Date);var p=new n(u),l=c&&c.state,y=function(){return(p.next()>>>0)/4294967296};return y.double=function(){do var w=p.next()>>>11,B=(p.next()>>>0)/4294967296,_=(w+B)/(1<<21);while(_===0);return _},y.int32=p.next,y.quick=y,l&&(l.x&&i(l,p),y.state=function(){return i(p,{})}),y}e&&e.exports?e.exports=s:r&&r.amd?r(function(){return s}):this.xorshift7=s})(fE,typeof Yg=="object"&&Yg,typeof define=="function"&&define)});var dE=G((hE,Vg)=>{(function(t,e,r){function n(u){var c=this;c.next=function(){var l=c.w,y=c.X,w=c.i,B,_;return c.w=l=l+1640531527|0,_=y[w+34&127],B=y[w=w+1&127],_^=_<<13,B^=B<<17,_^=_>>>15,B^=B>>>12,_=y[w]=_^B,c.i=w,_+(l^l>>>16)|0};function p(l,y){var w,B,_,R,W,we=[],Z=128;for(y===(y|0)?(B=y,y=null):(y=y+"\0",B=0,Z=Math.max(Z,y.length)),_=0,R=-32;R<Z;++R)y&&(B^=y.charCodeAt((R+32)%y.length)),R===0&&(W=B),B^=B<<10,B^=B>>>15,B^=B<<4,B^=B>>>13,R>=0&&(W=W+1640531527|0,w=we[R&127]^=B+W,_=w==0?_+1:0);for(_>=128&&(we[(y&&y.length||0)&127]=-1),_=127,R=4*128;R>0;--R)B=we[_+34&127],w=we[_=_+1&127],B^=B<<13,w^=w<<17,B^=B>>>15,w^=w>>>12,we[_]=B^w;l.w=W,l.X=we,l.i=_}p(c,u)}function i(u,c){return c.i=u.i,c.w=u.w,c.X=u.X.slice(),c}function s(u,c){u==null&&(u=+new Date);var p=new n(u),l=c&&c.state,y=function(){return(p.next()>>>0)/4294967296};return y.double=function(){do var w=p.next()>>>11,B=(p.next()>>>0)/4294967296,_=(w+B)/(1<<21);while(_===0);return _},y.int32=p.next,y.quick=y,l&&(l.X&&i(l,p),y.state=function(){return i(p,{})}),y}e&&e.exports?e.exports=s:r&&r.amd?r(function(){return s}):this.xor4096=s})(hE,typeof Vg=="object"&&Vg,typeof define=="function"&&define)});var mE=G((pE,Jg)=>{(function(t,e,r){function n(u){var c=this,p="";c.next=function(){var y=c.b,w=c.c,B=c.d,_=c.a;return y=y<<25^y>>>7^w,w=w-B|0,B=B<<24^B>>>8^_,_=_-y|0,c.b=y=y<<20^y>>>12^w,c.c=w=w-B|0,c.d=B<<16^w>>>16^_,c.a=_-y|0},c.a=0,c.b=0,c.c=2654435769|0,c.d=1367130551,u===Math.floor(u)?(c.a=u/4294967296|0,c.b=u|0):p+=u;for(var l=0;l<p.length+20;l++)c.b^=p.charCodeAt(l)|0,c.next()}function i(u,c){return c.a=u.a,c.b=u.b,c.c=u.c,c.d=u.d,c}function s(u,c){var p=new n(u),l=c&&c.state,y=function(){return(p.next()>>>0)/4294967296};return y.double=function(){do var w=p.next()>>>11,B=(p.next()>>>0)/4294967296,_=(w+B)/(1<<21);while(_===0);return _},y.int32=p.next,y.quick=y,l&&(typeof l=="object"&&i(l,p),y.state=function(){return i(p,{})}),y}e&&e.exports?e.exports=s:r&&r.amd?r(function(){return s}):this.tychei=s})(pE,typeof Jg=="object"&&Jg,typeof define=="function"&&define)});var gE=G((yE,Gp)=>{(function(t,e,r){var n=256,i=6,s=52,u="random",c=r.pow(n,i),p=r.pow(2,s),l=p*2,y=n-1,w;function B(V,ce,xe){var X=[];ce=ce==!0?{entropy:!0}:ce||{};var ee=we(W(ce.entropy?[V,ne(e)]:V??Z(),3),X),Ae=new _(X),Ve=function(){for(var ct=Ae.g(i),_t=c,ht=0;ct<p;)ct=(ct+ht)*n,_t*=n,ht=Ae.g(1);for(;ct>=l;)ct/=2,_t/=2,ht>>>=1;return(ct+ht)/_t};return Ve.int32=function(){return Ae.g(4)|0},Ve.quick=function(){return Ae.g(4)/4294967296},Ve.double=Ve,we(ne(Ae.S),e),(ce.pass||xe||function(ct,_t,ht,qe){return qe&&(qe.S&&R(qe,Ae),ct.state=function(){return R(Ae,{})}),ht?(r[u]=ct,_t):ct})(Ve,ee,"global"in ce?ce.global:this==r,ce.state)}function _(V){var ce,xe=V.length,X=this,ee=0,Ae=X.i=X.j=0,Ve=X.S=[];for(xe||(V=[xe++]);ee<n;)Ve[ee]=ee++;for(ee=0;ee<n;ee++)Ve[ee]=Ve[Ae=y&Ae+V[ee%xe]+(ce=Ve[ee])],Ve[Ae]=ce;(X.g=function(ct){for(var _t,ht=0,qe=X.i,Ft=X.j,Nt=X.S;ct--;)_t=Nt[qe=y&qe+1],ht=ht*n+Nt[y&(Nt[qe]=Nt[Ft=y&Ft+_t])+(Nt[Ft]=_t)];return X.i=qe,X.j=Ft,ht})(n)}function R(V,ce){return ce.i=V.i,ce.j=V.j,ce.S=V.S.slice(),ce}function W(V,ce){var xe=[],X=typeof V,ee;if(ce&&X=="object")for(ee in V)try{xe.push(W(V[ee],ce-1))}catch(Ae){}return xe.length?xe:X=="string"?V:V+"\0"}function we(V,ce){for(var xe=V+"",X,ee=0;ee<xe.length;)ce[y&ee]=y&(X^=ce[y&ee]*19)+xe.charCodeAt(ee++);return ne(ce)}function Z(){try{var V;return w&&(V=w.randomBytes)?V=V(n):(V=new Uint8Array(n),(t.crypto||t.msCrypto).getRandomValues(V)),ne(V)}catch(X){var ce=t.navigator,xe=ce&&ce.plugins;return[+new Date,t,xe,t.screen,ne(e)]}}function ne(V){return String.fromCharCode.apply(0,V)}if(we(r.random(),e),typeof Gp=="object"&&Gp.exports){Gp.exports=B;try{w=vd()}catch(V){}}else typeof define=="function"&&define.amd?define(function(){return B}):r["seed"+u]=B})(typeof self!="undefined"?self:yE,[],Math)});var vE=G((LW,bE)=>{var QO=oE(),ej=aE(),tj=cE(),rj=lE(),nj=dE(),ij=mE(),Ou=gE();Ou.alea=QO;Ou.xor128=ej;Ou.xorwow=tj;Ou.xorshift7=rj;Ou.xor4096=nj;Ou.tychei=ij;bE.exports=Ou});var Uo=G(ju=>{"use strict";var oj=ju&&ju.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e},sj=ju&&ju.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ju,"__esModule",{value:!0});var aj=oj(Zi()),wE=sj(vE()),uj=function(){function t(){this._seed=aj.getDefaultSeed(),this._rng=wE.default(""+this._seed)}return Object.defineProperty(t.prototype,"seed",{get:function(){return this._seed},set:function(e){this._seed=e,this._rng=wE.default(""+this._seed)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"random",{get:function(){return this._rng},enumerable:!0,configurable:!0}),t.prototype.saveAsJSON=function(){throw new Error("not-implemented")},t.fromJSON=function(e){throw new Error("not-implemented")},t}();ju.default=uj});var xE=G(()=>{var _E;(function(t){(function(e){var r=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:Function("return this;")(),n=i(t);typeof r.Reflect=="undefined"?r.Reflect=t:n=i(r.Reflect,n),e(n);function i(s,u){return function(c,p){typeof s[c]!="function"&&Object.defineProperty(s,c,{configurable:!0,writable:!0,value:p}),u&&u(c,p)}}})(function(e){var r=Object.prototype.hasOwnProperty,n=typeof Symbol=="function",i=n&&typeof Symbol.toPrimitive!="undefined"?Symbol.toPrimitive:"@@toPrimitive",s=n&&typeof Symbol.iterator!="undefined"?Symbol.iterator:"@@iterator",u=typeof Object.create=="function",c={__proto__:[]}instanceof Array,p=!u&&!c,l={create:u?function(){return Kr(Object.create(null))}:c?function(){return Kr({__proto__:null})}:function(){return Kr({})},has:p?function(Y,re){return r.call(Y,re)}:function(Y,re){return re in Y},get:p?function(Y,re){return r.call(Y,re)?Y[re]:void 0}:function(Y,re){return Y[re]}},y=Object.getPrototypeOf(Function),w=typeof process=="object"&&process.env&&process.env.REFLECT_METADATA_USE_MAP_POLYFILL==="true",B=!w&&typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:zr(),_=!w&&typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:dr(),R=!w&&typeof WeakMap=="function"?WeakMap:le(),W=new R;function we(Y,re,ye,Ie){if(Wt(ye)){if(!$e(Y))throw new TypeError;if(!Oe(re))throw new TypeError;return ct(Y,re)}else{if(!$e(Y))throw new TypeError;if(!Bt(re))throw new TypeError;if(!Bt(Ie)&&!Wt(Ie)&&!dt(Ie))throw new TypeError;return dt(Ie)&&(Ie=void 0),ye=De(ye),_t(Y,re,ye,Ie)}}e("decorate",we);function Z(Y,re){function ye(Ie,je){if(!Bt(Ie))throw new TypeError;if(!Wt(je)&&!Lt(je))throw new TypeError;Jr(Y,re,Ie,je)}return ye}e("metadata",Z);function ne(Y,re,ye,Ie){if(!Bt(ye))throw new TypeError;return Wt(Ie)||(Ie=De(Ie)),Jr(Y,re,ye,Ie)}e("defineMetadata",ne);function V(Y,re,ye){if(!Bt(re))throw new TypeError;return Wt(ye)||(ye=De(ye)),qe(Y,re,ye)}e("hasMetadata",V);function ce(Y,re,ye){if(!Bt(re))throw new TypeError;return Wt(ye)||(ye=De(ye)),Ft(Y,re,ye)}e("hasOwnMetadata",ce);function xe(Y,re,ye){if(!Bt(re))throw new TypeError;return Wt(ye)||(ye=De(ye)),Nt(Y,re,ye)}e("getMetadata",xe);function X(Y,re,ye){if(!Bt(re))throw new TypeError;return Wt(ye)||(ye=De(ye)),or(Y,re,ye)}e("getOwnMetadata",X);function ee(Y,re){if(!Bt(Y))throw new TypeError;return Wt(re)||(re=De(re)),vr(Y,re)}e("getMetadataKeys",ee);function Ae(Y,re){if(!Bt(Y))throw new TypeError;return Wt(re)||(re=De(re)),lr(Y,re)}e("getOwnMetadataKeys",Ae);function Ve(Y,re,ye){if(!Bt(re))throw new TypeError;Wt(ye)||(ye=De(ye));var Ie=ht(re,ye,!1);if(Wt(Ie)||!Ie.delete(Y))return!1;if(Ie.size>0)return!0;var je=W.get(re);return je.delete(ye),je.size>0||W.delete(re),!0}e("deleteMetadata",Ve);function ct(Y,re){for(var ye=Y.length-1;ye>=0;--ye){var Ie=Y[ye],je=Ie(re);if(!Wt(je)&&!dt(je)){if(!Oe(je))throw new TypeError;re=je}}return re}function _t(Y,re,ye,Ie){for(var je=Y.length-1;je>=0;--je){var $t=Y[je],Qe=$t(re,ye,Ie);if(!Wt(Qe)&&!dt(Qe)){if(!Bt(Qe))throw new TypeError;Ie=Qe}}return Ie}function ht(Y,re,ye){var Ie=W.get(Y);if(Wt(Ie)){if(!ye)return;Ie=new B,W.set(Y,Ie)}var je=Ie.get(re);if(Wt(je)){if(!ye)return;je=new B,Ie.set(re,je)}return je}function qe(Y,re,ye){var Ie=Ft(Y,re,ye);if(Ie)return!0;var je=ar(re);return dt(je)?!1:qe(Y,je,ye)}function Ft(Y,re,ye){var Ie=ht(re,ye,!1);return Wt(Ie)?!1:pe(Ie.has(Y))}function Nt(Y,re,ye){var Ie=Ft(Y,re,ye);if(Ie)return or(Y,re,ye);var je=ar(re);if(!dt(je))return Nt(Y,je,ye)}function or(Y,re,ye){var Ie=ht(re,ye,!1);if(!Wt(Ie))return Ie.get(Y)}function Jr(Y,re,ye,Ie){var je=ht(ye,Ie,!0);je.set(Y,re)}function vr(Y,re){var ye=lr(Y,re),Ie=ar(Y);if(Ie===null)return ye;var je=vr(Ie,re);if(je.length<=0)return ye;if(ye.length<=0)return je;for(var $t=new _,Qe=[],et=0,Ue=ye;et<Ue.length;et++){var st=Ue[et],at=$t.has(st);at||($t.add(st),Qe.push(st))}for(var er=0,zn=je;er<zn.length;er++){var st=zn[er],at=$t.has(st);at||($t.add(st),Qe.push(st))}return Qe}function lr(Y,re){var ye=[],Ie=ht(Y,re,!1);if(Wt(Ie))return ye;for(var je=Ie.keys(),$t=yt(je),Qe=0;;){var et=Pi($t);if(!et)return ye.length=Qe,ye;var Ue=Ir(et);try{ye[Qe]=Ue}catch(st){try{Xr($t)}finally{throw st}}Qe++}}function ti(Y){if(Y===null)return 1;switch(typeof Y){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return Y===null?1:6;default:return 6}}function Wt(Y){return Y===void 0}function dt(Y){return Y===null}function Ut(Y){return typeof Y=="symbol"}function Bt(Y){return typeof Y=="object"?Y!==null:typeof Y=="function"}function A(Y,re){switch(ti(Y)){case 0:return Y;case 1:return Y;case 2:return Y;case 3:return Y;case 4:return Y;case 5:return Y}var ye=re===3?"string":re===5?"number":"default",Ie=Ze(Y,i);if(Ie!==void 0){var je=Ie.call(Y,ye);if(Bt(je))throw new TypeError;return je}return fe(Y,ye==="default"?"number":ye)}function fe(Y,re){if(re==="string"){var ye=Y.toString;if(We(ye)){var Ie=ye.call(Y);if(!Bt(Ie))return Ie}var je=Y.valueOf;if(We(je)){var Ie=je.call(Y);if(!Bt(Ie))return Ie}}else{var je=Y.valueOf;if(We(je)){var Ie=je.call(Y);if(!Bt(Ie))return Ie}var $t=Y.toString;if(We($t)){var Ie=$t.call(Y);if(!Bt(Ie))return Ie}}throw new TypeError}function pe(Y){return!!Y}function Be(Y){return""+Y}function De(Y){var re=A(Y,3);return Ut(re)?re:Be(re)}function $e(Y){return Array.isArray?Array.isArray(Y):Y instanceof Object?Y instanceof Array:Object.prototype.toString.call(Y)==="[object Array]"}function We(Y){return typeof Y=="function"}function Oe(Y){return typeof Y=="function"}function Lt(Y){switch(ti(Y)){case 3:return!0;case 4:return!0;default:return!1}}function Ze(Y,re){var ye=Y[re];if(ye!=null){if(!We(ye))throw new TypeError;return ye}}function yt(Y){var re=Ze(Y,s);if(!We(re))throw new TypeError;var ye=re.call(Y);if(!Bt(ye))throw new TypeError;return ye}function Ir(Y){return Y.value}function Pi(Y){var re=Y.next();return re.done?!1:re}function Xr(Y){var re=Y.return;re&&re.call(Y)}function ar(Y){var re=Object.getPrototypeOf(Y);if(typeof Y!="function"||Y===y||re!==y)return re;var ye=Y.prototype,Ie=ye&&Object.getPrototypeOf(ye);if(Ie==null||Ie===Object.prototype)return re;var je=Ie.constructor;return typeof je!="function"||je===Y?re:je}function zr(){var Y={},re=[],ye=function(){function Qe(et,Ue,st){this._index=0,this._keys=et,this._values=Ue,this._selector=st}return Qe.prototype["@@iterator"]=function(){return this},Qe.prototype[s]=function(){return this},Qe.prototype.next=function(){var et=this._index;if(et>=0&&et<this._keys.length){var Ue=this._selector(this._keys[et],this._values[et]);return et+1>=this._keys.length?(this._index=-1,this._keys=re,this._values=re):this._index++,{value:Ue,done:!1}}return{value:void 0,done:!0}},Qe.prototype.throw=function(et){throw this._index>=0&&(this._index=-1,this._keys=re,this._values=re),et},Qe.prototype.return=function(et){return this._index>=0&&(this._index=-1,this._keys=re,this._values=re),{value:et,done:!0}},Qe}();return function(){function Qe(){this._keys=[],this._values=[],this._cacheKey=Y,this._cacheIndex=-2}return Object.defineProperty(Qe.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),Qe.prototype.has=function(et){return this._find(et,!1)>=0},Qe.prototype.get=function(et){var Ue=this._find(et,!1);return Ue>=0?this._values[Ue]:void 0},Qe.prototype.set=function(et,Ue){var st=this._find(et,!0);return this._values[st]=Ue,this},Qe.prototype.delete=function(et){var Ue=this._find(et,!1);if(Ue>=0){for(var st=this._keys.length,at=Ue+1;at<st;at++)this._keys[at-1]=this._keys[at],this._values[at-1]=this._values[at];return this._keys.length--,this._values.length--,et===this._cacheKey&&(this._cacheKey=Y,this._cacheIndex=-2),!0}return!1},Qe.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=Y,this._cacheIndex=-2},Qe.prototype.keys=function(){return new ye(this._keys,this._values,Ie)},Qe.prototype.values=function(){return new ye(this._keys,this._values,je)},Qe.prototype.entries=function(){return new ye(this._keys,this._values,$t)},Qe.prototype["@@iterator"]=function(){return this.entries()},Qe.prototype[s]=function(){return this.entries()},Qe.prototype._find=function(et,Ue){return this._cacheKey!==et&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=et)),this._cacheIndex<0&&Ue&&(this._cacheIndex=this._keys.length,this._keys.push(et),this._values.push(void 0)),this._cacheIndex},Qe}();function Ie(Qe,et){return Qe}function je(Qe,et){return et}function $t(Qe,et){return[Qe,et]}}function dr(){return function(){function Y(){this._map=new B}return Object.defineProperty(Y.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),Y.prototype.has=function(re){return this._map.has(re)},Y.prototype.add=function(re){return this._map.set(re,re),this},Y.prototype.delete=function(re){return this._map.delete(re)},Y.prototype.clear=function(){this._map.clear()},Y.prototype.keys=function(){return this._map.keys()},Y.prototype.values=function(){return this._map.values()},Y.prototype.entries=function(){return this._map.entries()},Y.prototype["@@iterator"]=function(){return this.keys()},Y.prototype[s]=function(){return this.keys()},Y}()}function le(){var Y=16,re=l.create(),ye=Ie();return function(){function Ue(){this._key=Ie()}return Ue.prototype.has=function(st){var at=je(st,!1);return at!==void 0?l.has(at,this._key):!1},Ue.prototype.get=function(st){var at=je(st,!1);return at!==void 0?l.get(at,this._key):void 0},Ue.prototype.set=function(st,at){var er=je(st,!0);return er[this._key]=at,this},Ue.prototype.delete=function(st){var at=je(st,!1);return at!==void 0?delete at[this._key]:!1},Ue.prototype.clear=function(){this._key=Ie()},Ue}();function Ie(){var Ue;do Ue="@@WeakMap@@"+et();while(l.has(re,Ue));return re[Ue]=!0,Ue}function je(Ue,st){if(!r.call(Ue,ye)){if(!st)return;Object.defineProperty(Ue,ye,{value:l.create()})}return Ue[ye]}function $t(Ue,st){for(var at=0;at<st;++at)Ue[at]=Math.random()*255|0;return Ue}function Qe(Ue){return typeof Uint8Array=="function"?typeof crypto!="undefined"?crypto.getRandomValues(new Uint8Array(Ue)):typeof msCrypto!="undefined"?msCrypto.getRandomValues(new Uint8Array(Ue)):$t(new Uint8Array(Ue),Ue):$t(new Array(Ue),Ue)}function et(){var Ue=Qe(Y);Ue[6]=Ue[6]&79|64,Ue[8]=Ue[8]&191|128;for(var st="",at=0;at<Y;++at){var er=Ue[at];(at===4||at===6||at===8)&&(st+="-"),er<16&&(st+="0"),st+=er.toString(16).toLowerCase()}return st}}function Kr(Y){return Y.__=void 0,delete Y.__,Y}})})(_E||(_E={}))});var vi=G(Qi=>{"use strict";var cj=Qi&&Qi.__read||function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],u;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(c){u={error:c}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(u)throw u.error}}return s},fj=Qi&&Qi.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(cj(arguments[e]));return t};Object.defineProperty(Qi,"__esModule",{value:!0});xE();function Xl(t){return t==null?t:Array.isArray(t)?t.map(Xl):typeof t=="object"?"saveAsJSON"in t?t.saveAsJSON():Object.assign({},t):t}Qi.cloneField=Xl;function lj(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return function(n){var i={type:t};return e.forEach(function(s){i[s]=Xl(n[s])}),i}}Qi.cloneObject=lj;function hj(t){return function(e){return e.prototype.saveAsJSON=function(){return t.export(this)},e.fromJSON=function(r){return t.import(r)},e}}Qi.Exportable=hj;var Xg=Symbol("bloom-filters:exportable:class-name"),cf=Symbol("bloom-filters:exportable:fields"),ff=Symbol("bloom-filters:exportable:constructor-parameters");function dj(t,e){return t===void 0&&(t=Xl),e===void 0&&(e=function(r){return r}),function(r,n){var i=[];Reflect.hasMetadata(cf,r)&&(i=Reflect.getMetadata(cf,r)),i.push({name:n,exporter:t,importer:e}),Reflect.defineMetadata(cf,i,r)}}Qi.Field=dj;function pj(t){return function(e,r,n){var i=new Map;Reflect.hasMetadata(ff,e)&&(i=Reflect.getMetadata(ff,e)),i.set(t,n),Reflect.defineMetadata(ff,i,e)}}Qi.Parameter=pj;function mj(t,e){return e===void 0&&(e=[]),function(r){if(Reflect.defineMetadata(Xg,t,r.prototype),!Reflect.hasMetadata(cf,r.prototype)||e.length===0)throw new SyntaxError("No exported fields declared when @AutoExportable is called");Reflect.hasMetadata(ff,r)||Reflect.defineMetadata(ff,new Map,r),r.prototype.saveAsJSON=function(){var n=this,i={type:Reflect.getMetadata(Xg,r.prototype)},s=Reflect.getMetadata(cf,r.prototype);return s.forEach(function(u){i[u.name]=u.exporter(n[u.name])}),e.forEach(function(u){i[u]=Xl(n[u])}),i},r.fromJSON=function(n){var i=Reflect.getMetadata(Xg,r.prototype),s=Reflect.getMetadata(ff,r),u=Reflect.getMetadata(cf,r.prototype);if(n.type!==i)throw new Error("Cannot create an object "+i+' from a JSON export with type "'+n.type+'"');var c=[],p=[];e.map(function(y){return{name:y,importer:function(w){return w}}}).concat(u).forEach(function(y){if(!(y.name in n))throw new Error('Invalid import: required field "'+y+'" not found in JSON export "'+n+'"');s.has(y.name)?c[s.get(y.name)]=y.importer(n[y.name]):p.push({name:y.name,value:y.importer(n[y.name])})});var l=new(r.bind.apply(r,fj([void 0],c)));return p.forEach(function(y){l[y.name]=y.value}),l}}}Qi.AutoExportable=mj});var Yp=G(Wp=>{"use strict";Object.defineProperty(Wp,"__esModule",{value:!0});function yj(t,e){return Math.ceil(-(t*Math.log(e)/Math.pow(Math.log(2),2)))}Wp.optimalFilterSize=yj;function gj(t,e){return Math.ceil(t/e*Math.log(2))}Wp.optimalHashes=gj});var EE=G(wi=>{"use strict";var bj=wi&&wi.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Zl=wi&&wi.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(u=t[c])&&(s=(i<3?u(s):i>3?u(e,r,s):u(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},Ql=wi&&wi.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)},AE=wi&&wi.__param||function(t,e){return function(r,n){e(r,n,t)}},vj=wi&&wi.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(wi,"__esModule",{value:!0});var wj=vj(Uo()),zu=vi(),kE=Yp(),eh=Zi(),_j=function(t){bj(e,t);function e(n,i){var s=t.call(this)||this;if(i<1)throw new Error("A BloomFilter cannot uses less than one hash function, while you tried to use "+i+".");return s._size=n,s._nbHashes=i,s._filter=eh.allocateArray(s._size,0),s._length=0,s}r=e,e.create=function(n,i){var s=kE.optimalFilterSize(n,i),u=kE.optimalHashes(s,n);return new r(s,u)},e.from=function(n,i){var s=Array.from(n),u=r.create(s.length,i);return s.forEach(function(c){return u.add(c)}),u},e.fromBytes=function(n,i){for(var s=[],u=0;u<n.length;u++){var c=eh.uint8ToBits(n[u]);s=s.concat(c)}var p=new r(s.length,i);return p._filter=s,p},Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this._length},enumerable:!0,configurable:!0}),e.prototype.add=function(n){for(var i=eh.getDistinctIndices(n,this._size,this._nbHashes,this.seed),s=0;s<i.length;s++)this._filter[i[s]]=1;this._length++},e.prototype.has=function(n){for(var i=eh.getDistinctIndices(n,this._size,this._nbHashes,this.seed),s=0;s<i.length;s++)if(!this._filter[i[s]])return!1;return!0},e.prototype.rate=function(){return Math.pow(1-Math.exp(-this._nbHashes*this._length/this._size),this._nbHashes)},e.prototype.equals=function(n){return this._size!==n._size||this._nbHashes!==n._nbHashes?!1:this._filter.every(function(i,s){return n._filter[s]===i})},e.prototype.toBytes=function(){for(var n=new Uint8Array(Math.ceil(this._size/8)),i=0;i<n.length;i++){var s=this._filter.slice(i*8,i*8+8);n[i]=eh.bitsToUint8(s)}return n};var r;return Zl([zu.Field(),Ql("design:type",Number)],e.prototype,"_size",void 0),Zl([zu.Field(),Ql("design:type",Number)],e.prototype,"_nbHashes",void 0),Zl([zu.Field(),Ql("design:type",Array)],e.prototype,"_filter",void 0),Zl([zu.Field(),Ql("design:type",Number)],e.prototype,"_length",void 0),e=r=Zl([zu.AutoExportable("BloomFilter",["_seed"]),AE(0,zu.Parameter("_size")),AE(1,zu.Parameter("_nbHashes")),Ql("design:paramtypes",[Number,Number])],e),e}(wj.default);wi.default=_j});var CE=G(_i=>{"use strict";var xj=_i&&_i.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),th=_i&&_i.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(u=t[c])&&(s=(i<3?u(s):i>3?u(e,r,s):u(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},rh=_i&&_i.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)},SE=_i&&_i.__param||function(t,e){return function(r,n){e(r,n,t)}},Aj=_i&&_i.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(_i,"__esModule",{value:!0});var kj=Aj(Uo()),Ku=vi(),PE=Yp(),Vp=Zi(),Ej=function(t){xj(e,t);function e(n,i){var s=t.call(this)||this;if(i<1)throw new Error("A CountingBloomFilter must used at least one hash function, but you tried to use "+i+" functions. Consider increasing it.");return s._size=n,s._nbHashes=i,s._filter=Vp.allocateArray(s._size,function(){return[0,0]}),s._length=0,s}r=e,e.create=function(n,i){var s=PE.optimalFilterSize(n,i);return new r(s,PE.optimalHashes(s,n))},e.from=function(n,i){var s=Array.from(n),u=r.create(s.length,i);return s.forEach(function(c){return u.add(c)}),u},Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this._length},enumerable:!0,configurable:!0}),e.prototype.add=function(n){for(var i=Vp.getDistinctIndices(n,this._size,this._nbHashes,this.seed),s=0;s<i.length;s++)this._filter[i[s]][1]+=1,this._filter[i[s]][1]>0&&(this._filter[i[s]][0]=1);this._length++},e.prototype.remove=function(n){for(var i=Vp.getDistinctIndices(n,this._size,this._nbHashes,this.seed),s=!0,u=0;u<i.length;u++)this._filter[i[u]][1]-=1,this._filter[i[u]][1]<=0&&(this._filter[i[u]][0]=0);return this._length--,s},e.prototype.has=function(n){for(var i=Vp.getDistinctIndices(n,this._size,this._nbHashes,this.seed),s=0;s<i.length;s++)if(!this._filter[i[s]][0])return!1;return!0},e.prototype.rate=function(){return Math.pow(1-Math.exp(-this._nbHashes*this._length/this._size),this._nbHashes)},e.prototype.equals=function(n){return this._size!==n._size||this._nbHashes!==n._nbHashes||this._length!==n._length?!1:this._filter.every(function(i,s){return n._filter[s][0]===i[0]&&n._filter[s][1]===i[1]})};var r;return th([Ku.Field(),rh("design:type",Number)],e.prototype,"_size",void 0),th([Ku.Field(),rh("design:type",Number)],e.prototype,"_nbHashes",void 0),th([Ku.Field(),rh("design:type",Array)],e.prototype,"_filter",void 0),th([Ku.Field(),rh("design:type",Number)],e.prototype,"_length",void 0),e=r=th([Ku.AutoExportable("CountingBloomFilter",["_seed"]),SE(0,Ku.Parameter("_size")),SE(1,Ku.Parameter("_nbHashes")),rh("design:paramtypes",[Number,Number])],e),e}(kj.default);_i.default=Ej});var TE=G(xi=>{"use strict";var Sj=xi&&xi.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ha=xi&&xi.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(u=t[c])&&(s=(i<3?u(s):i>3?u(e,r,s):u(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},$a=xi&&xi.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)},Jp=xi&&xi.__param||function(t,e){return function(r,n){e(r,n,t)}},Pj=xi&&xi.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(xi,"__esModule",{value:!0});var Cj=Pj(Uo()),eo=vi(),Xp=Zi();function Tj(t,e){return Math.ceil(Math.log(t)/Math.log(e))}function Fj(t,e,r){return Math.ceil(t*-Math.log(e)/(Math.log(r)*Math.log(1-r)))}function Bj(t,e,r){return Math.ceil(t*(Math.log(e)*Math.log(1-e))/-(r*Math.log(e)))}var Ij=function(t){Sj(e,t);function e(n,i,s,u){var c=t.call(this)||this;return c._size=n,c._nbHashes=i,c._loadFactor=s,c._m=Math.ceil(c._size/c._nbHashes),c._filter=Xp.allocateArray(c._nbHashes,function(){return Xp.allocateArray(c._m,0)}),c._capacity=u!==void 0?u:Bj(c._size,s,i),c._length=0,c}r=e,e.create=function(n,i,s){s===void 0&&(s=.5);var u=Fj(n,i,s),c=Tj(i,s);return new r(u,c,s,n)},e.from=function(n,i,s){s===void 0&&(s=.5);var u=Array.from(n),c=r.create(u.length,i,s);return u.forEach(function(p){return c.add(p)}),c},Object.defineProperty(e.prototype,"capacity",{get:function(){return this._capacity},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this._length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"loadFactor",{get:function(){return this._loadFactor},enumerable:!0,configurable:!0}),e.prototype.add=function(n){for(var i=Xp.getIndices(n,this._m,this._nbHashes,this.seed),s=0;s<this._nbHashes;s++)this._filter[s][i[s]]=1;this._length++},e.prototype.has=function(n){for(var i=Xp.getIndices(n,this._m,this._nbHashes,this.seed),s=0;s<this._nbHashes;s++)if(!this._filter[s][i[s]])return!1;return!0},e.prototype.rate=function(){var n=this._currentload();return Math.pow(n,this._nbHashes)},e.prototype.equals=function(n){return this._size!==n._size||this._nbHashes!==n._nbHashes||this._length!==n._length||this._loadFactor!==n._loadFactor?!1:this._filter.every(function(i,s){return n._filter[s].every(function(u,c){return i[c]===u})})},e.prototype._currentload=function(){var n=this._filter.map(function(s){return s.reduce(function(u,c){return u+c},0)}),i=n.reduce(function(s,u){return s+u},0);return i/this._size};var r;return Ha([eo.Field(),$a("design:type",Number)],e.prototype,"_size",void 0),Ha([eo.Field(),$a("design:type",Number)],e.prototype,"_nbHashes",void 0),Ha([eo.Field(),$a("design:type",Number)],e.prototype,"_loadFactor",void 0),Ha([eo.Field(),$a("design:type",Number)],e.prototype,"_m",void 0),Ha([eo.Field(),$a("design:type",Array)],e.prototype,"_filter",void 0),Ha([eo.Field(),$a("design:type",Number)],e.prototype,"_capacity",void 0),Ha([eo.Field(),$a("design:type",Number)],e.prototype,"_length",void 0),e=r=Ha([eo.AutoExportable("PartitionedBloomFilter",["_seed"]),Jp(0,eo.Parameter("_size")),Jp(1,eo.Parameter("_nbHashes")),Jp(2,eo.Parameter("_loadFactor")),Jp(3,eo.Parameter("_capacity")),$a("design:paramtypes",[Number,Number,Number,Number])],e),e}(Cj.default);xi.default=Ij});var Zg=G(Mn=>{"use strict";var Dj=Mn&&Mn.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),nh=Mn&&Mn.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(u=t[c])&&(s=(i<3?u(s):i>3?u(e,r,s):u(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},ih=Mn&&Mn.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)},FE=Mn&&Mn.__param||function(t,e){return function(r,n){e(r,n,t)}},Rj=Mn&&Mn.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Nj=Mn&&Mn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Mn,"__esModule",{value:!0});var Uj=Nj(Uo()),qu=vi(),Zp=Zi(),Lj=function(t){Dj(e,t);function e(n,i){var s=t.call(this)||this;return s._columns=n,s._rows=i,s._matrix=Zp.allocateArray(s._rows,function(){return Zp.allocateArray(s._columns,0)}),s._allSums=0,s}r=e,e.create=function(n,i){i===void 0&&(i=.999);var s=Math.ceil(Math.E/n),u=Math.ceil(Math.log(1/i));return new r(s,u)},e.from=function(n,i,s){var u,c;s===void 0&&(s=.999);var p=r.create(i,s);try{for(var l=Rj(n),y=l.next();!y.done;y=l.next()){var w=y.value;p.update(w)}}catch(B){u={error:B}}finally{try{y&&!y.done&&(c=l.return)&&c.call(l)}finally{if(u)throw u.error}}return p},Object.defineProperty(e.prototype,"columns",{get:function(){return this._columns},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rows",{get:function(){return this._rows},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sum",{get:function(){return this._allSums},enumerable:!0,configurable:!0}),e.prototype.update=function(n,i){i===void 0&&(i=1),this._allSums+=i;for(var s=Zp.getDistinctIndices(n,this._columns,this._rows,this.seed),u=0;u<this._rows;u++)this._matrix[u][s[u]]+=i},e.prototype.count=function(n){for(var i=Infinity,s=Zp.getDistinctIndices(n,this._columns,this._rows,this.seed),u=0;u<this._rows;u++){var c=this._matrix[u][s[u]];i=Math.min(c,i)}return i},e.prototype.equals=function(n){if(this._columns!==n._columns||this._rows!==n._rows)return!1;for(var i=0;i<this._rows;i++)for(var s=0;s<this._columns;s++)if(this._matrix[i][s]!==n._matrix[i][s])return!1;return!0},e.prototype.merge=function(n){if(this._columns!==n._columns)throw new Error("Cannot merge two sketches with different number of columns");if(this._rows!==n._rows)throw new Error("Cannot merge two sketches with different number of rows");for(var i=0;i<this._rows;i++)for(var s=0;s<this._columns;s++)this._matrix[i][s]+=n._matrix[i][s]},e.prototype.clone=function(){var n=new r(this._columns,this._rows);return n.merge(this),n.seed=this.seed,n};var r;return nh([qu.Field(),ih("design:type",Number)],e.prototype,"_columns",void 0),nh([qu.Field(),ih("design:type",Number)],e.prototype,"_rows",void 0),nh([qu.Field(),ih("design:type",Array)],e.prototype,"_matrix",void 0),nh([qu.Field(),ih("design:type",Number)],e.prototype,"_allSums",void 0),e=r=nh([qu.AutoExportable("CountMinSketch",["_seed"]),FE(0,qu.Parameter("_columns")),FE(1,qu.Parameter("_rows")),ih("design:paramtypes",[Number,Number])],e),e}(Uj.default);Mn.default=Lj});var IE=G(Ai=>{"use strict";var Mj=Ai&&Ai.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),oh=Ai&&Ai.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(u=t[c])&&(s=(i<3?u(s):i>3?u(e,r,s):u(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},sh=Ai&&Ai.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)},Oj=Ai&&Ai.__param||function(t,e){return function(r,n){e(r,n,t)}},jj=Ai&&Ai.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ai,"__esModule",{value:!0});var zj=jj(Uo()),lf=vi(),BE=Zi(),Qg=Math.pow(2,32);function Kj(t){switch(t){case 16:return .673;case 32:return .697;case 64:return .709;default:return .7213/(1+1.079/t)}}var qj=function(t){Mj(e,t);function e(n){var i=t.call(this)||this;return i._nbRegisters=n,i._nbBytesPerHash=Math.round(Math.log2(n)),i._correctionBias=Kj(n),i._registers=BE.allocateArray(i._nbRegisters,0),i}r=e,Object.defineProperty(e.prototype,"nbRegisters",{get:function(){return this._nbRegisters},enumerable:!0,configurable:!0}),e.prototype.update=function(n){for(var i=BE.hashAsInt(n,this.seed).toString(2),s=1+parseInt(i.slice(0,this._nbBytesPerHash-1),2),u=i.slice(this._nbBytesPerHash),c=0;u[c]!=="1"&&c<u.length-1;)c++;this._registers[s]=Math.max(this._registers[s],c)},e.prototype.count=function(n){n===void 0&&(n=!1);var i=this._registers.reduce(function(u,c){return u+Math.pow(2,-c)},0),s=this._correctionBias*Math.pow(this._nbRegisters,2)/i;return s>Qg/30&&(s=-Qg*Math.log(1-s/Qg)),n&&(s=Math.round(s)),s},e.prototype.accuracy=function(){return 1.04/Math.sqrt(this._nbRegisters)},e.prototype.merge=function(n){if(this.nbRegisters!==n.nbRegisters)throw new Error("Two HyperLogLog must have the same number of registers to be merged. Tried to merge two HyperLogLog with m = "+this.nbRegisters+" and m = "+n.nbRegisters);for(var i=new r(this.nbRegisters),s=0;s<this.nbRegisters-1;s++)i._registers[s]=Math.max(this._registers[s],n._registers[s]);return i},e.prototype.equals=function(n){if(this.nbRegisters!==n.nbRegisters)return!1;for(var i=0;i<this.nbRegisters-1;i++)if(this._registers[i]!==n._registers[i])return!1;return!0};var r;return oh([lf.Field(),sh("design:type",Number)],e.prototype,"_nbRegisters",void 0),oh([lf.Field(),sh("design:type",Number)],e.prototype,"_nbBytesPerHash",void 0),oh([lf.Field(),sh("design:type",Number)],e.prototype,"_correctionBias",void 0),oh([lf.Field(),sh("design:type",Array)],e.prototype,"_registers",void 0),e=r=oh([lf.AutoExportable("HyperLogLog",["_seed"]),Oj(0,lf.Parameter("_nbRegisters")),sh("design:paramtypes",[Number])],e),e}(zj.default);Ai.default=qj});var Qp=G((hf,ah)=>{(function(){var t,e="4.17.21",r=200,n="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",i="Expected a function",s="Invalid `variable` option passed into `_.template`",u="__lodash_hash_undefined__",c=500,p="__lodash_placeholder__",l=1,y=2,w=4,B=1,_=2,R=1,W=2,we=4,Z=8,ne=16,V=32,ce=64,xe=128,X=256,ee=512,Ae=30,Ve="...",ct=800,_t=16,ht=1,qe=2,Ft=3,Nt=1/0,or=9007199254740991,Jr=17976931348623157e292,vr=0/0,lr=4294967295,ti=lr-1,Wt=lr>>>1,dt=[["ary",xe],["bind",R],["bindKey",W],["curry",Z],["curryRight",ne],["flip",ee],["partial",V],["partialRight",ce],["rearg",X]],Ut="[object Arguments]",Bt="[object Array]",A="[object AsyncFunction]",fe="[object Boolean]",pe="[object Date]",Be="[object DOMException]",De="[object Error]",$e="[object Function]",We="[object GeneratorFunction]",Oe="[object Map]",Lt="[object Number]",Ze="[object Null]",yt="[object Object]",Ir="[object Promise]",Pi="[object Proxy]",Xr="[object RegExp]",ar="[object Set]",zr="[object String]",dr="[object Symbol]",le="[object Undefined]",Kr="[object WeakMap]",Y="[object WeakSet]",re="[object ArrayBuffer]",ye="[object DataView]",Ie="[object Float32Array]",je="[object Float64Array]",$t="[object Int8Array]",Qe="[object Int16Array]",et="[object Int32Array]",Ue="[object Uint8Array]",st="[object Uint8ClampedArray]",at="[object Uint16Array]",er="[object Uint32Array]",zn=/\b__p \+= '';/g,ro=/\b(__p \+=) '' \+/g,Ci=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ti=/&(?:amp|lt|gt|quot|#39);/g,Fi=/[&<>"']/g,an=RegExp(Ti.source),jo=RegExp(Fi.source),zo=/<%-([\s\S]+?)%>/g,no=/<%([\s\S]+?)%>/g,Bi=/<%=([\s\S]+?)%>/g,io=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ko=/^\w*$/,qo=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ii=/[\\^$.*+?()[\]{}|]/g,Ho=RegExp(Ii.source),Di=/^\s+/,ur=/\s/,wr=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ri=/\{\n\/\* \[wrapped with (.+)\] \*/,Kn=/,? & /,oo=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,so=/[()=,{}\[\]\/\s]/,ao=/\\(\\)?/g,$o=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,uo=/\w*$/,Go=/^[-+]0x[0-9a-f]+$/i,Wo=/^0b[01]+$/i,ni=/^\[object .+?Constructor\]$/,Yo=/^0o[0-7]+$/i,Vo=/^(?:0|[1-9]\d*)$/,co=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,gn=/($^)/,Jo=/['\n\r\u2028\u2029\\]/g,sa="\\ud800-\\udfff",Vu="\\u0300-\\u036f",Ju="\\ufe20-\\ufe2f",fo="\\u20d0-\\u20ff",aa=Vu+Ju+fo,Sn="\\u2700-\\u27bf",ua="a-z\\xdf-\\xf6\\xf8-\\xff",Es="\\xac\\xb1\\xd7\\xf7",ca="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Xu="\\u2000-\\u206f",Ya=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Xo="A-Z\\xc0-\\xd6\\xd8-\\xde",lo="\\ufe0e\\ufe0f",Ri=Es+ca+Xu+Ya,E="['\u2019]",N="["+sa+"]",C="["+Ri+"]",j="["+aa+"]",q="\\d+",M="["+Sn+"]",ae="["+ua+"]",ge="[^"+sa+Ri+q+Sn+ua+Xo+"]",_e="\\ud83c[\\udffb-\\udfff]",Se="(?:"+j+"|"+_e+")",Pe="[^"+sa+"]",Ke="(?:\\ud83c[\\udde6-\\uddff]){2}",rt="[\\ud800-\\udbff][\\udc00-\\udfff]",ft="["+Xo+"]",Et="\\u200d",Yt="(?:"+ae+"|"+ge+")",Mt="(?:"+ft+"|"+ge+")",kr="(?:"+E+"(?:d|ll|m|re|s|t|ve))?",Ni="(?:"+E+"(?:D|LL|M|RE|S|T|VE))?",Zo=Se+"?",Zu="["+lo+"]?",Va="(?:"+Et+"(?:"+[Pe,Ke,rt].join("|")+")"+Zu+Zo+")*",kf="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Qu="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Ui=Zu+Zo+Va,ec="(?:"+[M,Ke,rt].join("|")+")"+Ui,h0="(?:"+[Pe+j+"?",j,Ke,rt,N].join("|")+")",Ef=RegExp(E,"g"),yh=RegExp(j,"g"),tc=RegExp(_e+"(?="+_e+")|"+h0+Ui,"g"),d0=RegExp([ft+"?"+ae+"+"+kr+"(?="+[C,ft,"$"].join("|")+")",Mt+"+"+Ni+"(?="+[C,ft+Yt,"$"].join("|")+")",ft+"?"+Yt+"+"+kr,ft+"+"+Ni,Qu,kf,q,ec].join("|"),"g"),p0=RegExp("["+Et+sa+aa+lo+"]"),m0=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,y0=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ss=-1,sr={};sr[Ie]=sr[je]=sr[$t]=sr[Qe]=sr[et]=sr[Ue]=sr[st]=sr[at]=sr[er]=!0,sr[Ut]=sr[Bt]=sr[re]=sr[fe]=sr[ye]=sr[pe]=sr[De]=sr[$e]=sr[Oe]=sr[Lt]=sr[yt]=sr[Xr]=sr[ar]=sr[zr]=sr[Kr]=!1;var tr={};tr[Ut]=tr[Bt]=tr[re]=tr[ye]=tr[fe]=tr[pe]=tr[Ie]=tr[je]=tr[$t]=tr[Qe]=tr[et]=tr[Oe]=tr[Lt]=tr[yt]=tr[Xr]=tr[ar]=tr[zr]=tr[dr]=tr[Ue]=tr[st]=tr[at]=tr[er]=!0,tr[De]=tr[$e]=tr[Kr]=!1;var gh={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},bh={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},vh={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},rc={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ps=parseFloat,nc=parseInt,Sf=typeof global=="object"&&global&&global.Object===Object&&global,wh=typeof self=="object"&&self&&self.Object===Object&&self,Dr=Sf||wh||Function("return this")(),ic=typeof hf=="object"&&hf&&!hf.nodeType&&hf,rr=ic&&typeof ah=="object"&&ah&&!ah.nodeType&&ah,_h=rr&&rr.exports===ic,oc=_h&&Sf.process,bn=function(){try{var K=rr&&rr.require&&rr.require("util").types;return K||oc&&oc.binding&&oc.binding("util")}catch(oe){}}(),Pf=bn&&bn.isArrayBuffer,xh=bn&&bn.isDate,Cf=bn&&bn.isMap,fa=bn&&bn.isRegExp,Tf=bn&&bn.isSet,Ff=bn&&bn.isTypedArray;function vn(K,oe,Q){switch(Q.length){case 0:return K.call(oe);case 1:return K.call(oe,Q[0]);case 2:return K.call(oe,Q[0],Q[1]);case 3:return K.call(oe,Q[0],Q[1],Q[2])}return K.apply(oe,Q)}function Ah(K,oe,Q,ze){for(var tt=-1,Dt=K==null?0:K.length;++tt<Dt;){var Er=K[tt];oe(ze,Er,Q(Er),K)}return ze}function Pn(K,oe){for(var Q=-1,ze=K==null?0:K.length;++Q<ze&&oe(K[Q],Q,K)!==!1;);return K}function Cs(K,oe){for(var Q=K==null?0:K.length;Q--&&oe(K[Q],Q,K)!==!1;);return K}function sc(K,oe){for(var Q=-1,ze=K==null?0:K.length;++Q<ze;)if(!oe(K[Q],Q,K))return!1;return!0}function Qo(K,oe){for(var Q=-1,ze=K==null?0:K.length,tt=0,Dt=[];++Q<ze;){var Er=K[Q];oe(Er,Q,K)&&(Dt[tt++]=Er)}return Dt}function ac(K,oe){var Q=K==null?0:K.length;return!!Q&&I(K,oe,0)>-1}function Bf(K,oe,Q){for(var ze=-1,tt=K==null?0:K.length;++ze<tt;)if(Q(oe,K[ze]))return!0;return!1}function hr(K,oe){for(var Q=-1,ze=K==null?0:K.length,tt=Array(ze);++Q<ze;)tt[Q]=oe(K[Q],Q,K);return tt}function es(K,oe){for(var Q=-1,ze=oe.length,tt=K.length;++Q<ze;)K[tt+Q]=oe[Q];return K}function If(K,oe,Q,ze){var tt=-1,Dt=K==null?0:K.length;for(ze&&Dt&&(Q=K[++tt]);++tt<Dt;)Q=oe(Q,K[tt],tt,K);return Q}function g0(K,oe,Q,ze){var tt=K==null?0:K.length;for(ze&&tt&&(Q=K[--tt]);tt--;)Q=oe(Q,K[tt],tt,K);return Q}function g(K,oe){for(var Q=-1,ze=K==null?0:K.length;++Q<ze;)if(oe(K[Q],Q,K))return!0;return!1}var d=Me("length");function h(K){return K.split("")}function b(K){return K.match(oo)||[]}function S(K,oe,Q){var ze;return Q(K,function(tt,Dt,Er){if(oe(tt,Dt,Er))return ze=Dt,!1}),ze}function F(K,oe,Q,ze){for(var tt=K.length,Dt=Q+(ze?1:-1);ze?Dt--:++Dt<tt;)if(oe(K[Dt],Dt,K))return Dt;return-1}function I(K,oe,Q){return oe===oe?v0(K,oe,Q):F(K,se,Q)}function J(K,oe,Q,ze){for(var tt=Q-1,Dt=K.length;++tt<Dt;)if(ze(K[tt],oe))return tt;return-1}function se(K){return K!==K}function te(K,oe){var Q=K==null?0:K.length;return Q?Vt(K,oe)/Q:vr}function Me(K){return function(oe){return oe==null?t:oe[K]}}function be(K){return function(oe){return K==null?t:K[oe]}}function Xe(K,oe,Q,ze,tt){return tt(K,function(Dt,Er,jt){Q=ze?(ze=!1,Dt):oe(Q,Dt,Er,jt)}),Q}function Pt(K,oe){var Q=K.length;for(K.sort(oe);Q--;)K[Q]=K[Q].value;return K}function Vt(K,oe){for(var Q,ze=-1,tt=K.length;++ze<tt;){var Dt=oe(K[ze]);Dt!==t&&(Q=Q===t?Dt:Q+Dt)}return Q}function un(K,oe){for(var Q=-1,ze=Array(K);++Q<K;)ze[Q]=oe(Q);return ze}function Rr(K,oe){return hr(oe,function(Q){return[Q,K[Q]]})}function Li(K){return K&&K.slice(0,kh(K)+1).replace(Di,"")}function Ot(K){return function(oe){return K(oe)}}function Ja(K,oe){return hr(oe,function(Q){return K[Q]})}function ii(K,oe){return K.has(oe)}function Le(K,oe){for(var Q=-1,ze=K.length;++Q<ze&&I(oe,K[Q],0)>-1;);return Q}function It(K,oe){for(var Q=K.length;Q--&&I(oe,K[Q],0)>-1;);return Q}function xt(K,oe){for(var Q=K.length,ze=0;Q--;)K[Q]===oe&&++ze;return ze}var nr=be(gh),Hr=be(bh);function Cn(K){return"\\"+rc[K]}function qn(K,oe){return K==null?t:K[oe]}function $r(K){return p0.test(K)}function ho(K){return m0.test(K)}function Xa(K){for(var oe,Q=[];!(oe=K.next()).done;)Q.push(oe.value);return Q}function la(K){var oe=-1,Q=Array(K.size);return K.forEach(function(ze,tt){Q[++oe]=[tt,ze]}),Q}function uc(K,oe){return function(Q){return K(oe(Q))}}function Tn(K,oe){for(var Q=-1,ze=K.length,tt=0,Dt=[];++Q<ze;){var Er=K[Q];(Er===oe||Er===p)&&(K[Q]=p,Dt[tt++]=Q)}return Dt}function Za(K){var oe=-1,Q=Array(K.size);return K.forEach(function(ze){Q[++oe]=ze}),Q}function b0(K){var oe=-1,Q=Array(K.size);return K.forEach(function(ze){Q[++oe]=[ze,ze]}),Q}function v0(K,oe,Q){for(var ze=Q-1,tt=K.length;++ze<tt;)if(K[ze]===oe)return ze;return-1}function po(K,oe,Q){for(var ze=Q+1;ze--;)if(K[ze]===oe)return ze;return ze}function Ts(K){return $r(K)?_0(K):d(K)}function oi(K){return $r(K)?x0(K):h(K)}function kh(K){for(var oe=K.length;oe--&&ur.test(K.charAt(oe)););return oe}var w0=be(vh);function _0(K){for(var oe=tc.lastIndex=0;tc.test(K);)++oe;return oe}function x0(K){return K.match(tc)||[]}function A0(K){return K.match(d0)||[]}var k0=function K(oe){oe=oe==null?Dr:ts.defaults(Dr.Object(),oe,ts.pick(Dr,y0));var Q=oe.Array,ze=oe.Date,tt=oe.Error,Dt=oe.Function,Er=oe.Math,jt=oe.Object,Qa=oe.RegExp,Df=oe.String,wn=oe.TypeError,eu=Q.prototype,Eh=Dt.prototype,Fs=jt.prototype,tu=oe["__core-js_shared__"],ru=Eh.toString,zt=Fs.hasOwnProperty,Sh=0,Rf=function(){var o=/[^.]+$/.exec(tu&&tu.keys&&tu.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""}(),nu=Fs.toString,Ph=ru.call(jt),Ch=Dr._,Th=Qa("^"+ru.call(zt).replace(Ii,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ha=_h?oe.Buffer:t,rs=oe.Symbol,cc=oe.Uint8Array,fc=ha?ha.allocUnsafe:t,iu=uc(jt.getPrototypeOf,jt),Fh=jt.create,mo=Fs.propertyIsEnumerable,lc=eu.splice,Bh=rs?rs.isConcatSpreadable:t,da=rs?rs.iterator:t,Bs=rs?rs.toStringTag:t,hc=function(){try{var o=hu(jt,"defineProperty");return o({},"",{}),o}catch(a){}}(),E0=oe.clearTimeout!==Dr.clearTimeout&&oe.clearTimeout,S0=ze&&ze.now!==Dr.Date.now&&ze.now,P0=oe.setTimeout!==Dr.setTimeout&&oe.setTimeout,dc=Er.ceil,pc=Er.floor,Nf=jt.getOwnPropertySymbols,C0=ha?ha.isBuffer:t,Ih=oe.isFinite,Dh=eu.join,T0=uc(jt.keys,jt),Nr=Er.max,Zr=Er.min,F0=ze.now,B0=oe.parseInt,Rh=Er.random,I0=eu.reverse,Uf=hu(oe,"DataView"),ou=hu(oe,"Map"),Lf=hu(oe,"Promise"),pa=hu(oe,"Set"),su=hu(oe,"WeakMap"),au=hu(jt,"create"),mc=su&&new su,ma={},Nh=du(Uf),uu=du(ou),Uh=du(Lf),ya=du(pa),D0=du(su),Is=rs?rs.prototype:t,Ds=Is?Is.valueOf:t,Lh=Is?Is.toString:t;function k(o){if(Sr(o)&&!lt(o)&&!(o instanceof x)){if(o instanceof Hn)return o;if(zt.call(o,"__wrapped__"))return kv(o)}return new Hn(o)}var ns=function(){function o(){}return function(a){if(!_r(a))return{};if(Fh)return Fh(a);o.prototype=a;var f=new o;return o.prototype=t,f}}();function yc(){}function Hn(o,a){this.__wrapped__=o,this.__actions__=[],this.__chain__=!!a,this.__index__=0,this.__values__=t}k.templateSettings={escape:zo,evaluate:no,interpolate:Bi,variable:"",imports:{_:k}},k.prototype=yc.prototype,k.prototype.constructor=k,Hn.prototype=ns(yc.prototype),Hn.prototype.constructor=Hn;function x(o){this.__wrapped__=o,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=lr,this.__views__=[]}function U(){var o=new x(this.__wrapped__);return o.__actions__=Gn(this.__actions__),o.__dir__=this.__dir__,o.__filtered__=this.__filtered__,o.__iteratees__=Gn(this.__iteratees__),o.__takeCount__=this.__takeCount__,o.__views__=Gn(this.__views__),o}function T(){if(this.__filtered__){var o=new x(this);o.__dir__=-1,o.__filtered__=!0}else o=this.clone(),o.__dir__*=-1;return o}function z(){var o=this.__wrapped__.value(),a=this.__dir__,f=lt(o),m=a<0,v=f?o.length:0,P=vP(0,v,this.__views__),D=P.start,L=P.end,$=L-D,de=m?L:D-1,me=this.__iteratees__,ve=me.length,Ne=0,Ye=Zr($,this.__takeCount__);if(!f||!m&&v==$&&Ye==$)return Wb(o,this.__actions__);var it=[];e:for(;$--&&Ne<Ye;){de+=a;for(var vt=-1,ot=o[de];++vt<ve;){var St=me[vt],Ct=St.iteratee,ui=St.type,In=Ct(ot);if(ui==qe)ot=In;else if(!In){if(ui==ht)continue e;break e}}it[Ne++]=ot}return it}x.prototype=ns(yc.prototype),x.prototype.constructor=x;function H(o){var a=-1,f=o==null?0:o.length;for(this.clear();++a<f;){var m=o[a];this.set(m[0],m[1])}}function O(){this.__data__=au?au(null):{},this.size=0}function he(o){var a=this.has(o)&&delete this.__data__[o];return this.size-=a?1:0,a}function ke(o){var a=this.__data__;if(au){var f=a[o];return f===u?t:f}return zt.call(a,o)?a[o]:t}function Te(o){var a=this.__data__;return au?a[o]!==t:zt.call(a,o)}function Fe(o,a){var f=this.__data__;return this.size+=this.has(o)?0:1,f[o]=au&&a===t?u:a,this}H.prototype.clear=O,H.prototype.delete=he,H.prototype.get=ke,H.prototype.has=Te,H.prototype.set=Fe;function Ce(o){var a=-1,f=o==null?0:o.length;for(this.clear();++a<f;){var m=o[a];this.set(m[0],m[1])}}function Ge(){this.__data__=[],this.size=0}function bt(o){var a=this.__data__,f=Mh(a,o);if(f<0)return!1;var m=a.length-1;return f==m?a.pop():lc.call(a,f,1),--this.size,!0}function Kt(o){var a=this.__data__,f=Mh(a,o);return f<0?t:a[f][1]}function Gt(o){return Mh(this.__data__,o)>-1}function Ur(o,a){var f=this.__data__,m=Mh(f,o);return m<0?(++this.size,f.push([o,a])):f[m][1]=a,this}Ce.prototype.clear=Ge,Ce.prototype.delete=bt,Ce.prototype.get=Kt,Ce.prototype.has=Gt,Ce.prototype.set=Ur;function Jt(o){var a=-1,f=o==null?0:o.length;for(this.clear();++a<f;){var m=o[a];this.set(m[0],m[1])}}function cn(){this.size=0,this.__data__={hash:new H,map:new(ou||Ce),string:new H}}function cu(o){var a=Jh(this,o).delete(o);return this.size-=a?1:0,a}function Mf(o){return Jh(this,o).get(o)}function R0(o){return Jh(this,o).has(o)}function Of(o,a){var f=Jh(this,o),m=f.size;return f.set(o,a),this.size+=f.size==m?0:1,this}Jt.prototype.clear=cn,Jt.prototype.delete=cu,Jt.prototype.get=Mf,Jt.prototype.has=R0,Jt.prototype.set=Of;function ga(o){var a=-1,f=o==null?0:o.length;for(this.__data__=new Jt;++a<f;)this.add(o[a])}function N0(o){return this.__data__.set(o,u),this}function U0(o){return this.__data__.has(o)}ga.prototype.add=ga.prototype.push=N0,ga.prototype.has=U0;function $n(o){var a=this.__data__=new Ce(o);this.size=a.size}function ES(){this.__data__=new Ce,this.size=0}function SS(o){var a=this.__data__,f=a.delete(o);return this.size=a.size,f}function PS(o){return this.__data__.get(o)}function CS(o){return this.__data__.has(o)}function TS(o,a){var f=this.__data__;if(f instanceof Ce){var m=f.__data__;if(!ou||m.length<r-1)return m.push([o,a]),this.size=++f.size,this;f=this.__data__=new Jt(m)}return f.set(o,a),this.size=f.size,this}$n.prototype.clear=ES,$n.prototype.delete=SS,$n.prototype.get=PS,$n.prototype.has=CS,$n.prototype.set=TS;function kb(o,a){var f=lt(o),m=!f&&pu(o),v=!f&&!m&&xa(o),P=!f&&!m&&!v&&wc(o),D=f||m||v||P,L=D?un(o.length,Df):[],$=L.length;for(var de in o)(a||zt.call(o,de))&&!(D&&(de=="length"||v&&(de=="offset"||de=="parent")||P&&(de=="buffer"||de=="byteLength"||de=="byteOffset")||Ls(de,$)))&&L.push(de);return L}function Eb(o){var a=o.length;return a?o[W0(0,a-1)]:t}function FS(o,a){return Xh(Gn(o),fu(a,0,o.length))}function BS(o){return Xh(Gn(o))}function L0(o,a,f){(f!==t&&!yo(o[a],f)||f===t&&!(a in o))&&Rs(o,a,f)}function jf(o,a,f){var m=o[a];(!(zt.call(o,a)&&yo(m,f))||f===t&&!(a in o))&&Rs(o,a,f)}function Mh(o,a){for(var f=o.length;f--;)if(yo(o[f][0],a))return f;return-1}function IS(o,a,f,m){return ba(o,function(v,P,D){a(m,v,f(v),D)}),m}function Sb(o,a){return o&&os(a,Qr(a),o)}function DS(o,a){return o&&os(a,Yn(a),o)}function Rs(o,a,f){a=="__proto__"&&hc?hc(o,a,{configurable:!0,enumerable:!0,value:f,writable:!0}):o[a]=f}function M0(o,a){for(var f=-1,m=a.length,v=Q(m),P=o==null;++f<m;)v[f]=P?t:bm(o,a[f]);return v}function fu(o,a,f){return o===o&&(f!==t&&(o=o<=f?o:f),a!==t&&(o=o>=a?o:a)),o}function Mi(o,a,f,m,v,P){var D,L=a&l,$=a&y,de=a&w;if(f&&(D=v?f(o,m,v,P):f(o)),D!==t)return D;if(!_r(o))return o;var me=lt(o);if(me){if(D=_P(o),!L)return Gn(o,D)}else{var ve=_n(o),Ne=ve==$e||ve==We;if(xa(o))return Jb(o,L);if(ve==yt||ve==Ut||Ne&&!v){if(D=$||Ne?{}:mv(o),!L)return $?fP(o,DS(D,o)):cP(o,Sb(D,o))}else{if(!tr[ve])return v?o:{};D=xP(o,ve,L)}}P||(P=new $n);var Ye=P.get(o);if(Ye)return Ye;P.set(o,D),Hv(o)?o.forEach(function(ot){D.add(Mi(ot,a,f,ot,o,P))}):Kv(o)&&o.forEach(function(ot,St){D.set(St,Mi(ot,a,f,St,o,P))});var it=de?$?im:nm:$?Yn:Qr,vt=me?t:it(o);return Pn(vt||o,function(ot,St){vt&&(St=ot,ot=o[St]),jf(D,St,Mi(ot,a,f,St,o,P))}),D}function RS(o){var a=Qr(o);return function(f){return Pb(f,o,a)}}function Pb(o,a,f){var m=f.length;if(o==null)return!m;for(o=jt(o);m--;){var v=f[m],P=a[v],D=o[v];if(D===t&&!(v in o)||!P(D))return!1}return!0}function Cb(o,a,f){if(typeof o!="function")throw new wn(i);return Wf(function(){o.apply(t,f)},a)}function zf(o,a,f,m){var v=-1,P=ac,D=!0,L=o.length,$=[],de=a.length;if(!L)return $;f&&(a=hr(a,Ot(f))),m?(P=Bf,D=!1):a.length>=r&&(P=ii,D=!1,a=new ga(a));e:for(;++v<L;){var me=o[v],ve=f==null?me:f(me);if(me=m||me!==0?me:0,D&&ve===ve){for(var Ne=de;Ne--;)if(a[Ne]===ve)continue e;$.push(me)}else P(a,ve,m)||$.push(me)}return $}var ba=tv(is),Tb=tv(j0,!0);function NS(o,a){var f=!0;return ba(o,function(m,v,P){return f=!!a(m,v,P),f}),f}function Oh(o,a,f){for(var m=-1,v=o.length;++m<v;){var P=o[m],D=a(P);if(D!=null&&(L===t?D===D&&!ai(D):f(D,L)))var L=D,$=P}return $}function US(o,a,f,m){var v=o.length;for(f=gt(f),f<0&&(f=-f>v?0:v+f),m=m===t||m>v?v:gt(m),m<0&&(m+=v),m=f>m?0:Gv(m);f<m;)o[f++]=a;return o}function Fb(o,a){var f=[];return ba(o,function(m,v,P){a(m,v,P)&&f.push(m)}),f}function fn(o,a,f,m,v){var P=-1,D=o.length;for(f||(f=kP),v||(v=[]);++P<D;){var L=o[P];a>0&&f(L)?a>1?fn(L,a-1,f,m,v):es(v,L):m||(v[v.length]=L)}return v}var O0=rv(),Bb=rv(!0);function is(o,a){return o&&O0(o,a,Qr)}function j0(o,a){return o&&Bb(o,a,Qr)}function jh(o,a){return Qo(a,function(f){return Ms(o[f])})}function lu(o,a){a=wa(a,o);for(var f=0,m=a.length;o!=null&&f<m;)o=o[ss(a[f++])];return f&&f==m?o:t}function Ib(o,a,f){var m=a(o);return lt(o)?m:es(m,f(o))}function Fn(o){return o==null?o===t?le:Ze:Bs&&Bs in jt(o)?bP(o):BP(o)}function z0(o,a){return o>a}function LS(o,a){return o!=null&&zt.call(o,a)}function MS(o,a){return o!=null&&a in jt(o)}function OS(o,a,f){return o>=Zr(a,f)&&o<Nr(a,f)}function K0(o,a,f){for(var m=f?Bf:ac,v=o[0].length,P=o.length,D=P,L=Q(P),$=Infinity,de=[];D--;){var me=o[D];D&&a&&(me=hr(me,Ot(a))),$=Zr(me.length,$),L[D]=!f&&(a||v>=120&&me.length>=120)?new ga(D&&me):t}me=o[0];var ve=-1,Ne=L[0];e:for(;++ve<v&&de.length<$;){var Ye=me[ve],it=a?a(Ye):Ye;if(Ye=f||Ye!==0?Ye:0,!(Ne?ii(Ne,it):m(de,it,f))){for(D=P;--D;){var vt=L[D];if(!(vt?ii(vt,it):m(o[D],it,f)))continue e}Ne&&Ne.push(it),de.push(Ye)}}return de}function jS(o,a,f,m){return is(o,function(v,P,D){a(m,f(v),P,D)}),m}function Kf(o,a,f){a=wa(a,o),o=vv(o,a);var m=o==null?o:o[ss(ji(a))];return m==null?t:vn(m,o,f)}function Db(o){return Sr(o)&&Fn(o)==Ut}function zS(o){return Sr(o)&&Fn(o)==re}function KS(o){return Sr(o)&&Fn(o)==pe}function qf(o,a,f,m,v){return o===a?!0:o==null||a==null||!Sr(o)&&!Sr(a)?o!==o&&a!==a:qS(o,a,f,m,qf,v)}function qS(o,a,f,m,v,P){var D=lt(o),L=lt(a),$=D?Bt:_n(o),de=L?Bt:_n(a);$=$==Ut?yt:$,de=de==Ut?yt:de;var me=$==yt,ve=de==yt,Ne=$==de;if(Ne&&xa(o)){if(!xa(a))return!1;D=!0,me=!1}if(Ne&&!me)return P||(P=new $n),D||wc(o)?hv(o,a,f,m,v,P):yP(o,a,$,f,m,v,P);if(!(f&B)){var Ye=me&&zt.call(o,"__wrapped__"),it=ve&&zt.call(a,"__wrapped__");if(Ye||it){var vt=Ye?o.value():o,ot=it?a.value():a;return P||(P=new $n),v(vt,ot,f,m,P)}}return Ne?(P||(P=new $n),gP(o,a,f,m,v,P)):!1}function HS(o){return Sr(o)&&_n(o)==Oe}function q0(o,a,f,m){var v=f.length,P=v,D=!m;if(o==null)return!P;for(o=jt(o);v--;){var L=f[v];if(D&&L[2]?L[1]!==o[L[0]]:!(L[0]in o))return!1}for(;++v<P;){L=f[v];var $=L[0],de=o[$],me=L[1];if(D&&L[2]){if(de===t&&!($ in o))return!1}else{var ve=new $n;if(m)var Ne=m(de,me,$,o,a,ve);if(!(Ne===t?qf(me,de,B|_,m,ve):Ne))return!1}}return!0}function Rb(o){if(!_r(o)||SP(o))return!1;var a=Ms(o)?Th:ni;return a.test(du(o))}function $S(o){return Sr(o)&&Fn(o)==Xr}function GS(o){return Sr(o)&&_n(o)==ar}function WS(o){return Sr(o)&&nd(o.length)&&!!sr[Fn(o)]}function Nb(o){return typeof o=="function"?o:o==null?Vn:typeof o=="object"?lt(o)?Mb(o[0],o[1]):Lb(o):n2(o)}function H0(o){if(!Gf(o))return T0(o);var a=[];for(var f in jt(o))zt.call(o,f)&&f!="constructor"&&a.push(f);return a}function YS(o){if(!_r(o))return FP(o);var a=Gf(o),f=[];for(var m in o)m=="constructor"&&(a||!zt.call(o,m))||f.push(m);return f}function $0(o,a){return o<a}function Ub(o,a){var f=-1,m=Wn(o)?Q(o.length):[];return ba(o,function(v,P,D){m[++f]=a(v,P,D)}),m}function Lb(o){var a=sm(o);return a.length==1&&a[0][2]?gv(a[0][0],a[0][1]):function(f){return f===o||q0(f,o,a)}}function Mb(o,a){return um(o)&&yv(a)?gv(ss(o),a):function(f){var m=bm(f,o);return m===t&&m===a?vm(f,o):qf(a,m,B|_)}}function zh(o,a,f,m,v){o!==a&&O0(a,function(P,D){if(v||(v=new $n),_r(P))VS(o,a,D,f,zh,m,v);else{var L=m?m(fm(o,D),P,D+"",o,a,v):t;L===t&&(L=P),L0(o,D,L)}},Yn)}function VS(o,a,f,m,v,P,D){var L=fm(o,f),$=fm(a,f),de=D.get($);if(de){L0(o,f,de);return}var me=P?P(L,$,f+"",o,a,D):t,ve=me===t;if(ve){var Ne=lt($),Ye=!Ne&&xa($),it=!Ne&&!Ye&&wc($);me=$,Ne||Ye||it?lt(L)?me=L:Lr(L)?me=Gn(L):Ye?(ve=!1,me=Jb($,!0)):it?(ve=!1,me=Xb($,!0)):me=[]:Yf($)||pu($)?(me=L,pu(L)?me=Wv(L):(!_r(L)||Ms(L))&&(me=mv($))):ve=!1}ve&&(D.set($,me),v(me,$,m,P,D),D.delete($)),L0(o,f,me)}function Ob(o,a){var f=o.length;if(!!f)return a+=a<0?f:0,Ls(a,f)?o[a]:t}function jb(o,a,f){a.length?a=hr(a,function(P){return lt(P)?function(D){return lu(D,P.length===1?P[0]:P)}:P}):a=[Vn];var m=-1;a=hr(a,Ot(nt()));var v=Ub(o,function(P,D,L){var $=hr(a,function(de){return de(P)});return{criteria:$,index:++m,value:P}});return Pt(v,function(P,D){return uP(P,D,f)})}function JS(o,a){return zb(o,a,function(f,m){return vm(o,m)})}function zb(o,a,f){for(var m=-1,v=a.length,P={};++m<v;){var D=a[m],L=lu(o,D);f(L,D)&&Hf(P,wa(D,o),L)}return P}function XS(o){return function(a){return lu(a,o)}}function G0(o,a,f,m){var v=m?J:I,P=-1,D=a.length,L=o;for(o===a&&(a=Gn(a)),f&&(L=hr(o,Ot(f)));++P<D;)for(var $=0,de=a[P],me=f?f(de):de;($=v(L,me,$,m))>-1;)L!==o&&lc.call(L,$,1),lc.call(o,$,1);return o}function Kb(o,a){for(var f=o?a.length:0,m=f-1;f--;){var v=a[f];if(f==m||v!==P){var P=v;Ls(v)?lc.call(o,v,1):J0(o,v)}}return o}function W0(o,a){return o+pc(Rh()*(a-o+1))}function ZS(o,a,f,m){for(var v=-1,P=Nr(dc((a-o)/(f||1)),0),D=Q(P);P--;)D[m?P:++v]=o,o+=f;return D}function Y0(o,a){var f="";if(!o||a<1||a>or)return f;do a%2&&(f+=o),a=pc(a/2),a&&(o+=o);while(a);return f}function At(o,a){return lm(bv(o,a,Vn),o+"")}function QS(o){return Eb(_c(o))}function eP(o,a){var f=_c(o);return Xh(f,fu(a,0,f.length))}function Hf(o,a,f,m){if(!_r(o))return o;a=wa(a,o);for(var v=-1,P=a.length,D=P-1,L=o;L!=null&&++v<P;){var $=ss(a[v]),de=f;if($==="__proto__"||$==="constructor"||$==="prototype")return o;if(v!=D){var me=L[$];de=m?m(me,$,L):t,de===t&&(de=_r(me)?me:Ls(a[v+1])?[]:{})}jf(L,$,de),L=L[$]}return o}var qb=mc?function(o,a){return mc.set(o,a),o}:Vn,tP=hc?function(o,a){return hc(o,"toString",{configurable:!0,enumerable:!1,value:_m(a),writable:!0})}:Vn;function rP(o){return Xh(_c(o))}function Oi(o,a,f){var m=-1,v=o.length;a<0&&(a=-a>v?0:v+a),f=f>v?v:f,f<0&&(f+=v),v=a>f?0:f-a>>>0,a>>>=0;for(var P=Q(v);++m<v;)P[m]=o[m+a];return P}function nP(o,a){var f;return ba(o,function(m,v,P){return f=a(m,v,P),!f}),!!f}function Kh(o,a,f){var m=0,v=o==null?m:o.length;if(typeof a=="number"&&a===a&&v<=Wt){for(;m<v;){var P=m+v>>>1,D=o[P];D!==null&&!ai(D)&&(f?D<=a:D<a)?m=P+1:v=P}return v}return V0(o,a,Vn,f)}function V0(o,a,f,m){var v=0,P=o==null?0:o.length;if(P===0)return 0;a=f(a);for(var D=a!==a,L=a===null,$=ai(a),de=a===t;v<P;){var me=pc((v+P)/2),ve=f(o[me]),Ne=ve!==t,Ye=ve===null,it=ve===ve,vt=ai(ve);if(D)var ot=m||it;else de?ot=it&&(m||Ne):L?ot=it&&Ne&&(m||!Ye):$?ot=it&&Ne&&!Ye&&(m||!vt):Ye||vt?ot=!1:ot=m?ve<=a:ve<a;ot?v=me+1:P=me}return Zr(P,ti)}function Hb(o,a){for(var f=-1,m=o.length,v=0,P=[];++f<m;){var D=o[f],L=a?a(D):D;if(!f||!yo(L,$)){var $=L;P[v++]=D===0?0:D}}return P}function $b(o){return typeof o=="number"?o:ai(o)?vr:+o}function si(o){if(typeof o=="string")return o;if(lt(o))return hr(o,si)+"";if(ai(o))return Lh?Lh.call(o):"";var a=o+"";return a=="0"&&1/o==-Nt?"-0":a}function va(o,a,f){var m=-1,v=ac,P=o.length,D=!0,L=[],$=L;if(f)D=!1,v=Bf;else if(P>=r){var de=a?null:pP(o);if(de)return Za(de);D=!1,v=ii,$=new ga}else $=a?[]:L;e:for(;++m<P;){var me=o[m],ve=a?a(me):me;if(me=f||me!==0?me:0,D&&ve===ve){for(var Ne=$.length;Ne--;)if($[Ne]===ve)continue e;a&&$.push(ve),L.push(me)}else v($,ve,f)||($!==L&&$.push(ve),L.push(me))}return L}function J0(o,a){return a=wa(a,o),o=vv(o,a),o==null||delete o[ss(ji(a))]}function Gb(o,a,f,m){return Hf(o,a,f(lu(o,a)),m)}function qh(o,a,f,m){for(var v=o.length,P=m?v:-1;(m?P--:++P<v)&&a(o[P],P,o););return f?Oi(o,m?0:P,m?P+1:v):Oi(o,m?P+1:0,m?v:P)}function Wb(o,a){var f=o;return f instanceof x&&(f=f.value()),If(a,function(m,v){return v.func.apply(v.thisArg,es([m],v.args))},f)}function X0(o,a,f){var m=o.length;if(m<2)return m?va(o[0]):[];for(var v=-1,P=Q(m);++v<m;)for(var D=o[v],L=-1;++L<m;)L!=v&&(P[v]=zf(P[v]||D,o[L],a,f));return va(fn(P,1),a,f)}function Yb(o,a,f){for(var m=-1,v=o.length,P=a.length,D={};++m<v;){var L=m<P?a[m]:t;f(D,o[m],L)}return D}function Z0(o){return Lr(o)?o:[]}function Q0(o){return typeof o=="function"?o:Vn}function wa(o,a){return lt(o)?o:um(o,a)?[o]:Av(Xt(o))}var iP=At;function _a(o,a,f){var m=o.length;return f=f===t?m:f,!a&&f>=m?o:Oi(o,a,f)}var Vb=E0||function(o){return Dr.clearTimeout(o)};function Jb(o,a){if(a)return o.slice();var f=o.length,m=fc?fc(f):new o.constructor(f);return o.copy(m),m}function em(o){var a=new o.constructor(o.byteLength);return new cc(a).set(new cc(o)),a}function oP(o,a){var f=a?em(o.buffer):o.buffer;return new o.constructor(f,o.byteOffset,o.byteLength)}function sP(o){var a=new o.constructor(o.source,uo.exec(o));return a.lastIndex=o.lastIndex,a}function aP(o){return Ds?jt(Ds.call(o)):{}}function Xb(o,a){var f=a?em(o.buffer):o.buffer;return new o.constructor(f,o.byteOffset,o.length)}function Zb(o,a){if(o!==a){var f=o!==t,m=o===null,v=o===o,P=ai(o),D=a!==t,L=a===null,$=a===a,de=ai(a);if(!L&&!de&&!P&&o>a||P&&D&&$&&!L&&!de||m&&D&&$||!f&&$||!v)return 1;if(!m&&!P&&!de&&o<a||de&&f&&v&&!m&&!P||L&&f&&v||!D&&v||!$)return-1}return 0}function uP(o,a,f){for(var m=-1,v=o.criteria,P=a.criteria,D=v.length,L=f.length;++m<D;){var $=Zb(v[m],P[m]);if($){if(m>=L)return $;var de=f[m];return $*(de=="desc"?-1:1)}}return o.index-a.index}function Qb(o,a,f,m){for(var v=-1,P=o.length,D=f.length,L=-1,$=a.length,de=Nr(P-D,0),me=Q($+de),ve=!m;++L<$;)me[L]=a[L];for(;++v<D;)(ve||v<P)&&(me[f[v]]=o[v]);for(;de--;)me[L++]=o[v++];return me}function ev(o,a,f,m){for(var v=-1,P=o.length,D=-1,L=f.length,$=-1,de=a.length,me=Nr(P-L,0),ve=Q(me+de),Ne=!m;++v<me;)ve[v]=o[v];for(var Ye=v;++$<de;)ve[Ye+$]=a[$];for(;++D<L;)(Ne||v<P)&&(ve[Ye+f[D]]=o[v++]);return ve}function Gn(o,a){var f=-1,m=o.length;for(a||(a=Q(m));++f<m;)a[f]=o[f];return a}function os(o,a,f,m){var v=!f;f||(f={});for(var P=-1,D=a.length;++P<D;){var L=a[P],$=m?m(f[L],o[L],L,f,o):t;$===t&&($=o[L]),v?Rs(f,L,$):jf(f,L,$)}return f}function cP(o,a){return os(o,am(o),a)}function fP(o,a){return os(o,dv(o),a)}function Hh(o,a){return function(f,m){var v=lt(f)?Ah:IS,P=a?a():{};return v(f,o,nt(m,2),P)}}function gc(o){return At(function(a,f){var m=-1,v=f.length,P=v>1?f[v-1]:t,D=v>2?f[2]:t;for(P=o.length>3&&typeof P=="function"?(v--,P):t,D&&Bn(f[0],f[1],D)&&(P=v<3?t:P,v=1),a=jt(a);++m<v;){var L=f[m];L&&o(a,L,m,P)}return a})}function tv(o,a){return function(f,m){if(f==null)return f;if(!Wn(f))return o(f,m);for(var v=f.length,P=a?v:-1,D=jt(f);(a?P--:++P<v)&&m(D[P],P,D)!==!1;);return f}}function rv(o){return function(a,f,m){for(var v=-1,P=jt(a),D=m(a),L=D.length;L--;){var $=D[o?L:++v];if(f(P[$],$,P)===!1)break}return a}}function lP(o,a,f){var m=a&R,v=$f(o);function P(){var D=this&&this!==Dr&&this instanceof P?v:o;return D.apply(m?f:this,arguments)}return P}function nv(o){return function(a){a=Xt(a);var f=$r(a)?oi(a):t,m=f?f[0]:a.charAt(0),v=f?_a(f,1).join(""):a.slice(1);return m[o]()+v}}function bc(o){return function(a){return If(t2(e2(a).replace(Ef,"")),o,"")}}function $f(o){return function(){var a=arguments;switch(a.length){case 0:return new o;case 1:return new o(a[0]);case 2:return new o(a[0],a[1]);case 3:return new o(a[0],a[1],a[2]);case 4:return new o(a[0],a[1],a[2],a[3]);case 5:return new o(a[0],a[1],a[2],a[3],a[4]);case 6:return new o(a[0],a[1],a[2],a[3],a[4],a[5]);case 7:return new o(a[0],a[1],a[2],a[3],a[4],a[5],a[6])}var f=ns(o.prototype),m=o.apply(f,a);return _r(m)?m:f}}function hP(o,a,f){var m=$f(o);function v(){for(var P=arguments.length,D=Q(P),L=P,$=vc(v);L--;)D[L]=arguments[L];var de=P<3&&D[0]!==$&&D[P-1]!==$?[]:Tn(D,$);if(P-=de.length,P<f)return uv(o,a,$h,v.placeholder,t,D,de,t,t,f-P);var me=this&&this!==Dr&&this instanceof v?m:o;return vn(me,this,D)}return v}function iv(o){return function(a,f,m){var v=jt(a);if(!Wn(a)){var P=nt(f,3);a=Qr(a),f=function(L){return P(v[L],L,v)}}var D=o(a,f,m);return D>-1?v[P?a[D]:D]:t}}function ov(o){return Us(function(a){var f=a.length,m=f,v=Hn.prototype.thru;for(o&&a.reverse();m--;){var P=a[m];if(typeof P!="function")throw new wn(i);if(v&&!D&&Vh(P)=="wrapper")var D=new Hn([],!0)}for(m=D?m:f;++m<f;){P=a[m];var L=Vh(P),$=L=="wrapper"?om(P):t;$&&cm($[0])&&$[1]==(xe|Z|V|X)&&!$[4].length&&$[9]==1?D=D[Vh($[0])].apply(D,$[3]):D=P.length==1&&cm(P)?D[L]():D.thru(P)}return function(){var de=arguments,me=de[0];if(D&&de.length==1&&lt(me))return D.plant(me).value();for(var ve=0,Ne=f?a[ve].apply(this,de):me;++ve<f;)Ne=a[ve].call(this,Ne);return Ne}})}function $h(o,a,f,m,v,P,D,L,$,de){var me=a&xe,ve=a&R,Ne=a&W,Ye=a&(Z|ne),it=a&ee,vt=Ne?t:$f(o);function ot(){for(var St=arguments.length,Ct=Q(St),ui=St;ui--;)Ct[ui]=arguments[ui];if(Ye)var In=vc(ot),ci=xt(Ct,In);if(m&&(Ct=Qb(Ct,m,v,Ye)),P&&(Ct=ev(Ct,P,D,Ye)),St-=ci,Ye&&St<de){var Mr=Tn(Ct,In);return uv(o,a,$h,ot.placeholder,f,Ct,Mr,L,$,de-St)}var go=ve?f:this,js=Ne?go[o]:o;return St=Ct.length,L?Ct=IP(Ct,L):it&&St>1&&Ct.reverse(),me&&$<St&&(Ct.length=$),this&&this!==Dr&&this instanceof ot&&(js=vt||$f(js)),js.apply(go,Ct)}return ot}function sv(o,a){return function(f,m){return jS(f,o,a(m),{})}}function Gh(o,a){return function(f,m){var v;if(f===t&&m===t)return a;if(f!==t&&(v=f),m!==t){if(v===t)return m;typeof f=="string"||typeof m=="string"?(f=si(f),m=si(m)):(f=$b(f),m=$b(m)),v=o(f,m)}return v}}function tm(o){return Us(function(a){return a=hr(a,Ot(nt())),At(function(f){var m=this;return o(a,function(v){return vn(v,m,f)})})})}function Wh(o,a){a=a===t?" ":si(a);var f=a.length;if(f<2)return f?Y0(a,o):a;var m=Y0(a,dc(o/Ts(a)));return $r(a)?_a(oi(m),0,o).join(""):m.slice(0,o)}function dP(o,a,f,m){var v=a&R,P=$f(o);function D(){for(var L=-1,$=arguments.length,de=-1,me=m.length,ve=Q(me+$),Ne=this&&this!==Dr&&this instanceof D?P:o;++de<me;)ve[de]=m[de];for(;$--;)ve[de++]=arguments[++L];return vn(Ne,v?f:this,ve)}return D}function av(o){return function(a,f,m){return m&&typeof m!="number"&&Bn(a,f,m)&&(f=m=t),a=Os(a),f===t?(f=a,a=0):f=Os(f),m=m===t?a<f?1:-1:Os(m),ZS(a,f,m,o)}}function Yh(o){return function(a,f){return typeof a=="string"&&typeof f=="string"||(a=zi(a),f=zi(f)),o(a,f)}}function uv(o,a,f,m,v,P,D,L,$,de){var me=a&Z,ve=me?D:t,Ne=me?t:D,Ye=me?P:t,it=me?t:P;a|=me?V:ce,a&=~(me?ce:V),a&we||(a&=~(R|W));var vt=[o,a,v,Ye,ve,it,Ne,L,$,de],ot=f.apply(t,vt);return cm(o)&&wv(ot,vt),ot.placeholder=m,_v(ot,o,a)}function rm(o){var a=Er[o];return function(f,m){if(f=zi(f),m=m==null?0:Zr(gt(m),292),m&&Ih(f)){var v=(Xt(f)+"e").split("e"),P=a(v[0]+"e"+(+v[1]+m));return v=(Xt(P)+"e").split("e"),+(v[0]+"e"+(+v[1]-m))}return a(f)}}var pP=pa&&1/Za(new pa([,-0]))[1]==Nt?function(o){return new pa(o)}:km;function cv(o){return function(a){var f=_n(a);return f==Oe?la(a):f==ar?b0(a):Rr(a,o(a))}}function Ns(o,a,f,m,v,P,D,L){var $=a&W;if(!$&&typeof o!="function")throw new wn(i);var de=m?m.length:0;if(de||(a&=~(V|ce),m=v=t),D=D===t?D:Nr(gt(D),0),L=L===t?L:gt(L),de-=v?v.length:0,a&ce){var me=m,ve=v;m=v=t}var Ne=$?t:om(o),Ye=[o,a,f,m,v,me,ve,P,D,L];if(Ne&&TP(Ye,Ne),o=Ye[0],a=Ye[1],f=Ye[2],m=Ye[3],v=Ye[4],L=Ye[9]=Ye[9]===t?$?0:o.length:Nr(Ye[9]-de,0),!L&&a&(Z|ne)&&(a&=~(Z|ne)),!a||a==R)var it=lP(o,a,f);else a==Z||a==ne?it=hP(o,a,L):(a==V||a==(R|V))&&!v.length?it=dP(o,a,f,m):it=$h.apply(t,Ye);var vt=Ne?qb:wv;return _v(vt(it,Ye),o,a)}function fv(o,a,f,m){return o===t||yo(o,Fs[f])&&!zt.call(m,f)?a:o}function lv(o,a,f,m,v,P){return _r(o)&&_r(a)&&(P.set(a,o),zh(o,a,t,lv,P),P.delete(a)),o}function mP(o){return Yf(o)?t:o}function hv(o,a,f,m,v,P){var D=f&B,L=o.length,$=a.length;if(L!=$&&!(D&&$>L))return!1;var de=P.get(o),me=P.get(a);if(de&&me)return de==a&&me==o;var ve=-1,Ne=!0,Ye=f&_?new ga:t;for(P.set(o,a),P.set(a,o);++ve<L;){var it=o[ve],vt=a[ve];if(m)var ot=D?m(vt,it,ve,a,o,P):m(it,vt,ve,o,a,P);if(ot!==t){if(ot)continue;Ne=!1;break}if(Ye){if(!g(a,function(St,Ct){if(!ii(Ye,Ct)&&(it===St||v(it,St,f,m,P)))return Ye.push(Ct)})){Ne=!1;break}}else if(!(it===vt||v(it,vt,f,m,P))){Ne=!1;break}}return P.delete(o),P.delete(a),Ne}function yP(o,a,f,m,v,P,D){switch(f){case ye:if(o.byteLength!=a.byteLength||o.byteOffset!=a.byteOffset)return!1;o=o.buffer,a=a.buffer;case re:return!(o.byteLength!=a.byteLength||!P(new cc(o),new cc(a)));case fe:case pe:case Lt:return yo(+o,+a);case De:return o.name==a.name&&o.message==a.message;case Xr:case zr:return o==a+"";case Oe:var L=la;case ar:var $=m&B;if(L||(L=Za),o.size!=a.size&&!$)return!1;var de=D.get(o);if(de)return de==a;m|=_,D.set(o,a);var me=hv(L(o),L(a),m,v,P,D);return D.delete(o),me;case dr:if(Ds)return Ds.call(o)==Ds.call(a)}return!1}function gP(o,a,f,m,v,P){var D=f&B,L=nm(o),$=L.length,de=nm(a),me=de.length;if($!=me&&!D)return!1;for(var ve=$;ve--;){var Ne=L[ve];if(!(D?Ne in a:zt.call(a,Ne)))return!1}var Ye=P.get(o),it=P.get(a);if(Ye&&it)return Ye==a&&it==o;var vt=!0;P.set(o,a),P.set(a,o);for(var ot=D;++ve<$;){Ne=L[ve];var St=o[Ne],Ct=a[Ne];if(m)var ui=D?m(Ct,St,Ne,a,o,P):m(St,Ct,Ne,o,a,P);if(!(ui===t?St===Ct||v(St,Ct,f,m,P):ui)){vt=!1;break}ot||(ot=Ne=="constructor")}if(vt&&!ot){var In=o.constructor,ci=a.constructor;In!=ci&&"constructor"in o&&"constructor"in a&&!(typeof In=="function"&&In instanceof In&&typeof ci=="function"&&ci instanceof ci)&&(vt=!1)}return P.delete(o),P.delete(a),vt}function Us(o){return lm(bv(o,t,Pv),o+"")}function nm(o){return Ib(o,Qr,am)}function im(o){return Ib(o,Yn,dv)}var om=mc?function(o){return mc.get(o)}:km;function Vh(o){for(var a=o.name+"",f=ma[a],m=zt.call(ma,a)?f.length:0;m--;){var v=f[m],P=v.func;if(P==null||P==o)return v.name}return a}function vc(o){var a=zt.call(k,"placeholder")?k:o;return a.placeholder}function nt(){var o=k.iteratee||xm;return o=o===xm?Nb:o,arguments.length?o(arguments[0],arguments[1]):o}function Jh(o,a){var f=o.__data__;return EP(a)?f[typeof a=="string"?"string":"hash"]:f.map}function sm(o){for(var a=Qr(o),f=a.length;f--;){var m=a[f],v=o[m];a[f]=[m,v,yv(v)]}return a}function hu(o,a){var f=qn(o,a);return Rb(f)?f:t}function bP(o){var a=zt.call(o,Bs),f=o[Bs];try{o[Bs]=t;var m=!0}catch(P){}var v=nu.call(o);return m&&(a?o[Bs]=f:delete o[Bs]),v}var am=Nf?function(o){return o==null?[]:(o=jt(o),Qo(Nf(o),function(a){return mo.call(o,a)}))}:Em,dv=Nf?function(o){for(var a=[];o;)es(a,am(o)),o=iu(o);return a}:Em,_n=Fn;(Uf&&_n(new Uf(new ArrayBuffer(1)))!=ye||ou&&_n(new ou)!=Oe||Lf&&_n(Lf.resolve())!=Ir||pa&&_n(new pa)!=ar||su&&_n(new su)!=Kr)&&(_n=function(o){var a=Fn(o),f=a==yt?o.constructor:t,m=f?du(f):"";if(m)switch(m){case Nh:return ye;case uu:return Oe;case Uh:return Ir;case ya:return ar;case D0:return Kr}return a});function vP(o,a,f){for(var m=-1,v=f.length;++m<v;){var P=f[m],D=P.size;switch(P.type){case"drop":o+=D;break;case"dropRight":a-=D;break;case"take":a=Zr(a,o+D);break;case"takeRight":o=Nr(o,a-D);break}}return{start:o,end:a}}function wP(o){var a=o.match(ri);return a?a[1].split(Kn):[]}function pv(o,a,f){a=wa(a,o);for(var m=-1,v=a.length,P=!1;++m<v;){var D=ss(a[m]);if(!(P=o!=null&&f(o,D)))break;o=o[D]}return P||++m!=v?P:(v=o==null?0:o.length,!!v&&nd(v)&&Ls(D,v)&&(lt(o)||pu(o)))}function _P(o){var a=o.length,f=new o.constructor(a);return a&&typeof o[0]=="string"&&zt.call(o,"index")&&(f.index=o.index,f.input=o.input),f}function mv(o){return typeof o.constructor=="function"&&!Gf(o)?ns(iu(o)):{}}function xP(o,a,f){var m=o.constructor;switch(a){case re:return em(o);case fe:case pe:return new m(+o);case ye:return oP(o,f);case Ie:case je:case $t:case Qe:case et:case Ue:case st:case at:case er:return Xb(o,f);case Oe:return new m;case Lt:case zr:return new m(o);case Xr:return sP(o);case ar:return new m;case dr:return aP(o)}}function AP(o,a){var f=a.length;if(!f)return o;var m=f-1;return a[m]=(f>1?"& ":"")+a[m],a=a.join(f>2?", ":" "),o.replace(wr,`{
/* [wrapped with `+a+`] */
`)}function kP(o){return lt(o)||pu(o)||!!(Bh&&o&&o[Bh])}function Ls(o,a){var f=typeof o;return a=a??or,!!a&&(f=="number"||f!="symbol"&&Vo.test(o))&&o>-1&&o%1==0&&o<a}function Bn(o,a,f){if(!_r(f))return!1;var m=typeof a;return(m=="number"?Wn(f)&&Ls(a,f.length):m=="string"&&a in f)?yo(f[a],o):!1}function um(o,a){if(lt(o))return!1;var f=typeof o;return f=="number"||f=="symbol"||f=="boolean"||o==null||ai(o)?!0:Ko.test(o)||!io.test(o)||a!=null&&o in jt(a)}function EP(o){var a=typeof o;return a=="string"||a=="number"||a=="symbol"||a=="boolean"?o!=="__proto__":o===null}function cm(o){var a=Vh(o),f=k[a];if(typeof f!="function"||!(a in x.prototype))return!1;if(o===f)return!0;var m=om(f);return!!m&&o===m[0]}function SP(o){return!!Rf&&Rf in o}var PP=tu?Ms:Sm;function Gf(o){var a=o&&o.constructor,f=typeof a=="function"&&a.prototype||Fs;return o===f}function yv(o){return o===o&&!_r(o)}function gv(o,a){return function(f){return f==null?!1:f[o]===a&&(a!==t||o in jt(f))}}function CP(o){var a=td(o,function(m){return f.size===c&&f.clear(),m}),f=a.cache;return a}function TP(o,a){var f=o[1],m=a[1],v=f|m,P=v<(R|W|xe),D=m==xe&&f==Z||m==xe&&f==X&&o[7].length<=a[8]||m==(xe|X)&&a[7].length<=a[8]&&f==Z;if(!(P||D))return o;m&R&&(o[2]=a[2],v|=f&R?0:we);var L=a[3];if(L){var $=o[3];o[3]=$?Qb($,L,a[4]):L,o[4]=$?Tn(o[3],p):a[4]}return L=a[5],L&&($=o[5],o[5]=$?ev($,L,a[6]):L,o[6]=$?Tn(o[5],p):a[6]),L=a[7],L&&(o[7]=L),m&xe&&(o[8]=o[8]==null?a[8]:Zr(o[8],a[8])),o[9]==null&&(o[9]=a[9]),o[0]=a[0],o[1]=v,o}function FP(o){var a=[];if(o!=null)for(var f in jt(o))a.push(f);return a}function BP(o){return nu.call(o)}function bv(o,a,f){return a=Nr(a===t?o.length-1:a,0),function(){for(var m=arguments,v=-1,P=Nr(m.length-a,0),D=Q(P);++v<P;)D[v]=m[a+v];v=-1;for(var L=Q(a+1);++v<a;)L[v]=m[v];return L[a]=f(D),vn(o,this,L)}}function vv(o,a){return a.length<2?o:lu(o,Oi(a,0,-1))}function IP(o,a){for(var f=o.length,m=Zr(a.length,f),v=Gn(o);m--;){var P=a[m];o[m]=Ls(P,f)?v[P]:t}return o}function fm(o,a){if(!(a==="constructor"&&typeof o[a]=="function")&&a!="__proto__")return o[a]}var wv=xv(qb),Wf=P0||function(o,a){return Dr.setTimeout(o,a)},lm=xv(tP);function _v(o,a,f){var m=a+"";return lm(o,AP(m,DP(wP(m),f)))}function xv(o){var a=0,f=0;return function(){var m=F0(),v=_t-(m-f);if(f=m,v>0){if(++a>=ct)return arguments[0]}else a=0;return o.apply(t,arguments)}}function Xh(o,a){var f=-1,m=o.length,v=m-1;for(a=a===t?m:a;++f<a;){var P=W0(f,v),D=o[P];o[P]=o[f],o[f]=D}return o.length=a,o}var Av=CP(function(o){var a=[];return o.charCodeAt(0)===46&&a.push(""),o.replace(qo,function(f,m,v,P){a.push(v?P.replace(ao,"$1"):m||f)}),a});function ss(o){if(typeof o=="string"||ai(o))return o;var a=o+"";return a=="0"&&1/o==-Nt?"-0":a}function du(o){if(o!=null){try{return ru.call(o)}catch(a){}try{return o+""}catch(a){}}return""}function DP(o,a){return Pn(dt,function(f){var m="_."+f[0];a&f[1]&&!ac(o,m)&&o.push(m)}),o.sort()}function kv(o){if(o instanceof x)return o.clone();var a=new Hn(o.__wrapped__,o.__chain__);return a.__actions__=Gn(o.__actions__),a.__index__=o.__index__,a.__values__=o.__values__,a}function RP(o,a,f){(f?Bn(o,a,f):a===t)?a=1:a=Nr(gt(a),0);var m=o==null?0:o.length;if(!m||a<1)return[];for(var v=0,P=0,D=Q(dc(m/a));v<m;)D[P++]=Oi(o,v,v+=a);return D}function NP(o){for(var a=-1,f=o==null?0:o.length,m=0,v=[];++a<f;){var P=o[a];P&&(v[m++]=P)}return v}function UP(){var o=arguments.length;if(!o)return[];for(var a=Q(o-1),f=arguments[0],m=o;m--;)a[m-1]=arguments[m];return es(lt(f)?Gn(f):[f],fn(a,1))}var LP=At(function(o,a){return Lr(o)?zf(o,fn(a,1,Lr,!0)):[]}),MP=At(function(o,a){var f=ji(a);return Lr(f)&&(f=t),Lr(o)?zf(o,fn(a,1,Lr,!0),nt(f,2)):[]}),OP=At(function(o,a){var f=ji(a);return Lr(f)&&(f=t),Lr(o)?zf(o,fn(a,1,Lr,!0),t,f):[]});function jP(o,a,f){var m=o==null?0:o.length;return m?(a=f||a===t?1:gt(a),Oi(o,a<0?0:a,m)):[]}function zP(o,a,f){var m=o==null?0:o.length;return m?(a=f||a===t?1:gt(a),a=m-a,Oi(o,0,a<0?0:a)):[]}function KP(o,a){return o&&o.length?qh(o,nt(a,3),!0,!0):[]}function qP(o,a){return o&&o.length?qh(o,nt(a,3),!0):[]}function HP(o,a,f,m){var v=o==null?0:o.length;return v?(f&&typeof f!="number"&&Bn(o,a,f)&&(f=0,m=v),US(o,a,f,m)):[]}function Ev(o,a,f){var m=o==null?0:o.length;if(!m)return-1;var v=f==null?0:gt(f);return v<0&&(v=Nr(m+v,0)),F(o,nt(a,3),v)}function Sv(o,a,f){var m=o==null?0:o.length;if(!m)return-1;var v=m-1;return f!==t&&(v=gt(f),v=f<0?Nr(m+v,0):Zr(v,m-1)),F(o,nt(a,3),v,!0)}function Pv(o){var a=o==null?0:o.length;return a?fn(o,1):[]}function $P(o){var a=o==null?0:o.length;return a?fn(o,Nt):[]}function GP(o,a){var f=o==null?0:o.length;return f?(a=a===t?1:gt(a),fn(o,a)):[]}function WP(o){for(var a=-1,f=o==null?0:o.length,m={};++a<f;){var v=o[a];m[v[0]]=v[1]}return m}function Cv(o){return o&&o.length?o[0]:t}function YP(o,a,f){var m=o==null?0:o.length;if(!m)return-1;var v=f==null?0:gt(f);return v<0&&(v=Nr(m+v,0)),I(o,a,v)}function VP(o){var a=o==null?0:o.length;return a?Oi(o,0,-1):[]}var JP=At(function(o){var a=hr(o,Z0);return a.length&&a[0]===o[0]?K0(a):[]}),XP=At(function(o){var a=ji(o),f=hr(o,Z0);return a===ji(f)?a=t:f.pop(),f.length&&f[0]===o[0]?K0(f,nt(a,2)):[]}),ZP=At(function(o){var a=ji(o),f=hr(o,Z0);return a=typeof a=="function"?a:t,a&&f.pop(),f.length&&f[0]===o[0]?K0(f,t,a):[]});function QP(o,a){return o==null?"":Dh.call(o,a)}function ji(o){var a=o==null?0:o.length;return a?o[a-1]:t}function eC(o,a,f){var m=o==null?0:o.length;if(!m)return-1;var v=m;return f!==t&&(v=gt(f),v=v<0?Nr(m+v,0):Zr(v,m-1)),a===a?po(o,a,v):F(o,se,v,!0)}function tC(o,a){return o&&o.length?Ob(o,gt(a)):t}var rC=At(Tv);function Tv(o,a){return o&&o.length&&a&&a.length?G0(o,a):o}function nC(o,a,f){return o&&o.length&&a&&a.length?G0(o,a,nt(f,2)):o}function iC(o,a,f){return o&&o.length&&a&&a.length?G0(o,a,t,f):o}var oC=Us(function(o,a){var f=o==null?0:o.length,m=M0(o,a);return Kb(o,hr(a,function(v){return Ls(v,f)?+v:v}).sort(Zb)),m});function sC(o,a){var f=[];if(!(o&&o.length))return f;var m=-1,v=[],P=o.length;for(a=nt(a,3);++m<P;){var D=o[m];a(D,m,o)&&(f.push(D),v.push(m))}return Kb(o,v),f}function hm(o){return o==null?o:I0.call(o)}function aC(o,a,f){var m=o==null?0:o.length;return m?(f&&typeof f!="number"&&Bn(o,a,f)?(a=0,f=m):(a=a==null?0:gt(a),f=f===t?m:gt(f)),Oi(o,a,f)):[]}function uC(o,a){return Kh(o,a)}function cC(o,a,f){return V0(o,a,nt(f,2))}function fC(o,a){var f=o==null?0:o.length;if(f){var m=Kh(o,a);if(m<f&&yo(o[m],a))return m}return-1}function lC(o,a){return Kh(o,a,!0)}function hC(o,a,f){return V0(o,a,nt(f,2),!0)}function dC(o,a){var f=o==null?0:o.length;if(f){var m=Kh(o,a,!0)-1;if(yo(o[m],a))return m}return-1}function pC(o){return o&&o.length?Hb(o):[]}function mC(o,a){return o&&o.length?Hb(o,nt(a,2)):[]}function yC(o){var a=o==null?0:o.length;return a?Oi(o,1,a):[]}function gC(o,a,f){return o&&o.length?(a=f||a===t?1:gt(a),Oi(o,0,a<0?0:a)):[]}function bC(o,a,f){var m=o==null?0:o.length;return m?(a=f||a===t?1:gt(a),a=m-a,Oi(o,a<0?0:a,m)):[]}function vC(o,a){return o&&o.length?qh(o,nt(a,3),!1,!0):[]}function wC(o,a){return o&&o.length?qh(o,nt(a,3)):[]}var _C=At(function(o){return va(fn(o,1,Lr,!0))}),xC=At(function(o){var a=ji(o);return Lr(a)&&(a=t),va(fn(o,1,Lr,!0),nt(a,2))}),AC=At(function(o){var a=ji(o);return a=typeof a=="function"?a:t,va(fn(o,1,Lr,!0),t,a)});function kC(o){return o&&o.length?va(o):[]}function EC(o,a){return o&&o.length?va(o,nt(a,2)):[]}function SC(o,a){return a=typeof a=="function"?a:t,o&&o.length?va(o,t,a):[]}function dm(o){if(!(o&&o.length))return[];var a=0;return o=Qo(o,function(f){if(Lr(f))return a=Nr(f.length,a),!0}),un(a,function(f){return hr(o,Me(f))})}function Fv(o,a){if(!(o&&o.length))return[];var f=dm(o);return a==null?f:hr(f,function(m){return vn(a,t,m)})}var PC=At(function(o,a){return Lr(o)?zf(o,a):[]}),CC=At(function(o){return X0(Qo(o,Lr))}),TC=At(function(o){var a=ji(o);return Lr(a)&&(a=t),X0(Qo(o,Lr),nt(a,2))}),FC=At(function(o){var a=ji(o);return a=typeof a=="function"?a:t,X0(Qo(o,Lr),t,a)}),BC=At(dm);function IC(o,a){return Yb(o||[],a||[],jf)}function DC(o,a){return Yb(o||[],a||[],Hf)}var RC=At(function(o){var a=o.length,f=a>1?o[a-1]:t;return f=typeof f=="function"?(o.pop(),f):t,Fv(o,f)});function Bv(o){var a=k(o);return a.__chain__=!0,a}function NC(o,a){return a(o),o}function Zh(o,a){return a(o)}var UC=Us(function(o){var a=o.length,f=a?o[0]:0,m=this.__wrapped__,v=function(P){return M0(P,o)};return a>1||this.__actions__.length||!(m instanceof x)||!Ls(f)?this.thru(v):(m=m.slice(f,+f+(a?1:0)),m.__actions__.push({func:Zh,args:[v],thisArg:t}),new Hn(m,this.__chain__).thru(function(P){return a&&!P.length&&P.push(t),P}))});function LC(){return Bv(this)}function MC(){return new Hn(this.value(),this.__chain__)}function OC(){this.__values__===t&&(this.__values__=$v(this.value()));var o=this.__index__>=this.__values__.length,a=o?t:this.__values__[this.__index__++];return{done:o,value:a}}function jC(){return this}function zC(o){for(var a,f=this;f instanceof yc;){var m=kv(f);m.__index__=0,m.__values__=t,a?v.__wrapped__=m:a=m;var v=m;f=f.__wrapped__}return v.__wrapped__=o,a}function KC(){var o=this.__wrapped__;if(o instanceof x){var a=o;return this.__actions__.length&&(a=new x(this)),a=a.reverse(),a.__actions__.push({func:Zh,args:[hm],thisArg:t}),new Hn(a,this.__chain__)}return this.thru(hm)}function qC(){return Wb(this.__wrapped__,this.__actions__)}var HC=Hh(function(o,a,f){zt.call(o,f)?++o[f]:Rs(o,f,1)});function $C(o,a,f){var m=lt(o)?sc:NS;return f&&Bn(o,a,f)&&(a=t),m(o,nt(a,3))}function GC(o,a){var f=lt(o)?Qo:Fb;return f(o,nt(a,3))}var WC=iv(Ev),YC=iv(Sv);function VC(o,a){return fn(Qh(o,a),1)}function JC(o,a){return fn(Qh(o,a),Nt)}function XC(o,a,f){return f=f===t?1:gt(f),fn(Qh(o,a),f)}function Iv(o,a){var f=lt(o)?Pn:ba;return f(o,nt(a,3))}function Dv(o,a){var f=lt(o)?Cs:Tb;return f(o,nt(a,3))}var ZC=Hh(function(o,a,f){zt.call(o,f)?o[f].push(a):Rs(o,f,[a])});function QC(o,a,f,m){o=Wn(o)?o:_c(o),f=f&&!m?gt(f):0;var v=o.length;return f<0&&(f=Nr(v+f,0)),id(o)?f<=v&&o.indexOf(a,f)>-1:!!v&&I(o,a,f)>-1}var e5=At(function(o,a,f){var m=-1,v=typeof a=="function",P=Wn(o)?Q(o.length):[];return ba(o,function(D){P[++m]=v?vn(a,D,f):Kf(D,a,f)}),P}),t5=Hh(function(o,a,f){Rs(o,f,a)});function Qh(o,a){var f=lt(o)?hr:Ub;return f(o,nt(a,3))}function r5(o,a,f,m){return o==null?[]:(lt(a)||(a=a==null?[]:[a]),f=m?t:f,lt(f)||(f=f==null?[]:[f]),jb(o,a,f))}var n5=Hh(function(o,a,f){o[f?0:1].push(a)},function(){return[[],[]]});function i5(o,a,f){var m=lt(o)?If:Xe,v=arguments.length<3;return m(o,nt(a,4),f,v,ba)}function o5(o,a,f){var m=lt(o)?g0:Xe,v=arguments.length<3;return m(o,nt(a,4),f,v,Tb)}function s5(o,a){var f=lt(o)?Qo:Fb;return f(o,rd(nt(a,3)))}function a5(o){var a=lt(o)?Eb:QS;return a(o)}function u5(o,a,f){(f?Bn(o,a,f):a===t)?a=1:a=gt(a);var m=lt(o)?FS:eP;return m(o,a)}function c5(o){var a=lt(o)?BS:rP;return a(o)}function f5(o){if(o==null)return 0;if(Wn(o))return id(o)?Ts(o):o.length;var a=_n(o);return a==Oe||a==ar?o.size:H0(o).length}function l5(o,a,f){var m=lt(o)?g:nP;return f&&Bn(o,a,f)&&(a=t),m(o,nt(a,3))}var h5=At(function(o,a){if(o==null)return[];var f=a.length;return f>1&&Bn(o,a[0],a[1])?a=[]:f>2&&Bn(a[0],a[1],a[2])&&(a=[a[0]]),jb(o,fn(a,1),[])}),ed=S0||function(){return Dr.Date.now()};function d5(o,a){if(typeof a!="function")throw new wn(i);return o=gt(o),function(){if(--o<1)return a.apply(this,arguments)}}function Rv(o,a,f){return a=f?t:a,a=o&&a==null?o.length:a,Ns(o,xe,t,t,t,t,a)}function Nv(o,a){var f;if(typeof a!="function")throw new wn(i);return o=gt(o),function(){return--o>0&&(f=a.apply(this,arguments)),o<=1&&(a=t),f}}var pm=At(function(o,a,f){var m=R;if(f.length){var v=Tn(f,vc(pm));m|=V}return Ns(o,m,a,f,v)}),Uv=At(function(o,a,f){var m=R|W;if(f.length){var v=Tn(f,vc(Uv));m|=V}return Ns(a,m,o,f,v)});function Lv(o,a,f){a=f?t:a;var m=Ns(o,Z,t,t,t,t,t,a);return m.placeholder=Lv.placeholder,m}function Mv(o,a,f){a=f?t:a;var m=Ns(o,ne,t,t,t,t,t,a);return m.placeholder=Mv.placeholder,m}function Ov(o,a,f){var m,v,P,D,L,$,de=0,me=!1,ve=!1,Ne=!0;if(typeof o!="function")throw new wn(i);a=zi(a)||0,_r(f)&&(me=!!f.leading,ve="maxWait"in f,P=ve?Nr(zi(f.maxWait)||0,a):P,Ne="trailing"in f?!!f.trailing:Ne);function Ye(Mr){var go=m,js=v;return m=v=t,de=Mr,D=o.apply(js,go),D}function it(Mr){return de=Mr,L=Wf(St,a),me?Ye(Mr):D}function vt(Mr){var go=Mr-$,js=Mr-de,i2=a-go;return ve?Zr(i2,P-js):i2}function ot(Mr){var go=Mr-$,js=Mr-de;return $===t||go>=a||go<0||ve&&js>=P}function St(){var Mr=ed();if(ot(Mr))return Ct(Mr);L=Wf(St,vt(Mr))}function Ct(Mr){return L=t,Ne&&m?Ye(Mr):(m=v=t,D)}function ui(){L!==t&&Vb(L),de=0,m=$=v=L=t}function In(){return L===t?D:Ct(ed())}function ci(){var Mr=ed(),go=ot(Mr);if(m=arguments,v=this,$=Mr,go){if(L===t)return it($);if(ve)return Vb(L),L=Wf(St,a),Ye($)}return L===t&&(L=Wf(St,a)),D}return ci.cancel=ui,ci.flush=In,ci}var p5=At(function(o,a){return Cb(o,1,a)}),m5=At(function(o,a,f){return Cb(o,zi(a)||0,f)});function y5(o){return Ns(o,ee)}function td(o,a){if(typeof o!="function"||a!=null&&typeof a!="function")throw new wn(i);var f=function(){var m=arguments,v=a?a.apply(this,m):m[0],P=f.cache;if(P.has(v))return P.get(v);var D=o.apply(this,m);return f.cache=P.set(v,D)||P,D};return f.cache=new(td.Cache||Jt),f}td.Cache=Jt;function rd(o){if(typeof o!="function")throw new wn(i);return function(){var a=arguments;switch(a.length){case 0:return!o.call(this);case 1:return!o.call(this,a[0]);case 2:return!o.call(this,a[0],a[1]);case 3:return!o.call(this,a[0],a[1],a[2])}return!o.apply(this,a)}}function g5(o){return Nv(2,o)}var b5=iP(function(o,a){a=a.length==1&&lt(a[0])?hr(a[0],Ot(nt())):hr(fn(a,1),Ot(nt()));var f=a.length;return At(function(m){for(var v=-1,P=Zr(m.length,f);++v<P;)m[v]=a[v].call(this,m[v]);return vn(o,this,m)})}),mm=At(function(o,a){var f=Tn(a,vc(mm));return Ns(o,V,t,a,f)}),jv=At(function(o,a){var f=Tn(a,vc(jv));return Ns(o,ce,t,a,f)}),v5=Us(function(o,a){return Ns(o,X,t,t,t,a)});function w5(o,a){if(typeof o!="function")throw new wn(i);return a=a===t?a:gt(a),At(o,a)}function _5(o,a){if(typeof o!="function")throw new wn(i);return a=a==null?0:Nr(gt(a),0),At(function(f){var m=f[a],v=_a(f,0,a);return m&&es(v,m),vn(o,this,v)})}function x5(o,a,f){var m=!0,v=!0;if(typeof o!="function")throw new wn(i);return _r(f)&&(m="leading"in f?!!f.leading:m,v="trailing"in f?!!f.trailing:v),Ov(o,a,{leading:m,maxWait:a,trailing:v})}function A5(o){return Rv(o,1)}function k5(o,a){return mm(Q0(a),o)}function E5(){if(!arguments.length)return[];var o=arguments[0];return lt(o)?o:[o]}function S5(o){return Mi(o,w)}function P5(o,a){return a=typeof a=="function"?a:t,Mi(o,w,a)}function C5(o){return Mi(o,l|w)}function T5(o,a){return a=typeof a=="function"?a:t,Mi(o,l|w,a)}function F5(o,a){return a==null||Pb(o,a,Qr(a))}function yo(o,a){return o===a||o!==o&&a!==a}var B5=Yh(z0),I5=Yh(function(o,a){return o>=a}),pu=Db(function(){return arguments}())?Db:function(o){return Sr(o)&&zt.call(o,"callee")&&!mo.call(o,"callee")},lt=Q.isArray,D5=Pf?Ot(Pf):zS;function Wn(o){return o!=null&&nd(o.length)&&!Ms(o)}function Lr(o){return Sr(o)&&Wn(o)}function R5(o){return o===!0||o===!1||Sr(o)&&Fn(o)==fe}var xa=C0||Sm,N5=xh?Ot(xh):KS;function U5(o){return Sr(o)&&o.nodeType===1&&!Yf(o)}function L5(o){if(o==null)return!0;if(Wn(o)&&(lt(o)||typeof o=="string"||typeof o.splice=="function"||xa(o)||wc(o)||pu(o)))return!o.length;var a=_n(o);if(a==Oe||a==ar)return!o.size;if(Gf(o))return!H0(o).length;for(var f in o)if(zt.call(o,f))return!1;return!0}function M5(o,a){return qf(o,a)}function O5(o,a,f){f=typeof f=="function"?f:t;var m=f?f(o,a):t;return m===t?qf(o,a,t,f):!!m}function ym(o){if(!Sr(o))return!1;var a=Fn(o);return a==De||a==Be||typeof o.message=="string"&&typeof o.name=="string"&&!Yf(o)}function j5(o){return typeof o=="number"&&Ih(o)}function Ms(o){if(!_r(o))return!1;var a=Fn(o);return a==$e||a==We||a==A||a==Pi}function zv(o){return typeof o=="number"&&o==gt(o)}function nd(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=or}function _r(o){var a=typeof o;return o!=null&&(a=="object"||a=="function")}function Sr(o){return o!=null&&typeof o=="object"}var Kv=Cf?Ot(Cf):HS;function z5(o,a){return o===a||q0(o,a,sm(a))}function K5(o,a,f){return f=typeof f=="function"?f:t,q0(o,a,sm(a),f)}function q5(o){return qv(o)&&o!=+o}function H5(o){if(PP(o))throw new tt(n);return Rb(o)}function $5(o){return o===null}function G5(o){return o==null}function qv(o){return typeof o=="number"||Sr(o)&&Fn(o)==Lt}function Yf(o){if(!Sr(o)||Fn(o)!=yt)return!1;var a=iu(o);if(a===null)return!0;var f=zt.call(a,"constructor")&&a.constructor;return typeof f=="function"&&f instanceof f&&ru.call(f)==Ph}var gm=fa?Ot(fa):$S;function W5(o){return zv(o)&&o>=-or&&o<=or}var Hv=Tf?Ot(Tf):GS;function id(o){return typeof o=="string"||!lt(o)&&Sr(o)&&Fn(o)==zr}function ai(o){return typeof o=="symbol"||Sr(o)&&Fn(o)==dr}var wc=Ff?Ot(Ff):WS;function Y5(o){return o===t}function V5(o){return Sr(o)&&_n(o)==Kr}function J5(o){return Sr(o)&&Fn(o)==Y}var X5=Yh($0),Z5=Yh(function(o,a){return o<=a});function $v(o){if(!o)return[];if(Wn(o))return id(o)?oi(o):Gn(o);if(da&&o[da])return Xa(o[da]());var a=_n(o),f=a==Oe?la:a==ar?Za:_c;return f(o)}function Os(o){if(!o)return o===0?o:0;if(o=zi(o),o===Nt||o===-Nt){var a=o<0?-1:1;return a*Jr}return o===o?o:0}function gt(o){var a=Os(o),f=a%1;return a===a?f?a-f:a:0}function Gv(o){return o?fu(gt(o),0,lr):0}function zi(o){if(typeof o=="number")return o;if(ai(o))return vr;if(_r(o)){var a=typeof o.valueOf=="function"?o.valueOf():o;o=_r(a)?a+"":a}if(typeof o!="string")return o===0?o:+o;o=Li(o);var f=Wo.test(o);return f||Yo.test(o)?nc(o.slice(2),f?2:8):Go.test(o)?vr:+o}function Wv(o){return os(o,Yn(o))}function Q5(o){return o?fu(gt(o),-or,or):o===0?o:0}function Xt(o){return o==null?"":si(o)}var eT=gc(function(o,a){if(Gf(a)||Wn(a)){os(a,Qr(a),o);return}for(var f in a)zt.call(a,f)&&jf(o,f,a[f])}),Yv=gc(function(o,a){os(a,Yn(a),o)}),od=gc(function(o,a,f,m){os(a,Yn(a),o,m)}),tT=gc(function(o,a,f,m){os(a,Qr(a),o,m)}),rT=Us(M0);function nT(o,a){var f=ns(o);return a==null?f:Sb(f,a)}var iT=At(function(o,a){o=jt(o);var f=-1,m=a.length,v=m>2?a[2]:t;for(v&&Bn(a[0],a[1],v)&&(m=1);++f<m;)for(var P=a[f],D=Yn(P),L=-1,$=D.length;++L<$;){var de=D[L],me=o[de];(me===t||yo(me,Fs[de])&&!zt.call(o,de))&&(o[de]=P[de])}return o}),oT=At(function(o){return o.push(t,lv),vn(Vv,t,o)});function sT(o,a){return S(o,nt(a,3),is)}function aT(o,a){return S(o,nt(a,3),j0)}function uT(o,a){return o==null?o:O0(o,nt(a,3),Yn)}function cT(o,a){return o==null?o:Bb(o,nt(a,3),Yn)}function fT(o,a){return o&&is(o,nt(a,3))}function lT(o,a){return o&&j0(o,nt(a,3))}function hT(o){return o==null?[]:jh(o,Qr(o))}function dT(o){return o==null?[]:jh(o,Yn(o))}function bm(o,a,f){var m=o==null?t:lu(o,a);return m===t?f:m}function pT(o,a){return o!=null&&pv(o,a,LS)}function vm(o,a){return o!=null&&pv(o,a,MS)}var mT=sv(function(o,a,f){a!=null&&typeof a.toString!="function"&&(a=nu.call(a)),o[a]=f},_m(Vn)),yT=sv(function(o,a,f){a!=null&&typeof a.toString!="function"&&(a=nu.call(a)),zt.call(o,a)?o[a].push(f):o[a]=[f]},nt),gT=At(Kf);function Qr(o){return Wn(o)?kb(o):H0(o)}function Yn(o){return Wn(o)?kb(o,!0):YS(o)}function bT(o,a){var f={};return a=nt(a,3),is(o,function(m,v,P){Rs(f,a(m,v,P),m)}),f}function vT(o,a){var f={};return a=nt(a,3),is(o,function(m,v,P){Rs(f,v,a(m,v,P))}),f}var wT=gc(function(o,a,f){zh(o,a,f)}),Vv=gc(function(o,a,f,m){zh(o,a,f,m)}),_T=Us(function(o,a){var f={};if(o==null)return f;var m=!1;a=hr(a,function(P){return P=wa(P,o),m||(m=P.length>1),P}),os(o,im(o),f),m&&(f=Mi(f,l|y|w,mP));for(var v=a.length;v--;)J0(f,a[v]);return f});function xT(o,a){return Jv(o,rd(nt(a)))}var AT=Us(function(o,a){return o==null?{}:JS(o,a)});function Jv(o,a){if(o==null)return{};var f=hr(im(o),function(m){return[m]});return a=nt(a),zb(o,f,function(m,v){return a(m,v[0])})}function kT(o,a,f){a=wa(a,o);var m=-1,v=a.length;for(v||(v=1,o=t);++m<v;){var P=o==null?t:o[ss(a[m])];P===t&&(m=v,P=f),o=Ms(P)?P.call(o):P}return o}function ET(o,a,f){return o==null?o:Hf(o,a,f)}function ST(o,a,f,m){return m=typeof m=="function"?m:t,o==null?o:Hf(o,a,f,m)}var Xv=cv(Qr),Zv=cv(Yn);function PT(o,a,f){var m=lt(o),v=m||xa(o)||wc(o);if(a=nt(a,4),f==null){var P=o&&o.constructor;v?f=m?new P:[]:_r(o)?f=Ms(P)?ns(iu(o)):{}:f={}}return(v?Pn:is)(o,function(D,L,$){return a(f,D,L,$)}),f}function CT(o,a){return o==null?!0:J0(o,a)}function TT(o,a,f){return o==null?o:Gb(o,a,Q0(f))}function FT(o,a,f,m){return m=typeof m=="function"?m:t,o==null?o:Gb(o,a,Q0(f),m)}function _c(o){return o==null?[]:Ja(o,Qr(o))}function BT(o){return o==null?[]:Ja(o,Yn(o))}function IT(o,a,f){return f===t&&(f=a,a=t),f!==t&&(f=zi(f),f=f===f?f:0),a!==t&&(a=zi(a),a=a===a?a:0),fu(zi(o),a,f)}function DT(o,a,f){return a=Os(a),f===t?(f=a,a=0):f=Os(f),o=zi(o),OS(o,a,f)}function RT(o,a,f){if(f&&typeof f!="boolean"&&Bn(o,a,f)&&(a=f=t),f===t&&(typeof a=="boolean"?(f=a,a=t):typeof o=="boolean"&&(f=o,o=t)),o===t&&a===t?(o=0,a=1):(o=Os(o),a===t?(a=o,o=0):a=Os(a)),o>a){var m=o;o=a,a=m}if(f||o%1||a%1){var v=Rh();return Zr(o+v*(a-o+Ps("1e-"+((v+"").length-1))),a)}return W0(o,a)}var NT=bc(function(o,a,f){return a=a.toLowerCase(),o+(f?Qv(a):a)});function Qv(o){return wm(Xt(o).toLowerCase())}function e2(o){return o=Xt(o),o&&o.replace(co,nr).replace(yh,"")}function UT(o,a,f){o=Xt(o),a=si(a);var m=o.length;f=f===t?m:fu(gt(f),0,m);var v=f;return f-=a.length,f>=0&&o.slice(f,v)==a}function LT(o){return o=Xt(o),o&&jo.test(o)?o.replace(Fi,Hr):o}function MT(o){return o=Xt(o),o&&Ho.test(o)?o.replace(Ii,"\\$&"):o}var OT=bc(function(o,a,f){return o+(f?"-":"")+a.toLowerCase()}),jT=bc(function(o,a,f){return o+(f?" ":"")+a.toLowerCase()}),zT=nv("toLowerCase");function KT(o,a,f){o=Xt(o),a=gt(a);var m=a?Ts(o):0;if(!a||m>=a)return o;var v=(a-m)/2;return Wh(pc(v),f)+o+Wh(dc(v),f)}function qT(o,a,f){o=Xt(o),a=gt(a);var m=a?Ts(o):0;return a&&m<a?o+Wh(a-m,f):o}function HT(o,a,f){o=Xt(o),a=gt(a);var m=a?Ts(o):0;return a&&m<a?Wh(a-m,f)+o:o}function $T(o,a,f){return f||a==null?a=0:a&&(a=+a),B0(Xt(o).replace(Di,""),a||0)}function GT(o,a,f){return(f?Bn(o,a,f):a===t)?a=1:a=gt(a),Y0(Xt(o),a)}function WT(){var o=arguments,a=Xt(o[0]);return o.length<3?a:a.replace(o[1],o[2])}var YT=bc(function(o,a,f){return o+(f?"_":"")+a.toLowerCase()});function VT(o,a,f){return f&&typeof f!="number"&&Bn(o,a,f)&&(a=f=t),f=f===t?lr:f>>>0,f?(o=Xt(o),o&&(typeof a=="string"||a!=null&&!gm(a))&&(a=si(a),!a&&$r(o))?_a(oi(o),0,f):o.split(a,f)):[]}var JT=bc(function(o,a,f){return o+(f?" ":"")+wm(a)});function XT(o,a,f){return o=Xt(o),f=f==null?0:fu(gt(f),0,o.length),a=si(a),o.slice(f,f+a.length)==a}function ZT(o,a,f){var m=k.templateSettings;f&&Bn(o,a,f)&&(a=t),o=Xt(o),a=od({},a,m,fv);var v=od({},a.imports,m.imports,fv),P=Qr(v),D=Ja(v,P),L,$,de=0,me=a.interpolate||gn,ve="__p += '",Ne=Qa((a.escape||gn).source+"|"+me.source+"|"+(me===Bi?$o:gn).source+"|"+(a.evaluate||gn).source+"|$","g"),Ye="//# sourceURL="+(zt.call(a,"sourceURL")?(a.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Ss+"]")+`
`;o.replace(Ne,function(ot,St,Ct,ui,In,ci){return Ct||(Ct=ui),ve+=o.slice(de,ci).replace(Jo,Cn),St&&(L=!0,ve+=`' +
__e(`+St+`) +
'`),In&&($=!0,ve+=`';
`+In+`;
__p += '`),Ct&&(ve+=`' +
((__t = (`+Ct+`)) == null ? '' : __t) +
'`),de=ci+ot.length,ot}),ve+=`';
`;var it=zt.call(a,"variable")&&a.variable;if(!it)ve=`with (obj) {
`+ve+`
}
`;else if(so.test(it))throw new tt(s);ve=($?ve.replace(zn,""):ve).replace(ro,"$1").replace(Ci,"$1;"),ve="function("+(it||"obj")+`) {
`+(it?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(L?", __e = _.escape":"")+($?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+ve+`return __p
}`;var vt=r2(function(){return Dt(P,Ye+"return "+ve).apply(t,D)});if(vt.source=ve,ym(vt))throw vt;return vt}function QT(o){return Xt(o).toLowerCase()}function eF(o){return Xt(o).toUpperCase()}function tF(o,a,f){if(o=Xt(o),o&&(f||a===t))return Li(o);if(!o||!(a=si(a)))return o;var m=oi(o),v=oi(a),P=Le(m,v),D=It(m,v)+1;return _a(m,P,D).join("")}function rF(o,a,f){if(o=Xt(o),o&&(f||a===t))return o.slice(0,kh(o)+1);if(!o||!(a=si(a)))return o;var m=oi(o),v=It(m,oi(a))+1;return _a(m,0,v).join("")}function nF(o,a,f){if(o=Xt(o),o&&(f||a===t))return o.replace(Di,"");if(!o||!(a=si(a)))return o;var m=oi(o),v=Le(m,oi(a));return _a(m,v).join("")}function iF(o,a){var f=Ae,m=Ve;if(_r(a)){var v="separator"in a?a.separator:v;f="length"in a?gt(a.length):f,m="omission"in a?si(a.omission):m}o=Xt(o);var P=o.length;if($r(o)){var D=oi(o);P=D.length}if(f>=P)return o;var L=f-Ts(m);if(L<1)return m;var $=D?_a(D,0,L).join(""):o.slice(0,L);if(v===t)return $+m;if(D&&(L+=$.length-L),gm(v)){if(o.slice(L).search(v)){var de,me=$;for(v.global||(v=Qa(v.source,Xt(uo.exec(v))+"g")),v.lastIndex=0;de=v.exec(me);)var ve=de.index;$=$.slice(0,ve===t?L:ve)}}else if(o.indexOf(si(v),L)!=L){var Ne=$.lastIndexOf(v);Ne>-1&&($=$.slice(0,Ne))}return $+m}function oF(o){return o=Xt(o),o&&an.test(o)?o.replace(Ti,w0):o}var sF=bc(function(o,a,f){return o+(f?" ":"")+a.toUpperCase()}),wm=nv("toUpperCase");function t2(o,a,f){return o=Xt(o),a=f?t:a,a===t?ho(o)?A0(o):b(o):o.match(a)||[]}var r2=At(function(o,a){try{return vn(o,t,a)}catch(f){return ym(f)?f:new tt(f)}}),aF=Us(function(o,a){return Pn(a,function(f){f=ss(f),Rs(o,f,pm(o[f],o))}),o});function uF(o){var a=o==null?0:o.length,f=nt();return o=a?hr(o,function(m){if(typeof m[1]!="function")throw new wn(i);return[f(m[0]),m[1]]}):[],At(function(m){for(var v=-1;++v<a;){var P=o[v];if(vn(P[0],this,m))return vn(P[1],this,m)}})}function cF(o){return RS(Mi(o,l))}function _m(o){return function(){return o}}function fF(o,a){return o==null||o!==o?a:o}var lF=ov(),hF=ov(!0);function Vn(o){return o}function xm(o){return Nb(typeof o=="function"?o:Mi(o,l))}function dF(o){return Lb(Mi(o,l))}function pF(o,a){return Mb(o,Mi(a,l))}var mF=At(function(o,a){return function(f){return Kf(f,o,a)}}),yF=At(function(o,a){return function(f){return Kf(o,f,a)}});function Am(o,a,f){var m=Qr(a),v=jh(a,m);f==null&&!(_r(a)&&(v.length||!m.length))&&(f=a,a=o,o=this,v=jh(a,Qr(a)));var P=!(_r(f)&&"chain"in f)||!!f.chain,D=Ms(o);return Pn(v,function(L){var $=a[L];o[L]=$,D&&(o.prototype[L]=function(){var de=this.__chain__;if(P||de){var me=o(this.__wrapped__),ve=me.__actions__=Gn(this.__actions__);return ve.push({func:$,args:arguments,thisArg:o}),me.__chain__=de,me}return $.apply(o,es([this.value()],arguments))})}),o}function gF(){return Dr._===this&&(Dr._=Ch),this}function km(){}function bF(o){return o=gt(o),At(function(a){return Ob(a,o)})}var vF=tm(hr),wF=tm(sc),_F=tm(g);function n2(o){return um(o)?Me(ss(o)):XS(o)}function xF(o){return function(a){return o==null?t:lu(o,a)}}var AF=av(),kF=av(!0);function Em(){return[]}function Sm(){return!1}function EF(){return{}}function SF(){return""}function PF(){return!0}function CF(o,a){if(o=gt(o),o<1||o>or)return[];var f=lr,m=Zr(o,lr);a=nt(a),o-=lr;for(var v=un(m,a);++f<o;)a(f);return v}function TF(o){return lt(o)?hr(o,ss):ai(o)?[o]:Gn(Av(Xt(o)))}function FF(o){var a=++Sh;return Xt(o)+a}var BF=Gh(function(o,a){return o+a},0),IF=rm("ceil"),DF=Gh(function(o,a){return o/a},1),RF=rm("floor");function NF(o){return o&&o.length?Oh(o,Vn,z0):t}function UF(o,a){return o&&o.length?Oh(o,nt(a,2),z0):t}function LF(o){return te(o,Vn)}function MF(o,a){return te(o,nt(a,2))}function OF(o){return o&&o.length?Oh(o,Vn,$0):t}function jF(o,a){return o&&o.length?Oh(o,nt(a,2),$0):t}var zF=Gh(function(o,a){return o*a},1),KF=rm("round"),qF=Gh(function(o,a){return o-a},0);function HF(o){return o&&o.length?Vt(o,Vn):0}function $F(o,a){return o&&o.length?Vt(o,nt(a,2)):0}return k.after=d5,k.ary=Rv,k.assign=eT,k.assignIn=Yv,k.assignInWith=od,k.assignWith=tT,k.at=rT,k.before=Nv,k.bind=pm,k.bindAll=aF,k.bindKey=Uv,k.castArray=E5,k.chain=Bv,k.chunk=RP,k.compact=NP,k.concat=UP,k.cond=uF,k.conforms=cF,k.constant=_m,k.countBy=HC,k.create=nT,k.curry=Lv,k.curryRight=Mv,k.debounce=Ov,k.defaults=iT,k.defaultsDeep=oT,k.defer=p5,k.delay=m5,k.difference=LP,k.differenceBy=MP,k.differenceWith=OP,k.drop=jP,k.dropRight=zP,k.dropRightWhile=KP,k.dropWhile=qP,k.fill=HP,k.filter=GC,k.flatMap=VC,k.flatMapDeep=JC,k.flatMapDepth=XC,k.flatten=Pv,k.flattenDeep=$P,k.flattenDepth=GP,k.flip=y5,k.flow=lF,k.flowRight=hF,k.fromPairs=WP,k.functions=hT,k.functionsIn=dT,k.groupBy=ZC,k.initial=VP,k.intersection=JP,k.intersectionBy=XP,k.intersectionWith=ZP,k.invert=mT,k.invertBy=yT,k.invokeMap=e5,k.iteratee=xm,k.keyBy=t5,k.keys=Qr,k.keysIn=Yn,k.map=Qh,k.mapKeys=bT,k.mapValues=vT,k.matches=dF,k.matchesProperty=pF,k.memoize=td,k.merge=wT,k.mergeWith=Vv,k.method=mF,k.methodOf=yF,k.mixin=Am,k.negate=rd,k.nthArg=bF,k.omit=_T,k.omitBy=xT,k.once=g5,k.orderBy=r5,k.over=vF,k.overArgs=b5,k.overEvery=wF,k.overSome=_F,k.partial=mm,k.partialRight=jv,k.partition=n5,k.pick=AT,k.pickBy=Jv,k.property=n2,k.propertyOf=xF,k.pull=rC,k.pullAll=Tv,k.pullAllBy=nC,k.pullAllWith=iC,k.pullAt=oC,k.range=AF,k.rangeRight=kF,k.rearg=v5,k.reject=s5,k.remove=sC,k.rest=w5,k.reverse=hm,k.sampleSize=u5,k.set=ET,k.setWith=ST,k.shuffle=c5,k.slice=aC,k.sortBy=h5,k.sortedUniq=pC,k.sortedUniqBy=mC,k.split=VT,k.spread=_5,k.tail=yC,k.take=gC,k.takeRight=bC,k.takeRightWhile=vC,k.takeWhile=wC,k.tap=NC,k.throttle=x5,k.thru=Zh,k.toArray=$v,k.toPairs=Xv,k.toPairsIn=Zv,k.toPath=TF,k.toPlainObject=Wv,k.transform=PT,k.unary=A5,k.union=_C,k.unionBy=xC,k.unionWith=AC,k.uniq=kC,k.uniqBy=EC,k.uniqWith=SC,k.unset=CT,k.unzip=dm,k.unzipWith=Fv,k.update=TT,k.updateWith=FT,k.values=_c,k.valuesIn=BT,k.without=PC,k.words=t2,k.wrap=k5,k.xor=CC,k.xorBy=TC,k.xorWith=FC,k.zip=BC,k.zipObject=IC,k.zipObjectDeep=DC,k.zipWith=RC,k.entries=Xv,k.entriesIn=Zv,k.extend=Yv,k.extendWith=od,Am(k,k),k.add=BF,k.attempt=r2,k.camelCase=NT,k.capitalize=Qv,k.ceil=IF,k.clamp=IT,k.clone=S5,k.cloneDeep=C5,k.cloneDeepWith=T5,k.cloneWith=P5,k.conformsTo=F5,k.deburr=e2,k.defaultTo=fF,k.divide=DF,k.endsWith=UT,k.eq=yo,k.escape=LT,k.escapeRegExp=MT,k.every=$C,k.find=WC,k.findIndex=Ev,k.findKey=sT,k.findLast=YC,k.findLastIndex=Sv,k.findLastKey=aT,k.floor=RF,k.forEach=Iv,k.forEachRight=Dv,k.forIn=uT,k.forInRight=cT,k.forOwn=fT,k.forOwnRight=lT,k.get=bm,k.gt=B5,k.gte=I5,k.has=pT,k.hasIn=vm,k.head=Cv,k.identity=Vn,k.includes=QC,k.indexOf=YP,k.inRange=DT,k.invoke=gT,k.isArguments=pu,k.isArray=lt,k.isArrayBuffer=D5,k.isArrayLike=Wn,k.isArrayLikeObject=Lr,k.isBoolean=R5,k.isBuffer=xa,k.isDate=N5,k.isElement=U5,k.isEmpty=L5,k.isEqual=M5,k.isEqualWith=O5,k.isError=ym,k.isFinite=j5,k.isFunction=Ms,k.isInteger=zv,k.isLength=nd,k.isMap=Kv,k.isMatch=z5,k.isMatchWith=K5,k.isNaN=q5,k.isNative=H5,k.isNil=G5,k.isNull=$5,k.isNumber=qv,k.isObject=_r,k.isObjectLike=Sr,k.isPlainObject=Yf,k.isRegExp=gm,k.isSafeInteger=W5,k.isSet=Hv,k.isString=id,k.isSymbol=ai,k.isTypedArray=wc,k.isUndefined=Y5,k.isWeakMap=V5,k.isWeakSet=J5,k.join=QP,k.kebabCase=OT,k.last=ji,k.lastIndexOf=eC,k.lowerCase=jT,k.lowerFirst=zT,k.lt=X5,k.lte=Z5,k.max=NF,k.maxBy=UF,k.mean=LF,k.meanBy=MF,k.min=OF,k.minBy=jF,k.stubArray=Em,k.stubFalse=Sm,k.stubObject=EF,k.stubString=SF,k.stubTrue=PF,k.multiply=zF,k.nth=tC,k.noConflict=gF,k.noop=km,k.now=ed,k.pad=KT,k.padEnd=qT,k.padStart=HT,k.parseInt=$T,k.random=RT,k.reduce=i5,k.reduceRight=o5,k.repeat=GT,k.replace=WT,k.result=kT,k.round=KF,k.runInContext=K,k.sample=a5,k.size=f5,k.snakeCase=YT,k.some=l5,k.sortedIndex=uC,k.sortedIndexBy=cC,k.sortedIndexOf=fC,k.sortedLastIndex=lC,k.sortedLastIndexBy=hC,k.sortedLastIndexOf=dC,k.startCase=JT,k.startsWith=XT,k.subtract=qF,k.sum=HF,k.sumBy=$F,k.template=ZT,k.times=CF,k.toFinite=Os,k.toInteger=gt,k.toLength=Gv,k.toLower=QT,k.toNumber=zi,k.toSafeInteger=Q5,k.toString=Xt,k.toUpper=eF,k.trim=tF,k.trimEnd=rF,k.trimStart=nF,k.truncate=iF,k.unescape=oF,k.uniqueId=FF,k.upperCase=sF,k.upperFirst=wm,k.each=Iv,k.eachRight=Dv,k.first=Cv,Am(k,function(){var o={};return is(k,function(a,f){zt.call(k.prototype,f)||(o[f]=a)}),o}(),{chain:!1}),k.VERSION=e,Pn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(o){k[o].placeholder=k}),Pn(["drop","take"],function(o,a){x.prototype[o]=function(f){f=f===t?1:Nr(gt(f),0);var m=this.__filtered__&&!a?new x(this):this.clone();return m.__filtered__?m.__takeCount__=Zr(f,m.__takeCount__):m.__views__.push({size:Zr(f,lr),type:o+(m.__dir__<0?"Right":"")}),m},x.prototype[o+"Right"]=function(f){return this.reverse()[o](f).reverse()}}),Pn(["filter","map","takeWhile"],function(o,a){var f=a+1,m=f==ht||f==Ft;x.prototype[o]=function(v){var P=this.clone();return P.__iteratees__.push({iteratee:nt(v,3),type:f}),P.__filtered__=P.__filtered__||m,P}}),Pn(["head","last"],function(o,a){var f="take"+(a?"Right":"");x.prototype[o]=function(){return this[f](1).value()[0]}}),Pn(["initial","tail"],function(o,a){var f="drop"+(a?"":"Right");x.prototype[o]=function(){return this.__filtered__?new x(this):this[f](1)}}),x.prototype.compact=function(){return this.filter(Vn)},x.prototype.find=function(o){return this.filter(o).head()},x.prototype.findLast=function(o){return this.reverse().find(o)},x.prototype.invokeMap=At(function(o,a){return typeof o=="function"?new x(this):this.map(function(f){return Kf(f,o,a)})}),x.prototype.reject=function(o){return this.filter(rd(nt(o)))},x.prototype.slice=function(o,a){o=gt(o);var f=this;return f.__filtered__&&(o>0||a<0)?new x(f):(o<0?f=f.takeRight(-o):o&&(f=f.drop(o)),a!==t&&(a=gt(a),f=a<0?f.dropRight(-a):f.take(a-o)),f)},x.prototype.takeRightWhile=function(o){return this.reverse().takeWhile(o).reverse()},x.prototype.toArray=function(){return this.take(lr)},is(x.prototype,function(o,a){var f=/^(?:filter|find|map|reject)|While$/.test(a),m=/^(?:head|last)$/.test(a),v=k[m?"take"+(a=="last"?"Right":""):a],P=m||/^find/.test(a);!v||(k.prototype[a]=function(){var D=this.__wrapped__,L=m?[1]:arguments,$=D instanceof x,de=L[0],me=$||lt(D),ve=function(St){var Ct=v.apply(k,es([St],L));return m&&Ne?Ct[0]:Ct};me&&f&&typeof de=="function"&&de.length!=1&&($=me=!1);var Ne=this.__chain__,Ye=!!this.__actions__.length,it=P&&!Ne,vt=$&&!Ye;if(!P&&me){D=vt?D:new x(this);var ot=o.apply(D,L);return ot.__actions__.push({func:Zh,args:[ve],thisArg:t}),new Hn(ot,Ne)}return it&&vt?o.apply(this,L):(ot=this.thru(ve),it?m?ot.value()[0]:ot.value():ot)})}),Pn(["pop","push","shift","sort","splice","unshift"],function(o){var a=eu[o],f=/^(?:push|sort|unshift)$/.test(o)?"tap":"thru",m=/^(?:pop|shift)$/.test(o);k.prototype[o]=function(){var v=arguments;if(m&&!this.__chain__){var P=this.value();return a.apply(lt(P)?P:[],v)}return this[f](function(D){return a.apply(lt(D)?D:[],v)})}}),is(x.prototype,function(o,a){var f=k[a];if(f){var m=f.name+"";zt.call(ma,m)||(ma[m]=[]),ma[m].push({name:a,func:f})}}),ma[$h(t,W).name]=[{name:"wrapper",func:t}],x.prototype.clone=U,x.prototype.reverse=T,x.prototype.value=z,k.prototype.at=UC,k.prototype.chain=LC,k.prototype.commit=MC,k.prototype.next=OC,k.prototype.plant=zC,k.prototype.reverse=KC,k.prototype.toJSON=k.prototype.valueOf=k.prototype.value=qC,k.prototype.first=k.prototype.head,da&&(k.prototype[da]=jC),k},ts=k0();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(Dr._=ts,define(function(){return ts})):rr?((rr.exports=ts)._=ts,ic._=ts):Dr._=ts}).call(hf)});var RE=G(On=>{"use strict";var Hj=On&&On.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),df=On&&On.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(u=t[c])&&(s=(i<3?u(s):i>3?u(e,r,s):u(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},pf=On&&On.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)},eb=On&&On.__param||function(t,e){return function(r,n){e(r,n,t)}},$j=On&&On.__generator||function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,u;return u={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function c(l){return function(y){return p([l,y])}}function p(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){r.label=l[1];break}if(l[0]===6&&r.label<s[1]){r.label=s[1],s=l;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(l);break}s[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(y){l=[6,y],i=0}finally{n=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},DE=On&&On.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(On,"__esModule",{value:!0});var Gj=DE(Uo()),tb=DE(Zg()),ra=vi(),Wj=Qp(),rb=function(){function t(){this._content=[]}return Object.defineProperty(t.prototype,"length",{get:function(){return this._content.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"content",{get:function(){return this._content},set:function(e){this._content=e},enumerable:!0,configurable:!0}),t.prototype.get=function(e){return this._content[e]},t.prototype.add=function(e){var r=Wj.sortedIndexBy(this._content,e,function(n){return n.frequency});this._content.splice(r,0,e)},t.prototype.remove=function(e){this._content.splice(e,1)},t.prototype.popMin=function(){return this._content.shift()},t.prototype.indexOf=function(e){return this._content.findIndex(function(r){return r.value===e})},t.prototype.clear=function(){this._content=[]},t}(),Yj=function(t){Hj(e,t);function e(r,n,i){var s=t.call(this)||this;return s._k=r,s._errorRate=n,s._accuracy=i,s._sketch=tb.default.create(n,i),s._heap=new rb,s}return e.prototype.add=function(r){this._sketch.update(r);var n=this._sketch.count(r);if(this._heap.length<this._k||n>=this._heap.get(0).frequency){var i=this._heap.indexOf(r);i>-1&&this._heap.remove(i),this._heap.add({value:r,frequency:n}),this._heap.length>this._k&&this._heap.popMin()}},e.prototype.clear=function(){this._sketch=tb.default.create(this._errorRate,this._accuracy),this._heap.clear()},e.prototype.values=function(){for(var r=[],n=this._heap.length-1;n>=0;n--){var i=this._heap.get(n);r.push({value:i.value,frequency:i.frequency,rank:this._heap.length-n})}return r},e.prototype.iterator=function(){var r=this._heap;return function(){var n,i;return $j(this,function(s){switch(s.label){case 0:n=r.length-1,s.label=1;case 1:return n>=0?(i=r.get(n),[4,{value:i.value,frequency:i.frequency,rank:r.length-n}]):[3,4];case 2:s.sent(),s.label=3;case 3:return n--,[3,1];case 4:return[2]}})}()},df([ra.Field(),pf("design:type",Number)],e.prototype,"_k",void 0),df([ra.Field(),pf("design:type",Number)],e.prototype,"_errorRate",void 0),df([ra.Field(),pf("design:type",Number)],e.prototype,"_accuracy",void 0),df([ra.Field(),pf("design:type",tb.default)],e.prototype,"_sketch",void 0),df([ra.Field(function(r){return r.content},function(r){var n=new rb;return n.content=r,n}),pf("design:type",rb)],e.prototype,"_heap",void 0),e=df([ra.AutoExportable("TopK",["_seed"]),eb(0,ra.Parameter("_k")),eb(1,ra.Parameter("_errorRate")),eb(2,ra.Parameter("_accuracy")),pf("design:paramtypes",[Number,Number,Number])],e),e}(Gj.default);On.default=Yj});var nb=G(mn=>{"use strict";var NE=mn&&mn.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),e0=mn&&mn.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(u=t[c])&&(s=(i<3?u(s):i>3?u(e,r,s):u(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},t0=mn&&mn.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)},UE=mn&&mn.__param||function(t,e){return function(r,n){e(r,n,t)}},Vj=mn&&mn.__read||function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],u;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(c){u={error:c}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(u)throw u.error}}return s},Jj=mn&&mn.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Vj(arguments[e]));return t},Xj=mn&&mn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(mn,"__esModule",{value:!0});var Zj=Xj(Uo()),mf=vi(),Qj=Zi(),e7=Qp(),t7=function(t){NE(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(Error);function LE(t,e){return(e.a*t+e.b)%e.c}var r7=function(t){NE(e,t);function e(r,n){var i=t.call(this)||this;return i._nbHashes=r,i._hashFunctions=n,i._signature=Qj.allocateArray(i._nbHashes,Infinity),i}return Object.defineProperty(e.prototype,"nbHashes",{get:function(){return this._nbHashes},enumerable:!0,configurable:!0}),e.prototype.isEmpty=function(){return this._signature[0]===Infinity},e.prototype.add=function(r){for(var n=0;n<this._nbHashes;n++)this._signature[n]=Math.min(this._signature[n],LE(r,this._hashFunctions[n]))},e.prototype.bulkLoad=function(r){for(var n=this,i=function(c){var p=r.map(function(l){return LE(l,n._hashFunctions[c])});s._signature[c]=Math.min.apply(Math,Jj([s._signature[c]],p))},s=this,u=0;u<this._nbHashes;u++)i(u)},e.prototype.compareWith=function(r){if(this.isEmpty()||r.isEmpty())throw new t7("Cannot compute a Jaccard similairty with a MinHash that contains no values");return e7.intersection(this._signature,r._signature).length/this._nbHashes},e0([mf.Field(),t0("design:type",Number)],e.prototype,"_nbHashes",void 0),e0([mf.Field(),t0("design:type",Array)],e.prototype,"_hashFunctions",void 0),e0([mf.Field(),t0("design:type",Array)],e.prototype,"_signature",void 0),e=e0([mf.AutoExportable("MinHash",["_seed"]),UE(0,mf.Parameter("_nbHashes")),UE(1,mf.Parameter("_hashFunctions")),t0("design:paramtypes",[Number,Array])],e),e}(Zj.default);mn.MinHash=r7});var OE=G(ib=>{"use strict";Object.defineProperty(ib,"__esModule",{value:!0});var n7=nb(),ME=Qp();function i7(t){if(t!==2&&t%2==0)return!1;for(var e=2;e<Math.sqrt(t);e++)if(t%e==0)return!1;return!0}function o7(t){for(var e=0;;){if(i7(t+e))return t+e;e++}}var s7=function(){function t(e,r){this._nbHashes=e,this._maxValue=r,this._hashFunctions=[];for(var n=o7(this._maxValue),i=0;i<this._nbHashes;i++){var s=ME.random(0,this._maxValue,!1),u=ME.random(0,this._maxValue,!1);this._hashFunctions.push({a:s,b:u,c:n})}}return t.prototype.create=function(){return new n7.MinHash(this._nbHashes,this._hashFunctions)},t}();ib.default=s7});var zE=G((XW,jE)=>{function a7(t,e){return t===e||t!==t&&e!==e}jE.exports=a7});var GE=G((ZW,$E)=>{var KE=1/0,u7=17976931348623157e292,qE=0/0,c7="[object Symbol]",f7=/^\s+|\s+$/g,l7=/^[-+]0x[0-9a-f]+$/i,h7=/^0b[01]+$/i,d7=/^0o[0-7]+$/i,p7=parseInt;function m7(t,e,r,n){for(var i=t.length,s=r+(n?1:-1);n?s--:++s<i;)if(e(t[s],s,t))return s;return-1}function y7(t,e,r){if(e!==e)return m7(t,g7,r);for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}function g7(t){return t!==t}var b7=Object.prototype,v7=b7.toString,w7=Math.max;function _7(t,e,r){var n=t?t.length:0;if(!n)return-1;var i=r==null?0:E7(r);return i<0&&(i=w7(n+i,0)),y7(t,e,i)}function HE(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function x7(t){return!!t&&typeof t=="object"}function A7(t){return typeof t=="symbol"||x7(t)&&v7.call(t)==c7}function k7(t){if(!t)return t===0?t:0;if(t=S7(t),t===KE||t===-KE){var e=t<0?-1:1;return e*u7}return t===t?t:0}function E7(t){var e=k7(t),r=e%1;return e===e?r?e-r:e:0}function S7(t){if(typeof t=="number")return t;if(A7(t))return qE;if(HE(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=HE(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(f7,"");var r=h7.test(t);return r||d7.test(t)?p7(t.slice(2),r?2:8):l7.test(t)?qE:+t}$E.exports=_7});var VE=G(Lo=>{"use strict";var P7=Lo&&Lo.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(u=t[c])&&(s=(i<3?u(s):i>3?u(e,r,s):u(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},C7=Lo&&Lo.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)},WE=Lo&&Lo.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},T7=Lo&&Lo.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e};Object.defineProperty(Lo,"__esModule",{value:!0});var F7=WE(zE()),ob=WE(GE()),YE=T7(Zi()),B7=vi(),I7=vi(),D7=function(){function t(r){this._elements=YE.allocateArray(r,null),this._size=r,this._length=0}e=t,Object.defineProperty(t.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"length",{get:function(){return this._length},enumerable:!0,configurable:!0}),t.prototype.isFree=function(){return this._length<this._size},t.prototype.nextEmptySlot=function(){return ob.default(this._elements,null)},t.prototype.at=function(r){return this._elements[r]},t.prototype.add=function(r){return r===null||!this.isFree()?!1:(this.set(this.nextEmptySlot(),r),this._length++,!0)},t.prototype.remove=function(r){var n=ob.default(this._elements,r);return n<=-1?!1:(this.unset(n),!0)},t.prototype.has=function(r){return ob.default(this._elements,r)>-1},t.prototype.set=function(r,n){this._elements[r]=n},t.prototype.unset=function(r){this._elements[r]=null,this._length--},t.prototype.swapRandom=function(r,n){n===void 0&&(n=Math.random);var i=YE.randomInt(0,this._length-1,n),s=this._elements[i];return this._elements[i]=r,s},t.prototype.swap=function(r,n){var i=this._elements[r];return this._elements[r]=n,i},t.prototype.equals=function(r){return this._size!==r.size||this._length!==r.length?!1:this._elements.every(function(n,i){return F7.default(r.at(i),n)})};var e;return t=e=P7([B7.Exportable({export:I7.cloneObject("Bucket","_size","_elements"),import:function(r){if(r.type!=="Bucket"||"_size"in r,!("_elements"in r))throw new Error("Cannot create a Bucket from a JSON export which does not represent a bucket");var n=new e(r._size);return r._elements.forEach(function(i,s){i!==null&&(n._elements[s]=i,n._length++)}),n}}),C7("design:paramtypes",[Number])],t),t}();Lo.default=D7});var QE=G(Mo=>{"use strict";var R7=Mo&&Mo.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),N7=Mo&&Mo.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(u=t[c])&&(s=(i<3?u(s):i>3?u(e,r,s):u(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},U7=Mo&&Mo.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)},JE=Mo&&Mo.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Mo,"__esModule",{value:!0});var L7=JE(Uo()),XE=JE(VE()),ZE=vi(),uh=Zi();function M7(t,e){var r=Math.ceil(Math.log2(1/e)+Math.log2(2*t));return Math.ceil(r/4)}var O7=function(t){R7(e,t);function e(n,i,s,u){u===void 0&&(u=500);var c=t.call(this)||this;return c._filter=uh.allocateArray(n,function(){return new XE.default(s)}),c._size=n,c._bucketSize=s,c._fingerprintLength=i,c._length=0,c._maxKicks=u,c}r=e,e.create=function(n,i,s,u){s===void 0&&(s=4),u===void 0&&(u=500);var c=M7(s,i),p=Math.ceil(n/s/.955);return new r(p,c,s,u)},e.from=function(n,i,s,u){s===void 0&&(s=4),u===void 0&&(u=500);var c=Array.from(n),p=r.create(c.length,i,s,u);return c.forEach(function(l){return p.add(l)}),p},Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fullSize",{get:function(){return this.size*this.bucketSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this._length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fingerprintLength",{get:function(){return this._fingerprintLength},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bucketSize",{get:function(){return this._bucketSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxKicks",{get:function(){return this._maxKicks},enumerable:!0,configurable:!0}),e.prototype.add=function(n,i,s){i===void 0&&(i=!1),s===void 0&&(s=!1);var u=this._locations(n);if(this._filter[u.firstIndex].isFree())this._filter[u.firstIndex].add(u.fingerprint);else if(this._filter[u.secondIndex].isFree())this._filter[u.secondIndex].add(u.fingerprint);else{for(var c=this.random()<.5?u.firstIndex:u.secondIndex,p=u.fingerprint,l=[],y=0;y<this._maxKicks;y++){var w=uh.randomInt(0,this._filter[c].length-1,this.random),B=this._filter[c].at(w);l.push([c,w,B]),this._filter[c].set(w,p),p=B;var _=uh.hashAsInt(p,this.seed,64);if(c=Math.abs(c^Math.abs(_))%this._filter.length,this._filter[c].isFree())return this._filter[c].add(p),this._length++,!0}if(!s)for(var R=l.length-1;R>=0;R--){var W=l[R];this._filter[W[0]].set(W[1],W[2])}if(i)throw new Error('The Cuckoo Filter is full, cannot insert element "'+n+'"');return!1}return this._length++,!0},e.prototype.remove=function(n){var i=this._locations(n);return this._filter[i.firstIndex].has(i.fingerprint)?(this._filter[i.firstIndex].remove(i.fingerprint),this._length--,!0):this._filter[i.secondIndex].has(i.fingerprint)?(this._filter[i.secondIndex].remove(i.fingerprint),this._length--,!0):!1},e.prototype.has=function(n){var i=this._locations(n);return this._filter[i.firstIndex].has(i.fingerprint)||this._filter[i.secondIndex].has(i.fingerprint)},e.prototype.rate=function(){var n=this._computeHashTableLoad(),i=this._fingerprintLength/n.load;return Math.pow(2,Math.log2(2*this._bucketSize)-n.load*i)},e.prototype._computeHashTableLoad=function(){var n=this._filter.length*this._bucketSize,i=this._filter.reduce(function(s,u){return s+u.length},0);return{used:i,free:n-i,size:n,load:i/n}},e.prototype._locations=function(n){var i=uh.hashIntAndString(n,this.seed,16,64),s=i.int;if(this._fingerprintLength>i.string.length)throw new Error("The fingerprint length ("+this._fingerprintLength+") is higher than the hash length ("+i.string.length+"). Please reduce the fingerprint length or report if it is an unexpected behavior.");var u=i.string.substring(0,this._fingerprintLength),c=Math.abs(s),p=Math.abs(uh.hashAsInt(u,this.seed,64)),l=Math.abs(c^p),y={fingerprint:u,firstIndex:c%this._size,secondIndex:l%this._size};return y},e.prototype.equals=function(n){for(var i=0,s=!0;s&&i<this._filter.length;){var u=this._filter[i];n._filter[i].equals(u)||(s=!1),i++}return s};var r;return e=r=N7([ZE.Exportable({export:ZE.cloneObject("CuckooFilter","_size","_fingerprintLength","_length","_maxKicks","_filter","_seed"),import:function(n){if(n.type!=="CuckooFilter"||!("_size"in n)||!("_fingerprintLength"in n)||!("_length"in n)||!("_maxKicks"in n)||!("_filter"in n)||!("_seed"in n))throw new Error("Cannot create a CuckooFilter from a JSON export which does not represent a cuckoo filter");var i=new r(n._size,n._fingerprintLength,n._bucketSize,n._maxKicks);return i._length=n._length,i._filter=n._filter.map(function(s){var u=new XE.default(s._size);return s._elements.forEach(function(c,p){c!==null&&(u._elements[p]=c,u._length++)}),u}),i.seed=n.seed,i}}),U7("design:paramtypes",[Number,Number,Number,Number])],e),e}(L7.default);Mo.default=O7});var ab=G(ki=>{"use strict";var j7=ki&&ki.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),r0=ki&&ki.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(u=t[c])&&(s=(i<3?u(s):i>3?u(e,r,s):u(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},n0=ki&&ki.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)},sb=ki&&ki.__param||function(t,e){return function(r,n){e(r,n,t)}},z7=ki&&ki.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ki,"__esModule",{value:!0});var Hu=sl(),ch=Zi(),$u=vi(),K7=z7(Uo()),q7=Symbol.for("nodejs.util.inspect.custom"),H7=function(t){j7(e,t);function e(n,i,s){var u=t.call(this)||this;return u._idSum=n,u._hashSum=i,u._count=s,u}r=e,e.empty=function(){return new r(Hu.Buffer.allocUnsafe(0).fill(0),Hu.Buffer.allocUnsafe(0).fill(0),0)},e.prototype[q7]=function(){return"Cell:<"+JSON.stringify(this._idSum.toJSON().data)+", "+JSON.stringify(this._hashSum.toJSON().data)+", "+this._count+">"},Object.defineProperty(e.prototype,"idSum",{get:function(){return this._idSum},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hashSum",{get:function(){return this._hashSum},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"count",{get:function(){return this._count},enumerable:!0,configurable:!0}),e.prototype.add=function(n,i){this._idSum=ch.xorBuffer(this._idSum,n),this._hashSum=ch.xorBuffer(this._hashSum,i),this._count++},e.prototype.xorm=function(n){return new r(ch.xorBuffer(this._idSum,n.idSum),ch.xorBuffer(this._hashSum,n.hashSum),this._count-n.count)},e.prototype.isEmpty=function(){return this._idSum.equals(Hu.Buffer.from(""))&&this._hashSum.equals(Hu.Buffer.from(""))&&this._count===0},e.prototype.equals=function(n){return this._count===n.count&&this._idSum.equals(n.idSum)&&this._hashSum.equals(n.hashSum)},e.prototype.isPure=function(){if(this.isEmpty()||this._count!==1&&this._count!==-1)return!1;var n=ch.hashTwiceAsString(JSON.stringify(this._idSum.toJSON()),this.seed);return this._hashSum.equals(Hu.Buffer.from(n.first))};var r;return r0([$u.Field(function(n){return n.toString()},Hu.Buffer.from),n0("design:type",Object)],e.prototype,"_idSum",void 0),r0([$u.Field(function(n){return n.toString()},Hu.Buffer.from),n0("design:type",Object)],e.prototype,"_hashSum",void 0),r0([$u.Field(),n0("design:type",Number)],e.prototype,"_count",void 0),e=r=r0([$u.AutoExportable("Cell",["_seed"]),sb(0,$u.Parameter("_idSum")),sb(1,$u.Parameter("_hashSum")),sb(2,$u.Parameter("_count")),n0("design:paramtypes",[Object,Object,Number])],e),e}(K7.default);ki.default=H7});var iS=G(jn=>{"use strict";var $7=jn&&jn.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),i0=jn&&jn.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(u=t[c])&&(s=(i<3?u(s):i>3?u(e,r,s):u(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},o0=jn&&jn.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)},eS=jn&&jn.__param||function(t,e){return function(r,n){e(r,n,t)}},tS=jn&&jn.__generator||function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,u;return u={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function c(l){return function(y){return p([l,y])}}function p(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){r.label=l[1];break}if(l[0]===6&&r.label<s[1]){r.label=s[1],s=l;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(l);break}s[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(y){l=[6,y],i=0}finally{n=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},rS=jn&&jn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(jn,"__esModule",{value:!0});var Gu=sl(),G7=rS(Uo()),s0=rS(ab()),yf=vi(),na=Zi(),nS=Yp(),W7=function(t){$7(e,t);function e(n,i){i===void 0&&(i=3);var s=t.call(this)||this;if(Gu.Buffer===void 0)throw new Error('No native Buffer implementation bound in your JavaScript env. If you are in a Web browser, consider importing the polyfill "feross/buffer" (https://github.com/feross/buffer).');if(i<=0)throw new Error("The hashCount must be a non-zero, positive integer");return s._size=n,s._hashCount=i,s._elements=na.allocateArray(s._size,function(){return s0.default.empty()}),s}r=e,e.create=function(n,i){var s=nS.optimalFilterSize(n,i),u=nS.optimalHashes(s,n);return new r(s,u)},e.from=function(n,i){var s=Array.from(n),u=r.create(s.length,i);return s.forEach(function(c){return u.add(c)}),u},Object.defineProperty(e.prototype,"hashCount",{get:function(){return this._hashCount},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this._elements.reduce(function(n,i){return n+i.count},0)/this._hashCount},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"elements",{get:function(){return this._elements},enumerable:!0,configurable:!0}),e.prototype.add=function(n){for(var i=na.allInOneHashTwice(JSON.stringify(n.toJSON()),this.seed),s=na.getDistinctIndices(i.string.first,this._size,this._hashCount,this.seed),u=0;u<this._hashCount;++u)this._elements[s[u]].add(n,Gu.Buffer.from(i.string.first))},e.prototype.remove=function(n){for(var i=na.allInOneHashTwice(JSON.stringify(n.toJSON()),this.seed),s=na.getDistinctIndices(i.string.first,this.size,this._hashCount,this.seed),u=0;u<this._hashCount;++u)this._elements[s[u]]=this._elements[s[u]].xorm(new s0.default(Gu.Buffer.from(n),Gu.Buffer.from(i.string.first),1));return!0},e.prototype.has=function(n){for(var i=na.allInOneHashTwice(JSON.stringify(n.toJSON()),this.seed),s=na.getDistinctIndices(i.string.first,this.size,this._hashCount,this.seed),u=0;u<this._hashCount;++u){if(this._elements[s[u]].count===0)return!1;if(this._elements[s[u]].count===1)return!!this._elements[s[u]].idSum.equals(n)}return!0},e.prototype.listEntries=function(){var n=this,i=[];return function(){var s,u,c;return tS(this,function(p){switch(p.label){case 0:s=function(l){var y;return tS(this,function(w){switch(w.label){case 0:return y=n._elements[l],y.count>0&&i.findIndex(function(B){return B.equals(y.idSum)})===-1?n.has(y.idSum)?(i.push(y.idSum),[4,y.idSum]):[3,2]:[3,3];case 1:return w.sent(),[3,3];case 2:return[2,{value:!1}];case 3:return[2]}})},u=0,p.label=1;case 1:return u<n._elements.length-1?[5,s(u)]:[3,4];case 2:if(c=p.sent(),typeof c=="object")return[2,c.value];p.label=3;case 3:return u++,[3,1];case 4:return[2,!0]}})}()},e.prototype.substract=function(n){if(this.size!==n.size)throw new Error("The two Invertible Bloom Filters must be of the same size");var i=new r(n._size,n._hashCount);i.seed=this.seed;for(var s=0;s<this.size;++s)i._elements[s]=this._elements[s].xorm(n._elements[s]);return i},e.prototype.equals=function(n){if(n._size!==this._size||n._hashCount!==this._hashCount||n.seed!==this.seed)return!1;for(var i=0;i<n._elements.length;++i)if(!n._elements[i].equals(this._elements[i]))return!1;return!0},e.prototype.decode=function(n,i){n===void 0&&(n=[]),i===void 0&&(i=[]);for(var s=[],u=null,c=0;c<this._elements.length;++c)u=this._elements[c],u.isPure()&&s.push(c);for(;s.length!==0;){u=this._elements[s.pop()];var p=u.idSum,l=u.count;if(u.isPure()){if(l===1)n.push(p);else if(l===-1)i.push(p);else throw new Error("Please report, not possible");for(var y=na.allInOneHashTwice(JSON.stringify(p.toJSON()),this.seed),w=na.getDistinctIndices(y.string.first,this._size,this._hashCount,this.seed),c=0;c<w.length;++c)this._elements[w[c]]=this._elements[w[c]].xorm(new s0.default(p,Gu.Buffer.from(y.string.first),l)),this._elements[w[c]].isPure()&&s.push(w[c])}}return this._elements.findIndex(function(B){return!B.isEmpty()})>-1?{success:!1,reason:{cell:u,iblt:this},additional:n,missing:i}:{success:!0,additional:n,missing:i}};var r;return i0([yf.Field(),o0("design:type",Number)],e.prototype,"_size",void 0),i0([yf.Field(),o0("design:type",Number)],e.prototype,"_hashCount",void 0),i0([yf.Field(void 0,function(n){return n.map(function(i){var s=new s0.default(Gu.Buffer.from(i._idSum),Gu.Buffer.from(i._hashSum),i._count);return s.seed=i._seed,s})}),o0("design:type",Array)],e.prototype,"_elements",void 0),e=r=i0([yf.AutoExportable("InvertibleBloomFilter",["_seed"]),eS(0,yf.Parameter("_size")),eS(1,yf.Parameter("_hashCount")),o0("design:paramtypes",[Number,Number])],e),e}(G7.default);jn.default=W7});var oS=G(Ei=>{"use strict";Object.defineProperty(Ei,"__esModule",{value:!0});var Y7=EE();Ei.BloomFilter=Y7.default;var V7=CE();Ei.CountingBloomFilter=V7.default;var J7=TE();Ei.PartitionedBloomFilter=J7.default;var X7=Zg();Ei.CountMinSketch=X7.default;var Z7=IE();Ei.HyperLogLog=Z7.default;var Q7=RE();Ei.TopK=Q7.default;var e9=nb();Ei.MinHash=e9.MinHash;var t9=OE();Ei.MinHashFactory=t9.default;var r9=QE();Ei.CuckooFilter=r9.default;var n9=iS();Ei.InvertibleBloomFilter=n9.default;var i9=ab();Ei.Cell=i9.default});var W9={};pt(W9,{InitialisationError:()=>mh,Scenario:()=>Yu,VERSION:()=>Ld,apps:()=>wb,authenticatedUsername:()=>S9,cbor:()=>yg,crypto:()=>Jy,dataRoot:()=>gb,did:()=>Tg,dns:()=>Fm,errors:()=>bb,fs:()=>K9,initialise:()=>z9,initialize:()=>z9,ipfs:()=>gg,isSupported:()=>xS,keystore:()=>Ky,leave:()=>P9,loadFileSystem:()=>vb,lobby:()=>_b,machinery:()=>Wy,path:()=>n1,redirectToLobby:()=>C9,setup:()=>xb,ucan:()=>pb});var Ab=Pr(ad());var Wy={};pt(Wy,{UCANS_STORAGE_KEY:()=>Kc,USERNAME_STORAGE_KEY:()=>qc,VERSION:()=>Ld,api:()=>fi,arrContains:()=>ZD,arrbufs:()=>Jf,assertBrowser:()=>Fr,asyncWaterfall:()=>QD,authenticatedUsername:()=>ko,base64:()=>vo,blob:()=>tl,isBlob:()=>$y,isBool:()=>Ud,isBrowser:()=>R_,isDefined:()=>ax,isJust:()=>Nd,isNum:()=>Ao,isObject:()=>fr,isString:()=>xn,isValue:()=>Hy,mapObj:()=>Gy,mapObjAsync:()=>XD,notNull:()=>qy,removeKeyFromObj:()=>bl,updateOrRemoveKeyFromObj:()=>JD});var fi={};pt(fi,{did:()=>ZF});var Fm={};pt(Fm,{cloudflareLookup:()=>u2,dnsOverHttps:()=>Cm,googleLookup:()=>a2,lookupDnsLink:()=>Tm,lookupTxtRecord:()=>xc});async function xc(t){return Promise.any([a2(t),u2(t)])}async function a2(t){return Cm(`https://dns.google/resolve?name=${t}&type=txt`)}function u2(t){return Cm(`https://cloudflare-dns.com/dns-query?name=${t}&type=txt`)}function Cm(t){return fetch(t,{headers:{accept:"application/dns-json"}}).then(e=>e.json()).then(e=>{if(e.Answer){let r=e.Answer.map(n=>(n.data||"").replace(/^"+|"+$/g,""));return r[0][3]===";"?r.sort((n,i)=>n.slice(0,4).localeCompare(i.slice(0,4))).map(n=>n.slice(4)).join(""):r.join("")}else return null})}async function Tm(t){let e=await xc(t.startsWith("_dnslink.")?t:`_dnslink.${t}`);return e&&!e.includes("/ipns/")?e.replace(/^dnslink=/,"").replace(/^\/ipfs\//,""):null}var wt={debug:!1,endpoints:{api:"https://runfission.com",lobby:"https://auth.fission.codes",user:"fission.name"},shouldPin:!0};var mu={did:null,host:null,lastFetched:0};async function ZF(){let t=wt.endpoints.api.replace(/^https?:\/\//,"").replace(/\/$/,""),e=Date.now();if((mu.host!==t||mu.lastFetched+1e3*60*60*3<=e)&&(mu.did=await xc("_did."+t),mu.host=t,mu.lastFetched=e),!mu.did)throw new Error("Couldn't get the Fission API DID");return mu.did}var Jf={};pt(Jf,{equal:()=>QF});var QF=(t,e)=>{let r=new Uint8Array(t),n=new Uint8Array(e);if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i]!==n[i])return!1;return!0};var vo={};pt(vo,{decode:()=>tw,encode:()=>rw,makeUrlSafe:()=>nw,makeUrlUnsafe:()=>iw,urlDecode:()=>TI,urlEncode:()=>ty});var Pc=Pr(el());function tw(t){return Pc.toString(Pc.fromString(t,"base64pad"))}function rw(t){return Pc.toString(Pc.fromString(t),"base64pad")}function TI(t){return tw(iw(t))}function ty(t){return nw(rw(t))}function nw(t){return t.replace(/\//g,"_").replace(/\+/g,"-").replace(/=+$/,"")}function iw(t){return t.replace(/_/g,"/").replace(/-/g,"+")}var tl={};pt(tl,{toUint8Array:()=>ry});var ow=Pr(el()),ry=async t=>new Promise((e,r)=>{let n=()=>r(new Error("Failed to read file")),i=new FileReader;i.addEventListener("load",s=>{let u=s?.target?.result||null;if(u==null){n();return}if(typeof u=="string"){e(ow.fromString(u));return}e(new Uint8Array(u))}),i.addEventListener("error",()=>i.abort()),i.addEventListener("abort",n),i.readAsArrayBuffer(t)});var M_=Pr(hw()),O_=Pr(D_()),Mc=Pr(li()),Su=Pr(Iy()),Oc=Pr(Ki());var R_=typeof self!="undefined"&&typeof self.location=="object",Fr=t=>{if(!R_)throw new Error(`Must be in browser to use method. Provide a node-compatible implementation for ${t}`)};var Ky={};pt(Ky,{clear:()=>zy,create:()=>WD,get:()=>xo,set:()=>YD});var jy=Pr(N_()),U_=Pr(Ki()),L_={type:U_.CryptoSystem.RSA},Fa=null,zy=async()=>{Fa=await xo(),await Fa.destroy(),Fa=null},WD=async()=>await jy.default.init(L_),YD=async t=>{Fa=t},xo=async()=>Fa||(Fa=await jy.default.init(L_),Fa);var j_=async(t,e)=>{Fr("aes.encrypt");let r=await Su.default.importKey(e,{length:Oc.SymmKeyLength.B256}),n=await Su.default.encryptBytes(t.buffer,r);return new Uint8Array(n)},z_=async(t,e)=>{Fr("aes.decrypt");let r=await Su.default.importKey(e,{length:Oc.SymmKeyLength.B256}),n=await Su.default.decryptBytes(t.buffer,r);return new Uint8Array(n)},K_=async()=>{Fr("aes.genKeyStr");let t=await Su.default.makeKey({length:Oc.SymmKeyLength.B256});return Su.default.exportKey(t)},q_=async(t,e,r)=>{Fr("aes.decryptGCM");let n=Mc.default.base64ToArrBuf(r),i=await crypto.subtle.importKey("raw",Mc.default.base64ToArrBuf(e),"AES-GCM",!1,["encrypt","decrypt"]),s=await crypto.subtle.decrypt({name:"AES-GCM",iv:n},i,Mc.default.base64ToArrBuf(t));return Mc.default.arrBufToStr(s,Oc.CharSize.B8)},H_=async t=>{Fr("hash.sha256");let e=t.buffer,r=await crypto.subtle.digest("SHA-256",e);return new Uint8Array(r)},$_=(t,e,r)=>{Fr("rsa.verify");let n=Mc.default.arrBufToBase64(r.buffer);return O_.default.verify(t,e,n)},G_=(t,e,r)=>M_.verify(e,t,r),W_=async()=>(Fr("keystore.publicReadKey"),(await xo()).publicReadKey()),Y_=async()=>(Fr("keystore.publicWriteKey"),(await xo()).publicWriteKey()),V_=async t=>(Fr("keystore.decrypt"),(await xo()).decrypt(t)),J_=async(t,e)=>(Fr("keystore.sign"),(await xo()).sign(t,{charSize:e})),X_=async(t,e)=>(Fr("keystore.importSymmKey"),(await xo()).importSymmKey(t,e)),Z_=async t=>(Fr("keystore.exportSymmKey"),(await xo()).exportSymmKey(t)),Q_=async t=>(Fr("keystore.keyExists"),(await xo()).keyExists(t)),ex=async()=>(Fr("keystore.getAlg"),(await xo()).cfg.type),tx=async()=>(Fr("keystore.clear"),zy());var gl=Pr(ad());var rx=t=>(Fr("storage.getItem"),gl.default.getItem(t)),nx=(t,e)=>(Fr("storage.setItem"),gl.default.setItem(t,e)),ix=t=>(Fr("storage.removeItem"),gl.default.removeItem(t)),ox=()=>(Fr("storage.clear"),gl.default.clear());var VD={hash:{sha256:H_},aes:{encrypt:j_,decrypt:z_,genKeyStr:K_,decryptGCM:q_},rsa:{verify:$_},ed25519:{verify:G_},keystore:{publicReadKey:W_,publicWriteKey:Y_,decrypt:V_,sign:J_,importSymmKey:X_,exportSymmKey:Z_,keyExists:Q_,getAlg:ex,clear:tx},storage:{getItem:rx,setItem:nx,removeItem:ix,clear:ox}},Zt=VD,sx=t=>(Zt={hash:jc(Zt.hash,t.hash),aes:jc(Zt.aes,t.aes),rsa:jc(Zt.rsa,t.rsa),ed25519:jc(Zt.ed25519,t.ed25519),keystore:jc(Zt.keystore,t.keystore),storage:jc(Zt.storage,t.storage)},Zt),jc=(t,e)=>({...t,...e||{}});var Ba=t=>Zt.storage.getItem(t),Pu=(t,e)=>Zt.storage.setItem(t,e),zc=t=>Zt.storage.removeItem(t);var ax=t=>t!==void 0,qy=t=>t!==null,Nd=qy,Hy=t=>ax(t)&&qy(t),Ud=t=>typeof t=="boolean",Ao=t=>typeof t=="number",xn=t=>typeof t=="string",fr=t=>t!==null&&typeof t=="object",$y=t=>typeof Blob=="undefined"?!1:t instanceof Blob||fr(t)&&t?.constructor?.name==="Blob";var bl=(t,e)=>{let{[e]:r,...n}=t;return n},JD=(t,e,r)=>r===null?bl(t,e):{...t,[e]:r},Gy=(t,e)=>{let r={};return Object.entries(t).forEach(([n,i])=>{r[n]=e(i,n)}),r},XD=async(t,e)=>{let r={};return await Promise.all(Object.entries(t).map(async([n,i])=>{r[n]=await e(i,n)})),r},ZD=(t,e)=>t.indexOf(e)>-1,QD=async(t,e)=>{let r=t;for(let n=0;n<e.length;n++)r=await e[n](r);return r};var Ld="0.27.0";var Kc="webnative.auth_ucans",qc="webnative.auth_username";async function ko(){return Ba(qc).then(t=>t||null)}var Jy={};pt(Jy,{aes:()=>hi,ed25519:()=>Vy,hash:()=>ps,keystore:()=>rn,rsa:()=>Yy,sha256Str:()=>fx});var cx=Pr(li());var Hc=t=>Array.prototype.map.call(t,e=>("00"+e.toString(16)).slice(-2)).join(""),ux=t=>{let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++)e[r]=parseInt(t.slice(r*2,r*2+2),16);return e};var fx=async t=>{let e=(0,cx.strToArrBuf)(t,8),r=new Uint8Array(e),n=await Zt.hash.sha256(r);return Hc(n)},ps={sha256:t=>Zt.hash.sha256(t),sha256Str:fx},hi={encrypt:(t,e)=>Zt.aes.encrypt(t,e),decrypt:(t,e)=>Zt.aes.decrypt(t,e),genKeyStr:()=>Zt.aes.genKeyStr(),decryptGCM:(t,e,r)=>Zt.aes.decryptGCM(t,e,r)},Yy={verify:(t,e,r)=>Zt.rsa.verify(t,e,r)},Vy={verify:(t,e,r)=>Zt.ed25519.verify(t,e,r)},rn={publicReadKey:()=>Zt.keystore.publicReadKey(),publicWriteKey:()=>Zt.keystore.publicWriteKey(),decrypt:t=>Zt.keystore.decrypt(t),sign:(t,e)=>Zt.keystore.sign(t,e),importSymmKey:(t,e)=>Zt.keystore.importSymmKey(t,e),exportSymmKey:t=>Zt.keystore.exportSymmKey(t),keyExists:t=>Zt.keystore.keyExists(t),getAlg:()=>Zt.keystore.getAlg(),clear:()=>Zt.keystore.clear()};var n1={};pt(n1,{Branch:()=>kt,Kind:()=>vl,combine:()=>$c,directory:()=>Eo,file:()=>Xy,fromPosix:()=>Zy,isBranch:()=>wl,isDirectory:()=>Wr,isFile:()=>Ia,isRootDirectory:()=>hx,isSameBranch:()=>Qy,isSameKind:()=>e1,kind:()=>Md,log:()=>Da,map:()=>t1,parent:()=>r1,removeBranch:()=>eR,root:()=>lx,toPosix:()=>qr,unwrap:()=>Yr});var kt;(function(s){s.Public="public",s.Pretty="p",s.Private="private",s.PrivateLog="privateLog",s.Version="version"})(kt||(kt={}));var vl;(function(r){r.Directory="directory",r.File="file"})(vl||(vl={}));function Eo(...t){if(t.some(e=>e.includes("/")))throw new Error("Forward slashes `/` are not allowed");return{directory:t}}function Xy(...t){if(t.some(e=>e.includes("/")))throw new Error("Forward slashes `/` are not allowed");return{file:t}}function lx(){return{directory:[]}}function Zy(t){let e=t.replace(/^\/+/,"").split("/");return t.endsWith("/")?{directory:e.slice(0,-1)}:t===""?lx():{file:e}}function qr(t,{absolute:e}={absolute:!1}){let r=e?"/":"",n=Yr(t).join("/");return Wr(t)?r+n+(n.length?"/":""):r+n}function $c(t,e){return t1(r=>Yr(t).concat(r),e)}function wl(t,e){return Yr(e)[0]===t}function Wr(t){return!!t.directory}function Ia(t){return!!t.file}function hx(t){return t.directory.length===0}function Qy(t,e){return Yr(t)[0]===Yr(e)[0]}function e1(t,e){return Wr(t)&&Wr(e)?!0:!!(Ia(t)&&Ia(e))}function Md(t){return Wr(t)?vl.Directory:vl.File}function t1(t,e){return Wr(e)?{directory:t(e.directory)}:Ia(e)?{file:t(e.file)}:e}function r1(t){return Wr(t)&&hx(t)?null:Eo(...Yr(t).slice(0,-1))}function eR(t){return t1(e=>Wr(t)||e.length>1?e.slice(1):e,t)}function Yr(t){return Wr(t)?t.directory:Ia(t)?t.file:[]}function Da(t){return`[ ${t.join(", ")} ]`}async function Od({path:t}){return`wnfs__bareNameFilter__${await ps.sha256Str(dx(t))}`}async function Gc({path:t}){return`wnfs__readKey__${await ps.sha256Str(dx(t))}`}function dx(t){return"/"+Yr(t).join("/")}var gg={};pt(gg,{DAG_NODE_DATA:()=>og,add:()=>Rl,attemptPin:()=>pp,cat:()=>Nl,catBuf:()=>tf,catRaw:()=>pk,dagGet:()=>rf,dagPut:()=>mk,dagPutLinks:()=>Ul,encoded:()=>Bo,get:()=>Js,iframe:()=>M4,ls:()=>sg,set:()=>fL,size:()=>Ru});var L4=Pr(U4());var ep=null,fL=t=>{ep=t},Js=async()=>{if(!ep){let t=await M4();ep=L4.default.from(t)}return ep};function M4(){return new Promise((t,e)=>{let r=document.createElement("iframe");r.id="webnative-ipfs",r.style.width="0",r.style.height="0",r.style.border="none",r.style.display="none",document.body.appendChild(r),r.onload=()=>{let n=new MessageChannel;n.port1.onmessage=({ports:i})=>t(i[0]),r.contentWindow?r.contentWindow.postMessage("connect","*",[n.port2]):e(new Error("Don't have access to iframe.contentWindow"))},r.src=`${wt.endpoints.lobby}/ipfs.html`})}var lk=Pr(Ra()),hk=Pr(dp());var ig=Pr(dp()),$M=t=>new ig.default.DAGLink(t.Name,t.Tsize,t.Hash),fk=t=>{let e=t?.value?.Data,r=t?.value?.Links?.map($M);return new ig.default.DAGNode(e,r)};var og=new Uint8Array([8,1]);var dk=Pr(el());var Rl=async t=>{let r=await(await Js()).add(t,{cidVersion:1,pin:wt.shouldPin});return{cid:r.cid.toString(),size:r.size,isFile:!0}},pk=async t=>{let e=await Js(),r=[];await pp(t);for await(let n of e.cat(t))r.push(n);return r},tf=async t=>{let e=await pk(t);return dk.concat(e)},Nl=async t=>(await tf(t)).toString(),sg=async t=>{let e=await Js(),r=[];for await(let n of e.ls(t))r.push(n);return r},rf=async t=>{let e=await Js();await pp(t);let r=await e.dag.get(new lk.default(t));return fk(r)},mk=async t=>{let n=(await(await Js()).dag.put(t,{format:"dag-pb",hashAlg:"sha2-256"})).toV1().toString();await pp(n);let i=await Ru(n);return{cid:n,size:i,isFile:!1}},Ul=async t=>{let e=new hk.default.DAGNode(og,t);return mk(e)},Ru=async t=>(await(await Js()).files.stat(`/ipfs/${t}`)).cumulativeSize,pp=async t=>{if(!wt.shouldPin)return;let e=await Js();try{await e.pin.add(t,{recursive:!1})}catch(r){if(!r.message||!r.message.includes("already pinned recursively"))throw new Error(r)}};var Bo={};pt(Bo,{add:()=>dO,catAndDecode:()=>pO});var yg={};pt(yg,{Token:()=>He,Type:()=>ue,decode:()=>Ep,encode:()=>Ap});var GM=["string","number","bigint","symbol"],WM=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function yk(t){if(t===null)return"null";if(t===void 0)return"undefined";if(t===!0||t===!1)return"boolean";let e=typeof t;if(GM.includes(e))return e;if(e==="function")return"Function";if(Array.isArray(t))return"Array";if(YM(t))return"Buffer";let r=VM(t);return r||"Object"}function YM(t){return t&&t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer.call(null,t)}function VM(t){let e=Object.prototype.toString.call(t).slice(8,-1);if(WM.includes(e))return e}var ue=class{constructor(e,r,n){this.major=e,this.majorEncoded=e<<5,this.name=r,this.terminal=n}toString(){return`Type[${this.major}].${this.name}`}compare(e){return this.major<e.major?-1:this.major>e.major?1:0}};ue.uint=new ue(0,"uint",!0);ue.negint=new ue(1,"negint",!0);ue.bytes=new ue(2,"bytes",!0);ue.string=new ue(3,"string",!0);ue.array=new ue(4,"array",!1);ue.map=new ue(5,"map",!1);ue.tag=new ue(6,"tag",!1);ue.float=new ue(7,"float",!0);ue.false=new ue(7,"false",!0);ue.true=new ue(7,"true",!0);ue.null=new ue(7,"null",!0);ue.undefined=new ue(7,"undefined",!0);ue.break=new ue(7,"break",!0);var He=class{constructor(e,r,n){this.type=e,this.value=r,this.encodedLength=n,this.encodedBytes=void 0}toString(){return`Token[${this.type}].${this.value}`}};var nf=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&typeof globalThis.Buffer.isBuffer=="function",JM=new TextDecoder,XM=new TextEncoder;function mp(t){return nf&&globalThis.Buffer.isBuffer(t)}function ag(t){return t instanceof Uint8Array?mp(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t:Uint8Array.from(t)}var gk=nf?(t,e,r)=>r-e>64?globalThis.Buffer.from(t.subarray(e,r)).toString("utf8"):Ak(t,e,r):(t,e,r)=>r-e>64?JM.decode(t.subarray(e,r)):Ak(t,e,r),bk=nf?t=>t.length>64?globalThis.Buffer.from(t):xk(t):t=>t.length>64?XM.encode(t):xk(t),vs=t=>Uint8Array.from(t),yp=nf?(t,e,r)=>mp(t)?new Uint8Array(t.subarray(e,r)):t.slice(e,r):(t,e,r)=>t.slice(e,r),vk=nf?(t,e)=>(t=t.map(r=>r instanceof Uint8Array?r:globalThis.Buffer.from(r)),ag(globalThis.Buffer.concat(t,e))):(t,e)=>{let r=new Uint8Array(e),n=0;for(let i of t)n+i.length>r.length&&(i=i.subarray(0,r.length-n)),r.set(i,n),n+=i.length;return r},wk=nf?t=>globalThis.Buffer.allocUnsafe(t):t=>new Uint8Array(t);function _k(t,e){if(mp(t)&&mp(e))return t.compare(e);for(let r=0;r<t.length;r++)if(t[r]!==e[r])return t[r]<e[r]?-1:1;return 0}function xk(t,e=Infinity){let r,n=t.length,i=null,s=[];for(let u=0;u<n;++u){if(r=t.charCodeAt(u),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&s.push(239,191,189);continue}else if(u+1===n){(e-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&s.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(e-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;s.push(r)}else if(r<2048){if((e-=2)<0)break;s.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;s.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return s}function Ak(t,e,r){let n=[];for(;e<r;){let i=t[e],s=null,u=i>239?4:i>223?3:i>191?2:1;if(e+u<=r){let c,p,l,y;switch(u){case 1:i<128&&(s=i);break;case 2:c=t[e+1],(c&192)==128&&(y=(i&31)<<6|c&63,y>127&&(s=y));break;case 3:c=t[e+1],p=t[e+2],(c&192)==128&&(p&192)==128&&(y=(i&15)<<12|(c&63)<<6|p&63,y>2047&&(y<55296||y>57343)&&(s=y));break;case 4:c=t[e+1],p=t[e+2],l=t[e+3],(c&192)==128&&(p&192)==128&&(l&192)==128&&(y=(i&15)<<18|(c&63)<<12|(p&63)<<6|l&63,y>65535&&y<1114112&&(s=y))}}s===null?(s=65533,u=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|s&1023),n.push(s),e+=u}return ZM(n)}var kk=4096;function ZM(t){let e=t.length;if(e<=kk)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=kk));return r}var QM=256,gp=class{constructor(e=QM){this.chunkSize=e,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.chunks=[],this.cursor=0,this.maxCursor=-1,this._initReuseChunk!==null&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(e){let r=this.chunks[this.chunks.length-1];if(this.cursor+e.length<=this.maxCursor+1){let i=r.length-(this.maxCursor-this.cursor)-1;r.set(e,i)}else{if(r){let i=r.length-(this.maxCursor-this.cursor)-1;i<r.length&&(this.chunks[this.chunks.length-1]=r.subarray(0,i),this.maxCursor=this.cursor-1)}e.length<64&&e.length<this.chunkSize?(r=wk(this.chunkSize),this.chunks.push(r),this.maxCursor+=r.length,this._initReuseChunk===null&&(this._initReuseChunk=r),r.set(e,0)):(this.chunks.push(e),this.maxCursor+=e.length)}this.cursor+=e.length}toBytes(e=!1){let r;if(this.chunks.length===1){let n=this.chunks[0];e&&this.cursor>n.length/2?(r=this.cursor===n.length?n:n.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):r=yp(n,0,this.cursor)}else r=vk(this.chunks,this.cursor);return e&&this.reset(),r}};var ut="CBOR decode error:",ug="CBOR encode error:",Ll=[];Ll[23]=1;Ll[24]=2;Ll[25]=3;Ll[26]=5;Ll[27]=9;function Xs(t,e,r){if(t.length-e<r)throw new Error(`${ut} not enough data for type`)}var sn=[24,256,65536,4294967296,BigInt("18446744073709551616")];function pi(t,e,r){Xs(t,e,1);let n=t[e];if(r.strict===!0&&n<sn[0])throw new Error(`${ut} integer encoded in more bytes than necessary (strict decode)`);return n}function mi(t,e,r){Xs(t,e,2);let n=t[e]<<8|t[e+1];if(r.strict===!0&&n<sn[1])throw new Error(`${ut} integer encoded in more bytes than necessary (strict decode)`);return n}function yi(t,e,r){Xs(t,e,4);let n=t[e]*16777216+(t[e+1]<<16)+(t[e+2]<<8)+t[e+3];if(r.strict===!0&&n<sn[2])throw new Error(`${ut} integer encoded in more bytes than necessary (strict decode)`);return n}function gi(t,e,r){Xs(t,e,8);let n=t[e]*16777216+(t[e+1]<<16)+(t[e+2]<<8)+t[e+3],i=t[e+4]*16777216+(t[e+5]<<16)+(t[e+6]<<8)+t[e+7],s=(BigInt(n)<<BigInt(32))+BigInt(i);if(r.strict===!0&&s<sn[3])throw new Error(`${ut} integer encoded in more bytes than necessary (strict decode)`);if(s<=Number.MAX_SAFE_INTEGER)return Number(s);if(r.allowBigInt===!0)return s;throw new Error(`${ut} integers outside of the safe integer range are not supported`)}function Ek(t,e,r,n){return new He(ue.uint,pi(t,e+1,n),2)}function Sk(t,e,r,n){return new He(ue.uint,mi(t,e+1,n),3)}function Pk(t,e,r,n){return new He(ue.uint,yi(t,e+1,n),5)}function Ck(t,e,r,n){return new He(ue.uint,gi(t,e+1,n),9)}function Ji(t,e){return Zn(t,0,e.value)}function Zn(t,e,r){if(r<sn[0]){let n=Number(r);t.push([e|n])}else if(r<sn[1]){let n=Number(r);t.push([e|24,n])}else if(r<sn[2]){let n=Number(r);t.push([e|25,n>>>8,n&255])}else if(r<sn[3]){let n=Number(r);t.push([e|26,n>>>24&255,n>>>16&255,n>>>8&255,n&255])}else{let n=BigInt(r);if(n<sn[4]){let i=[e|27,0,0,0,0,0,0,0],s=Number(n&BigInt(4294967295)),u=Number(n>>BigInt(32)&BigInt(4294967295));i[8]=s&255,s=s>>8,i[7]=s&255,s=s>>8,i[6]=s&255,s=s>>8,i[5]=s&255,i[4]=u&255,u=u>>8,i[3]=u&255,u=u>>8,i[2]=u&255,u=u>>8,i[1]=u&255,t.push(i)}else throw new Error(`${ut} encountered BigInt larger than allowable range`)}}Ji.encodedSize=function(e){return Zn.encodedSize(e.value)};Zn.encodedSize=function(e){return e<sn[0]?1:e<sn[1]?2:e<sn[2]?3:e<sn[3]?5:9};Ji.compareTokens=function(e,r){return e.value<r.value?-1:e.value>r.value?1:0};function Tk(t,e,r,n){return new He(ue.negint,-1-pi(t,e+1,n),2)}function Fk(t,e,r,n){return new He(ue.negint,-1-mi(t,e+1,n),3)}function Bk(t,e,r,n){return new He(ue.negint,-1-yi(t,e+1,n),5)}var cg=BigInt(-1),Ik=BigInt(1);function Dk(t,e,r,n){let i=gi(t,e+1,n);if(typeof i!="bigint"){let s=-1-i;if(s>=Number.MIN_SAFE_INTEGER)return new He(ue.negint,s,9)}if(n.allowBigInt!==!0)throw new Error(`${ut} integers outside of the safe integer range are not supported`);return new He(ue.negint,cg-BigInt(i),9)}function bp(t,e){let r=e.value,n=typeof r=="bigint"?r*cg-Ik:r*-1-1;Zn(t,e.type.majorEncoded,n)}bp.encodedSize=function(e){let r=e.value,n=typeof r=="bigint"?r*cg-Ik:r*-1-1;return n<sn[0]?1:n<sn[1]?2:n<sn[2]?3:n<sn[3]?5:9};bp.compareTokens=function(e,r){return e.value<r.value?1:e.value>r.value?-1:0};function Ml(t,e,r,n){Xs(t,e,r+n);let i=yp(t,e+r,e+r+n);return new He(ue.bytes,i,r+n)}function Rk(t,e,r,n){return Ml(t,e,1,r)}function Nk(t,e,r,n){return Ml(t,e,2,pi(t,e+1,n))}function Uk(t,e,r,n){return Ml(t,e,3,mi(t,e+1,n))}function Lk(t,e,r,n){return Ml(t,e,5,yi(t,e+1,n))}function Mk(t,e,r,n){let i=gi(t,e+1,n);if(typeof i=="bigint")throw new Error(`${ut} 64-bit integer bytes lengths not supported`);return Ml(t,e,9,i)}function vp(t){return t.encodedBytes===void 0&&(t.encodedBytes=t.type===ue.string?bk(t.value):t.value),t.encodedBytes}function of(t,e){let r=vp(e);Zn(t,e.type.majorEncoded,r.length),t.push(r)}of.encodedSize=function(e){let r=vp(e);return Zn.encodedSize(r.length)+r.length};of.compareTokens=function(e,r){return eO(vp(e),vp(r))};function eO(t,e){return t.length<e.length?-1:t.length>e.length?1:_k(t,e)}function Ol(t,e,r,n){let i=r+n;return Xs(t,e,i),new He(ue.string,gk(t,e+r,e+i),i)}function Ok(t,e,r,n){return Ol(t,e,1,r)}function jk(t,e,r,n){return Ol(t,e,2,pi(t,e+1,n))}function zk(t,e,r,n){return Ol(t,e,3,mi(t,e+1,n))}function Kk(t,e,r,n){return Ol(t,e,5,yi(t,e+1,n))}function qk(t,e,r,n){let i=gi(t,e+1,n);if(typeof i=="bigint")throw new Error(`${ut} 64-bit integer string lengths not supported`);return Ol(t,e,9,i)}var Hk=of;function sf(t,e,r,n){return new He(ue.array,n,r)}function $k(t,e,r,n){return sf(t,e,1,r)}function Gk(t,e,r,n){return sf(t,e,2,pi(t,e+1,n))}function Wk(t,e,r,n){return sf(t,e,3,mi(t,e+1,n))}function Yk(t,e,r,n){return sf(t,e,5,yi(t,e+1,n))}function Vk(t,e,r,n){let i=gi(t,e+1,n);if(typeof i=="bigint")throw new Error(`${ut} 64-bit integer array lengths not supported`);return sf(t,e,9,i)}function Jk(t,e,r,n){if(n.allowIndefinite===!1)throw new Error(`${ut} indefinite length items not allowed`);return sf(t,e,1,Infinity)}function fg(t,e){Zn(t,ue.array.majorEncoded,e.value)}fg.compareTokens=Ji.compareTokens;function af(t,e,r,n){return new He(ue.map,n,r)}function Xk(t,e,r,n){return af(t,e,1,r)}function Zk(t,e,r,n){return af(t,e,2,pi(t,e+1,n))}function Qk(t,e,r,n){return af(t,e,3,mi(t,e+1,n))}function e6(t,e,r,n){return af(t,e,5,yi(t,e+1,n))}function t6(t,e,r,n){let i=gi(t,e+1,n);if(typeof i=="bigint")throw new Error(`${ut} 64-bit integer map lengths not supported`);return af(t,e,9,i)}function r6(t,e,r,n){if(n.allowIndefinite===!1)throw new Error(`${ut} indefinite length items not allowed`);return af(t,e,1,Infinity)}function lg(t,e){Zn(t,ue.map.majorEncoded,e.value)}lg.compareTokens=Ji.compareTokens;function n6(t,e,r,n){return new He(ue.tag,r,1)}function i6(t,e,r,n){return new He(ue.tag,pi(t,e+1,n),2)}function o6(t,e,r,n){return new He(ue.tag,mi(t,e+1,n),3)}function s6(t,e,r,n){return new He(ue.tag,yi(t,e+1,n),5)}function a6(t,e,r,n){return new He(ue.tag,gi(t,e+1,n),9)}function hg(t,e){Zn(t,ue.tag.majorEncoded,e.value)}hg.compareTokens=Ji.compareTokens;var tO=20,rO=21,nO=22,iO=23;function u6(t,e,r,n){if(n.allowUndefined===!1)throw new Error(`${ut} undefined values are not supported`);return new He(ue.undefined,void 0,1)}function c6(t,e,r,n){if(n.allowIndefinite===!1)throw new Error(`${ut} indefinite length items not allowed`);return new He(ue.break,void 0,1)}function dg(t,e,r){if(r){if(r.allowNaN===!1&&Number.isNaN(t))throw new Error(`${ut} NaN values are not supported`);if(r.allowInfinity===!1&&(t===Infinity||t===-Infinity))throw new Error(`${ut} Infinity values are not supported`)}return new He(ue.float,t,e)}function f6(t,e,r,n){return dg(pg(t,e+1),3,n)}function l6(t,e,r,n){return dg(mg(t,e+1),5,n)}function h6(t,e,r,n){return dg(y6(t,e+1),9,n)}function wp(t,e,r){let n=e.value;if(n===!1)t.push([ue.float.majorEncoded|tO]);else if(n===!0)t.push([ue.float.majorEncoded|rO]);else if(n===null)t.push([ue.float.majorEncoded|nO]);else if(n===void 0)t.push([ue.float.majorEncoded|iO]);else{let i,s=!1;(!r||r.float64!==!0)&&(p6(n),i=pg(To,1),n===i||Number.isNaN(n)?(To[0]=249,t.push(To.slice(0,3)),s=!0):(m6(n),i=mg(To,1),n===i&&(To[0]=250,t.push(To.slice(0,5)),s=!0))),s||(oO(n),i=y6(To,1),To[0]=251,t.push(To.slice(0,9)))}}wp.encodedSize=function(e,r){let n=e.value;if(n===!1||n===!0||n===null||n===void 0)return 1;let i;if(!r||r.float64!==!0){if(p6(n),i=pg(To,1),n===i||Number.isNaN(n))return 3;if(m6(n),i=mg(To,1),n===i)return 5}return 9};var d6=new ArrayBuffer(9),Xi=new DataView(d6,1),To=new Uint8Array(d6,0);function p6(t){if(t===Infinity)Xi.setUint16(0,31744,!1);else if(t===-Infinity)Xi.setUint16(0,64512,!1);else if(Number.isNaN(t))Xi.setUint16(0,32256,!1);else{Xi.setFloat32(0,t);let e=Xi.getUint32(0),r=(e&2139095040)>>23,n=e&8388607;if(r===255)Xi.setUint16(0,31744,!1);else if(r===0)Xi.setUint16(0,(t&2147483648)>>16|n>>13,!1);else{let i=r-127;i<-24?Xi.setUint16(0,0):i<-14?Xi.setUint16(0,(e&2147483648)>>16|1<<24+i,!1):Xi.setUint16(0,(e&2147483648)>>16|i+15<<10|n>>13,!1)}}}function pg(t,e){if(t.length-e<2)throw new Error(`${ut} not enough data for float16`);let r=(t[e]<<8)+t[e+1];if(r===31744)return Infinity;if(r===64512)return-Infinity;if(r===32256)return NaN;let n=r>>10&31,i=r&1023,s;return n===0?s=i*2**-24:n!==31?s=(i+1024)*2**(n-25):s=i===0?Infinity:NaN,r&32768?-s:s}function m6(t){Xi.setFloat32(0,t,!1)}function mg(t,e){if(t.length-e<4)throw new Error(`${ut} not enough data for float32`);let r=(t.byteOffset||0)+e;return new DataView(t.buffer,r,4).getFloat32(0,!1)}function oO(t){Xi.setFloat64(0,t,!1)}function y6(t,e){if(t.length-e<8)throw new Error(`${ut} not enough data for float64`);let r=(t.byteOffset||0)+e;return new DataView(t.buffer,r,8).getFloat64(0,!1)}wp.compareTokens=Ji.compareTokens;function Ht(t,e,r){throw new Error(`${ut} encountered invalid minor (${r}) for major ${t[e]>>>5}`)}function _p(t){return()=>{throw new Error(`${ut} ${t}`)}}var Re=[];for(let t=0;t<=23;t++)Re[t]=Ht;Re[24]=Ek;Re[25]=Sk;Re[26]=Pk;Re[27]=Ck;Re[28]=Ht;Re[29]=Ht;Re[30]=Ht;Re[31]=Ht;for(let t=32;t<=55;t++)Re[t]=Ht;Re[56]=Tk;Re[57]=Fk;Re[58]=Bk;Re[59]=Dk;Re[60]=Ht;Re[61]=Ht;Re[62]=Ht;Re[63]=Ht;for(let t=64;t<=87;t++)Re[t]=Rk;Re[88]=Nk;Re[89]=Uk;Re[90]=Lk;Re[91]=Mk;Re[92]=Ht;Re[93]=Ht;Re[94]=Ht;Re[95]=_p("indefinite length bytes/strings are not supported");for(let t=96;t<=119;t++)Re[t]=Ok;Re[120]=jk;Re[121]=zk;Re[122]=Kk;Re[123]=qk;Re[124]=Ht;Re[125]=Ht;Re[126]=Ht;Re[127]=_p("indefinite length bytes/strings are not supported");for(let t=128;t<=151;t++)Re[t]=$k;Re[152]=Gk;Re[153]=Wk;Re[154]=Yk;Re[155]=Vk;Re[156]=Ht;Re[157]=Ht;Re[158]=Ht;Re[159]=Jk;for(let t=160;t<=183;t++)Re[t]=Xk;Re[184]=Zk;Re[185]=Qk;Re[186]=e6;Re[187]=t6;Re[188]=Ht;Re[189]=Ht;Re[190]=Ht;Re[191]=r6;for(let t=192;t<=215;t++)Re[t]=n6;Re[216]=i6;Re[217]=o6;Re[218]=s6;Re[219]=a6;Re[220]=Ht;Re[221]=Ht;Re[222]=Ht;Re[223]=Ht;for(let t=224;t<=243;t++)Re[t]=_p("simple values are not supported");Re[244]=Ht;Re[245]=Ht;Re[246]=Ht;Re[247]=u6;Re[248]=_p("simple values are not supported");Re[249]=f6;Re[250]=l6;Re[251]=h6;Re[252]=Ht;Re[253]=Ht;Re[254]=Ht;Re[255]=c6;var Fo=[];for(let t=0;t<24;t++)Fo[t]=new He(ue.uint,t,1);for(let t=-1;t>=-24;t--)Fo[31-t]=new He(ue.negint,t,1);Fo[64]=new He(ue.bytes,new Uint8Array(0),1);Fo[96]=new He(ue.string,"",1);Fo[128]=new He(ue.array,0,1);Fo[160]=new He(ue.map,0,1);Fo[244]=new He(ue.false,!1,1);Fo[245]=new He(ue.true,!0,1);Fo[246]=new He(ue.null,null,1);function g6(t){switch(t.type){case ue.false:return vs([244]);case ue.true:return vs([245]);case ue.null:return vs([246]);case ue.bytes:return t.value.length?void 0:vs([64]);case ue.string:return t.value===""?vs([96]):void 0;case ue.array:return t.value===0?vs([128]):void 0;case ue.map:return t.value===0?vs([160]):void 0;case ue.uint:return t.value<24?vs([Number(t.value)]):void 0;case ue.negint:if(t.value>=-24)return vs([31-Number(t.value)])}}var sO={float64:!1,mapSorter:uO,quickEncodeToken:g6},ws=[];ws[ue.uint.major]=Ji;ws[ue.negint.major]=bp;ws[ue.bytes.major]=of;ws[ue.string.major]=Hk;ws[ue.array.major]=fg;ws[ue.map.major]=lg;ws[ue.tag.major]=hg;ws[ue.float.major]=wp;var b6=new gp,jl=class{constructor(e,r){this.obj=e,this.parent=r}includes(e){let r=this;do if(r.obj===e)return!0;while(r=r.parent);return!1}static createCheck(e,r){if(e&&e.includes(r))throw new Error(`${ug} object contains circular references`);return new jl(r,e)}},za={null:new He(ue.null,null),undefined:new He(ue.undefined,void 0),true:new He(ue.true,!0),false:new He(ue.false,!1),emptyArray:new He(ue.array,0),emptyMap:new He(ue.map,0)},Ka={number(t,e,r,n){return!Number.isInteger(t)||!Number.isSafeInteger(t)?new He(ue.float,t):t>=0?new He(ue.uint,t):new He(ue.negint,t)},bigint(t,e,r,n){return t>=BigInt(0)?new He(ue.uint,t):new He(ue.negint,t)},Uint8Array(t,e,r,n){return new He(ue.bytes,t)},string(t,e,r,n){return new He(ue.string,t)},boolean(t,e,r,n){return t?za.true:za.false},null(t,e,r,n){return za.null},undefined(t,e,r,n){return za.undefined},ArrayBuffer(t,e,r,n){return new He(ue.bytes,new Uint8Array(t))},DataView(t,e,r,n){return new He(ue.bytes,new Uint8Array(t.buffer,t.byteOffset,t.byteLength))},Array(t,e,r,n){if(!t.length)return r.addBreakTokens===!0?[za.emptyArray,new He(ue.break)]:za.emptyArray;n=jl.createCheck(n,t);let i=[],s=0;for(let u of t)i[s++]=xp(u,r,n);return r.addBreakTokens?[new He(ue.array,t.length),i,new He(ue.break)]:[new He(ue.array,t.length),i]},Object(t,e,r,n){let i=e!=="Object",s=i?t.keys():Object.keys(t),u=i?t.size:s.length;if(!u)return r.addBreakTokens===!0?[za.emptyMap,new He(ue.break)]:za.emptyMap;n=jl.createCheck(n,t);let c=[],p=0;for(let l of s)c[p++]=[xp(l,r,n),xp(i?t.get(l):t[l],r,n)];return aO(c,r),r.addBreakTokens?[new He(ue.map,u),c,new He(ue.break)]:[new He(ue.map,u),c]}};Ka.Map=Ka.Object;Ka.Buffer=Ka.Uint8Array;for(let t of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))Ka[`${t}Array`]=Ka.DataView;function xp(t,e={},r){let n=yk(t),i=e&&e.typeEncoders&&e.typeEncoders[n]||Ka[n];if(typeof i=="function"){let u=i(t,n,e,r);if(u!=null)return u}let s=Ka[n];if(!s)throw new Error(`${ug} unsupported type: ${n}`);return s(t,n,e,r)}function aO(t,e){e.mapSorter&&t.sort(e.mapSorter)}function uO(t,e){let r=Array.isArray(t[0])?t[0][0]:t[0],n=Array.isArray(e[0])?e[0][0]:e[0];if(r.type!==n.type)return r.type.compare(n.type);let i=r.type.major,s=ws[i].compareTokens(r,n);return s===0&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone"),s}function v6(t,e,r,n){if(Array.isArray(e))for(let i of e)v6(t,i,r,n);else r[e.type.major](t,e,n)}function cO(t,e,r){let n=xp(t,r);if(!Array.isArray(n)&&r.quickEncodeToken){let i=r.quickEncodeToken(n);if(i)return i;let s=e[n.type.major];if(s.encodedSize){let u=s.encodedSize(n,r),c=new gp(u);if(s(c,n,r),c.chunks.length!==1)throw new Error(`Unexpected error: pre-calculated length for ${n} was wrong`);return ag(c.chunks[0])}}return v6(b6,n,e,r),b6.toBytes(!0)}function Ap(t,e){return e=Object.assign({},sO,e),cO(t,ws,e)}var fO={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0},w6=class{constructor(e,r={}){this.pos=0,this.data=e,this.options=r}done(){return this.pos>=this.data.length}next(){let e=this.data[this.pos],r=Fo[e];if(r===void 0){let n=Re[e];if(!n)throw new Error(`${ut} no decoder for major type ${e>>>5} (byte 0x${e.toString(16).padStart(2,"0")})`);let i=e&31;r=n(this.data,this.pos,i,this.options)}return this.pos+=r.encodedLength,r}},zl=Symbol.for("DONE"),kp=Symbol.for("BREAK");function lO(t,e,r){let n=[];for(let i=0;i<t.value;i++){let s=Kl(e,r);if(s===kp){if(t.value===Infinity)break;throw new Error(`${ut} got unexpected break to lengthed array`)}if(s===zl)throw new Error(`${ut} found array but not enough entries (got ${i}, expected ${t.value})`);n[i]=s}return n}function hO(t,e,r){let n=r.useMaps===!0,i=n?void 0:{},s=n?new Map:void 0;for(let u=0;u<t.value;u++){let c=Kl(e,r);if(c===kp){if(t.value===Infinity)break;throw new Error(`${ut} got unexpected break to lengthed map`)}if(c===zl)throw new Error(`${ut} found map but not enough entries (got ${u} [no key], expected ${t.value})`);if(n!==!0&&typeof c!="string")throw new Error(`${ut} non-string keys not supported (got ${typeof c})`);let p=Kl(e,r);if(p===zl)throw new Error(`${ut} found map but not enough entries (got ${u} [no value], expected ${t.value})`);n?s.set(c,p):i[c]=p}return n?s:i}function Kl(t,e){if(t.done())return zl;let r=t.next();if(r.type===ue.break)return kp;if(r.type.terminal)return r.value;if(r.type===ue.array)return lO(r,t,e);if(r.type===ue.map)return hO(r,t,e);if(r.type===ue.tag){if(e.tags&&typeof e.tags[r.value]=="function"){let n=Kl(t,e);return e.tags[r.value](n)}throw new Error(`${ut} tag not supported (${r.value})`)}throw new Error("unsupported")}function Ep(t,e){if(!(t instanceof Uint8Array))throw new Error(`${ut} data to decode must be a Uint8Array`);e=Object.assign({},fO,e);let r=e.tokenizer||new w6(t,e),n=Kl(r,e);if(n===zl)throw new Error(`${ut} did not find any content to decode`);if(n===kp)throw new Error(`${ut} got unexpected break`);if(!r.done())throw new Error(`${ut} too many terminals, data makes no sense`);return n}var dO=async(t,e)=>{let r=$y(t)?await ry(t):t,n=Ap(r),i=Nd(e)?await hi.encrypt(n,e):n;return Rl(i)},pO=async(t,e)=>{let r=await tf(t),n=Nd(e)?await hi.decrypt(r,e):r;return Ep(n)};function ql(t){return Eo(kt.Private,"Apps",t.creator,t.name)}function Sp(t){let e=[];return t.app&&e.push(ql(t.app)),t.fs?.private&&(e=e.concat(t.fs?.private.map(r=>$c(Eo(kt.Private),r)))),t.fs?.public&&(e=e.concat(t.fs?.public.map(r=>$c(Eo(kt.Public),r)))),e}var xs={};pt(xs,{WNFS_PREFIX:()=>Sg,compile:()=>Pg,filesystemPrefix:()=>Rp,lookup:()=>_s,lookupAppUcan:()=>gO,lookupFilesystemUcan:()=>bO,resourceLabel:()=>Dp});var Cp=Pr(el()),uf=Pr(li());var En;(function(n){n.RSA="rsa",n.Edwards="ed25519",n.BLS="bls12-381"})(En||(En={}));var bg=new Uint8Array([237,1]),vg=new Uint8Array([234,1]),wg=new Uint8Array([0,245,2]),Pp="did:key:z";function _6(t){switch(t){case En.Edwards:return bg;case En.RSA:return wg;case En.BLS:return vg;default:return null}}var x6=t=>{if(_g(t,wg))return{keyBuffer:t.slice(wg.byteLength),type:En.RSA};if(_g(t,bg))return{keyBuffer:t.slice(bg.byteLength),type:En.Edwards};if(_g(t,vg))return{keyBuffer:t.slice(vg.byteLength),type:En.BLS};throw new Error("Unsupported key algorithm. Try using RSA.")},_g=(t,e)=>Jf.equal(e,t.slice(0,e.byteLength)),xg=t=>{switch(t){case"rsa":return En.RSA;case"ed25519":return En.Edwards;case"bls12-381":return En.BLS}throw new Error(`Key Type ${t} not supported`)};function Tp(t,e){let r=uf.base64ToArrBuf(t),n=_6(e);if(n===null)throw new Error(`Key type '${e}' not supported`);let i=uf.joinBufs(n,r);return Pp+Cp.toString(new Uint8Array(i),"base58btc")}function Ag(t){if(!t.startsWith(Pp))throw new Error("Please use a base58-encoded DID formatted `did:key:z...`");let e=t.substr(Pp.length),r=Cp.fromString(e,"base58btc"),{keyBuffer:n,type:i}=x6(r);return{publicKey:uf.arrBufToBase64(n),type:i}}async function Hl(){let t=await rn.publicReadKey(),e=await rn.getAlg();return Tp(t,xg(e))}async function Rn(){let t=await rn.publicWriteKey(),e=await rn.getAlg();return Tp(t,xg(e))}var $l=Pr(li());async function kg({charSize:t=16,data:e,did:r,signature:n}){try{let{type:i,publicKey:s}=Ag(r),u=new Uint8Array($l.base64ToArrBuf(n)),c=new Uint8Array($l.normalizeUnicodeToBuf(e,t)),p=new Uint8Array($l.base64ToArrBuf(s));switch(i){case En.Edwards:return await Vy.verify(c,u,p);case En.RSA:return await Yy.verify(c,u,p);default:return!1}}catch(i){return!1}}async function Io({addSignature:t=!0,audience:e,facts:r=[],issuer:n,lifetimeInSeconds:i=30,expiration:s,potency:u="APPEND",proof:c,resource:p}){let l=Math.floor(Date.now()/1e3),y=c&&Nn(c),w=await rn.getAlg(),B={alg:mO(w)||"UnknownAlgorithm",typ:"JWT",uav:"1.0.0"},_=s||l+i,R=l-60;if(y){let Z=y.payload;_=Math.min(Z.exp,_),R=Math.max(Z.nbf,R)}let W={aud:e,exp:_,fct:r,iss:n||await Rn(),nbf:R,prf:c||null,ptc:u,rsc:p||(y?y.payload.rsc:"*")},we=t?await k6(B,W):null;return{header:B,payload:W,signature:we}}function Nn(t){let e=t.split("."),r=JSON.parse(vo.urlDecode(e[0])),n=JSON.parse(vo.urlDecode(e[1]));return{header:r,payload:n,signature:e[2]||null}}function Do(t){let e=Fp(t.header),r=Bp(t.payload);return e+"."+r+"."+t.signature}function Fp(t){return vo.urlEncode(JSON.stringify(t))}function Bp(t){return vo.urlEncode(JSON.stringify({...t}))}function Ro(t){return t.payload.exp<=Math.floor(Date.now()/1e3)}async function A6(t){let e=Fp(t.header),r=Bp(t.payload),n=await kg({charSize:8,data:`${e}.${r}`,did:t.payload.iss,signature:vo.makeUrlUnsafe(t.signature||"")});if(!n)return n;if(!t.payload.prf)return!0;let i=Nn(t.payload.prf),s=i.payload.aud===t.payload.iss;return s&&await A6(i)}function Ip(t,e=0){let r=yO(t,e);return r.prf?Ip(r.prf,e+1):r.iss}async function k6(t,e){let r=Fp(t),n=Bp(e);return vo.makeUrlSafe(await rn.sign(`${r}.${n}`,8))}function mO(t){switch(t){case"ed25519":return"EdDSA";case"rsa":return"RS256";default:return null}}function yO(t,e){try{return JSON.parse(vo.urlDecode(t.split(".")[1]))}catch(r){throw new Error(`Invalid UCAN (${e} level${e===1?"":"s"} deep): \`${t}\``)}}var Eg={};function Zs(){return Eg}function E6(t){Eg=t}async function S6(){Eg={},await zc(Kc)}var Sg="wnfs";function Pg(t){return t.reduce((e,r)=>{let n=Nn(r);if(Ro(n))return e;let i=Dp(n.payload.rsc);return{...e,[i]:r}},{})}function Dp(t){if(typeof t!="object")return t;let e=Array.from(Object.entries(t))[0];return e[0]+":"+(e[0]===Sg?e[1].replace(/^\/+/,""):e[1])}function Rp(t){return Sg+":"}function _s(t){return Zs()[t]}async function gO(t){let e=Zs();return e["*"]||e["app:*"]||e[`app:${t}`]}async function bO(t){if(_s("*"))return _s("*");let e=t==="*",r=e?!1:Wr(t),n=e?["*"]:Yr(t),i=await ko(),s=i?Rp(i):"";return n.reduce((u,c,p)=>{if(u)return u;let l=p===0,y=n.slice(0,n.length-p),w=qr(l&&!r?Xy(...y):Eo(...y));return _s(`${s}${w}`)||null},null)}async function Gl(t){let r=(await Ba(Kc)||[]).concat(t);E6(Pg(r));let n=vO();await Pu(Kc,n)}function Cg({app:t,fs:e,raw:r},n){let i=Rp(n),s=_s("*");if(s&&!Ro(Nn(s)))return!0;if(t){let u=i+qr(ql(t)),c=_s(u);if(!c||Ro(Nn(c)))return!1}return!(e?.private&&!e.private.every(c=>{let p=`${i}private/`+qr(c),l=_s(p);return l&&!Ro(Nn(l))})||e?.public&&!e.public.every(c=>{let p=`${i}public/`+qr(c),l=_s(p);return l&&!Ro(Nn(l))})||r&&!r.every(c=>{let p=Dp(c.rsc),l=_s(p);return l&&!Ro(Nn(l))}))}function vO(){return Object.values(Zs())}var Tg={};pt(Tg,{KeyType:()=>En,didToPublicKey:()=>Ag,exchange:()=>Hl,ownRoot:()=>wO,publicKeyToDid:()=>Tp,root:()=>P6,ucan:()=>Rn,verifySignedData:()=>kg,write:()=>Rn});async function P6(t){let e=wt.endpoints.user;try{let r=await xc(`_did.${t}.${e}`);if(r!==null)return r}catch(r){}throw new Error("Could not locate user DID in DNS.")}async function wO(){let t=Zs(),e=Object.values(t)[0];if(e!==void 0)return Ip(e[1]);let r=await ko();if(!xn(r))throw new Error("No logged in user");return P6(r)}function C6(t,e,r,n){var i,s=!1,u=0;function c(){i&&clearTimeout(i)}function p(){c(),s=!0}typeof e!="boolean"&&(n=r,r=e,e=void 0);function l(){for(var y=arguments.length,w=new Array(y),B=0;B<y;B++)w[B]=arguments[B];var _=this,R=Date.now()-u;if(s)return;function W(){u=Date.now(),r.apply(_,w)}function we(){i=void 0}n&&!i&&W(),c(),n===void 0&&R>t?W():e!==!0&&(i=setTimeout(n?we:W,n===void 0?t-R:t))}return l.cancel=p,l}var I6=Pr(dp());var Fg=(t,e,r)=>({major:t,minor:e,patch:r});var T6=t=>{let{major:e,minor:r,patch:n}=t;return`${e}.${r}.${n}`},F6=Fg(0,0,0),Np=Fg(1,0,0),B6=Fg(1,0,0);var Up;(function(u){u.Raw="raw",u.Directory="dir",u.File="file",u.Metadata="metadata",u.Symlink="symlink",u.HAMTShard="hamtShard"})(Up||(Up={}));var _O=t=>({mtime:Date.now(),ctime:Date.now(),mode:t?644:755,_type:t?Up.File:Up.Directory}),qa=t=>({isFile:t,version:B6,unixMeta:_O(t)}),Lp=t=>({...t,unixMeta:{...t.unixMeta,mtime:Date.now()}});function Mp(t){let e=Math.floor(t/1e3);return{secs:e,nsecs:(t-e*1e3)*1e3}}var Op=t=>{let{name:e,cid:r,size:n}=t;return new I6.default.DAGLink(e,n,r)},D6=t=>{let{name:e="",cid:r,size:n,mtime:i,type:s}=t;return{name:e,cid:r.toString(),size:n,mtime:i,isFile:s!=="dir"}},jp=t=>{let e=t.Name,r=t.Hash.toString(),n=t.Tsize;return{name:e,cid:r,size:n}},Un=(t,e,r,n)=>({name:t,cid:e,size:n,isFile:r,mtime:Mp(Date.now())}),Bg=t=>t.reduce((e,r)=>(e[r.name]=r,e),{});var jr={};pt(jr,{getEncryptedFile:()=>AO,getFile:()=>xO,getLinks:()=>zp,getSimpleLinks:()=>Rg,putEncryptedFile:()=>Dg,putFile:()=>Ig,putLinks:()=>Nu});var xO=async t=>tf(t),AO=async(t,e)=>Bo.catAndDecode(t,e),Ig=async t=>Rl(t),Dg=async(t,e)=>Bo.add(t,e),Rg=async t=>{let e=await rf(t);return Bg(e.Links.map(jp))},zp=async t=>{let e=await sg(t),r=Bg(e.map(D6));return(await rf(t)).Links.forEach(i=>{r[i.Name]&&r[i.Name].size===0&&(r[i.Name].size=i.Tsize)}),r},Nu=async t=>{let e=Object.values(t).filter(r=>r!==void 0).map(Op);return Ul(e)};var No={};pt(No,{checkValue:()=>M6,get:()=>TO,getAndCheckValue:()=>Og,getValue:()=>L6,getValueFromLinks:()=>Mg,normalizeFileContent:()=>O6,putAndMakeLink:()=>qp,putFile:()=>CO,putTree:()=>PO});var Vr=t=>fr(t)&&t.content!==void 0;var Ng=t=>fr(t)&&xn(t.name)&&Ao(t.size)&&Ud(t.isFile),kO=t=>Ng(t)&&bi(t.cid),R6=t=>fr(t)&&Object.values(t).every(kO),EO=t=>fr(t)&&Ao(t.mtime)&&Ao(t.ctime)&&Ao(t.mode)&&xn(t._type),Uu=t=>fr(t)&&EO(t.unixMeta)&&Ud(t.isFile)&&SO(t.version),Kp=t=>fr(t)&&Object.values(t).every(e=>fr(e)&&bi(e.cid)&&bi(e.userland)&&bi(e.metadata)&&Kp(e.subSkeleton)),Ug=t=>fr(t)&&Kp(t.skeleton)&&Uu(t.metadata)&&t.metadata.isFile===!1,N6=t=>Ug(t)&&bi(t.userland),Lg=t=>fr(t)&&Uu(t.metadata)&&t.metadata.isFile===!0,U6=t=>Lg(t)&&bi(t.userland),bi=t=>xn(t);var SO=t=>{if(!fr(t))return!1;let{major:e,minor:r,patch:n}=t;return Ao(e)&&Ao(r)&&Ao(n)};var PO=async(t,e,r,n)=>{let i=await Nu(t),s=Un("userland",i.cid,!0,i.size),[u,c]=await Promise.all([qp("metadata",r),qp("skeleton",e)]),p=n!=null?Un("previous",n,!1,await Ru(n)):void 0,l={metadata:u,skeleton:c,userland:s,previous:p},{cid:y,size:w}=await Nu(l);return{cid:y,userland:s.cid,metadata:u.cid,size:w,isFile:!1,skeleton:e}},CO=async(t,e,r)=>{let n=await Ig(await O6(t)),i=Un("userland",n.cid,!0,n.size),s=await qp("metadata",e),u=r!=null?Un("previous",r,!1,await Ru(r)):void 0,c={metadata:s,userland:i,previous:u},{cid:p,size:l}=await Nu(c);return{cid:p,userland:i.cid,metadata:s.cid,size:l,isFile:!0,skeleton:{}}},qp=async(t,e)=>{let{cid:r,size:n}=await Bo.add(e,null);return Un(t,r,!0,n)},TO=async t=>{let e=await zp(t),r=await Og(e,"metadata",Uu),n=r.isFile?void 0:await Og(e,"skeleton",Kp),i=e.userland?.cid||null;if(!bi(i))throw new Error("Could not find userland");let s=e.previous?.cid||void 0;return{userland:i,metadata:r,previous:s,skeleton:n}},L6=async(t,e)=>{if(xn(t)){let r=await zp(t);return Mg(r,e)}return Mg(t,e)},Mg=async(t,e)=>{let r=t[e]?.cid;return r?Bo.catAndDecode(r,null):null},Og=async(t,e,r,n=!1)=>{let i=await L6(t,e);return M6(i,e,r,n)},M6=(t,e,r,n=!1)=>{if(!Hy(t)){if(n)return t;throw new Error(`Could not find header value: ${e}`)}if(r(t))return t;throw new Error(`Improperly formatted header value: ${e}`)};async function O6(t){if(t instanceof Uint8Array)return t;if(typeof Blob!="undefined"&&t instanceof Blob)return await tl.toUint8Array(t);let e=new TextEncoder;if(typeof t=="string")return e.encode(t);let r=JSON.stringify(t);return e.encode(r)}var yn={};pt(yn,{addNode:()=>d9,findLatestRevision:()=>hS,getByCID:()=>a0,getByLatestName:()=>fS,getByName:()=>p9,getLatestByBareNameFilter:()=>m9,getLatestByCID:()=>lS,getRevision:()=>cb,readNode:()=>cS});var j6=t=>Wl(t)||Qs(t),Qs=t=>fr(t)&&Uu(t.metadata)&&t.metadata.isFile&&xn(t.key)&&bi(t.content),Wl=t=>fr(t)&&Uu(t.metadata)&&t.metadata.isFile===!1&&Ao(t.revision)&&BO(t.links)&&z6(t.skeleton),FO=t=>Ng(t)&&xn(t.key)&&xn(t.pointer),BO=t=>fr(t)&&Object.values(t).every(FO),z6=t=>fr(t)&&Object.values(t).every(IO),IO=t=>fr(t)&&bi(t.cid)&&xn(t.key)&&z6(t.subSkeleton);var sS=Pr(oS());var o9=1024,s9=16,a9=320,ub=async t=>{let e="0".repeat(o9/4);return As(e,t)},As=async(t,e)=>{let r=uS(t),n=await ps.sha256Str(e);return r.add(n),await f9(r)},ia=async(t,e,r)=>await As(t,`${r}${e}`),oa=async t=>{let e=await aS(uS(t));return u9(e)},u9=async t=>{let e=new Uint8Array(t.toBytes()),r=await ps.sha256(e);return Hc(r)};var aS=async(t,e=a9)=>{if(e>t.toBytes().byteLength*8)throw new Error("threshold is bigger than filter size");if(c9(t)>=e)return t;let n=t.toBytes(),i=n;do{let s=await ps.sha256(i);t.add(Hc(s)),i=s}while(l9(n,t.toBytes()));return aS(t,e)},c9=t=>{let e=new Uint32Array(t.toBytes()),r=0;for(let n=0;n<e.length;n++)r+=h9(e[n]);return r},f9=t=>Hc(t.toBytes()),uS=t=>{let e=ux(t);return sS.BloomFilter.fromBytes(e,s9)},l9=(t,e)=>{if(t.byteLength!==e.byteLength)return!1;let r=new Uint8Array(t),n=new Uint8Array(e);for(let i=0;i<r.length;i++)if(r[i]!==n[i])return!1;return!0},h9=t=>{let e=t-(t>>1&1431655765),r=(e&858993459)+(e>>2&858993459);return(r+(r>>4)&252645135)*16843009>>24};var d9=async(t,e,r)=>{let{cid:n,size:i}=await Dg(e,r),s=await ia(e.bareNameFilter,r,e.revision),u=await oa(s);if(await t.add(u,n),Qs(e)){let l=await As(e.bareNameFilter,e.key),y=await ia(l,e.key,e.revision),w=await oa(y);await t.add(w,e.content)}let[c,p]=Qs(e)?[{},!0]:[e.skeleton,!1];return{cid:n,name:u,key:r,size:i,isFile:p,skeleton:c}},cS=async(t,e)=>{let r=await Bo.catAndDecode(t,e);if(!j6(r))throw new Error(`Could not parse a valid filesystem object, ${t}`);return r},p9=async(t,e,r)=>{let n=await t.get(e);return n===null?null:a0(n,r)},a0=async(t,e)=>await cS(t,e),fS=async(t,e,r)=>{let n=await t.get(e);return n===null?null:lS(t,n,r)},lS=async(t,e,r)=>{let n=await a0(e,r),i=await hS(t,n.bareNameFilter,r,n.revision);return i?.cid?await a0(i?.cid,r):n},m9=async(t,e,r)=>{let n=await ia(e,r,1),i=await oa(n);return fS(t,i,r)},hS=async(t,e,r,n)=>{let i=n,s=null,u=0,c=null;for(;s===null;){let p=n+Math.pow(2,u),l=await cb(t,e,r,p);l!==null?(c=l,i=p):s=p,u++}for(;i<s-1;){let p=Math.floor((s+i)/2),l=await cb(t,e,r,p);l!==null?(c=l,i=p):s=p}return c},cb=async(t,e,r,n)=>{let i=await ia(e,r,n),s=await oa(i),u=await t.get(s);return u?{cid:u,name:s,number:n}:null};var dS=class{constructor(e){this.content=e}async put(){let{cid:e}=await this.putDetailed();return e}async updateContent(e){return this.content=e,this}},gf=dS;var fh=class extends gf{static create(e){return new fh(e)}static async fromCID(e){let r=await jr.getFile(e);return new fh(r)}static instanceOf(e){return fr(e)&&e.content!==void 0}async put(){let{cid:e}=await this.putDetailed();return e}async putDetailed(){return jr.putFile(await No.normalizeFileContent(this.content))}},lh=fh;var pS=class{constructor(e){this.version=e}async put(){let{cid:e}=await this.putDetailed();return e}async ls(e){let r=await this.get(e);if(r===null)throw new Error("Path does not exist");if(Vr(r))throw new Error("Can not `ls` a file");return r.getLinks()}async cat(e){let r=await this.get(e);if(r===null)throw new Error("Path does not exist");if(!Vr(r))throw new Error("Can not `cat` a directory");return r.content}async mkdir(e){return this.mkdirRecurse(e,()=>this.put())}async mkdirRecurse(e,r){let[n,...i]=e;if(!n)throw new Error("Invalid path: empty");let s=await this.getOrCreateDirectChild(n,r);if(Vr(s))throw new Error(`There is a file along the given path: ${Da(e)}`);return i.length&&await s.mkdirRecurse(i,()=>this.updateDirectChild(s,n,r)),this}async add(e,r){return await this.addRecurse(e,r,()=>this.put()),this}async addRecurse(e,r,n){let[i,...s]=e;if(!i)throw new Error("Invalid path: empty");if(s.length===0)await this.createOrUpdateChildFile(r,i,n);else{let u=await this.getOrCreateDirectChild(i,n);if(Vr(u))throw new Error(`There is a file along the given path: ${Da(e)}`);await u.addRecurse(s,r,async()=>{await this.updateDirectChild(u,i,n)})}return this}async rm(e){return await this.rmRecurse(e,()=>this.put()),this}async rmRecurse(e,r){let[n,...i]=e;if(!n)throw new Error("Invalid path: empty");if(i.length===0)this.removeDirectChild(n),r&&await r();else{let s=await this.getDirectChild(n);if(s===null)throw new Error("Invalid path: does not exist");if(Vr(s))throw new Error(`There is a file along the given path: ${Da(e)}`);await s.rmRecurse(i,async()=>{await this.updateDirectChild(s,n,r)})}return this}async mv(e,r){let n=await this.get(e);if(n===null)throw new Error(`Path does not exist: ${Da(e)}`);if(r.length<1)throw new Error(`Path does not exist: ${Da(r)}`);let i=r.slice(0,-1),s=await this.get(i);if(!s)await this.mkdir(i),s=await this.get(i);else if(Vr(s))throw new Error(`Can not \`mv\` to a file: ${Da(i)}`);return await this.rm(e),await[...r].reverse().reduce((u,c,p)=>u.then(async l=>{let y=r.slice(0,-(p+1)),w=y.length?await this.get(y):this;if(w&&!Vr(w))return await w.updateDirectChild(l,c,null),w;throw new Error("Failed to update tree while moving node")}),Promise.resolve(n)),this}async exists(e){return await this.get(e)!==null}read(e){return this.get(e)}write(e,r){return this.add(e,r)}async getOrCreateDirectChild(e,r){let n=await this.getDirectChild(e);return n!==null?n:this.createChildTree(e,r)}},bf=pS;var Ga=class extends bf{constructor(e){super(F6);this.links=e,this.children={}}static async empty(){return new Ga({})}static async fromCID(e){let r=await jr.getLinks(e);return new Ga(r)}static fromLinks(e){return new Ga(e)}async createChildTree(e,r){let n=await Ga.empty(),i=this.children[e];if(i){if(lh.instanceOf(i))throw new Error(`There is a file at the given path: ${e}`);return i}return await this.updateDirectChild(n,e,r),n}async createOrUpdateChildFile(e,r,n){let i=await this.getDirectChild(r),s;if(i===null)s=await lh.create(e);else if(lh.instanceOf(i))s=await i.updateContent(e);else throw new Error(`There is already a directory with that name: ${r}`);return await this.updateDirectChild(s,r,n),s}async putDetailed(){return jr.putLinks(this.links)}async putAndUpdateLink(e,r,n){let i=await e.putDetailed();return this.updateLink(r,i),n&&await n(),this}async updateDirectChild(e,r,n){return this.children[r]=e,this.putAndUpdateLink(e,r,n)}removeDirectChild(e){return delete this.links[e],this.children[e]&&delete this.children[e],this}async getDirectChild(e){if(this.children[e])return this.children[e];let r=this.links[e]||null;if(r===null)return null;let n=r.isFile?await lh.fromCID(r.cid):await Ga.fromCID(r.cid);return this.children[e]?this.children[e]:(this.children[e]=n,n)}async get(e){let[r,...n]=e;if(!r)return this;let i=await this.getDirectChild(r);if(n.length){if(i===null||Vr(i))return null}else return i;return i.get(n)}updateLink(e,r){let{cid:n,size:i,isFile:s}=r;return this.links[e]=Un(e,n,s,i),this}getLinks(){return this.links}},u0=Ga;var y9={"0":!0,"1":!0,"2":!0,"3":!0,"4":!0,"5":!0,"6":!0,"7":!0,"8":!0,"9":!0,a:!0,b:!0,c:!0,d:!0,e:!0,f:!0},g9=t=>y9[t]===!0,to=class{constructor(e){this.links=e,this.children={}}static create(){return new to({})}static async fromCID(e){let r=await Rg(e);return new to(r)}async putDetailed(){return Nu(this.links)}async put(){let{cid:e}=await this.putDetailed();return e}async add(e,r){if(!g9(e[0]))throw new Error("Not a valid name, must be hexadecimal");let n=this.nextTreeOrSiblingName(e);if(e!==n)if(n===null)this.links[e]=Un(e,r,!0,0);else if(n.length===1)await(await this.getDirectChild(n)).add(e.slice(1),r),await this.putAndUpdateChildLink(n);else{let i=this.addEmptyChild(e[0]),s=this.links[n].cid;this.removeChild(n),await Promise.all([i.add(e.slice(1),r),i.add(n.slice(1),s)]),await this.putAndUpdateChildLink(e[0])}}async putAndUpdateChildLink(e){let r=this.links[e]?.cid,{cid:n,size:i}=await this.children[e].putDetailed(),s=this.links[e]?.cid;if(r!=s)return await this.putAndUpdateChildLink(e);this.links[e]=Un(e,n,!1,i)}addEmptyChild(e){let r=to.create();return this.children[e]=r,r}async get(e){let r=this.nextTreeName(e);return r===null?null:r.length>1?this.links[r].cid:(await this.getDirectChild(r)).get(e.slice(1))}async exists(e){return await this.get(e)!==null}async members(){return(await Promise.all(Object.values(this.links).map(async({name:r,cid:n})=>r.length>1?[{name:r,cid:n}]:(await(await to.fromCID(n)).members()).map(u=>({...u,name:r+u.name}))))).reduce((r,n)=>r.concat(n))}async getDirectChild(e){if(this.children[e])return this.children[e];let r=await to.fromCID(this.links[e].cid);return this.children[e]?this.children[e]:(this.children[e]=r,r)}removeChild(e){delete this.links[e],this.children[e]&&delete this.children[e]}directChildExists(e){return this.links[e]!==void 0||this.children[e]!==void 0}nextTreeName(e){return this.directChildExists(e[0])?e[0]:this.directChildExists(e)?e:null}nextTreeOrSiblingName(e){let r=e[0];return this.directChildExists(r)?r:Object.keys(this.links).find(n=>r===n[0])||null}};var Si=class{constructor(e){this.node=e}back(e=-1){let r=Math.abs(Math.min(e,-1));return Array.from({length:r},(n,i)=>i).reduce(n=>n.then(i=>i?Si._getPreviousVersion(i):null),Promise.resolve(this.node))}async prior(e){return Si._prior(this.node,e)}async list(e=5){let{acc:r}=await Array.from({length:e},(n,i)=>i).reduce((n,i)=>n.then(({node:s,acc:u})=>s?Si._getPreviousVersion(s).then(c=>({node:c,acc:[...u,{delta:-(i+1),timestamp:s.header.metadata.unixMeta.mtime}]})):Promise.resolve({node:null,acc:u})),Si._getPreviousVersion(this.node).then(n=>({node:n,acc:[]})));return r}static async _getPreviousVersion(e){return e.header.previous?e.constructor.fromCID(e.header.previous):Promise.resolve(null)}static async _prior(e,r){if(e.header.metadata.unixMeta.mtime<r)return e;let n=await Si._getPreviousVersion(e);return n?Si._prior(n,r):null}};var vf=class extends gf{constructor({content:e,header:r,cid:n}){super(e);this.cid=n,this.header=r,this.history=new Si(this)}static instanceOf(e){return fr(e)&&e.content!==void 0&&Lg(e.header)}static async create(e){return new vf({content:e,header:{metadata:qa(!0)},cid:null})}static async fromCID(e){let r=await No.get(e);return vf.fromInfo(r,e)}static async fromInfo(e,r){let{userland:n,metadata:i,previous:s}=e,u=await jr.getFile(n);return new vf({content:u,header:{metadata:i,previous:s},cid:r})}async putDetailed(){let e=await No.putFile(this.content,Lp(this.header.metadata),this.cid);return this.cid=e.cid,e}},wf=vf;var fb=(t,e)=>{let r=e[0],n=t[r]||null,i=b9(e);return n===null||i===null?n:fb(n.subSkeleton,i)};function b9(t){let e=t.slice(1);return e.length<1?null:e}var ks=class extends bf{constructor({links:e,header:r,cid:n}){super(r.metadata.version);this.children={},this.cid=n,this.links=e,this.header=r,this.history=new Si(this)}static async empty(){return new ks({links:{},header:{metadata:qa(!1),skeleton:{}},cid:null})}static async fromCID(e){let r=await No.get(e);if(!N6(r))throw new Error(`Could not parse a valid public tree at: ${e}`);return ks.fromInfo(r,e)}static async fromInfo(e,r){let{userland:n,metadata:i,previous:s,skeleton:u}=e,c=await jr.getLinks(n);return new ks({links:c,header:{metadata:i,previous:s,skeleton:u},cid:r})}static instanceOf(e){return R6(e.links)&&Ug(e.header)}async createChildTree(e,r){let n=await ks.empty(),i=this.children[e];if(i){if(wf.instanceOf(i))throw new Error(`There is a file at the given path: ${e}`);if(ks.instanceOf(i))return i;throw new Error(`Not a public tree at the given path: ${e}`)}return await this.updateDirectChild(n,e,r),n}async createOrUpdateChildFile(e,r,n){let i=await this.getDirectChild(r),s;if(i===null)s=await wf.create(e);else if(wf.instanceOf(i))s=await i.updateContent(e);else throw new Error(`There is already a directory with that name: ${r}`);return await this.updateDirectChild(s,r,n),s}async putDetailed(){let e=await No.putTree(this.links,this.header.skeleton,this.header.metadata,this.cid);return this.header.previous=this.cid||void 0,this.cid=e.cid,e}async updateDirectChild(e,r,n){this.children[r]=e;let i=await e.putDetailed();return this.updateLink(r,i),n&&await n(),this}removeDirectChild(e){return delete this.links[e],delete this.header.skeleton[e],this.children[e]&&delete this.children[e],this}async getDirectChild(e){if(this.children[e])return this.children[e];let r=this.header.skeleton[e]||null;if(r===null)return null;let n=r.isFile?await wf.fromCID(r.cid):await ks.fromCID(r.cid);return this.children[e]?this.children[e]:(this.children[e]=n,n)}async get(e){if(e.length<1)return this;let r=fb(this.header.skeleton,e);if(r===null)return null;let n=await No.get(r.cid);return U6(n)?wf.fromInfo(n,r.cid):ks.fromInfo(n,r.cid)}getLinks(){return Object.values(this.links).reduce((e,r)=>({...e,[r.name]:{...r,isFile:this.header.skeleton[r.name]?.isFile}}),{})}updateLink(e,r){let{cid:n,metadata:i,userland:s,size:u,isFile:c,skeleton:p}=r;return this.links[e]=Un(e,n,!1,u),this.header.skeleton[e]={cid:n,metadata:i,userland:s,subSkeleton:p,isFile:c},this.header.metadata.unixMeta.mtime=Date.now(),this}},_f=ks;var xf=class{constructor(e){this.node=e}async back(e=-1){let r=Math.min(e,-1),n=this.node.header?.revision;return n&&await this._getRevision(n+r)||null}async prior(e){return this.node.header.metadata.unixMeta.mtime<e?this.node:this._prior(this.node.header.revision-1,e)}async list(e=5){let r=this.node.header.revision;return Promise.all(Array.from({length:e},(n,i)=>{let s=i+1;return this._getRevisionInfoFromNumber(r-s).then(u=>({revisionInfo:u,delta:-s}))})).then(n=>n.filter(i=>!!i.revisionInfo)).then(n=>n.map(i=>{let s=i.revisionInfo.metadata.unixMeta.mtime;return{delta:i.delta,timestamp:s}}))}async _getRevision(e){let r=await this._getRevisionInfoFromNumber(e);return r&&await this.node.constructor.fromInfo(this.node.mmpt,this.node.key,r)}_getRevisionInfo(e){return yn.readNode(e.cid,this.node.key)}async _getRevisionInfoFromNumber(e){let{key:r,mmpt:n}=this.node,{bareNameFilter:i}=this.node.header,s=await yn.getRevision(n,i,r,e);return s&&this._getRevisionInfo(s)}async _prior(e,r){let n=await this._getRevisionInfoFromNumber(e);return n?.revision?n.metadata.unixMeta.mtime<r?this._getRevision(n.revision):this._prior(n.revision-1,r):null}};var Wu=class extends gf{constructor({content:e,mmpt:r,key:n,header:i}){super(e);this.header=i,this.history=new xf(this),this.key=n,this.mmpt=r}static instanceOf(e){return fr(e)&&e.content!==void 0&&e.mmpt!==void 0&&Qs(e.header)}static async create(e,r,n,i){let s=await As(n,i),u=await hi.genKeyStr(),c=await jr.putEncryptedFile(r,u);return new Wu({content:r,mmpt:e,key:i,header:{bareNameFilter:s,key:u,revision:1,metadata:qa(!0),content:c.cid}})}static async fromBareNameFilter(e,r,n){let i=await yn.getLatestByBareNameFilter(e,r,n);return this.fromInfo(e,n,i)}static async fromLatestName(e,r,n){let i=await yn.getByLatestName(e,r,n);return Wu.fromInfo(e,n,i)}static async fromName(e,r,n){let i=await yn.getByName(e,r,n);return Wu.fromInfo(e,n,i)}static async fromInfo(e,r,n){if(!Qs(n))throw new Error("Could not parse a valid private file using the given key");let i=await jr.getEncryptedFile(n.content,n.key);return new Wu({content:i,key:r,mmpt:e,header:n})}async getName(){let{bareNameFilter:e,revision:r}=this.header,n=await ia(e,this.key,r);return oa(n)}async updateParentNameFilter(e){return this.header.bareNameFilter=await As(e,this.header.key),this}async updateContent(e){let r=await jr.putEncryptedFile(e,this.header.key);return this.content=e,this.header={...this.header,revision:this.header.revision+1,content:r.cid},this}async putDetailed(){return yn.addNode(this.mmpt,{...this.header,metadata:Lp(this.header.metadata)},this.key)}},Oo=Wu;var Qn=class extends bf{constructor({mmpt:e,key:r,header:n}){super(Np);this.children={},this.header=n,this.history=new xf(this),this.key=r,this.mmpt=e}static instanceOf(e){return fr(e)&&e.mmpt!==void 0&&Wl(e.header)}static async create(e,r,n){let i=n?await As(n,r):await ub(r);return new Qn({mmpt:e,key:r,header:{metadata:qa(!1),bareNameFilter:i,revision:1,links:{},skeleton:{}}})}static async fromBaseKey(e,r){let n=await ub(r);return this.fromBareNameFilter(e,n,r)}static async fromBareNameFilter(e,r,n){let i=await yn.getLatestByBareNameFilter(e,r,n);return this.fromInfo(e,n,i)}static async fromLatestName(e,r,n){let i=await yn.getByLatestName(e,r,n);return this.fromInfo(e,n,i)}static async fromName(e,r,n){let i=await yn.getByName(e,r,n);return this.fromInfo(e,n,i)}static async fromInfo(e,r,n){if(!Wl(n))throw new Error("Could not parse a valid private tree using the given key");return new Qn({mmpt:e,key:r,header:n})}async createChildTree(e,r){let n=await hi.genKeyStr(),i=await Qn.create(this.mmpt,n,this.header.bareNameFilter),s=this.children[e];if(s){if(Oo.instanceOf(s))throw new Error(`There is a file at the given path: ${e}`);return s}return await this.updateDirectChild(i,e,r),i}async createOrUpdateChildFile(e,r,n){let i=await this.getDirectChild(r),s;if(i===null){let u=await hi.genKeyStr();s=await Oo.create(this.mmpt,e,this.header.bareNameFilter,u)}else if(Oo.instanceOf(i))s=await i.updateContent(e);else throw new Error(`There is already a directory with that name: ${r}`);return await this.updateDirectChild(s,r,n),s}async putDetailed(){let e=Object.assign({},this.header);return yn.addNode(this.mmpt,e,this.key)}async updateDirectChild(e,r,n){await e.updateParentNameFilter(this.header.bareNameFilter),this.children[r]=e;let i=await e.putDetailed();return this.updateLink(r,i),n&&await n(),this}removeDirectChild(e){return this.header={...this.header,revision:this.header.revision+1,links:bl(this.header.links,e),skeleton:bl(this.header.skeleton,e)},this.children[e]&&delete this.children[e],this}async getDirectChild(e){if(this.children[e])return this.children[e];let r=this.header.links[e];if(r===void 0)return null;let n=r.isFile?await Oo.fromLatestName(this.mmpt,r.pointer,r.key):await Qn.fromLatestName(this.mmpt,r.pointer,r.key);return this.children[e]?this.children[e]:(this.children[e]=n,n)}async getName(){let{bareNameFilter:e,revision:r}=this.header,n=await ia(e,this.key,r);return oa(n)}async updateParentNameFilter(e){return this.header.bareNameFilter=await As(e,this.key),this}async get(e){if(e.length===0)return this;let[r,...n]=e,i=this.header.skeleton[r];if(i===void 0)return null;let s=await this.getRecurse(i,n);return s===null?null:Qs(s.node)?Oo.fromInfo(this.mmpt,s.key,s.node):Qn.fromInfo(this.mmpt,s.key,s.node)}async getRecurse(e,r){let[n,...i]=r;if(n===void 0)return{key:e.key,node:await yn.getLatestByCID(this.mmpt,e.cid,e.key)};let s=e.subSkeleton[n];if(s!==void 0)return this.getRecurse(s,i);let u=await yn.getLatestByCID(this.mmpt,e.cid,e.key);if(!Wl(u))return null;let c=u.skeleton[n];return c===void 0?null:this.getRecurse(c,i)}getLinks(){return Gy(this.header.links,e=>{let{key:r,...n}=e;return{...n}})}updateLink(e,r){let n=Date.now(),{cid:i,size:s,key:u,isFile:c,skeleton:p}=r,l=r.name;return this.header.links[e]={name:e,key:u,pointer:l,size:s,isFile:c,mtime:Mp(n)},this.header.skeleton[e]={cid:i,key:u,subSkeleton:p},this.header.revision=this.header.revision+1,this.header.metadata.unixMeta.mtime=n,this}};var Af=class{constructor({links:e,mmpt:r,privateLog:n,publicTree:i,prettyTree:s,privateNodes:u}){this.links=e,this.mmpt=r,this.privateLog=n,this.publicTree=i,this.prettyTree=s,this.privateNodes=u}static async empty({rootKey:e}){let r=await _f.empty(),n=await u0.empty(),i=to.create(),s=qr(Eo(kt.Private)),u=await Qn.create(i,e,null);await u.put();let c=new Af({links:{},mmpt:i,privateLog:[],publicTree:r,prettyTree:n,privateNodes:{[s]:u}});return await Af.storeRootKey(e),c.setVersion(Np),await Promise.all([c.updatePuttable(kt.Public,r),c.updatePuttable(kt.Pretty,n),c.updatePuttable(kt.Private,i)]),c}static async fromCID({cid:e,permissions:r}){let n=await jr.getLinks(e),i=r?await _9(r):[],s=n[kt.Public]?.cid||null,u=s===null?await _f.empty():await _f.fromCID(s),c=n[kt.Pretty]?await u0.fromCID(n[kt.Pretty].cid):await u0.empty(),p=n[kt.Private]?.cid||null,l,y;p===null?(l=await to.create(),y={}):(l=await to.fromCID(p),y=await w9(i,l));let w=n[kt.PrivateLog]?.cid,B=w?await rf(w).then(R=>R.Links.map(jp)).then(R=>R.sort((W,we)=>parseInt(W.name,10)-parseInt(we.name,10))):[];return new Af({links:n,mmpt:l,privateLog:B,publicTree:u,prettyTree:c,privateNodes:y})}async put(){let{cid:e}=await this.putDetailed();return e}async putDetailed(){return jr.putLinks(this.links)}updateLink(e,r){let{cid:n,size:i,isFile:s}=r;return this.links[e]=Un(e,n,s,i),this}async updatePuttable(e,r){return this.updateLink(e,await r.putDetailed())}static async storeRootKey(e){let r=Eo(kt.Private),n=await Gc({path:r});await rn.importSymmKey(e,n)}findPrivateNode(e){return lb(this.privateNodes,e)}async addPrivateLogEntry(e){let r=[...this.privateLog],n=Math.max(0,r.length-1),i=r[n]?.cid?(await Nl(r[n].cid)).split(","):[];i.length+1>Af.LOG_CHUNK_SIZE&&(n=n+1,i=[]);let u=await ps.sha256Str(e),c=[...i,u],p=await jr.putFile(c.join(","));r[n]={name:n.toString(),cid:p.cid,size:p.size};let l=await Ul(r.map(Op));this.updateLink(kt.PrivateLog,{cid:l.cid,isFile:!1,size:await Ru(l.cid)}),this.privateLog=r}async setVersion(e){let r=await jr.putFile(T6(e));return this.updateLink(kt.Version,r)}},Wa=Af;Wa.LOG_CHUNK_SIZE=1020;async function v9(t,e){let r=await Od({path:e}),n=await Ba(r);if(n)return n;let[i,s]=lb(t,e);if(!s)return null;let c=Yr(e).slice(Yr(i).length);return Oo.instanceOf(s)?c.length===0?s.header.bareNameFilter:null:(s.exists(c)||(Wr(e)?await s.mkdir(c):await s.add(c,"")),s.get(c).then(p=>p?p.header.bareNameFilter:null))}function lb(t,e){let r=t[qr(e)];if(r)return[e,r];let n=r1(e);return n?lb(t,n):[e,null]}function w9(t,e){return x9(t).reduce((r,{path:n,key:i})=>r.then(async s=>{let u,c=Yr(n);if(c.length===1&&c[0]===kt.Private)u=await Qn.fromBaseKey(e,i);else{let l=await v9(s,n);if(!l)throw new Error(`Was trying to load the PrivateTree for the path \`${n}\`, but couldn't find the bare name filter for it.`);Wr(n)?u=await Qn.fromBareNameFilter(e,l,i):u=await Oo.fromBareNameFilter(e,l,i)}let p=qr(n);return{...s,[p]:u}}),Promise.resolve({}))}async function _9(t){return Sp(t).reduce(async(e,r)=>{if(wl(kt.Public,r))return e;let n=await Gc({path:r}),i=await rn.exportSymmKey(n),s={path:r,key:i};return e.then(u=>[...u,s])},Promise.resolve([]))}function x9(t){return t.sort((e,r)=>qr(e.path).localeCompare(qr(r.path)))}var A9="webnative.wnfs_cid_log";function hb(){return A9+"-"+wt.endpoints.lobby}async function db(){return await Ba(hb())||[]}async function mS(t){let e=await db();return[e.indexOf(t),e.length]}async function c0(){return(await db())[0]}async function f0(t){let e=await db(),r=[t,...e].slice(0,1e3);await Pu(hb(),r)}async function yS(){await zc(hb())}var gb={};pt(gb,{lookup:()=>mb,lookupOnFisson:()=>bS,update:()=>yb});function ei(...t){wt.debug&&console.log(...t)}var pb={};pt(pb,{build:()=>Io,decode:()=>Nn,dictionary:()=>xs,encode:()=>Do,encodeHeader:()=>Fp,encodePayload:()=>Bp,isExpired:()=>Ro,isValid:()=>A6,rootIssuer:()=>Ip,sign:()=>k6});var gS="Qmc5m94Gu7z62RC8waSKkZUrCCBJPyHbkpmGzEePxy2oXJ";async function mb(t){let e=await bS(t);if(e===gS)return null;if(e!==null)return e;try{let r=await Tm(t+".files."+wt.endpoints.user);return r===gS?null:r}catch(r){throw console.error(r),new Error("Could not locate user root in dns")}}async function bS(t){try{let r=await(await fetch(`${wt.endpoints.api}/user/data/${t}`,{cache:"reload"})).json();if(!bi(r))throw new Error("Did not receive a CID");return r}catch(e){return ei("Could not locate user root on Fission server: ",e.toString()),null}}async function yb(t,e){let r=wt.endpoints.api;return ei("\u{1F30A} Updating your DNSLink:",t),await vS(`${r}/user/data/${t}`,{headers:async()=>({authorization:`Bearer ${Do(await Io({audience:await fi.did(),issuer:await Rn(),potency:"APPEND",proof:e,resource:Nn(e).payload.rsc}))}`}),retries:100,retryDelay:5e3,retryOn:[502,503,504]},{method:"PATCH"}).then(n=>(n.status<300?ei("\u{1FAB4} DNSLink updated:",t):ei("\u{1F525} Failed to update DNSLink for:",t),{success:n.status<300})).catch(n=>(ei("\u{1F525} Failed to update DNSLink for:",t),console.error(n),{success:!1}))}async function vS(t,e,r,n=0){let i=await e.headers(),s=await fetch(t,{...r,headers:{...r.headers,...i}});if(e.retryOn.includes(s.status)){if(n<e.retries)return await new Promise((u,c)=>setTimeout(()=>vS(t,e,r,n+1).then(u,c),e.retryDelay));throw new Error("Too many retries for fetch")}return s}var bb={};pt(bb,{NoPermissionError:()=>hh});var hh=class extends Error{constructor(e){super(e);this.name="NoPermissionError"}};var dh=class{constructor({root:e,permissions:r,localOnly:n}){this.localOnly=n||!1,this.proofs={},this.publishHooks=[],this.root=e,this._publishWhenOnline=[],this._publishing=!1,this._whenOnline=this._whenOnline.bind(this),this._beforeLeaving=this._beforeLeaving.bind(this);let i=globalThis;i.filesystems=i.filesystems||[],i.filesystems.push(this),r&&r.app&&r.app.creator&&r.app.name&&(this.appPath=k9(r));let s=async c=>{await f0(c),ei("\u{1F4D3} Adding to the CID ledger:",c)},u=C6(3e3,!1,(c,p)=>{if(globalThis.navigator.onLine)return this._publishing=[c,!0],yb(c,p).then(()=>{this._publishing&&this._publishing[0]===c&&(this._publishing=!1)});this._publishWhenOnline.push([c,p])},!1);this.publishHooks.push(s),this.publishHooks.push(u),this.localOnly||(globalThis.addEventListener("online",this._whenOnline),globalThis.addEventListener("beforeunload",this._beforeLeaving))}static async empty(e={}){let{permissions:r,localOnly:n}=e,i=e.rootKey||await hi.genKeyStr(),s=await Wa.empty({rootKey:i});return new dh({root:s,permissions:r,localOnly:n})}static async fromCID(e,r={}){let{permissions:n,localOnly:i}=r,s=await Wa.fromCID({cid:e,permissions:n});return new dh({root:s,permissions:n,localOnly:i})}deactivate(){if(this.localOnly)return;let e=globalThis;e.filesystems=e.filesystems.filter(r=>r!==this),e.removeEventListener("online",this._whenOnline),e.removeEventListener("beforeunload",this._beforeLeaving)}async ls(e){if(Ia(e))throw new Error("`ls` only accepts directory paths");return this.runOnNode(e,!1,(r,n)=>{if(Vr(r))throw new Error("Tried to `ls` a file");return r.ls(n)})}async mkdir(e,r={}){if(Ia(e))throw new Error("`mkdir` only accepts directory paths");return await this.runOnNode(e,!0,(n,i)=>{if(Vr(n))throw new Error("Tried to `mkdir` a file");return n.mkdir(i)}),r.publish&&await this.publish(),this}async add(e,r,n={}){if(Wr(e))throw new Error("`add` only accepts file paths");return await this.runOnNode(e,!0,async(i,s)=>Vr(i)?i.updateContent(r):i.add(s,r)),n.publish&&await this.publish(),this}async cat(e){if(Wr(e))throw new Error("`cat` only accepts file paths");return this.runOnNode(e,!1,async(r,n)=>Vr(r)?r.content:r.cat(n))}async read(e){if(Wr(e))throw new Error("`read` only accepts file paths");return this.cat(e)}async write(e,r,n={}){if(Wr(e))throw new Error("`write` only accepts file paths");return this.add(e,r,n)}async exists(e){return this.runOnNode(e,!1,async(r,n)=>Vr(r)?!0:r.exists(n))}async get(e){return this.runOnNode(e,!1,async(r,n)=>Vr(r)?r:r.get(n))}async mv(e,r){let n=Qy(e,r);if(!e1(e,r)){let i=Md(e),s=Md(r);throw new Error(`Can't move to a different kind of path, from is a ${i} and to is a ${s}`)}if(!n)throw new Error("`mv` is only supported on the same tree for now");if(await this.exists(r))throw new Error("Destination already exists");return await this.runOnNode(e,!0,(i,s)=>{if(Vr(i))throw new Error("Tried to `mv` within a file");let[u,...c]=Yr(r);return i.mv(s,c)}),this}async rm(e){return await this.runOnNode(e,!0,(r,n)=>{if(Vr(r))throw new Error("Cannot `rm` a file you've asked permission for");return r.rm(n)}),this}async publish(){let e=Array.from(Object.entries(this.proofs));this.proofs={};let r=await this.root.put();return e.forEach(([n,i])=>{this.publishHooks.forEach(s=>s(r,i))}),r}async runOnNode(e,r,n){let i=Yr(e),s=i[0],u=i.slice(1),c=r?"make changes to":"query";if(!this.localOnly){let y=await xs.lookupFilesystemUcan(e),w=y&&Nn(y);if(!y||!w||Ro(w)||!w.signature)throw new hh(`I don't have the necessary permissions to ${c} the file system at "${qr(e)}"`);this.proofs[w.signature]=y}let p,l;if(s===kt.Public)p=await n(this.root.publicTree,u),r&&_f.instanceOf(p)&&(l=await n(this.root.prettyTree,u),this.root.publicTree=p,this.root.prettyTree=l,await Promise.all([this.root.updatePuttable(kt.Public,this.root.publicTree),this.root.updatePuttable(kt.Pretty,this.root.prettyTree)]));else if(s===kt.Private){let[y,w]=this.root.findPrivateNode(e);if(!w)throw new hh(`I don't have the necessary permissions to ${c} the file system at "${qr(e)}"`);if(p=await n(w,i.slice(Yr(y).length)),r&&(Qn.instanceOf(p)||Oo.instanceOf(p))){this.root.privateNodes[qr(y)]=p,await p.put(),await this.root.updatePuttable(kt.Private,this.root.mmpt);let B=await this.root.mmpt.put();await this.root.addPrivateLogEntry(B)}}else{if(s===kt.Pretty&&r)throw new Error("The pretty path is read only");if(s===kt.Pretty)p=await n(this.root.prettyTree,u);else throw new Error("Not a valid FileSystem path")}return p}_whenOnline(){let e=[...this._publishWhenOnline];this._publishWhenOnline=[],e.forEach(([r,n])=>{this.publishHooks.forEach(i=>i(r,n))})}_beforeLeaving(e){let r="Are you sure you want to leave? We don't control the browser so you may lose your data.";if(this._publishing||this._publishWhenOnline.length)return(e||globalThis.event).returnValue=r,r}},wS=dh;function k9(t){if(!t.app)throw Error("Only works with app permissions");let e=ql(t.app);return r=>r?$c(e,r):e}var ph=wS;async function vb(t,e,r){let n,i;if(e=e||await ko()||void 0,!e)throw new Error("User hasn't authenticated yet");await Gl([]);let s=navigator.onLine?await mb(e):null,[u,c]=s?await mS(s):[-1,0];if(!navigator.onLine)n=await c0();else if(!s)n=await c0(),n?ei("\u{1F4D3} No DNSLink, using local CID:",n):ei("\u{1F4D3} Creating a new file system");else if(u===0)n=s,ei("\u{1F4D3} DNSLink is up to date:",n);else if(u>0){n=await c0();let l=u===1?"1 newer local entry":u+" newer local entries";ei("\u{1F4D3} DNSLink is outdated ("+l+"), using local CID:",n)}else n=s,await f0(n),ei("\u{1F4D3} DNSLink is newer:",n);let p=t||void 0;if(i=n?await ph.fromCID(n,{permissions:p}):null,i)return i;if(!r)throw new Error("Can't make new filesystem without a root AES key");return i=await ph.empty({permissions:p,rootKey:r}),await E9(i),i}async function E9(t){await t.mkdir({directory:[kt.Private,"Apps"]}),await t.mkdir({directory:[kt.Private,"Audio"]}),await t.mkdir({directory:[kt.Private,"Documents"]}),await t.mkdir({directory:[kt.Private,"Photos"]}),await t.mkdir({directory:[kt.Private,"Video"]}),await t.publish()}async function S9(){return ko()}async function P9({withoutRedirect:t}={}){await zc(qc),await S6(),await yS(),await rn.clear(),(globalThis.filesystems||[]).forEach(e=>e.deactivate()),!t&&globalThis.location&&(globalThis.location.href=wt.endpoints.lobby)}async function C9(t,e,r){let n=t?.app,i=t?.fs,s=t?.platform,u=t?.raw,c=await Hl(),p=await Rn(),l=!!document.body.querySelector("iframe#webnative-ipfs")&&typeof SharedWorker=="function";e=e||window.location.href;let y=[["didExchange",c],["didWrite",p],["redirectTo",e],["sdk",Ld.toString()],["sharedRepo",l?"t":"f"]].concat(n?[["appFolder",`${n.creator}/${n.name}`]]:[],i?.private?i.private.map(w=>["privatePath",qr(w,{absolute:!0})]):[],i?.public?i.public.map(w=>["publicPath",qr(w,{absolute:!0})]):[],u?[["raw",ty(JSON.stringify(u))]]:[],r?Object.entries(r):[]).concat((()=>{let w=s?.apps;switch(typeof w){case"string":return[["app",w]];case"object":return w.map(B=>["app",B]);default:return[]}})());window.location.href=wt.endpoints.lobby+"?"+y.map(([w,B])=>encodeURIComponent(w)+"="+encodeURIComponent(B)).join("&")}var wb={};pt(wb,{create:()=>F9,deleteByDomain:()=>B9,index:()=>T9,publish:()=>I9});async function T9(){let t=wt.endpoints.api,e=await xs.lookupAppUcan("*");if(e===null)throw"Could not find your local UCAN";let r=Do(await Io({audience:await fi.did(),issuer:await Rn(),proof:e,potency:null})),i=await(await fetch(`${t}/app`,{method:"GET",headers:{authorization:`Bearer ${r}`}})).json();return Object.values(i).filter(s=>s.urls.length>0).map(({urls:s,insertedAt:u,modifiedAt:c})=>({domains:s,insertedAt:u,modifiedAt:c}))}async function F9(t){let e=wt.endpoints.api,r=await xs.lookupAppUcan("*");if(r===null)throw"Could not find your local UCAN";let n=Do(await Io({audience:await fi.did(),issuer:await Rn(),proof:r,potency:null})),i=xn(t)?`${e}/app?subdomain=${encodeURIComponent(t)}`:`${e}/app`,u=await(await fetch(i,{method:"POST",headers:{authorization:`Bearer ${n}`}})).json(),c=new Date().toISOString();return{domains:[u],insertedAt:c,modifiedAt:c}}async function B9(t){let e=wt.endpoints.api,r=await xs.lookupAppUcan(t);if(r===null)throw new Error("Could not find your local UCAN");let n=Do(await Io({audience:await fi.did(),issuer:await Rn(),proof:r,potency:null})),s=await(await fetch(`${e}/app`,{method:"GET",headers:{authorization:`Bearer ${n}`}})).json(),u=Object.entries(s).find(([c,p])=>p.urls.includes(t));if(u==null)throw new Error(`Couldn't find an app with domain ${t}`);await fetch(`${e}/app/${encodeURIComponent(u[0])}`,{method:"DELETE",headers:{authorization:`Bearer ${n}`}})}async function I9(t,e){let r=wt.endpoints.api,n=await xs.lookupAppUcan(t);if(n===null)throw"Could not find your local UCAN";let i=Do(await Io({audience:await fi.did(),issuer:await Rn(),proof:n,potency:null})),s=`${r}/app/${t}/${e}`;await fetch(s,{method:"PATCH",headers:{authorization:`Bearer ${i}`}})}var _b={};pt(_b,{createAccount:()=>N9,isUsernameAvailable:()=>D9,isUsernameValid:()=>R9,resendVerificationEmail:()=>U9,storeFileSystemRootKey:()=>L9});var _S=["fission","ipfs","ipns","did","id","identity",".htaccess","htaccess",".htpasswd","htpasswd",".well-known","well-known","400","401","403","404","405","406","407","408","409","410","411","412","413","414","415","416","417","421","422","423","424","426","428","429","431","500","501","502","503","504","505","506","507","508","509","510","511","_domainkey","about","about-us","abuse","access","account","accounts","ad","add","admin","administration","administrator","ads","ads.txt","advertise","advertising","aes128-ctr","aes128-gcm","aes192-ctr","aes256-ctr","aes256-gcm","affiliate","affiliates","ajax","alert","alerts","alpha","amp","analytics","api","app","app-ads.txt","apps","asc","assets","atom","auth","authentication","authorize","autoconfig","autodiscover","avatar","backup","banner","banners","bbs","beta","billing","billings","blog","blogs","board","bookmark","bookmarks","broadcasthost","business","buy","cache","calendar","campaign","captcha","careers","cart","cas","categories","category","cdn","cgi","cgi-bin","chacha20-poly1305","change","channel","channels","chart","chat","checkout","clear","client","close","cloud","cms","com","comment","comments","community","compare","compose","config","connect","contact","contest","cookies","copy","copyright","count","cp","cpanel","create","crossdomain.xml","css","curve25519-sha256","customer","customers","customize","dashboard","db","deals","debug","delete","desc","destroy","dev","developer","developers","diffie-hellman-group-exchange-sha256","diffie-hellman-group14-sha1","disconnect","discuss","dns","dns0","dns1","dns2","dns3","dns4","docs","documentation","domain","download","downloads","downvote","draft","drop","ecdh-sha2-nistp256","ecdh-sha2-nistp384","ecdh-sha2-nistp521","edit","editor","email","enterprise","error","errors","event","events","example","exception","exit","explore","export","extensions","false","family","faq","faqs","favicon.ico","features","feed","feedback","feeds","file","files","filter","follow","follower","followers","following","fonts","forgot","forgot-password","forgotpassword","form","forms","forum","forums","friend","friends","ftp","get","git","go","graphql","group","groups","guest","guidelines","guides","head","header","help","hide","hmac-sha","hmac-sha1","hmac-sha1-etm","hmac-sha2-256","hmac-sha2-256-etm","hmac-sha2-512","hmac-sha2-512-etm","home","host","hosting","hostmaster","htpasswd","http","httpd","https","humans.txt","icons","images","imap","img","import","index","info","insert","investors","invitations","invite","invites","invoice","is","isatap","issues","it","jobs","join","js","json","keybase.txt","learn","legal","license","licensing","like","limit","live","load","local","localdomain","localhost","lock","login","logout","lost-password","m","mail","mail0","mail1","mail2","mail3","mail4","mail5","mail6","mail7","mail8","mail9","mailer-daemon","mailerdaemon","map","marketing","marketplace","master","me","media","member","members","message","messages","metrics","mis","mobile","moderator","modify","more","mx","mx1","my","net","network","new","news","newsletter","newsletters","next","nil","no-reply","nobody","noc","none","noreply","notification","notifications","ns","ns0","ns1","ns2","ns3","ns4","ns5","ns6","ns7","ns8","ns9","null","oauth","oauth2","offer","offers","online","openid","order","orders","overview","owa","owner","page","pages","partners","passwd","password","pay","payment","payments","photo","photos","pixel","plans","plugins","policies","policy","pop","pop3","popular","portal","portfolio","post","postfix","postmaster","poweruser","preferences","premium","press","previous","pricing","print","privacy","privacy-policy","private","prod","product","production","profile","profiles","project","projects","public","purchase","put","quota","recover","recovery","redirect","reduce","refund","refunds","register","registration","remove","replies","reply","report","request","request-password","reset","reset-password","response","return","returns","review","reviews","robots.txt","root","rootuser","rsa-sha2-2","rsa-sha2-512","rss","rules","sales","save","script","sdk","search","secure","security","select","services","session","sessions","settings","setup","share","shift","shop","signin","signup","site","sitemap","sites","smtp","sort","source","sql","ssh","ssh-rsa","ssl","ssladmin","ssladministrator","sslwebmaster","stage","staging","stat","static","statistics","stats","status","store","style","styles","stylesheet","stylesheets","subdomain","subscribe","sudo","super","superuser","support","survey","sync","sysadmin","system","tablet","tag","tags","team","telnet","terms","terms-of-use","test","testimonials","theme","themes","today","tools","topic","topics","tour","training","translate","translations","trending","trial","true","umac-128","umac-128-etm","umac-64","umac-64-etm","undefined","unfollow","unlike","unsubscribe","update","upgrade","usenet","user","username","users","uucp","var","verify","video","view","void","vote","vpn","webmail","webmaster","website","widget","widgets","wiki","wpad","write","www","www-data","www1","www2","www3","www4","you","yourname","yourusername","zlib"];async function D9(t){return!(await fetch(`${wt.endpoints.api}/user/data/${t}`)).ok}function R9(t){return!t.startsWith("-")&&!t.endsWith("-")&&!t.startsWith("_")&&/^[a-zA-Z0-9_-]+$/.test(t)&&!_S.includes(t.toLowerCase())}async function N9(t){let e=wt.endpoints.api,r=Do(await Io({audience:await fi.did(),issuer:await Rn()}));return{success:(await fetch(`${e}/user`,{method:"PUT",headers:{authorization:`Bearer ${r}`,"content-type":"application/json"},body:JSON.stringify(t)})).status<300}}async function U9(){let t=wt.endpoints.api,e=Object.values(Zs())[0];if(e===null)throw"Could not find your local UCAN";let r=Do(await Io({audience:await fi.did(),issuer:await Rn(),proof:e,potency:null}));return{success:(await fetch(`${t}/user/email/resend`,{method:"POST",headers:{authorization:`Bearer ${r}`}})).status<300}}function L9(t){return Wa.storeRootKey(t)}var xb={};pt(xb,{debug:()=>M9,endpoints:()=>j9,setDependencies:()=>sx,shouldPin:()=>O9});function M9({enabled:t}){return wt.debug=t,wt.debug}function O9({enabled:t}){return wt.shouldPin=t,wt.shouldPin}function j9(t){return wt.endpoints={...wt.endpoints,...t},{...wt.endpoints}}var Yu;(function(i){i.NotAuthorised="NOT_AUTHORISED",i.AuthSucceeded="AUTH_SUCCEEDED",i.AuthCancelled="AUTH_CANCELLED",i.Continuation="CONTINUATION"})(Yu||(Yu={}));var mh;(function(r){r.InsecureContext="INSECURE_CONTEXT",r.UnsupportedBrowser="UNSUPPORTED_BROWSER"})(mh||(mh={}));async function z9(t){t=t||{};let e=t.permissions||null,{autoRemoveUrlParams:r=!0,rootKey:n}=t,i=async l=>t.loadFileSystem===!1?void 0:await vb(e,l,n);if(globalThis.isSecureContext===!1)throw mh.InsecureContext;if(await xS()===!1)throw mh.UnsupportedBrowser;let s=new URL(window.location.href),u=s.searchParams.get("authorised"),c=s.searchParams.get("cancelled");if(u){let l=s.searchParams.get("newUser")==="t",y=s.searchParams.get("username")||"";return await $9(u==="via-postmessage"?await G9():await Nl(u)),await Pu(qc,y),r&&(s.searchParams.delete("authorised"),s.searchParams.delete("newUser"),s.searchParams.delete("username"),history.replaceState(null,document.title,s.toString())),e&&await kS(e)===!1?(console.warn("Unable to validate filesystem secrets"),l0(e)):e&&Cg(e,y)===!1?(console.warn("Unable to validate UCAN permissions"),l0(e)):q9(e,l,y,await i(y))}else if(c){let l=(()=>{switch(c){case"DENIED":return"User denied authorisation";default:return"Unknown reason"}})();return H9(e,l)}else await Gl([]);let p=await ko();if(p&&e){let l=await kS(e),y=Cg(e,p);return l&&y?AS(e,p,await i(p)):l0(e)}else return p?AS(e,p,await i(p)):l0(e)}async function xS(){return Ab.default.supports(Ab.default.INDEXEDDB)&&await(()=>new Promise(t=>{let e=indexedDB.open("testDatabase");e.onsuccess=()=>t(!0),e.onerror=()=>t(!1)}))()}var K9=ph;function q9(t,e,r,n){return{scenario:Yu.AuthSucceeded,permissions:t,authenticated:!0,throughLobby:!0,fs:n,newUser:e,username:r}}function H9(t,e){return{scenario:Yu.AuthCancelled,permissions:t,authenticated:!1,throughLobby:!0,cancellationReason:e}}function AS(t,e,r){return{scenario:Yu.Continuation,permissions:t,authenticated:!0,newUser:!1,throughLobby:!1,fs:r,username:e}}function l0(t){return{scenario:Yu.NotAuthorised,permissions:t,authenticated:!1}}async function $9(t){let e=JSON.parse(t),r=await rn.decrypt(e.sessionKey),n=await hi.decryptGCM(e.secrets,r,e.iv),i=JSON.parse(n),s=i.fs,u=i.ucans;await Promise.all(Object.entries(s).map(async([c,{bareNameFilter:p,key:l}])=>{let y=Zy(c),w=await Gc({path:y}),B=await Od({path:y});await rn.importSymmKey(l,w),await Pu(B,p)})),await Gl(u)}async function G9(){let t=await new Promise(e=>{let r=document.createElement("iframe");r.id="webnative-secret-exchange",r.style.width="0",r.style.height="0",r.style.border="none",r.style.display="none",document.body.appendChild(r),r.onload=()=>{e(r)},r.src=`${wt.endpoints.lobby}/exchange.html`});try{let e=new Promise((n,i)=>{window.addEventListener("message",s);function s(u){window.removeEventListener("message",s),u.data?n(u.data):i(new Error("Can't import UCANs & readKey(s): Missing data"))}});if(t.contentWindow==null)throw new Error("Can't import UCANs & readKey(s): No access to its contentWindow");let r={webnative:"exchange-secrets",didExchange:await Hl()};return t.contentWindow.postMessage(r,t.src),await e}finally{document.body.removeChild(t)}}async function kS(t){return Sp(t).reduce((e,r)=>e.then(async n=>{if(n===!1||wl(kt.Public,r))return n;let i=await Gc({path:r});return await rn.keyExists(i)}),Promise.resolve(!0))}return W9;})();
/*!
    localForage -- Offline Storage, Improved
    Version 1.7.3
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/
/*!
    localForage -- Offline Storage, Improved
    Version 1.9.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */
/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
/*! noble-ed25519 - MIT License (c) Paul Miller (paulmillr.com) */
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */
/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */
//! stable.js 0.1.8, https://github.com/Two-Screen/stable
//! © 2018 Angry Bytes and contributors. MIT licensed.
return webnative;
}));
//# sourceMappingURL=index.umd.min.js.map
